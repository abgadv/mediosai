(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Ide=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var B2={exports:{}},wp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function dj(){if(yE)return wp;yE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return wp.Fragment=e,wp.jsx=t,wp.jsxs=t,wp}var wE;function hj(){return wE||(wE=1,B2.exports=dj()),B2.exports}var a=hj(),T2={exports:{}},Sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function fj(){if(bE)return Sn;bE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),m=Symbol.iterator;function v(ee){return ee===null||typeof ee!="object"?null:(ee=m&&ee[m]||ee["@@iterator"],typeof ee=="function"?ee:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function T(ee,U,H){this.props=ee,this.context=U,this.refs=E,this.updater=H||C}T.prototype.isReactComponent={},T.prototype.setState=function(ee,U){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,U,"setState")},T.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function k(){}k.prototype=T.prototype;function P(ee,U,H){this.props=ee,this.context=U,this.refs=E,this.updater=H||C}var z=P.prototype=new k;z.constructor=P,_(z,T.prototype),z.isPureReactComponent=!0;var Y=Array.isArray;function Z(){}var R={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function M(ee,U,H){var V=H.ref;return{$$typeof:n,type:ee,key:U,ref:V!==void 0?V:null,props:H}}function G(ee,U){return M(ee.type,U,ee.props)}function L(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function Q(ee){var U={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(H){return U[H]})}var j=/\/+/g;function re(ee,U){return typeof ee=="object"&&ee!==null&&ee.key!=null?Q(""+ee.key):U.toString(36)}function fe(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(Z,Z):(ee.status="pending",ee.then(function(U){ee.status==="pending"&&(ee.status="fulfilled",ee.value=U)},function(U){ee.status==="pending"&&(ee.status="rejected",ee.reason=U)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function ie(ee,U,H,V,J){var q=typeof ee;(q==="undefined"||q==="boolean")&&(ee=null);var te=!1;if(ee===null)te=!0;else switch(q){case"bigint":case"string":case"number":te=!0;break;case"object":switch(ee.$$typeof){case n:case e:te=!0;break;case f:return te=ee._init,ie(te(ee._payload),U,H,V,J)}}if(te)return J=J(ee),te=V===""?"."+re(ee,0):V,Y(J)?(H="",te!=null&&(H=te.replace(j,"$&/")+"/"),ie(J,U,H,"",function(be){return be})):J!=null&&(L(J)&&(J=G(J,H+(J.key==null||ee&&ee.key===J.key?"":(""+J.key).replace(j,"$&/")+"/")+te)),U.push(J)),1;te=0;var xe=V===""?".":V+":";if(Y(ee))for(var ue=0;ue<ee.length;ue++)V=ee[ue],q=xe+re(V,ue),te+=ie(V,U,H,q,J);else if(ue=v(ee),typeof ue=="function")for(ee=ue.call(ee),ue=0;!(V=ee.next()).done;)V=V.value,q=xe+re(V,ue++),te+=ie(V,U,H,q,J);else if(q==="object"){if(typeof ee.then=="function")return ie(fe(ee),U,H,V,J);throw U=String(ee),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return te}function Ae(ee,U,H){if(ee==null)return ee;var V=[],J=0;return ie(ee,V,"","",function(q){return U.call(H,q,J++)}),V}function me(ee){if(ee._status===-1){var U=ee._result;U=U(),U.then(function(H){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=H)},function(H){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=H)}),ee._status===-1&&(ee._status=0,ee._result=U)}if(ee._status===1)return ee._result.default;throw ee._result}var _e=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},we={map:Ae,forEach:function(ee,U,H){Ae(ee,function(){U.apply(this,arguments)},H)},count:function(ee){var U=0;return Ae(ee,function(){U++}),U},toArray:function(ee){return Ae(ee,function(U){return U})||[]},only:function(ee){if(!L(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return Sn.Activity=g,Sn.Children=we,Sn.Component=T,Sn.Fragment=t,Sn.Profiler=i,Sn.PureComponent=P,Sn.StrictMode=r,Sn.Suspense=u,Sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Sn.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return R.H.useMemoCache(ee)}},Sn.cache=function(ee){return function(){return ee.apply(null,arguments)}},Sn.cacheSignal=function(){return null},Sn.cloneElement=function(ee,U,H){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var V=_({},ee.props),J=ee.key;if(U!=null)for(q in U.key!==void 0&&(J=""+U.key),U)!F.call(U,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&U.ref===void 0||(V[q]=U[q]);var q=arguments.length-2;if(q===1)V.children=H;else if(1<q){for(var te=Array(q),xe=0;xe<q;xe++)te[xe]=arguments[xe+2];V.children=te}return M(ee.type,J,V)},Sn.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},Sn.createElement=function(ee,U,H){var V,J={},q=null;if(U!=null)for(V in U.key!==void 0&&(q=""+U.key),U)F.call(U,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(J[V]=U[V]);var te=arguments.length-2;if(te===1)J.children=H;else if(1<te){for(var xe=Array(te),ue=0;ue<te;ue++)xe[ue]=arguments[ue+2];J.children=xe}if(ee&&ee.defaultProps)for(V in te=ee.defaultProps,te)J[V]===void 0&&(J[V]=te[V]);return M(ee,q,J)},Sn.createRef=function(){return{current:null}},Sn.forwardRef=function(ee){return{$$typeof:c,render:ee}},Sn.isValidElement=L,Sn.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:me}},Sn.memo=function(ee,U){return{$$typeof:d,type:ee,compare:U===void 0?null:U}},Sn.startTransition=function(ee){var U=R.T,H={};R.T=H;try{var V=ee(),J=R.S;J!==null&&J(H,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Z,_e)}catch(q){_e(q)}finally{U!==null&&H.types!==null&&(U.types=H.types),R.T=U}},Sn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Sn.use=function(ee){return R.H.use(ee)},Sn.useActionState=function(ee,U,H){return R.H.useActionState(ee,U,H)},Sn.useCallback=function(ee,U){return R.H.useCallback(ee,U)},Sn.useContext=function(ee){return R.H.useContext(ee)},Sn.useDebugValue=function(){},Sn.useDeferredValue=function(ee,U){return R.H.useDeferredValue(ee,U)},Sn.useEffect=function(ee,U){return R.H.useEffect(ee,U)},Sn.useEffectEvent=function(ee){return R.H.useEffectEvent(ee)},Sn.useId=function(){return R.H.useId()},Sn.useImperativeHandle=function(ee,U,H){return R.H.useImperativeHandle(ee,U,H)},Sn.useInsertionEffect=function(ee,U){return R.H.useInsertionEffect(ee,U)},Sn.useLayoutEffect=function(ee,U){return R.H.useLayoutEffect(ee,U)},Sn.useMemo=function(ee,U){return R.H.useMemo(ee,U)},Sn.useOptimistic=function(ee,U){return R.H.useOptimistic(ee,U)},Sn.useReducer=function(ee,U,H){return R.H.useReducer(ee,U,H)},Sn.useRef=function(ee){return R.H.useRef(ee)},Sn.useState=function(ee){return R.H.useState(ee)},Sn.useSyncExternalStore=function(ee,U,H){return R.H.useSyncExternalStore(ee,U,H)},Sn.useTransition=function(){return R.H.useTransition()},Sn.version="19.2.3",Sn}var _E;function h5(){return _E||(_E=1,T2.exports=fj()),T2.exports}var se=h5();const pj=nI(se);var I2={exports:{}},bp={},k2={exports:{}},F2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function gj(){return CE||(CE=1,(function(n){function e(ie,Ae){var me=ie.length;ie.push(Ae);e:for(;0<me;){var _e=me-1>>>1,we=ie[_e];if(0<i(we,Ae))ie[_e]=Ae,ie[me]=we,me=_e;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var Ae=ie[0],me=ie.pop();if(me!==Ae){ie[0]=me;e:for(var _e=0,we=ie.length,ee=we>>>1;_e<ee;){var U=2*(_e+1)-1,H=ie[U],V=U+1,J=ie[V];if(0>i(H,me))V<we&&0>i(J,H)?(ie[_e]=J,ie[V]=me,_e=V):(ie[_e]=H,ie[U]=me,_e=U);else if(V<we&&0>i(J,me))ie[_e]=J,ie[V]=me,_e=V;else break e}}return Ae}function i(ie,Ae){var me=ie.sortIndex-Ae.sortIndex;return me!==0?me:ie.id-Ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],d=[],f=1,g=null,m=3,v=!1,C=!1,_=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function z(ie){for(var Ae=t(d);Ae!==null;){if(Ae.callback===null)r(d);else if(Ae.startTime<=ie)r(d),Ae.sortIndex=Ae.expirationTime,e(u,Ae);else break;Ae=t(d)}}function Y(ie){if(_=!1,z(ie),!C)if(t(u)!==null)C=!0,Z||(Z=!0,Q());else{var Ae=t(d);Ae!==null&&fe(Y,Ae.startTime-ie)}}var Z=!1,R=-1,F=5,M=-1;function G(){return E?!0:!(n.unstable_now()-M<F)}function L(){if(E=!1,Z){var ie=n.unstable_now();M=ie;var Ae=!0;try{e:{C=!1,_&&(_=!1,k(R),R=-1),v=!0;var me=m;try{t:{for(z(ie),g=t(u);g!==null&&!(g.expirationTime>ie&&G());){var _e=g.callback;if(typeof _e=="function"){g.callback=null,m=g.priorityLevel;var we=_e(g.expirationTime<=ie);if(ie=n.unstable_now(),typeof we=="function"){g.callback=we,z(ie),Ae=!0;break t}g===t(u)&&r(u),z(ie)}else r(u);g=t(u)}if(g!==null)Ae=!0;else{var ee=t(d);ee!==null&&fe(Y,ee.startTime-ie),Ae=!1}}break e}finally{g=null,m=me,v=!1}Ae=void 0}}finally{Ae?Q():Z=!1}}}var Q;if(typeof P=="function")Q=function(){P(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,re=j.port2;j.port1.onmessage=L,Q=function(){re.postMessage(null)}}else Q=function(){T(L,0)};function fe(ie,Ae){R=T(function(){ie(n.unstable_now())},Ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(ie){switch(m){case 1:case 2:case 3:var Ae=3;break;default:Ae=m}var me=m;m=Ae;try{return ie()}finally{m=me}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(ie,Ae){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=m;m=ie;try{return Ae()}finally{m=me}},n.unstable_scheduleCallback=function(ie,Ae,me){var _e=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?_e+me:_e):me=_e,ie){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=me+we,ie={id:f++,callback:Ae,priorityLevel:ie,startTime:me,expirationTime:we,sortIndex:-1},me>_e?(ie.sortIndex=me,e(d,ie),t(u)===null&&ie===t(d)&&(_?(k(R),R=-1):_=!0,fe(Y,me-_e))):(ie.sortIndex=we,e(u,ie),C||v||(C=!0,Z||(Z=!0,Q()))),ie},n.unstable_shouldYield=G,n.unstable_wrapCallback=function(ie){var Ae=m;return function(){var me=m;m=Ae;try{return ie.apply(this,arguments)}finally{m=me}}}})(F2)),F2}var EE;function mj(){return EE||(EE=1,k2.exports=gj()),k2.exports}var U2={exports:{}},la={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function xj(){if(NE)return la;NE=1;var n=h5();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:u,containerInfo:d,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return la.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,la.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,f)},la.flushSync=function(u){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=f,r.d.f()}},la.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},la.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},la.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin),m=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:v}):f==="script"&&r.d.X(u,{crossOrigin:g,integrity:m,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},la.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=c(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},la.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,g=c(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},la.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=c(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},la.requestFormReset=function(u){r.d.r(u)},la.unstable_batchedUpdates=function(u,d){return u(d)},la.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},la.useFormStatus=function(){return o.H.useHostTransitionStatus()},la.version="19.2.3",la}var SE;function rI(){if(SE)return U2.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),U2.exports=xj(),U2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function vj(){if(BE)return bp;BE=1;var n=mj(),e=h5(),t=rI();function r(l){var A="https://react.dev/errors/"+l;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)A+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var A=l,h=l;if(l.alternate)for(;A.return;)A=A.return;else{l=A;do A=l,(A.flags&4098)!==0&&(h=A.return),l=A.return;while(l)}return A.tag===3?h:null}function o(l){if(l.tag===13){var A=l.memoizedState;if(A===null&&(l=l.alternate,l!==null&&(A=l.memoizedState)),A!==null)return A.dehydrated}return null}function c(l){if(l.tag===31){var A=l.memoizedState;if(A===null&&(l=l.alternate,l!==null&&(A=l.memoizedState)),A!==null)return A.dehydrated}return null}function u(l){if(s(l)!==l)throw Error(r(188))}function d(l){var A=l.alternate;if(!A){if(A=s(l),A===null)throw Error(r(188));return A!==l?null:l}for(var h=l,x=A;;){var S=h.return;if(S===null)break;var I=S.alternate;if(I===null){if(x=S.return,x!==null){h=x;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===h)return u(S),l;if(I===x)return u(S),A;I=I.sibling}throw Error(r(188))}if(h.return!==x.return)h=S,x=I;else{for(var X=!1,he=S.child;he;){if(he===h){X=!0,h=S,x=I;break}if(he===x){X=!0,x=S,h=I;break}he=he.sibling}if(!X){for(he=I.child;he;){if(he===h){X=!0,h=I,x=S;break}if(he===x){X=!0,x=I,h=S;break}he=he.sibling}if(!X)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?l:A}function f(l){var A=l.tag;if(A===5||A===26||A===27||A===6)return l;for(l=l.child;l!==null;){if(A=f(l),A!==null)return A;l=l.sibling}return null}var g=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var j=Symbol.for("react.client.reference");function re(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===j?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case _:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case Y:return"Suspense";case Z:return"SuspenseList";case M:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case C:return"Portal";case P:return l.displayName||"Context";case k:return(l._context.displayName||"Context")+".Consumer";case z:var A=l.render;return l=l.displayName,l||(l=A.displayName||A.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return A=l.displayName||null,A!==null?A:re(l.type)||"Memo";case F:A=l._payload,l=l._init;try{return re(l(A))}catch{}}return null}var fe=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},_e=[],we=-1;function ee(l){return{current:l}}function U(l){0>we||(l.current=_e[we],_e[we]=null,we--)}function H(l,A){we++,_e[we]=l.current,l.current=A}var V=ee(null),J=ee(null),q=ee(null),te=ee(null);function xe(l,A){switch(H(q,A),H(J,l),H(V,null),A.nodeType){case 9:case 11:l=(l=A.documentElement)&&(l=l.namespaceURI)?V4(l):0;break;default:if(l=A.tagName,A=A.namespaceURI)A=V4(A),l=z4(A,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}U(V),H(V,l)}function ue(){U(V),U(J),U(q)}function be(l){l.memoizedState!==null&&H(te,l);var A=V.current,h=z4(A,l.type);A!==h&&(H(J,l),H(V,h))}function Ve(l){J.current===l&&(U(V),U(J)),te.current===l&&(U(te),mp._currentValue=me)}var Pe,We;function nt(l){if(Pe===void 0)try{throw Error()}catch(h){var A=h.stack.trim().match(/\n( *(at )?)/);Pe=A&&A[1]||"",We=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+l+We}var Re=!1;function Ee(l,A){if(!l||Re)return"";Re=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(A){var gt=function(){throw Error()};if(Object.defineProperty(gt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(gt,[])}catch(rt){var et=rt}Reflect.construct(l,[],gt)}else{try{gt.call()}catch(rt){et=rt}l.call(gt.prototype)}}else{try{throw Error()}catch(rt){et=rt}(gt=l())&&typeof gt.catch=="function"&&gt.catch(function(){})}}catch(rt){if(rt&&et&&typeof rt.stack=="string")return[rt.stack,et.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=x.DetermineComponentFrameRoot(),X=I[0],he=I[1];if(X&&he){var Fe=X.split(`
`),Ze=he.split(`
`);for(S=x=0;x<Fe.length&&!Fe[x].includes("DetermineComponentFrameRoot");)x++;for(;S<Ze.length&&!Ze[S].includes("DetermineComponentFrameRoot");)S++;if(x===Fe.length||S===Ze.length)for(x=Fe.length-1,S=Ze.length-1;1<=x&&0<=S&&Fe[x]!==Ze[S];)S--;for(;1<=x&&0<=S;x--,S--)if(Fe[x]!==Ze[S]){if(x!==1||S!==1)do if(x--,S--,0>S||Fe[x]!==Ze[S]){var lt=`
`+Fe[x].replace(" at new "," at ");return l.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",l.displayName)),lt}while(1<=x&&0<=S);break}}}finally{Re=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?nt(h):""}function at(l,A){switch(l.tag){case 26:case 27:case 5:return nt(l.type);case 16:return nt("Lazy");case 13:return l.child!==A&&A!==null?nt("Suspense Fallback"):nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return Ee(l.type,!1);case 11:return Ee(l.type.render,!1);case 1:return Ee(l.type,!0);case 31:return nt("Activity");default:return""}}function St(l){try{var A="",h=null;do A+=at(l,h),h=l,l=l.return;while(l);return A}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var tt=Object.prototype.hasOwnProperty,At=n.unstable_scheduleCallback,Et=n.unstable_cancelCallback,Bt=n.unstable_shouldYield,Dt=n.unstable_requestPaint,Ne=n.unstable_now,ze=n.unstable_getCurrentPriorityLevel,ft=n.unstable_ImmediatePriority,ht=n.unstable_UserBlockingPriority,It=n.unstable_NormalPriority,Tt=n.unstable_LowPriority,Ue=n.unstable_IdlePriority,ke=n.log,Gt=n.unstable_setDisableYieldValue,$t=null,fn=null;function nn(l){if(typeof ke=="function"&&Gt(l),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode($t,l)}catch{}}var Jt=Math.clz32?Math.clz32:_i,hr=Math.log,ln=Math.LN2;function _i(l){return l>>>=0,l===0?32:31-(hr(l)/ln|0)|0}var ae=256,Kt=262144,an=4194304;function dn(l){var A=l&42;if(A!==0)return A;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ht(l,A,h){var x=l.pendingLanes;if(x===0)return 0;var S=0,I=l.suspendedLanes,X=l.pingedLanes;l=l.warmLanes;var he=x&134217727;return he!==0?(x=he&~I,x!==0?S=dn(x):(X&=he,X!==0?S=dn(X):h||(h=he&~l,h!==0&&(S=dn(h))))):(he=x&~I,he!==0?S=dn(he):X!==0?S=dn(X):h||(h=x&~l,h!==0&&(S=dn(h)))),S===0?0:A!==0&&A!==S&&(A&I)===0&&(I=S&-S,h=A&-A,I>=h||I===32&&(h&4194048)!==0)?A:S}function sn(l,A){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&A)===0}function ts(l,A){switch(l){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var l=an;return an<<=1,(an&62914560)===0&&(an=4194304),l}function ni(l){for(var A=[],h=0;31>h;h++)A.push(l);return A}function Li(l,A){l.pendingLanes|=A,A!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function cn(l,A,h,x,S,I){var X=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var he=l.entanglements,Fe=l.expirationTimes,Ze=l.hiddenUpdates;for(h=X&~h;0<h;){var lt=31-Jt(h),gt=1<<lt;he[lt]=0,Fe[lt]=-1;var et=Ze[lt];if(et!==null)for(Ze[lt]=null,lt=0;lt<et.length;lt++){var rt=et[lt];rt!==null&&(rt.lane&=-536870913)}h&=~gt}x!==0&&Ci(l,x,0),I!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=I&~(X&~A))}function Ci(l,A,h){l.pendingLanes|=A,l.suspendedLanes&=~A;var x=31-Jt(A);l.entangledLanes|=A,l.entanglements[x]=l.entanglements[x]|1073741824|h&261930}function Di(l,A){var h=l.entangledLanes|=A;for(l=l.entanglements;h;){var x=31-Jt(h),S=1<<x;S&A|l[x]&A&&(l[x]|=A),h&=~S}}function ui(l,A){var h=A&-A;return h=(h&42)!==0?1:gr(h),(h&(l.suspendedLanes|A))!==0?0:h}function gr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function tr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function le(){var l=Ae.p;return l!==0?l:(l=window.event,l===void 0?32:hE(l.type))}function Be(l,A){var h=Ae.p;try{return Ae.p=l,A()}finally{Ae.p=h}}var ve=Math.random().toString(36).slice(2),ye="__reactFiber$"+ve,Ce="__reactProps$"+ve,Te="__reactContainer$"+ve,Ge="__reactEvents$"+ve,it="__reactListeners$"+ve,Ke="__reactHandles$"+ve,Xe="__reactResources$"+ve,Ye="__reactMarker$"+ve;function bt(l){delete l[ye],delete l[Ce],delete l[Ge],delete l[it],delete l[Ke]}function Nt(l){var A=l[ye];if(A)return A;for(var h=l.parentNode;h;){if(A=h[Te]||h[ye]){if(h=A.alternate,A.child!==null||h!==null&&h.child!==null)for(l=X4(l);l!==null;){if(h=l[ye])return h;l=X4(l)}return A}l=h,h=l.parentNode}return null}function kt(l){if(l=l[ye]||l[Te]){var A=l.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return l}return null}function Ct(l){var A=l.tag;if(A===5||A===26||A===27||A===6)return l.stateNode;throw Error(r(33))}function Ft(l){var A=l[Xe];return A||(A=l[Xe]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function Yt(l){l[Ye]=!0}var Mn=new Set,Wn={};function cr(l,A){di(l,A),di(l+"Capture",A)}function di(l,A){for(Wn[l]=A,l=0;l<A.length;l++)Mn.add(A[l])}var Ca=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Is={};function Ea(l){return tt.call(Is,l)?!0:tt.call(Zs,l)?!1:Ca.test(l)?Is[l]=!0:(Zs[l]=!0,!1)}function ji(l,A,h){if(Ea(A))if(h===null)l.removeAttribute(A);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(A);return;case"boolean":var x=A.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(A);return}}l.setAttribute(A,""+h)}}function qn(l,A,h){if(h===null)l.removeAttribute(A);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(A);return}l.setAttribute(A,""+h)}}function Or(l,A,h,x){if(x===null)l.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(A,h,""+x)}}function ri(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Co(l){var A=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function Bl(l,A,h){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,A);if(!l.hasOwnProperty(A)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,I=x.set;return Object.defineProperty(l,A,{configurable:!0,get:function(){return S.call(this)},set:function(X){h=""+X,I.call(this,X)}}),Object.defineProperty(l,A,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(X){h=""+X},stopTracking:function(){l._valueTracker=null,delete l[A]}}}}function er(l){if(!l._valueTracker){var A=Co(l)?"checked":"value";l._valueTracker=Bl(l,A,""+l[A])}}function ns(l){if(!l)return!1;var A=l._valueTracker;if(!A)return!0;var h=A.getValue(),x="";return l&&(x=Co(l)?l.checked?"true":"false":l.value),l=x,l!==h?(A.setValue(l),!0):!1}function ks(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var hi=/[\n"\\]/g;function Mi(l){return l.replace(hi,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function Tl(l,A,h,x,S,I,X,he){l.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?l.type=X:l.removeAttribute("type"),A!=null?X==="number"?(A===0&&l.value===""||l.value!=A)&&(l.value=""+ri(A)):l.value!==""+ri(A)&&(l.value=""+ri(A)):X!=="submit"&&X!=="reset"||l.removeAttribute("value"),A!=null?dc(l,X,ri(A)):h!=null?dc(l,X,ri(h)):x!=null&&l.removeAttribute("value"),S==null&&I!=null&&(l.defaultChecked=!!I),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?l.name=""+ri(he):l.removeAttribute("name")}function au(l,A,h,x,S,I,X,he){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(l.type=I),A!=null||h!=null){if(!(I!=="submit"&&I!=="reset"||A!=null)){er(l);return}h=h!=null?""+ri(h):"",A=A!=null?""+ri(A):h,he||A===l.value||(l.value=A),l.defaultValue=A}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=he?l.checked:!!x,l.defaultChecked=!!x,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(l.name=X),er(l)}function dc(l,A,h){A==="number"&&ks(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function Wo(l,A,h,x){if(l=l.options,A){A={};for(var S=0;S<h.length;S++)A["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=A.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&x&&(l[h].defaultSelected=!0)}else{for(h=""+ri(h),A=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,x&&(l[S].defaultSelected=!0);return}A!==null||l[S].disabled||(A=l[S])}A!==null&&(A.selected=!0)}}function oA(l,A,h){if(A!=null&&(A=""+ri(A),A!==l.value&&(l.value=A),h==null)){l.defaultValue!==A&&(l.defaultValue=A);return}l.defaultValue=h!=null?""+ri(h):""}function Yo(l,A,h,x){if(A==null){if(x!=null){if(h!=null)throw Error(r(92));if(fe(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),A=h}h=ri(A),l.defaultValue=h,x=l.textContent,x===h&&x!==""&&x!==null&&(l.value=x),er(l)}function Pi(l,A){if(A){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=A;return}}l.textContent=A}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lA(l,A,h){var x=A.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?l.setProperty(A,""):A==="float"?l.cssFloat="":l[A]="":x?l.setProperty(A,h):typeof h!="number"||h===0||ou.has(A)?A==="float"?l.cssFloat=h:l[A]=(""+h).trim():l[A]=h+"px"}function cA(l,A,h){if(A!=null&&typeof A!="object")throw Error(r(62));if(l=l.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||A!=null&&A.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var S in A)x=A[S],A.hasOwnProperty(S)&&h[S]!==x&&lA(l,S,x)}else for(var I in A)A.hasOwnProperty(I)&&lA(l,I,A[I])}function ea(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Il=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kl(l){return Na.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Er(){}var AA=null;function Fs(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var hn=null,qa=null;function Fl(l){var A=kt(l);if(A&&(l=A.stateNode)){var h=l[Ce]||null;e:switch(l=A.stateNode,A.type){case"input":if(Tl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),A=h.name,h.type==="radio"&&A!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Mi(""+A)+'"][type="radio"]'),A=0;A<h.length;A++){var x=h[A];if(x!==l&&x.form===l.form){var S=x[Ce]||null;if(!S)throw Error(r(90));Tl(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(A=0;A<h.length;A++)x=h[A],x.form===l.form&&ns(x)}break e;case"textarea":oA(l,h.value,h.defaultValue);break e;case"select":A=h.value,A!=null&&Wo(l,!!h.multiple,A,!1)}}}var Us=!1;function Eo(l,A,h){if(Us)return l(A,h);Us=!0;try{var x=l(A);return x}finally{if(Us=!1,(hn!==null||qa!==null)&&(Em(),hn&&(A=hn,l=qa,qa=hn=null,Fl(A),l)))for(A=0;A<l.length;A++)Fl(l[A])}}function ta(l,A){var h=l.stateNode;if(h===null)return null;var x=h[Ce]||null;if(x===null)return null;h=x[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(r(231,A,typeof h));return h}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),No=!1;if(rs)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){No=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{No=!1}var $a=null,uA=null,So=null;function Bo(){if(So)return So;var l,A=uA,h=A.length,x,S="value"in $a?$a.value:$a.textContent,I=S.length;for(l=0;l<h&&A[l]===S[l];l++);var X=h-l;for(x=1;x<=X&&A[h-x]===S[I-x];x++);return So=S.slice(l,1<x?1-x:void 0)}function na(l){var A=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&A===13&&(l=13)):l=A,l===10&&(l=13),32<=l||l===13?l:0}function To(){return!0}function is(){return!1}function ii(l){function A(h,x,S,I,X){this._reactName=h,this._targetInst=S,this.type=x,this.nativeEvent=I,this.target=X,this.currentTarget=null;for(var he in l)l.hasOwnProperty(he)&&(h=l[he],this[he]=h?h(I):I[he]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?To:is,this.isPropagationStopped=is,this}return g(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),A}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=ii(ra),Io=g({},ra,{view:0,detail:0}),hc=ii(Io),ko,ia,ss,fc=g({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ss&&(ss&&l.type==="mousemove"?(ko=l.screenX-ss.screenX,ia=l.screenY-ss.screenY):ia=ko=0,ss=l),ko)},movementY:function(l){return"movementY"in l?l.movementY:ia}}),Wa=ii(fc),as=g({},fc,{dataTransfer:0}),pc=ii(as),Xo=g({},Io,{relatedTarget:0}),Ul=ii(Xo),Jo=g({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=ii(Jo),Zo=g({},ra,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),gc=ii(Zo),dA=g({},ra,{data:0}),Rs=ii(dA),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(l){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(l):(l=hA[l])?!!A[l]:!1}function Ba(){return cu}var si=g({},Io,{key:function(l){if(l.key){var A=mc[l.key]||l.key;if(A!=="Unidentified")return A}return l.type==="keypress"?(l=na(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?xc[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(l){return l.type==="keypress"?na(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?na(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),vc=ii(si),Fo=g({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ta=ii(Fo),p=g({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),N=ii(p),D=g({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),W=ii(D),pe=g({},fc,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=ii(pe),Qe=g({},ra,{newState:0,oldState:0}),xt=ii(Qe),Pt=[9,13,27,32],Qt=rs&&"CompositionEvent"in window,Zt=null;rs&&"documentMode"in document&&(Zt=document.documentMode);var bn=rs&&"TextEvent"in window&&!Zt,Yn=rs&&(!Qt||Zt&&8<Zt&&11>=Zt),Xn=" ",rr=!1;function $r(l,A){switch(l){case"keyup":return Pt.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gs=!1;function Ia(l,A){switch(l){case"compositionend":return Qr(A);case"keypress":return A.which!==32?null:(rr=!0,Xn);case"textInput":return l=A.data,l===Xn&&rr?null:l;default:return null}}function Rl(l,A){if(gs)return l==="compositionend"||!Qt&&$r(l,A)?(l=Bo(),So=uA=$a=null,gs=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Yn&&A.locale!=="ko"?null:A.data;default:return null}}var Lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(l){var A=l&&l.nodeName&&l.nodeName.toLowerCase();return A==="input"?!!Lh[l.type]:A==="textarea"}function uu(l,A,h,x){hn?qa?qa.push(x):qa=[x]:hn=x,A=Fm(A,"onChange"),0<A.length&&(h=new Sa("onChange","change",null,h,x),l.push({event:h,listeners:A}))}var el=null,Ll=null;function Ld(l){j4(l,0)}function Dl(l){var A=Ct(l);if(ns(A))return l}function Ls(l,A){if(l==="change")return A}var fA=!1;if(rs){var yc;if(rs){var wc="oninput"in document;if(!wc){var du=document.createElement("div");du.setAttribute("oninput","return;"),wc=typeof du.oninput=="function"}yc=wc}else yc=!1;fA=yc&&(!document.documentMode||9<document.documentMode)}function Ds(){el&&(el.detachEvent("onpropertychange",Dh),Ll=el=null)}function Dh(l){if(l.propertyName==="value"&&Dl(Ll)){var A=[];uu(A,Ll,l,Fs(l)),Eo(Ld,A)}}function Dd(l,A,h){l==="focusin"?(Ds(),el=A,Ll=h,el.attachEvent("onpropertychange",Dh)):l==="focusout"&&Ds()}function jh(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Dl(Ll)}function Uo(l,A){if(l==="click")return Dl(A)}function jd(l,A){if(l==="input"||l==="change")return Dl(A)}function H0(l,A){return l===A&&(l!==0||1/l===1/A)||l!==l&&A!==A}var js=typeof Object.is=="function"?Object.is:H0;function Ya(l,A){if(js(l,A))return!0;if(typeof l!="object"||l===null||typeof A!="object"||A===null)return!1;var h=Object.keys(l),x=Object.keys(A);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var S=h[x];if(!tt.call(A,S)||!js(l[S],A[S]))return!1}return!0}function ka(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Xa(l,A){var h=ka(l);l=0;for(var x;h;){if(h.nodeType===3){if(x=l+h.textContent.length,l<=A&&x>=A)return{node:h,offset:A-l};l=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ka(h)}}function jl(l,A){return l&&A?l===A?!0:l&&l.nodeType===3?!1:A&&A.nodeType===3?jl(l,A.parentNode):"contains"in l?l.contains(A):l.compareDocumentPosition?!!(l.compareDocumentPosition(A)&16):!1:!1}function Ro(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var A=ks(l.document);A instanceof l.HTMLIFrameElement;){try{var h=typeof A.contentWindow.location.href=="string"}catch{h=!1}if(h)l=A.contentWindow;else break;A=ks(l.document)}return A}function Lo(l){var A=l&&l.nodeName&&l.nodeName.toLowerCase();return A&&(A==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||A==="textarea"||l.contentEditable==="true")}var hu=rs&&"documentMode"in document&&11>=document.documentMode,ms=null,bc=null,Ml=null,tl=!1;function Ja(l,A,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;tl||ms==null||ms!==ks(x)||(x=ms,"selectionStart"in x&&Lo(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ml&&Ya(Ml,x)||(Ml=x,x=Fm(bc,"onSelect"),0<x.length&&(A=new Sa("onSelect","select",null,A,h),l.push({event:A,listeners:x}),A.target=ms)))}function Ms(l,A){var h={};return h[l.toLowerCase()]=A.toLowerCase(),h["Webkit"+l]="webkit"+A,h["Moz"+l]="moz"+A,h}var Za={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},_c={},Cc={};rs&&(Cc=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function sa(l){if(_c[l])return _c[l];if(!Za[l])return l;var A=Za[l],h;for(h in A)if(A.hasOwnProperty(h)&&h in Cc)return _c[l]=A[h];return l}var fu=sa("animationend"),Fa=sa("animationiteration"),nl=sa("animationstart"),Nr=sa("transitionrun"),Sr=sa("transitionstart"),ai=sa("transitioncancel"),fi=sa("transitionend"),rl=new Map,il="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");il.push("scrollEnd");function xs(l,A){rl.set(l,A),cr(A,[l])}var pA=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ua=[],gA=0,Mh=0;function Md(){for(var l=gA,A=Mh=gA=0;A<l;){var h=Ua[A];Ua[A++]=null;var x=Ua[A];Ua[A++]=null;var S=Ua[A];Ua[A++]=null;var I=Ua[A];if(Ua[A++]=null,x!==null&&S!==null){var X=x.pending;X===null?S.next=S:(S.next=X.next,X.next=S),x.pending=S}I!==0&&Od(h,S,I)}}function Pd(l,A,h,x){Ua[gA++]=l,Ua[gA++]=A,Ua[gA++]=h,Ua[gA++]=x,Mh|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function Ph(l,A,h,x){return Pd(l,A,h,x),vs(l)}function Pl(l,A){return Pd(l,null,null,A),vs(l)}function Od(l,A,h){l.lanes|=h;var x=l.alternate;x!==null&&(x.lanes|=h);for(var S=!1,I=l.return;I!==null;)I.childLanes|=h,x=I.alternate,x!==null&&(x.childLanes|=h),I.tag===22&&(l=I.stateNode,l===null||l._visibility&1||(S=!0)),l=I,I=I.return;return l.tag===3?(I=l.stateNode,S&&A!==null&&(S=31-Jt(h),l=I.hiddenUpdates,x=l[S],x===null?l[S]=[A]:x.push(A),A.lane=h|536870912),I):null}function vs(l){if(50<Ap)throw Ap=0,Jy=null,Error(r(185));for(var A=l.return;A!==null;)l=A,A=l.return;return l.tag===3?l.stateNode:null}var os={};function Oh(l,A,h,x){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ys(l,A,h,x){return new Oh(l,A,h,x)}function Qh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function eo(l,A){var h=l.alternate;return h===null?(h=ys(l.tag,A,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=A,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,A=l.dependencies,h.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function Qd(l,A){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=A,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,A=h.dependencies,l.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),l}function pu(l,A,h,x,S,I){var X=0;if(x=l,typeof l=="function")Qh(l)&&(X=1);else if(typeof l=="string")X=ej(l,h,V.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case M:return l=ys(31,h,A,S),l.elementType=M,l.lanes=I,l;case _:return Ec(h.children,S,I,A);case E:X=8,S|=24;break;case T:return l=ys(12,h,A,S|2),l.elementType=T,l.lanes=I,l;case Y:return l=ys(13,h,A,S),l.elementType=Y,l.lanes=I,l;case Z:return l=ys(19,h,A,S),l.elementType=Z,l.lanes=I,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case P:X=10;break e;case k:X=9;break e;case z:X=11;break e;case R:X=14;break e;case F:X=16,x=null;break e}X=29,h=Error(r(130,l===null?"null":typeof l,"")),x=null}return A=ys(X,h,A,S),A.elementType=l,A.type=x,A.lanes=I,A}function Ec(l,A,h,x){return l=ys(7,l,x,A),l.lanes=h,l}function Hd(l,A,h){return l=ys(6,l,null,A),l.lanes=h,l}function Hh(l){var A=ys(18,null,null,0);return A.stateNode=l,A}function gu(l,A,h){return A=ys(4,l.children!==null?l.children:[],l.key,A),A.lanes=h,A.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},A}var Vh=new WeakMap;function to(l,A){if(typeof l=="object"&&l!==null){var h=Vh.get(l);return h!==void 0?h:(A={value:l,source:A,stack:St(A)},Vh.set(l,A),A)}return{value:l,source:A,stack:St(A)}}var mu=[],mA=0,zh=null,Vd=0,no=[],ro=0,Nc=null,io=1,so="";function Ra(l,A){mu[mA++]=Vd,mu[mA++]=zh,zh=l,Vd=A}function im(l,A,h){no[ro++]=io,no[ro++]=so,no[ro++]=Nc,Nc=l;var x=io;l=so;var S=32-Jt(x)-1;x&=~(1<<S),h+=1;var I=32-Jt(A)+S;if(30<I){var X=S-S%5;I=(x&(1<<X)-1).toString(32),x>>=X,S-=X,io=1<<32-Jt(A)+S|h<<S|x,so=I+l}else io=1<<I|h<<S|x,so=l}function V0(l){l.return!==null&&(Ra(l,1),im(l,1,0))}function Gh(l){for(;l===zh;)zh=mu[--mA],mu[mA]=null,Vd=mu[--mA],mu[mA]=null;for(;l===Nc;)Nc=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,io=no[--ro],no[ro]=null}function sm(l,A){no[ro++]=io,no[ro++]=so,no[ro++]=Nc,io=A.id,so=A.overflow,Nc=l}var ls=null,Ur=null,Un=!1,Ps=null,Wr=!1,Do=Error(r(519));function Sc(l){var A=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xu(to(A,l)),Do}function z0(l){var A=l.stateNode,h=l.type,x=l.memoizedProps;switch(A[ye]=l,A[Ce]=x,h){case"dialog":Dn("cancel",A),Dn("close",A);break;case"iframe":case"object":case"embed":Dn("load",A);break;case"video":case"audio":for(h=0;h<dp.length;h++)Dn(dp[h],A);break;case"source":Dn("error",A);break;case"img":case"image":case"link":Dn("error",A),Dn("load",A);break;case"details":Dn("toggle",A);break;case"input":Dn("invalid",A),au(A,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Dn("invalid",A);break;case"textarea":Dn("invalid",A),Yo(A,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||A.textContent===""+h||x.suppressHydrationWarning===!0||Q4(A.textContent,h)?(x.popover!=null&&(Dn("beforetoggle",A),Dn("toggle",A)),x.onScroll!=null&&Dn("scroll",A),x.onScrollEnd!=null&&Dn("scrollend",A),x.onClick!=null&&(A.onclick=Er),A=!0):A=!1,A||Sc(l,!0)}function Ol(l){for(ls=l.return;ls;)switch(ls.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:ls=ls.return}}function cs(l){if(l!==ls)return!1;if(!Un)return Ol(l),Un=!0,!1;var A=l.tag,h;if((h=A!==3&&A!==27)&&((h=A===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||h2(l.type,l.memoizedProps)),h=!h),h&&Ur&&Sc(l),Ol(l),A===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Ur=Y4(l)}else if(A===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));Ur=Y4(l)}else A===27?(A=Ur,Fu(l.type)?(l=x2,x2=null,Ur=l):Ur=A):Ur=ls?ul(l.stateNode.nextSibling):null;return!0}function xA(){Ur=ls=null,Un=!1}function G0(){var l=Ps;return l!==null&&(uo===null?uo=l:uo.push.apply(uo,l),Ps=null),l}function xu(l){Ps===null?Ps=[l]:Ps.push(l)}var Kh=ee(null),Bc=null,sl=null;function Tc(l,A,h){H(Kh,A._currentValue),A._currentValue=h}function ao(l){l._currentValue=Kh.current,U(Kh)}function vu(l,A,h){for(;l!==null;){var x=l.alternate;if((l.childLanes&A)!==A?(l.childLanes|=A,x!==null&&(x.childLanes|=A)):x!==null&&(x.childLanes&A)!==A&&(x.childLanes|=A),l===h)break;l=l.return}}function vA(l,A,h,x){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var I=S.dependencies;if(I!==null){var X=S.child;I=I.firstContext;e:for(;I!==null;){var he=I;I=S;for(var Fe=0;Fe<A.length;Fe++)if(he.context===A[Fe]){I.lanes|=h,he=I.alternate,he!==null&&(he.lanes|=h),vu(I.return,h,l),x||(X=null);break e}I=he.next}}else if(S.tag===18){if(X=S.return,X===null)throw Error(r(341));X.lanes|=h,I=X.alternate,I!==null&&(I.lanes|=h),vu(X,h,l),X=null}else X=S.child;if(X!==null)X.return=S;else for(X=S;X!==null;){if(X===l){X=null;break}if(S=X.sibling,S!==null){S.return=X.return,X=S;break}X=X.return}S=X}}function Ic(l,A,h,x){l=null;for(var S=A,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var X=S.alternate;if(X===null)throw Error(r(387));if(X=X.memoizedProps,X!==null){var he=S.type;js(S.pendingProps.value,X.value)||(l!==null?l.push(he):l=[he])}}else if(S===te.current){if(X=S.alternate,X===null)throw Error(r(387));X.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(mp):l=[mp])}S=S.return}l!==null&&vA(A,l,h,x),A.flags|=262144}function qh(l){for(l=l.firstContext;l!==null;){if(!js(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function kc(l){Bc=l,sl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function As(l){return am(Bc,l)}function $h(l,A){return Bc===null&&kc(l),am(l,A)}function am(l,A){var h=A._currentValue;if(A={context:A,memoizedValue:h,next:null},sl===null){if(l===null)throw Error(r(308));sl=A,l.dependencies={lanes:0,firstContext:A},l.flags|=524288}else sl=sl.next=A;return h}var my=typeof AbortController<"u"?AbortController:function(){var l=[],A=this.signal={aborted:!1,addEventListener:function(h,x){l.push(x)}};this.abort=function(){A.aborted=!0,l.forEach(function(h){return h()})}},xy=n.unstable_scheduleCallback,vy=n.unstable_NormalPriority,oi={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new my,data:new Map,refCount:0}}function zd(l){l.refCount--,l.refCount===0&&xy(vy,function(){l.controller.abort()})}var Gd=null,Wh=0,w=0,B=null;function O(l,A){if(Gd===null){var h=Gd=[];Wh=0,w=i2(),B={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Wh++,A.then(K,K),A}function K(){if(--Wh===0&&Gd!==null){B!==null&&(B.status="fulfilled");var l=Gd;Gd=null,w=0,B=null;for(var A=0;A<l.length;A++)(0,l[A])()}}function ne(l,A){var h=[],x={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){x.status="fulfilled",x.value=A;for(var S=0;S<h.length;S++)(0,h[S])(A)},function(S){for(x.status="rejected",x.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),x}var oe=ie.S;ie.S=function(l,A){u4=Ne(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&O(l,A),oe!==null&&oe(l,A)};var ce=ee(null);function de(){var l=ce.current;return l!==null?l:Lr.pooledCache}function ge(l,A){A===null?H(ce,ce.current):H(ce,A.pool)}function Se(){var l=de();return l===null?null:{parent:oi._currentValue,pool:l}}var Le=Error(r(460)),$e=Error(r(474)),qe=Error(r(542)),Oe={then:function(){}};function pt(l){return l=l.status,l==="fulfilled"||l==="rejected"}function st(l,A,h){switch(h=l[h],h===void 0?l.push(A):h!==A&&(A.then(Er,Er),A=h),A.status){case"fulfilled":return A.value;case"rejected":throw l=A.reason,yt(l),l;default:if(typeof A.status=="string")A.then(Er,Er);else{if(l=Lr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=A,l.status="pending",l.then(function(x){if(A.status==="pending"){var S=A;S.status="fulfilled",S.value=x}},function(x){if(A.status==="pending"){var S=A;S.status="rejected",S.reason=x}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw l=A.reason,yt(l),l}throw Me=A,Le}}function De(l){try{var A=l._init;return A(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Me=h,Le):h}}var Me=null;function ut(){if(Me===null)throw Error(r(459));var l=Me;return Me=null,l}function yt(l){if(l===Le||l===qe)throw Error(r(483))}var ct=null,Ot=0;function Rt(l){var A=Ot;return Ot+=1,ct===null&&(ct=[]),st(ct,l,A)}function on(l,A){A=A.props.ref,l.ref=A!==void 0?A:null}function jt(l,A){throw A.$$typeof===m?Error(r(525)):(l=Object.prototype.toString.call(A),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":l)))}function Jn(l){function A(He,je){if(l){var Je=He.deletions;Je===null?(He.deletions=[je],He.flags|=16):Je.push(je)}}function h(He,je){if(!l)return null;for(;je!==null;)A(He,je),je=je.sibling;return null}function x(He){for(var je=new Map;He!==null;)He.key!==null?je.set(He.key,He):je.set(He.index,He),He=He.sibling;return je}function S(He,je){return He=eo(He,je),He.index=0,He.sibling=null,He}function I(He,je,Je){return He.index=Je,l?(Je=He.alternate,Je!==null?(Je=Je.index,Je<je?(He.flags|=67108866,je):Je):(He.flags|=67108866,je)):(He.flags|=1048576,je)}function X(He){return l&&He.alternate===null&&(He.flags|=67108866),He}function he(He,je,Je,dt){return je===null||je.tag!==6?(je=Hd(Je,He.mode,dt),je.return=He,je):(je=S(je,Je),je.return=He,je)}function Fe(He,je,Je,dt){var An=Je.type;return An===_?lt(He,je,Je.props.children,dt,Je.key):je!==null&&(je.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===F&&De(An)===je.type)?(je=S(je,Je.props),on(je,Je),je.return=He,je):(je=pu(Je.type,Je.key,Je.props,null,He.mode,dt),on(je,Je),je.return=He,je)}function Ze(He,je,Je,dt){return je===null||je.tag!==4||je.stateNode.containerInfo!==Je.containerInfo||je.stateNode.implementation!==Je.implementation?(je=gu(Je,He.mode,dt),je.return=He,je):(je=S(je,Je.children||[]),je.return=He,je)}function lt(He,je,Je,dt,An){return je===null||je.tag!==7?(je=Ec(Je,He.mode,dt,An),je.return=He,je):(je=S(je,Je),je.return=He,je)}function gt(He,je,Je){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return je=Hd(""+je,He.mode,Je),je.return=He,je;if(typeof je=="object"&&je!==null){switch(je.$$typeof){case v:return Je=pu(je.type,je.key,je.props,null,He.mode,Je),on(Je,je),Je.return=He,Je;case C:return je=gu(je,He.mode,Je),je.return=He,je;case F:return je=De(je),gt(He,je,Je)}if(fe(je)||Q(je))return je=Ec(je,He.mode,Je,null),je.return=He,je;if(typeof je.then=="function")return gt(He,Rt(je),Je);if(je.$$typeof===P)return gt(He,$h(He,je),Je);jt(He,je)}return null}function et(He,je,Je,dt){var An=je!==null?je.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return An!==null?null:he(He,je,""+Je,dt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case v:return Je.key===An?Fe(He,je,Je,dt):null;case C:return Je.key===An?Ze(He,je,Je,dt):null;case F:return Je=De(Je),et(He,je,Je,dt)}if(fe(Je)||Q(Je))return An!==null?null:lt(He,je,Je,dt,null);if(typeof Je.then=="function")return et(He,je,Rt(Je),dt);if(Je.$$typeof===P)return et(He,je,$h(He,Je),dt);jt(He,Je)}return null}function rt(He,je,Je,dt,An){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return He=He.get(Je)||null,he(je,He,""+dt,An);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case v:return He=He.get(dt.key===null?Je:dt.key)||null,Fe(je,He,dt,An);case C:return He=He.get(dt.key===null?Je:dt.key)||null,Ze(je,He,dt,An);case F:return dt=De(dt),rt(He,je,Je,dt,An)}if(fe(dt)||Q(dt))return He=He.get(Je)||null,lt(je,He,dt,An,null);if(typeof dt.then=="function")return rt(He,je,Je,Rt(dt),An);if(dt.$$typeof===P)return rt(He,je,Je,$h(je,dt),An);jt(je,dt)}return null}function en(He,je,Je,dt){for(var An=null,sr=null,rn=je,In=je=0,Qn=null;rn!==null&&In<Je.length;In++){rn.index>In?(Qn=rn,rn=null):Qn=rn.sibling;var ar=et(He,rn,Je[In],dt);if(ar===null){rn===null&&(rn=Qn);break}l&&rn&&ar.alternate===null&&A(He,rn),je=I(ar,je,In),sr===null?An=ar:sr.sibling=ar,sr=ar,rn=Qn}if(In===Je.length)return h(He,rn),Un&&Ra(He,In),An;if(rn===null){for(;In<Je.length;In++)rn=gt(He,Je[In],dt),rn!==null&&(je=I(rn,je,In),sr===null?An=rn:sr.sibling=rn,sr=rn);return Un&&Ra(He,In),An}for(rn=x(rn);In<Je.length;In++)Qn=rt(rn,He,In,Je[In],dt),Qn!==null&&(l&&Qn.alternate!==null&&rn.delete(Qn.key===null?In:Qn.key),je=I(Qn,je,In),sr===null?An=Qn:sr.sibling=Qn,sr=Qn);return l&&rn.forEach(function(ju){return A(He,ju)}),Un&&Ra(He,In),An}function gn(He,je,Je,dt){if(Je==null)throw Error(r(151));for(var An=null,sr=null,rn=je,In=je=0,Qn=null,ar=Je.next();rn!==null&&!ar.done;In++,ar=Je.next()){rn.index>In?(Qn=rn,rn=null):Qn=rn.sibling;var ju=et(He,rn,ar.value,dt);if(ju===null){rn===null&&(rn=Qn);break}l&&rn&&ju.alternate===null&&A(He,rn),je=I(ju,je,In),sr===null?An=ju:sr.sibling=ju,sr=ju,rn=Qn}if(ar.done)return h(He,rn),Un&&Ra(He,In),An;if(rn===null){for(;!ar.done;In++,ar=Je.next())ar=gt(He,ar.value,dt),ar!==null&&(je=I(ar,je,In),sr===null?An=ar:sr.sibling=ar,sr=ar);return Un&&Ra(He,In),An}for(rn=x(rn);!ar.done;In++,ar=Je.next())ar=rt(rn,He,In,ar.value,dt),ar!==null&&(l&&ar.alternate!==null&&rn.delete(ar.key===null?In:ar.key),je=I(ar,je,In),sr===null?An=ar:sr.sibling=ar,sr=ar);return l&&rn.forEach(function(uj){return A(He,uj)}),Un&&Ra(He,In),An}function Ir(He,je,Je,dt){if(typeof Je=="object"&&Je!==null&&Je.type===_&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case v:e:{for(var An=Je.key;je!==null;){if(je.key===An){if(An=Je.type,An===_){if(je.tag===7){h(He,je.sibling),dt=S(je,Je.props.children),dt.return=He,He=dt;break e}}else if(je.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===F&&De(An)===je.type){h(He,je.sibling),dt=S(je,Je.props),on(dt,Je),dt.return=He,He=dt;break e}h(He,je);break}else A(He,je);je=je.sibling}Je.type===_?(dt=Ec(Je.props.children,He.mode,dt,Je.key),dt.return=He,He=dt):(dt=pu(Je.type,Je.key,Je.props,null,He.mode,dt),on(dt,Je),dt.return=He,He=dt)}return X(He);case C:e:{for(An=Je.key;je!==null;){if(je.key===An)if(je.tag===4&&je.stateNode.containerInfo===Je.containerInfo&&je.stateNode.implementation===Je.implementation){h(He,je.sibling),dt=S(je,Je.children||[]),dt.return=He,He=dt;break e}else{h(He,je);break}else A(He,je);je=je.sibling}dt=gu(Je,He.mode,dt),dt.return=He,He=dt}return X(He);case F:return Je=De(Je),Ir(He,je,Je,dt)}if(fe(Je))return en(He,je,Je,dt);if(Q(Je)){if(An=Q(Je),typeof An!="function")throw Error(r(150));return Je=An.call(Je),gn(He,je,Je,dt)}if(typeof Je.then=="function")return Ir(He,je,Rt(Je),dt);if(Je.$$typeof===P)return Ir(He,je,$h(He,Je),dt);jt(He,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint"?(Je=""+Je,je!==null&&je.tag===6?(h(He,je.sibling),dt=S(je,Je),dt.return=He,He=dt):(h(He,je),dt=Hd(Je,He.mode,dt),dt.return=He,He=dt),X(He)):h(He,je)}return function(He,je,Je,dt){try{Ot=0;var An=Ir(He,je,Je,dt);return ct=null,An}catch(rn){if(rn===Le||rn===qe)throw rn;var sr=ys(29,rn,null,He.mode);return sr.lanes=dt,sr.return=He,sr}finally{}}}var Rn=Jn(!0),Pn=Jn(!1),Cn=!1;function Ar(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ir(l,A){l=l.updateQueue,A.updateQueue===l&&(A.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function mr(l,A,h){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ur&2)!==0){var S=x.pending;return S===null?A.next=A:(A.next=S.next,S.next=A),x.pending=A,A=vs(l),Od(l,null,h),A}return Pd(l,x,A,h),vs(l)}function Oi(l,A,h){if(A=A.updateQueue,A!==null&&(A=A.shared,(h&4194048)!==0)){var x=A.lanes;x&=l.pendingLanes,h|=x,A.lanes=h,Di(l,h)}}function Yr(l,A){var h=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var S=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var X={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};I===null?S=I=X:I=I.next=X,h=h.next}while(h!==null);I===null?S=I=A:I=I.next=A}else S=I=A;h={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:x.shared,callbacks:x.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=A:l.next=A,h.lastBaseUpdate=A}var ws=!1;function $n(){if(ws){var l=B;if(l!==null)throw l}}function us(l,A,h,x){ws=!1;var S=l.updateQueue;Cn=!1;var I=S.firstBaseUpdate,X=S.lastBaseUpdate,he=S.shared.pending;if(he!==null){S.shared.pending=null;var Fe=he,Ze=Fe.next;Fe.next=null,X===null?I=Ze:X.next=Ze,X=Fe;var lt=l.alternate;lt!==null&&(lt=lt.updateQueue,he=lt.lastBaseUpdate,he!==X&&(he===null?lt.firstBaseUpdate=Ze:he.next=Ze,lt.lastBaseUpdate=Fe))}if(I!==null){var gt=S.baseState;X=0,lt=Ze=Fe=null,he=I;do{var et=he.lane&-536870913,rt=et!==he.lane;if(rt?(On&et)===et:(x&et)===et){et!==0&&et===w&&(ws=!0),lt!==null&&(lt=lt.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var en=l,gn=he;et=A;var Ir=h;switch(gn.tag){case 1:if(en=gn.payload,typeof en=="function"){gt=en.call(Ir,gt,et);break e}gt=en;break e;case 3:en.flags=en.flags&-65537|128;case 0:if(en=gn.payload,et=typeof en=="function"?en.call(Ir,gt,et):en,et==null)break e;gt=g({},gt,et);break e;case 2:Cn=!0}}et=he.callback,et!==null&&(l.flags|=64,rt&&(l.flags|=8192),rt=S.callbacks,rt===null?S.callbacks=[et]:rt.push(et))}else rt={lane:et,tag:he.tag,payload:he.payload,callback:he.callback,next:null},lt===null?(Ze=lt=rt,Fe=gt):lt=lt.next=rt,X|=et;if(he=he.next,he===null){if(he=S.shared.pending,he===null)break;rt=he,he=rt.next,rt.next=null,S.lastBaseUpdate=rt,S.shared.pending=null}}while(!0);lt===null&&(Fe=gt),S.baseState=Fe,S.firstBaseUpdate=Ze,S.lastBaseUpdate=lt,I===null&&(S.shared.lanes=0),Su|=X,l.lanes=X,l.memoizedState=gt}}function aa(l,A){if(typeof l!="function")throw Error(r(191,l));l.call(A)}function Ei(l,A){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)aa(h[l],A)}var Xr=ee(null),Qi=ee(0);function La(l,A){l=kA,H(Qi,l),H(Xr,A),kA=l|A.baseLanes}function oo(){H(Qi,kA),H(Xr,Xr.current)}function pi(){kA=Qi.current,U(Xr),U(Qi)}var li=ee(null),Hi=null;function Da(l){var A=l.alternate;H(Jr,Jr.current&1),H(li,l),Hi===null&&(A===null||Xr.current!==null||A.memoizedState!==null)&&(Hi=l)}function al(l){H(Jr,Jr.current),H(li,l),Hi===null&&(Hi=l)}function Hr(l){l.tag===22?(H(Jr,Jr.current),H(li,l),Hi===null&&(Hi=l)):ol()}function ol(){H(Jr,Jr.current),H(li,li.current)}function oa(l){U(li),Hi===l&&(Hi=null),U(Jr)}var Jr=ee(0);function yA(l){for(var A=l;A!==null;){if(A.tag===13){var h=A.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||g2(h)||m2(h)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break;for(;A.sibling===null;){if(A.return===null||A.return===l)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var ja=0,_n=null,kn=null,Rr=null,Ql=!1,wA=!1,ll=!1,Kd=0,Fc=0,Uc=null,Yh=0;function Br(){throw Error(r(321))}function K0(l,A){if(A===null)return!1;for(var h=0;h<A.length&&h<l.length;h++)if(!js(l[h],A[h]))return!1;return!0}function q0(l,A,h,x,S,I){return ja=I,_n=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,ie.H=l===null||l.memoizedState===null?bC:Sy,ll=!1,I=h(x,S),ll=!1,wA&&(I=Hl(A,h,x,S)),Xh(l),I}function Xh(l){ie.H=tp;var A=kn!==null&&kn.next!==null;if(ja=0,Rr=kn=_n=null,Ql=!1,Fc=0,Uc=null,A)throw Error(r(300));l===null||zi||(l=l.dependencies,l!==null&&qh(l)&&(zi=!0))}function Hl(l,A,h,x){_n=l;var S=0;do{if(wA&&(Uc=null),Fc=0,wA=!1,25<=S)throw Error(r(301));if(S+=1,Rr=kn=null,l.updateQueue!=null){var I=l.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}ie.H=_C,I=A(h,x)}while(wA);return I}function yy(){var l=ie.H,A=l.useState()[0];return A=typeof A.then=="function"?Rc(A):A,l=l.useState()[0],(kn!==null?kn.memoizedState:null)!==l&&(_n.flags|=1024),A}function $0(){var l=Kd!==0;return Kd=0,l}function W0(l,A,h){A.updateQueue=l.updateQueue,A.flags&=-2053,l.lanes&=~h}function Jh(l){if(Ql){for(l=l.memoizedState;l!==null;){var A=l.queue;A!==null&&(A.pending=null),l=l.next}Ql=!1}ja=0,Rr=kn=_n=null,wA=!1,Fc=Kd=0,Uc=null}function Vi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?_n.memoizedState=Rr=l:Rr=Rr.next=l,Rr}function Zr(){if(kn===null){var l=_n.alternate;l=l!==null?l.memoizedState:null}else l=kn.next;var A=Rr===null?_n.memoizedState:Rr.next;if(A!==null)Rr=A,kn=l;else{if(l===null)throw _n.alternate===null?Error(r(467)):Error(r(310));kn=l,l={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Rr===null?_n.memoizedState=Rr=l:Rr=Rr.next=l}return Rr}function qd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(l){var A=Fc;return Fc+=1,Uc===null&&(Uc=[]),l=st(Uc,l,A),A=_n,(Rr===null?A.memoizedState:Rr.next)===null&&(A=A.alternate,ie.H=A===null||A.memoizedState===null?bC:Sy),l}function wu(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Rc(l);if(l.$$typeof===P)return As(l)}throw Error(r(438,String(l)))}function bA(l){var A=null,h=_n.updateQueue;if(h!==null&&(A=h.memoCache),A==null){var x=_n.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(A={data:x.data.map(function(S){return S.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),h===null&&(h=qd(),_n.updateQueue=h),h.memoCache=A,h=A.data[A.index],h===void 0)for(h=A.data[A.index]=Array(l),x=0;x<l;x++)h[x]=G;return A.index++,h}function cl(l,A){return typeof A=="function"?A(l):A}function Zh(l){var A=Zr();return bu(A,kn,l)}function bu(l,A,h){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var S=l.baseQueue,I=x.pending;if(I!==null){if(S!==null){var X=S.next;S.next=I.next,I.next=X}A.baseQueue=S=I,x.pending=null}if(I=l.baseState,S===null)l.memoizedState=I;else{A=S.next;var he=X=null,Fe=null,Ze=A,lt=!1;do{var gt=Ze.lane&-536870913;if(gt!==Ze.lane?(On&gt)===gt:(ja&gt)===gt){var et=Ze.revertLane;if(et===0)Fe!==null&&(Fe=Fe.next={lane:0,revertLane:0,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),gt===w&&(lt=!0);else if((ja&et)===et){Ze=Ze.next,et===w&&(lt=!0);continue}else gt={lane:0,revertLane:Ze.revertLane,gesture:null,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Fe===null?(he=Fe=gt,X=I):Fe=Fe.next=gt,_n.lanes|=et,Su|=et;gt=Ze.action,ll&&h(I,gt),I=Ze.hasEagerState?Ze.eagerState:h(I,gt)}else et={lane:gt,revertLane:Ze.revertLane,gesture:Ze.gesture,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null},Fe===null?(he=Fe=et,X=I):Fe=Fe.next=et,_n.lanes|=gt,Su|=gt;Ze=Ze.next}while(Ze!==null&&Ze!==A);if(Fe===null?X=I:Fe.next=he,!js(I,l.memoizedState)&&(zi=!0,lt&&(h=B,h!==null)))throw h;l.memoizedState=I,l.baseState=X,l.baseQueue=Fe,x.lastRenderedState=I}return S===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function ef(l){var A=Zr(),h=A.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var x=h.dispatch,S=h.pending,I=A.memoizedState;if(S!==null){h.pending=null;var X=S=S.next;do I=l(I,X.action),X=X.next;while(X!==S);js(I,A.memoizedState)||(zi=!0),A.memoizedState=I,A.baseQueue===null&&(A.baseState=I),h.lastRenderedState=I}return[I,x]}function tf(l,A,h){var x=_n,S=Zr(),I=Un;if(I){if(h===void 0)throw Error(r(407));h=h()}else h=A();var X=!js((kn||S).memoizedState,h);if(X&&(S.memoizedState=h,zi=!0),S=S.queue,wy(X0.bind(null,x,S,l),[l]),S.getSnapshot!==A||X||Rr!==null&&Rr.memoizedState.tag&1){if(x.flags|=2048,CA(9,{destroy:void 0},Y0.bind(null,x,S,h,A),null),Lr===null)throw Error(r(349));I||(ja&127)!==0||Vl(x,A,h)}return h}function Vl(l,A,h){l.flags|=16384,l={getSnapshot:A,value:h},A=_n.updateQueue,A===null?(A=qd(),_n.updateQueue=A,A.stores=[l]):(h=A.stores,h===null?A.stores=[l]:h.push(l))}function Y0(l,A,h,x){A.value=h,A.getSnapshot=x,om(A)&&J0(l)}function X0(l,A,h){return h(function(){om(A)&&J0(l)})}function om(l){var A=l.getSnapshot;l=l.value;try{var h=A();return!js(l,h)}catch{return!0}}function J0(l){var A=Pl(l,2);A!==null&&ho(A,l,2)}function Lc(l){var A=Vi();if(typeof l=="function"){var h=l;if(l=h(),ll){nn(!0);try{h()}finally{nn(!1)}}}return A.memoizedState=A.baseState=l,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:l},A}function lm(l,A,h,x){return l.baseState=h,bu(l,kn,typeof x=="function"?x:cl)}function cm(l,A,h,x,S){if(hm(l))throw Error(r(485));if(l=A.action,l!==null){var I={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){I.listeners.push(X)}};ie.T!==null?h(!0):I.isTransition=!1,x(I),h=A.pending,h===null?(I.next=A.pending=I,Am(A,I)):(I.next=h.next,A.pending=h.next=I)}}function Am(l,A){var h=A.action,x=A.payload,S=l.state;if(A.isTransition){var I=ie.T,X={};ie.T=X;try{var he=h(S,x),Fe=ie.S;Fe!==null&&Fe(X,he),Z0(l,A,he)}catch(Ze){_A(l,A,Ze)}finally{I!==null&&X.types!==null&&(I.types=X.types),ie.T=I}}else try{I=h(S,x),Z0(l,A,I)}catch(Ze){_A(l,A,Ze)}}function Z0(l,A,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){um(l,A,x)},function(x){return _A(l,A,x)}):um(l,A,h)}function um(l,A,h){A.status="fulfilled",A.value=h,nf(A),l.state=h,A=l.pending,A!==null&&(h=A.next,h===A?l.pending=null:(h=h.next,A.next=h,Am(l,h)))}function _A(l,A,h){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do A.status="rejected",A.reason=h,nf(A),A=A.next;while(A!==x)}l.action=null}function nf(l){l=l.listeners;for(var A=0;A<l.length;A++)(0,l[A])()}function $d(l,A){return A}function Al(l,A){if(Un){var h=Lr.formState;if(h!==null){e:{var x=_n;if(Un){if(Ur){t:{for(var S=Ur,I=Wr;S.nodeType!==8;){if(!I){S=null;break t}if(S=ul(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){Ur=ul(S.nextSibling),x=S.data==="F!";break e}}Sc(x)}x=!1}x&&(A=h[0])}}return h=Vi(),h.memoizedState=h.baseState=A,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$d,lastRenderedState:A},h.queue=x,h=vC.bind(null,_n,x),x.dispatch=h,x=Lc(!1),I=Ny.bind(null,_n,!1,x.queue),x=Vi(),S={state:A,dispatch:null,action:l,pending:null},x.queue=S,h=cm.bind(null,_n,S,I,h),S.dispatch=h,x.memoizedState=l,[A,h,!1]}function zl(l){var A=Zr();return Gl(A,kn,l)}function Gl(l,A,h){if(A=bu(l,A,$d)[0],l=Zh(cl)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var x=Rc(A)}catch(X){throw X===Le?qe:X}else x=A;A=Zr();var S=A.queue,I=S.dispatch;return h!==A.memoizedState&&(_n.flags|=2048,CA(9,{destroy:void 0},rf.bind(null,S,h),null)),[x,I,l]}function rf(l,A){l.action=A}function sf(l){var A=Zr(),h=kn;if(h!==null)return Gl(A,h,l);Zr(),A=A.memoizedState,h=Zr();var x=h.queue.dispatch;return h.memoizedState=l,[A,x,!1]}function CA(l,A,h,x){return l={tag:l,create:h,deps:x,inst:A,next:null},A=_n.updateQueue,A===null&&(A=qd(),_n.updateQueue=A),h=A.lastEffect,h===null?A.lastEffect=l.next=l:(x=h.next,h.next=l,l.next=x,A.lastEffect=l),l}function dm(){return Zr().memoizedState}function _u(l,A,h,x){var S=Vi();_n.flags|=l,S.memoizedState=CA(1|A,{destroy:void 0},h,x===void 0?null:x)}function Cu(l,A,h,x){var S=Zr();x=x===void 0?null:x;var I=S.memoizedState.inst;kn!==null&&x!==null&&K0(x,kn.memoizedState.deps)?S.memoizedState=CA(A,I,h,x):(_n.flags|=l,S.memoizedState=CA(1|A,I,h,x))}function sC(l,A){_u(8390656,8,l,A)}function wy(l,A){Cu(2048,8,l,A)}function sD(l){_n.flags|=4;var A=_n.updateQueue;if(A===null)A=qd(),_n.updateQueue=A,A.events=[l];else{var h=A.events;h===null?A.events=[l]:h.push(l)}}function aC(l){var A=Zr().memoizedState;return sD({ref:A,nextImpl:l}),function(){if((ur&2)!==0)throw Error(r(440));return A.impl.apply(void 0,arguments)}}function oC(l,A){return Cu(4,2,l,A)}function lC(l,A){return Cu(4,4,l,A)}function cC(l,A){if(typeof A=="function"){l=l();var h=A(l);return function(){typeof h=="function"?h():A(null)}}if(A!=null)return l=l(),A.current=l,function(){A.current=null}}function AC(l,A,h){h=h!=null?h.concat([l]):null,Cu(4,4,cC.bind(null,A,l),h)}function by(){}function uC(l,A){var h=Zr();A=A===void 0?null:A;var x=h.memoizedState;return A!==null&&K0(A,x[1])?x[0]:(h.memoizedState=[l,A],l)}function dC(l,A){var h=Zr();A=A===void 0?null:A;var x=h.memoizedState;if(A!==null&&K0(A,x[1]))return x[0];if(x=l(),ll){nn(!0);try{l()}finally{nn(!1)}}return h.memoizedState=[x,A],x}function _y(l,A,h){return h===void 0||(ja&1073741824)!==0&&(On&261930)===0?l.memoizedState=A:(l.memoizedState=h,l=h4(),_n.lanes|=l,Su|=l,h)}function hC(l,A,h,x){return js(h,A)?h:Xr.current!==null?(l=_y(l,h,x),js(l,A)||(zi=!0),l):(ja&42)===0||(ja&1073741824)!==0&&(On&261930)===0?(zi=!0,l.memoizedState=h):(l=h4(),_n.lanes|=l,Su|=l,A)}function fC(l,A,h,x,S){var I=Ae.p;Ae.p=I!==0&&8>I?I:8;var X=ie.T,he={};ie.T=he,Ny(l,!1,A,h);try{var Fe=S(),Ze=ie.S;if(Ze!==null&&Ze(he,Fe),Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var lt=ne(Fe,x);ep(l,A,lt,Po(l))}else ep(l,A,x,Po(l))}catch(gt){ep(l,A,{then:function(){},status:"rejected",reason:gt},Po())}finally{Ae.p=I,X!==null&&he.types!==null&&(X.types=he.types),ie.T=X}}function aD(){}function Cy(l,A,h,x){if(l.tag!==5)throw Error(r(476));var S=pC(l).queue;fC(l,S,A,me,h===null?aD:function(){return gC(l),h(x)})}function pC(l){var A=l.memoizedState;if(A!==null)return A;A={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:me},next:null};var h={};return A.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:h},next:null},l.memoizedState=A,l=l.alternate,l!==null&&(l.memoizedState=A),A}function gC(l){var A=pC(l);A.next===null&&(A=l.alternate.memoizedState),ep(l,A.next.queue,{},Po())}function Ey(){return As(mp)}function mC(){return Zr().memoizedState}function xC(){return Zr().memoizedState}function oD(l){for(var A=l.return;A!==null;){switch(A.tag){case 24:case 3:var h=Po();l=pn(h);var x=mr(A,l,h);x!==null&&(ho(x,A,h),Oi(x,A,h)),A={cache:yu()},l.payload=A;return}A=A.return}}function lD(l,A,h){var x=Po();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},hm(l)?yC(A,h):(h=Ph(l,A,h,x),h!==null&&(ho(h,l,x),wC(h,A,x)))}function vC(l,A,h){var x=Po();ep(l,A,h,x)}function ep(l,A,h,x){var S={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(hm(l))yC(A,S);else{var I=l.alternate;if(l.lanes===0&&(I===null||I.lanes===0)&&(I=A.lastRenderedReducer,I!==null))try{var X=A.lastRenderedState,he=I(X,h);if(S.hasEagerState=!0,S.eagerState=he,js(he,X))return Pd(l,A,S,0),Lr===null&&Md(),!1}catch{}finally{}if(h=Ph(l,A,S,x),h!==null)return ho(h,l,x),wC(h,A,x),!0}return!1}function Ny(l,A,h,x){if(x={lane:2,revertLane:i2(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},hm(l)){if(A)throw Error(r(479))}else A=Ph(l,h,x,2),A!==null&&ho(A,l,2)}function hm(l){var A=l.alternate;return l===_n||A!==null&&A===_n}function yC(l,A){wA=Ql=!0;var h=l.pending;h===null?A.next=A:(A.next=h.next,h.next=A),l.pending=A}function wC(l,A,h){if((h&4194048)!==0){var x=A.lanes;x&=l.pendingLanes,h|=x,A.lanes=h,Di(l,h)}}var tp={readContext:As,use:wu,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};tp.useEffectEvent=Br;var bC={readContext:As,use:wu,useCallback:function(l,A){return Vi().memoizedState=[l,A===void 0?null:A],l},useContext:As,useEffect:sC,useImperativeHandle:function(l,A,h){h=h!=null?h.concat([l]):null,_u(4194308,4,cC.bind(null,A,l),h)},useLayoutEffect:function(l,A){return _u(4194308,4,l,A)},useInsertionEffect:function(l,A){_u(4,2,l,A)},useMemo:function(l,A){var h=Vi();A=A===void 0?null:A;var x=l();if(ll){nn(!0);try{l()}finally{nn(!1)}}return h.memoizedState=[x,A],x},useReducer:function(l,A,h){var x=Vi();if(h!==void 0){var S=h(A);if(ll){nn(!0);try{h(A)}finally{nn(!1)}}}else S=A;return x.memoizedState=x.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},x.queue=l,l=l.dispatch=lD.bind(null,_n,l),[x.memoizedState,l]},useRef:function(l){var A=Vi();return l={current:l},A.memoizedState=l},useState:function(l){l=Lc(l);var A=l.queue,h=vC.bind(null,_n,A);return A.dispatch=h,[l.memoizedState,h]},useDebugValue:by,useDeferredValue:function(l,A){var h=Vi();return _y(h,l,A)},useTransition:function(){var l=Lc(!1);return l=fC.bind(null,_n,l.queue,!0,!1),Vi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,A,h){var x=_n,S=Vi();if(Un){if(h===void 0)throw Error(r(407));h=h()}else{if(h=A(),Lr===null)throw Error(r(349));(On&127)!==0||Vl(x,A,h)}S.memoizedState=h;var I={value:h,getSnapshot:A};return S.queue=I,sC(X0.bind(null,x,I,l),[l]),x.flags|=2048,CA(9,{destroy:void 0},Y0.bind(null,x,I,h,A),null),h},useId:function(){var l=Vi(),A=Lr.identifierPrefix;if(Un){var h=so,x=io;h=(x&~(1<<32-Jt(x)-1)).toString(32)+h,A="_"+A+"R_"+h,h=Kd++,0<h&&(A+="H"+h.toString(32)),A+="_"}else h=Yh++,A="_"+A+"r_"+h.toString(32)+"_";return l.memoizedState=A},useHostTransitionStatus:Ey,useFormState:Al,useActionState:Al,useOptimistic:function(l){var A=Vi();A.memoizedState=A.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=h,A=Ny.bind(null,_n,!0,h),h.dispatch=A,[l,A]},useMemoCache:bA,useCacheRefresh:function(){return Vi().memoizedState=oD.bind(null,_n)},useEffectEvent:function(l){var A=Vi(),h={impl:l};return A.memoizedState=h,function(){if((ur&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Sy={readContext:As,use:wu,useCallback:uC,useContext:As,useEffect:wy,useImperativeHandle:AC,useInsertionEffect:oC,useLayoutEffect:lC,useMemo:dC,useReducer:Zh,useRef:dm,useState:function(){return Zh(cl)},useDebugValue:by,useDeferredValue:function(l,A){var h=Zr();return hC(h,kn.memoizedState,l,A)},useTransition:function(){var l=Zh(cl)[0],A=Zr().memoizedState;return[typeof l=="boolean"?l:Rc(l),A]},useSyncExternalStore:tf,useId:mC,useHostTransitionStatus:Ey,useFormState:zl,useActionState:zl,useOptimistic:function(l,A){var h=Zr();return lm(h,kn,l,A)},useMemoCache:bA,useCacheRefresh:xC};Sy.useEffectEvent=aC;var _C={readContext:As,use:wu,useCallback:uC,useContext:As,useEffect:wy,useImperativeHandle:AC,useInsertionEffect:oC,useLayoutEffect:lC,useMemo:dC,useReducer:ef,useRef:dm,useState:function(){return ef(cl)},useDebugValue:by,useDeferredValue:function(l,A){var h=Zr();return kn===null?_y(h,l,A):hC(h,kn.memoizedState,l,A)},useTransition:function(){var l=ef(cl)[0],A=Zr().memoizedState;return[typeof l=="boolean"?l:Rc(l),A]},useSyncExternalStore:tf,useId:mC,useHostTransitionStatus:Ey,useFormState:sf,useActionState:sf,useOptimistic:function(l,A){var h=Zr();return kn!==null?lm(h,kn,l,A):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:bA,useCacheRefresh:xC};_C.useEffectEvent=aC;function By(l,A,h,x){A=l.memoizedState,h=h(x,A),h=h==null?A:g({},A,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var Ty={enqueueSetState:function(l,A,h){l=l._reactInternals;var x=Po(),S=pn(x);S.payload=A,h!=null&&(S.callback=h),A=mr(l,S,x),A!==null&&(ho(A,l,x),Oi(A,l,x))},enqueueReplaceState:function(l,A,h){l=l._reactInternals;var x=Po(),S=pn(x);S.tag=1,S.payload=A,h!=null&&(S.callback=h),A=mr(l,S,x),A!==null&&(ho(A,l,x),Oi(A,l,x))},enqueueForceUpdate:function(l,A){l=l._reactInternals;var h=Po(),x=pn(h);x.tag=2,A!=null&&(x.callback=A),A=mr(l,x,h),A!==null&&(ho(A,l,h),Oi(A,l,h))}};function CC(l,A,h,x,S,I,X){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,I,X):A.prototype&&A.prototype.isPureReactComponent?!Ya(h,x)||!Ya(S,I):!0}function EC(l,A,h,x){l=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(h,x),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(h,x),A.state!==l&&Ty.enqueueReplaceState(A,A.state,null)}function Wd(l,A){var h=A;if("ref"in A){h={};for(var x in A)x!=="ref"&&(h[x]=A[x])}if(l=l.defaultProps){h===A&&(h=g({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function NC(l){pA(l)}function SC(l){console.error(l)}function BC(l){pA(l)}function fm(l,A){try{var h=l.onUncaughtError;h(A.value,{componentStack:A.stack})}catch(x){setTimeout(function(){throw x})}}function TC(l,A,h){try{var x=l.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Iy(l,A,h){return h=pn(h),h.tag=3,h.payload={element:null},h.callback=function(){fm(l,A)},h}function IC(l){return l=pn(l),l.tag=3,l}function kC(l,A,h,x){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var I=x.value;l.payload=function(){return S(I)},l.callback=function(){TC(A,h,x)}}var X=h.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(l.callback=function(){TC(A,h,x),typeof S!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var he=x.stack;this.componentDidCatch(x.value,{componentStack:he!==null?he:""})})}function cD(l,A,h,x,S){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(A=h.alternate,A!==null&&Ic(A,h,S,!0),h=li.current,h!==null){switch(h.tag){case 31:case 13:return Hi===null?Nm():h.alternate===null&&gi===0&&(gi=3),h.flags&=-257,h.flags|=65536,h.lanes=S,x===Oe?h.flags|=16384:(A=h.updateQueue,A===null?h.updateQueue=new Set([x]):A.add(x),t2(l,x,S)),!1;case 22:return h.flags|=65536,x===Oe?h.flags|=16384:(A=h.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=A):(h=A.retryQueue,h===null?A.retryQueue=new Set([x]):h.add(x)),t2(l,x,S)),!1}throw Error(r(435,h.tag))}return t2(l,x,S),Nm(),!1}if(Un)return A=li.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=S,x!==Do&&(l=Error(r(422),{cause:x}),xu(to(l,h)))):(x!==Do&&(A=Error(r(423),{cause:x}),xu(to(A,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,x=to(x,h),S=Iy(l.stateNode,x,S),Yr(l,S),gi!==4&&(gi=2)),!1;var I=Error(r(520),{cause:x});if(I=to(I,h),cp===null?cp=[I]:cp.push(I),gi!==4&&(gi=2),A===null)return!0;x=to(x,h),h=A;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=Iy(h.stateNode,x,l),Yr(h,l),!1;case 1:if(A=h.type,I=h.stateNode,(h.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Bu===null||!Bu.has(I))))return h.flags|=65536,S&=-S,h.lanes|=S,S=IC(S),kC(S,l,h,x),Yr(h,S),!1}h=h.return}while(h!==null);return!1}var ky=Error(r(461)),zi=!1;function Os(l,A,h,x){A.child=l===null?Pn(A,null,h,x):Rn(A,l.child,h,x)}function FC(l,A,h,x,S){h=h.render;var I=A.ref;if("ref"in x){var X={};for(var he in x)he!=="ref"&&(X[he]=x[he])}else X=x;return kc(A),x=q0(l,A,h,X,I,S),he=$0(),l!==null&&!zi?(W0(l,A,S),EA(l,A,S)):(Un&&he&&V0(A),A.flags|=1,Os(l,A,x,S),A.child)}function UC(l,A,h,x,S){if(l===null){var I=h.type;return typeof I=="function"&&!Qh(I)&&I.defaultProps===void 0&&h.compare===null?(A.tag=15,A.type=I,RC(l,A,I,x,S)):(l=pu(h.type,null,x,A,A.mode,S),l.ref=A.ref,l.return=A,A.child=l)}if(I=l.child,!Py(l,S)){var X=I.memoizedProps;if(h=h.compare,h=h!==null?h:Ya,h(X,x)&&l.ref===A.ref)return EA(l,A,S)}return A.flags|=1,l=eo(I,x),l.ref=A.ref,l.return=A,A.child=l}function RC(l,A,h,x,S){if(l!==null){var I=l.memoizedProps;if(Ya(I,x)&&l.ref===A.ref)if(zi=!1,A.pendingProps=x=I,Py(l,S))(l.flags&131072)!==0&&(zi=!0);else return A.lanes=l.lanes,EA(l,A,S)}return Fy(l,A,h,x,S)}function LC(l,A,h,x){var S=x.children,I=l!==null?l.memoizedState:null;if(l===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((A.flags&128)!==0){if(I=I!==null?I.baseLanes|h:h,l!==null){for(x=A.child=l.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;x=S&~I}else x=0,A.child=null;return DC(l,A,I,h,x)}if((h&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},l!==null&&ge(A,I!==null?I.cachePool:null),I!==null?La(A,I):oo(),Hr(A);else return x=A.lanes=536870912,DC(l,A,I!==null?I.baseLanes|h:h,h,x)}else I!==null?(ge(A,I.cachePool),La(A,I),ol(),A.memoizedState=null):(l!==null&&ge(A,null),oo(),ol());return Os(l,A,S,h),A.child}function np(l,A){return l!==null&&l.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function DC(l,A,h,x,S){var I=de();return I=I===null?null:{parent:oi._currentValue,pool:I},A.memoizedState={baseLanes:h,cachePool:I},l!==null&&ge(A,null),oo(),Hr(A),l!==null&&Ic(l,A,x,!0),A.childLanes=S,null}function pm(l,A){return A=mm({mode:A.mode,children:A.children},l.mode),A.ref=l.ref,l.child=A,A.return=l,A}function jC(l,A,h){return Rn(A,l.child,null,h),l=pm(A,A.pendingProps),l.flags|=2,oa(A),A.memoizedState=null,l}function AD(l,A,h){var x=A.pendingProps,S=(A.flags&128)!==0;if(A.flags&=-129,l===null){if(Un){if(x.mode==="hidden")return l=pm(A,x),A.lanes=536870912,np(null,l);if(al(A),(l=Ur)?(l=W4(l,Wr),l=l!==null&&l.data==="&"?l:null,l!==null&&(A.memoizedState={dehydrated:l,treeContext:Nc!==null?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},h=Hh(l),h.return=A,A.child=h,ls=A,Ur=null)):l=null,l===null)throw Sc(A);return A.lanes=536870912,null}return pm(A,x)}var I=l.memoizedState;if(I!==null){var X=I.dehydrated;if(al(A),S)if(A.flags&256)A.flags&=-257,A=jC(l,A,h);else if(A.memoizedState!==null)A.child=l.child,A.flags|=128,A=null;else throw Error(r(558));else if(zi||Ic(l,A,h,!1),S=(h&l.childLanes)!==0,zi||S){if(x=Lr,x!==null&&(X=ui(x,h),X!==0&&X!==I.retryLane))throw I.retryLane=X,Pl(l,X),ho(x,l,X),ky;Nm(),A=jC(l,A,h)}else l=I.treeContext,Ur=ul(X.nextSibling),ls=A,Un=!0,Ps=null,Wr=!1,l!==null&&sm(A,l),A=pm(A,x),A.flags|=4096;return A}return l=eo(l.child,{mode:x.mode,children:x.children}),l.ref=A.ref,A.child=l,l.return=A,l}function gm(l,A){var h=A.ref;if(h===null)l!==null&&l.ref!==null&&(A.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(l===null||l.ref!==h)&&(A.flags|=4194816)}}function Fy(l,A,h,x,S){return kc(A),h=q0(l,A,h,x,void 0,S),x=$0(),l!==null&&!zi?(W0(l,A,S),EA(l,A,S)):(Un&&x&&V0(A),A.flags|=1,Os(l,A,h,S),A.child)}function MC(l,A,h,x,S,I){return kc(A),A.updateQueue=null,h=Hl(A,x,h,S),Xh(l),x=$0(),l!==null&&!zi?(W0(l,A,I),EA(l,A,I)):(Un&&x&&V0(A),A.flags|=1,Os(l,A,h,I),A.child)}function PC(l,A,h,x,S){if(kc(A),A.stateNode===null){var I=os,X=h.contextType;typeof X=="object"&&X!==null&&(I=As(X)),I=new h(x,I),A.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Ty,A.stateNode=I,I._reactInternals=A,I=A.stateNode,I.props=x,I.state=A.memoizedState,I.refs={},Ar(A),X=h.contextType,I.context=typeof X=="object"&&X!==null?As(X):os,I.state=A.memoizedState,X=h.getDerivedStateFromProps,typeof X=="function"&&(By(A,h,X,x),I.state=A.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(X=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),X!==I.state&&Ty.enqueueReplaceState(I,I.state,null),us(A,x,I,S),$n(),I.state=A.memoizedState),typeof I.componentDidMount=="function"&&(A.flags|=4194308),x=!0}else if(l===null){I=A.stateNode;var he=A.memoizedProps,Fe=Wd(h,he);I.props=Fe;var Ze=I.context,lt=h.contextType;X=os,typeof lt=="object"&&lt!==null&&(X=As(lt));var gt=h.getDerivedStateFromProps;lt=typeof gt=="function"||typeof I.getSnapshotBeforeUpdate=="function",he=A.pendingProps!==he,lt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(he||Ze!==X)&&EC(A,I,x,X),Cn=!1;var et=A.memoizedState;I.state=et,us(A,x,I,S),$n(),Ze=A.memoizedState,he||et!==Ze||Cn?(typeof gt=="function"&&(By(A,h,gt,x),Ze=A.memoizedState),(Fe=Cn||CC(A,h,Fe,x,et,Ze,X))?(lt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(A.flags|=4194308)):(typeof I.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=x,A.memoizedState=Ze),I.props=x,I.state=Ze,I.context=X,x=Fe):(typeof I.componentDidMount=="function"&&(A.flags|=4194308),x=!1)}else{I=A.stateNode,ir(l,A),X=A.memoizedProps,lt=Wd(h,X),I.props=lt,gt=A.pendingProps,et=I.context,Ze=h.contextType,Fe=os,typeof Ze=="object"&&Ze!==null&&(Fe=As(Ze)),he=h.getDerivedStateFromProps,(Ze=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==gt||et!==Fe)&&EC(A,I,x,Fe),Cn=!1,et=A.memoizedState,I.state=et,us(A,x,I,S),$n();var rt=A.memoizedState;X!==gt||et!==rt||Cn||l!==null&&l.dependencies!==null&&qh(l.dependencies)?(typeof he=="function"&&(By(A,h,he,x),rt=A.memoizedState),(lt=Cn||CC(A,h,lt,x,et,rt,Fe)||l!==null&&l.dependencies!==null&&qh(l.dependencies))?(Ze||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,rt,Fe),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,rt,Fe)),typeof I.componentDidUpdate=="function"&&(A.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof I.componentDidUpdate!="function"||X===l.memoizedProps&&et===l.memoizedState||(A.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&et===l.memoizedState||(A.flags|=1024),A.memoizedProps=x,A.memoizedState=rt),I.props=x,I.state=rt,I.context=Fe,x=lt):(typeof I.componentDidUpdate!="function"||X===l.memoizedProps&&et===l.memoizedState||(A.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&et===l.memoizedState||(A.flags|=1024),x=!1)}return I=x,gm(l,A),x=(A.flags&128)!==0,I||x?(I=A.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:I.render(),A.flags|=1,l!==null&&x?(A.child=Rn(A,l.child,null,S),A.child=Rn(A,null,h,S)):Os(l,A,h,S),A.memoizedState=I.state,l=A.child):l=EA(l,A,S),l}function OC(l,A,h,x){return xA(),A.flags|=256,Os(l,A,h,x),A.child}var Uy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ry(l){return{baseLanes:l,cachePool:Se()}}function Ly(l,A,h){return l=l!==null?l.childLanes&~h:0,A&&(l|=Mo),l}function QC(l,A,h){var x=A.pendingProps,S=!1,I=(A.flags&128)!==0,X;if((X=I)||(X=l!==null&&l.memoizedState===null?!1:(Jr.current&2)!==0),X&&(S=!0,A.flags&=-129),X=(A.flags&32)!==0,A.flags&=-33,l===null){if(Un){if(S?Da(A):ol(),(l=Ur)?(l=W4(l,Wr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(A.memoizedState={dehydrated:l,treeContext:Nc!==null?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},h=Hh(l),h.return=A,A.child=h,ls=A,Ur=null)):l=null,l===null)throw Sc(A);return m2(l)?A.lanes=32:A.lanes=536870912,null}var he=x.children;return x=x.fallback,S?(ol(),S=A.mode,he=mm({mode:"hidden",children:he},S),x=Ec(x,S,h,null),he.return=A,x.return=A,he.sibling=x,A.child=he,x=A.child,x.memoizedState=Ry(h),x.childLanes=Ly(l,X,h),A.memoizedState=Uy,np(null,x)):(Da(A),Dy(A,he))}var Fe=l.memoizedState;if(Fe!==null&&(he=Fe.dehydrated,he!==null)){if(I)A.flags&256?(Da(A),A.flags&=-257,A=jy(l,A,h)):A.memoizedState!==null?(ol(),A.child=l.child,A.flags|=128,A=null):(ol(),he=x.fallback,S=A.mode,x=mm({mode:"visible",children:x.children},S),he=Ec(he,S,h,null),he.flags|=2,x.return=A,he.return=A,x.sibling=he,A.child=x,Rn(A,l.child,null,h),x=A.child,x.memoizedState=Ry(h),x.childLanes=Ly(l,X,h),A.memoizedState=Uy,A=np(null,x));else if(Da(A),m2(he)){if(X=he.nextSibling&&he.nextSibling.dataset,X)var Ze=X.dgst;X=Ze,x=Error(r(419)),x.stack="",x.digest=X,xu({value:x,source:null,stack:null}),A=jy(l,A,h)}else if(zi||Ic(l,A,h,!1),X=(h&l.childLanes)!==0,zi||X){if(X=Lr,X!==null&&(x=ui(X,h),x!==0&&x!==Fe.retryLane))throw Fe.retryLane=x,Pl(l,x),ho(X,l,x),ky;g2(he)||Nm(),A=jy(l,A,h)}else g2(he)?(A.flags|=192,A.child=l.child,A=null):(l=Fe.treeContext,Ur=ul(he.nextSibling),ls=A,Un=!0,Ps=null,Wr=!1,l!==null&&sm(A,l),A=Dy(A,x.children),A.flags|=4096);return A}return S?(ol(),he=x.fallback,S=A.mode,Fe=l.child,Ze=Fe.sibling,x=eo(Fe,{mode:"hidden",children:x.children}),x.subtreeFlags=Fe.subtreeFlags&65011712,Ze!==null?he=eo(Ze,he):(he=Ec(he,S,h,null),he.flags|=2),he.return=A,x.return=A,x.sibling=he,A.child=x,np(null,x),x=A.child,he=l.child.memoizedState,he===null?he=Ry(h):(S=he.cachePool,S!==null?(Fe=oi._currentValue,S=S.parent!==Fe?{parent:Fe,pool:Fe}:S):S=Se(),he={baseLanes:he.baseLanes|h,cachePool:S}),x.memoizedState=he,x.childLanes=Ly(l,X,h),A.memoizedState=Uy,np(l.child,x)):(Da(A),h=l.child,l=h.sibling,h=eo(h,{mode:"visible",children:x.children}),h.return=A,h.sibling=null,l!==null&&(X=A.deletions,X===null?(A.deletions=[l],A.flags|=16):X.push(l)),A.child=h,A.memoizedState=null,h)}function Dy(l,A){return A=mm({mode:"visible",children:A},l.mode),A.return=l,l.child=A}function mm(l,A){return l=ys(22,l,null,A),l.lanes=0,l}function jy(l,A,h){return Rn(A,l.child,null,h),l=Dy(A,A.pendingProps.children),l.flags|=2,A.memoizedState=null,l}function HC(l,A,h){l.lanes|=A;var x=l.alternate;x!==null&&(x.lanes|=A),vu(l.return,A,h)}function My(l,A,h,x,S,I){var X=l.memoizedState;X===null?l.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:S,treeForkCount:I}:(X.isBackwards=A,X.rendering=null,X.renderingStartTime=0,X.last=x,X.tail=h,X.tailMode=S,X.treeForkCount=I)}function VC(l,A,h){var x=A.pendingProps,S=x.revealOrder,I=x.tail;x=x.children;var X=Jr.current,he=(X&2)!==0;if(he?(X=X&1|2,A.flags|=128):X&=1,H(Jr,X),Os(l,A,x,h),x=Un?Vd:0,!he&&l!==null&&(l.flags&128)!==0)e:for(l=A.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&HC(l,h,A);else if(l.tag===19)HC(l,h,A);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===A)break e;for(;l.sibling===null;){if(l.return===null||l.return===A)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=A.child,S=null;h!==null;)l=h.alternate,l!==null&&yA(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=A.child,A.child=null):(S=h.sibling,h.sibling=null),My(A,!1,S,h,I,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=A.child,A.child=null;S!==null;){if(l=S.alternate,l!==null&&yA(l)===null){A.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}My(A,!0,h,null,I,x);break;case"together":My(A,!1,null,null,void 0,x);break;default:A.memoizedState=null}return A.child}function EA(l,A,h){if(l!==null&&(A.dependencies=l.dependencies),Su|=A.lanes,(h&A.childLanes)===0)if(l!==null){if(Ic(l,A,h,!1),(h&A.childLanes)===0)return null}else return null;if(l!==null&&A.child!==l.child)throw Error(r(153));if(A.child!==null){for(l=A.child,h=eo(l,l.pendingProps),A.child=h,h.return=A;l.sibling!==null;)l=l.sibling,h=h.sibling=eo(l,l.pendingProps),h.return=A;h.sibling=null}return A.child}function Py(l,A){return(l.lanes&A)!==0?!0:(l=l.dependencies,!!(l!==null&&qh(l)))}function uD(l,A,h){switch(A.tag){case 3:xe(A,A.stateNode.containerInfo),Tc(A,oi,l.memoizedState.cache),xA();break;case 27:case 5:be(A);break;case 4:xe(A,A.stateNode.containerInfo);break;case 10:Tc(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,al(A),null;break;case 13:var x=A.memoizedState;if(x!==null)return x.dehydrated!==null?(Da(A),A.flags|=128,null):(h&A.child.childLanes)!==0?QC(l,A,h):(Da(A),l=EA(l,A,h),l!==null?l.sibling:null);Da(A);break;case 19:var S=(l.flags&128)!==0;if(x=(h&A.childLanes)!==0,x||(Ic(l,A,h,!1),x=(h&A.childLanes)!==0),S){if(x)return VC(l,A,h);A.flags|=128}if(S=A.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),H(Jr,Jr.current),x)break;return null;case 22:return A.lanes=0,LC(l,A,h,A.pendingProps);case 24:Tc(A,oi,l.memoizedState.cache)}return EA(l,A,h)}function zC(l,A,h){if(l!==null)if(l.memoizedProps!==A.pendingProps)zi=!0;else{if(!Py(l,h)&&(A.flags&128)===0)return zi=!1,uD(l,A,h);zi=(l.flags&131072)!==0}else zi=!1,Un&&(A.flags&1048576)!==0&&im(A,Vd,A.index);switch(A.lanes=0,A.tag){case 16:e:{var x=A.pendingProps;if(l=De(A.elementType),A.type=l,typeof l=="function")Qh(l)?(x=Wd(l,x),A.tag=1,A=PC(null,A,l,x,h)):(A.tag=0,A=Fy(null,A,l,x,h));else{if(l!=null){var S=l.$$typeof;if(S===z){A.tag=11,A=FC(null,A,l,x,h);break e}else if(S===R){A.tag=14,A=UC(null,A,l,x,h);break e}}throw A=re(l)||l,Error(r(306,A,""))}}return A;case 0:return Fy(l,A,A.type,A.pendingProps,h);case 1:return x=A.type,S=Wd(x,A.pendingProps),PC(l,A,x,S,h);case 3:e:{if(xe(A,A.stateNode.containerInfo),l===null)throw Error(r(387));x=A.pendingProps;var I=A.memoizedState;S=I.element,ir(l,A),us(A,x,null,h);var X=A.memoizedState;if(x=X.cache,Tc(A,oi,x),x!==I.cache&&vA(A,[oi],h,!0),$n(),x=X.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:X.cache},A.updateQueue.baseState=I,A.memoizedState=I,A.flags&256){A=OC(l,A,x,h);break e}else if(x!==S){S=to(Error(r(424)),A),xu(S),A=OC(l,A,x,h);break e}else{switch(l=A.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ur=ul(l.firstChild),ls=A,Un=!0,Ps=null,Wr=!0,h=Pn(A,null,x,h),A.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(xA(),x===S){A=EA(l,A,h);break e}Os(l,A,x,h)}A=A.child}return A;case 26:return gm(l,A),l===null?(h=tE(A.type,null,A.pendingProps,null))?A.memoizedState=h:Un||(h=A.type,l=A.pendingProps,x=Um(q.current).createElement(h),x[ye]=A,x[Ce]=l,Qs(x,h,l),Yt(x),A.stateNode=x):A.memoizedState=tE(A.type,l.memoizedProps,A.pendingProps,l.memoizedState),null;case 27:return be(A),l===null&&Un&&(x=A.stateNode=J4(A.type,A.pendingProps,q.current),ls=A,Wr=!0,S=Ur,Fu(A.type)?(x2=S,Ur=ul(x.firstChild)):Ur=S),Os(l,A,A.pendingProps.children,h),gm(l,A),l===null&&(A.flags|=4194304),A.child;case 5:return l===null&&Un&&((S=x=Ur)&&(x=QD(x,A.type,A.pendingProps,Wr),x!==null?(A.stateNode=x,ls=A,Ur=ul(x.firstChild),Wr=!1,S=!0):S=!1),S||Sc(A)),be(A),S=A.type,I=A.pendingProps,X=l!==null?l.memoizedProps:null,x=I.children,h2(S,I)?x=null:X!==null&&h2(S,X)&&(A.flags|=32),A.memoizedState!==null&&(S=q0(l,A,yy,null,null,h),mp._currentValue=S),gm(l,A),Os(l,A,x,h),A.child;case 6:return l===null&&Un&&((l=h=Ur)&&(h=HD(h,A.pendingProps,Wr),h!==null?(A.stateNode=h,ls=A,Ur=null,l=!0):l=!1),l||Sc(A)),null;case 13:return QC(l,A,h);case 4:return xe(A,A.stateNode.containerInfo),x=A.pendingProps,l===null?A.child=Rn(A,null,x,h):Os(l,A,x,h),A.child;case 11:return FC(l,A,A.type,A.pendingProps,h);case 7:return Os(l,A,A.pendingProps,h),A.child;case 8:return Os(l,A,A.pendingProps.children,h),A.child;case 12:return Os(l,A,A.pendingProps.children,h),A.child;case 10:return x=A.pendingProps,Tc(A,A.type,x.value),Os(l,A,x.children,h),A.child;case 9:return S=A.type._context,x=A.pendingProps.children,kc(A),S=As(S),x=x(S),A.flags|=1,Os(l,A,x,h),A.child;case 14:return UC(l,A,A.type,A.pendingProps,h);case 15:return RC(l,A,A.type,A.pendingProps,h);case 19:return VC(l,A,h);case 31:return AD(l,A,h);case 22:return LC(l,A,h,A.pendingProps);case 24:return kc(A),x=As(oi),l===null?(S=de(),S===null&&(S=Lr,I=yu(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=h),S=I),A.memoizedState={parent:x,cache:S},Ar(A),Tc(A,oi,S)):((l.lanes&h)!==0&&(ir(l,A),us(A,null,null,h),$n()),S=l.memoizedState,I=A.memoizedState,S.parent!==x?(S={parent:x,cache:x},A.memoizedState=S,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=S),Tc(A,oi,x)):(x=I.cache,Tc(A,oi,x),x!==S.cache&&vA(A,[oi],h,!0))),Os(l,A,A.pendingProps.children,h),A.child;case 29:throw A.pendingProps}throw Error(r(156,A.tag))}function NA(l){l.flags|=4}function Oy(l,A,h,x,S){if((A=(l.mode&32)!==0)&&(A=!1),A){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(m4())l.flags|=8192;else throw Me=Oe,$e}else l.flags&=-16777217}function GC(l,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!aE(A))if(m4())l.flags|=8192;else throw Me=Oe,$e}function xm(l,A){A!==null&&(l.flags|=4),l.flags&16384&&(A=l.tag!==22?jn():536870912,l.lanes|=A,cf|=A)}function rp(l,A){if(!Un)switch(l.tailMode){case"hidden":A=l.tail;for(var h=null;A!==null;)A.alternate!==null&&(h=A),A=A.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?A||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Vr(l){var A=l.alternate!==null&&l.alternate.child===l.child,h=0,x=0;if(A)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags&65011712,x|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=x,l.childLanes=h,A}function dD(l,A,h){var x=A.pendingProps;switch(Gh(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(A),null;case 1:return Vr(A),null;case 3:return h=A.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),A.memoizedState.cache!==x&&(A.flags|=2048),ao(oi),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(cs(A)?NA(A):l===null||l.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,G0())),Vr(A),null;case 26:var S=A.type,I=A.memoizedState;return l===null?(NA(A),I!==null?(Vr(A),GC(A,I)):(Vr(A),Oy(A,S,null,x,h))):I?I!==l.memoizedState?(NA(A),Vr(A),GC(A,I)):(Vr(A),A.flags&=-16777217):(l=l.memoizedProps,l!==x&&NA(A),Vr(A),Oy(A,S,l,x,h)),null;case 27:if(Ve(A),h=q.current,S=A.type,l!==null&&A.stateNode!=null)l.memoizedProps!==x&&NA(A);else{if(!x){if(A.stateNode===null)throw Error(r(166));return Vr(A),null}l=V.current,cs(A)?z0(A):(l=J4(S,x,h),A.stateNode=l,NA(A))}return Vr(A),null;case 5:if(Ve(A),S=A.type,l!==null&&A.stateNode!=null)l.memoizedProps!==x&&NA(A);else{if(!x){if(A.stateNode===null)throw Error(r(166));return Vr(A),null}if(I=V.current,cs(A))z0(A);else{var X=Um(q.current);switch(I){case 1:I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":I=X.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":I=X.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":I=X.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof x.is=="string"?X.createElement("select",{is:x.is}):X.createElement("select"),x.multiple?I.multiple=!0:x.size&&(I.size=x.size);break;default:I=typeof x.is=="string"?X.createElement(S,{is:x.is}):X.createElement(S)}}I[ye]=A,I[Ce]=x;e:for(X=A.child;X!==null;){if(X.tag===5||X.tag===6)I.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===A)break e;for(;X.sibling===null;){if(X.return===null||X.return===A)break e;X=X.return}X.sibling.return=X.return,X=X.sibling}A.stateNode=I;e:switch(Qs(I,S,x),S){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&NA(A)}}return Vr(A),Oy(A,A.type,l===null?null:l.memoizedProps,A.pendingProps,h),null;case 6:if(l&&A.stateNode!=null)l.memoizedProps!==x&&NA(A);else{if(typeof x!="string"&&A.stateNode===null)throw Error(r(166));if(l=q.current,cs(A)){if(l=A.stateNode,h=A.memoizedProps,x=null,S=ls,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}l[ye]=A,l=!!(l.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||Q4(l.nodeValue,h)),l||Sc(A,!0)}else l=Um(l).createTextNode(x),l[ye]=A,A.stateNode=l}return Vr(A),null;case 31:if(h=A.memoizedState,l===null||l.memoizedState!==null){if(x=cs(A),h!==null){if(l===null){if(!x)throw Error(r(318));if(l=A.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ye]=A}else xA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Vr(A),l=!1}else h=G0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return A.flags&256?(oa(A),A):(oa(A),null);if((A.flags&128)!==0)throw Error(r(558))}return Vr(A),null;case 13:if(x=A.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=cs(A),x!==null&&x.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=A.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[ye]=A}else xA(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Vr(A),S=!1}else S=G0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return A.flags&256?(oa(A),A):(oa(A),null)}return oa(A),(A.flags&128)!==0?(A.lanes=h,A):(h=x!==null,l=l!==null&&l.memoizedState!==null,h&&(x=A.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==S&&(x.flags|=2048)),h!==l&&h&&(A.child.flags|=8192),xm(A,A.updateQueue),Vr(A),null);case 4:return ue(),l===null&&l2(A.stateNode.containerInfo),Vr(A),null;case 10:return ao(A.type),Vr(A),null;case 19:if(U(Jr),x=A.memoizedState,x===null)return Vr(A),null;if(S=(A.flags&128)!==0,I=x.rendering,I===null)if(S)rp(x,!1);else{if(gi!==0||l!==null&&(l.flags&128)!==0)for(l=A.child;l!==null;){if(I=yA(l),I!==null){for(A.flags|=128,rp(x,!1),l=I.updateQueue,A.updateQueue=l,xm(A,l),A.subtreeFlags=0,l=h,h=A.child;h!==null;)Qd(h,l),h=h.sibling;return H(Jr,Jr.current&1|2),Un&&Ra(A,x.treeForkCount),A.child}l=l.sibling}x.tail!==null&&Ne()>_m&&(A.flags|=128,S=!0,rp(x,!1),A.lanes=4194304)}else{if(!S)if(l=yA(I),l!==null){if(A.flags|=128,S=!0,l=l.updateQueue,A.updateQueue=l,xm(A,l),rp(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!Un)return Vr(A),null}else 2*Ne()-x.renderingStartTime>_m&&h!==536870912&&(A.flags|=128,S=!0,rp(x,!1),A.lanes=4194304);x.isBackwards?(I.sibling=A.child,A.child=I):(l=x.last,l!==null?l.sibling=I:A.child=I,x.last=I)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Ne(),l.sibling=null,h=Jr.current,H(Jr,S?h&1|2:h&1),Un&&Ra(A,x.treeForkCount),l):(Vr(A),null);case 22:case 23:return oa(A),pi(),x=A.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(A.flags|=8192):x&&(A.flags|=8192),x?(h&536870912)!==0&&(A.flags&128)===0&&(Vr(A),A.subtreeFlags&6&&(A.flags|=8192)):Vr(A),h=A.updateQueue,h!==null&&xm(A,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),x=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(x=A.memoizedState.cachePool.pool),x!==h&&(A.flags|=2048),l!==null&&U(ce),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),A.memoizedState.cache!==h&&(A.flags|=2048),ao(oi),Vr(A),null;case 25:return null;case 30:return null}throw Error(r(156,A.tag))}function hD(l,A){switch(Gh(A),A.tag){case 1:return l=A.flags,l&65536?(A.flags=l&-65537|128,A):null;case 3:return ao(oi),ue(),l=A.flags,(l&65536)!==0&&(l&128)===0?(A.flags=l&-65537|128,A):null;case 26:case 27:case 5:return Ve(A),null;case 31:if(A.memoizedState!==null){if(oa(A),A.alternate===null)throw Error(r(340));xA()}return l=A.flags,l&65536?(A.flags=l&-65537|128,A):null;case 13:if(oa(A),l=A.memoizedState,l!==null&&l.dehydrated!==null){if(A.alternate===null)throw Error(r(340));xA()}return l=A.flags,l&65536?(A.flags=l&-65537|128,A):null;case 19:return U(Jr),null;case 4:return ue(),null;case 10:return ao(A.type),null;case 22:case 23:return oa(A),pi(),l!==null&&U(ce),l=A.flags,l&65536?(A.flags=l&-65537|128,A):null;case 24:return ao(oi),null;case 25:return null;default:return null}}function KC(l,A){switch(Gh(A),A.tag){case 3:ao(oi),ue();break;case 26:case 27:case 5:Ve(A);break;case 4:ue();break;case 31:A.memoizedState!==null&&oa(A);break;case 13:oa(A);break;case 19:U(Jr);break;case 10:ao(A.type);break;case 22:case 23:oa(A),pi(),l!==null&&U(ce);break;case 24:ao(oi)}}function ip(l,A){try{var h=A.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var S=x.next;h=S;do{if((h.tag&l)===l){x=void 0;var I=h.create,X=h.inst;x=I(),X.destroy=x}h=h.next}while(h!==S)}}catch(he){vr(A,A.return,he)}}function Eu(l,A,h){try{var x=A.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var I=S.next;x=I;do{if((x.tag&l)===l){var X=x.inst,he=X.destroy;if(he!==void 0){X.destroy=void 0,S=A;var Fe=h,Ze=he;try{Ze()}catch(lt){vr(S,Fe,lt)}}}x=x.next}while(x!==I)}}catch(lt){vr(A,A.return,lt)}}function qC(l){var A=l.updateQueue;if(A!==null){var h=l.stateNode;try{Ei(A,h)}catch(x){vr(l,l.return,x)}}}function $C(l,A,h){h.props=Wd(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(x){vr(l,A,x)}}function sp(l,A){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof h=="function"?l.refCleanup=h(x):h.current=x}}catch(S){vr(l,A,S)}}function Dc(l,A){var h=l.ref,x=l.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(S){vr(l,A,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){vr(l,A,S)}else h.current=null}function WC(l){var A=l.type,h=l.memoizedProps,x=l.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(S){vr(l,l.return,S)}}function Qy(l,A,h){try{var x=l.stateNode;LD(x,l.type,h,A),x[Ce]=A}catch(S){vr(l,l.return,S)}}function YC(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Fu(l.type)||l.tag===4}function Hy(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||YC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Fu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Vy(l,A,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,A?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,A):(A=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,A.appendChild(l),h=h._reactRootContainer,h!=null||A.onclick!==null||(A.onclick=Er));else if(x!==4&&(x===27&&Fu(l.type)&&(h=l.stateNode,A=null),l=l.child,l!==null))for(Vy(l,A,h),l=l.sibling;l!==null;)Vy(l,A,h),l=l.sibling}function vm(l,A,h){var x=l.tag;if(x===5||x===6)l=l.stateNode,A?h.insertBefore(l,A):h.appendChild(l);else if(x!==4&&(x===27&&Fu(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(vm(l,A,h),l=l.sibling;l!==null;)vm(l,A,h),l=l.sibling}function XC(l){var A=l.stateNode,h=l.memoizedProps;try{for(var x=l.type,S=A.attributes;S.length;)A.removeAttributeNode(S[0]);Qs(A,x,h),A[ye]=l,A[Ce]=h}catch(I){vr(l,l.return,I)}}var SA=!1,Gi=!1,zy=!1,JC=typeof WeakSet=="function"?WeakSet:Set,bs=null;function fD(l,A){if(l=l.containerInfo,u2=Om,l=Ro(l),Lo(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var S=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var X=0,he=-1,Fe=-1,Ze=0,lt=0,gt=l,et=null;t:for(;;){for(var rt;gt!==h||S!==0&&gt.nodeType!==3||(he=X+S),gt!==I||x!==0&&gt.nodeType!==3||(Fe=X+x),gt.nodeType===3&&(X+=gt.nodeValue.length),(rt=gt.firstChild)!==null;)et=gt,gt=rt;for(;;){if(gt===l)break t;if(et===h&&++Ze===S&&(he=X),et===I&&++lt===x&&(Fe=X),(rt=gt.nextSibling)!==null)break;gt=et,et=gt.parentNode}gt=rt}h=he===-1||Fe===-1?null:{start:he,end:Fe}}else h=null}h=h||{start:0,end:0}}else h=null;for(d2={focusedElem:l,selectionRange:h},Om=!1,bs=A;bs!==null;)if(A=bs,l=A.child,(A.subtreeFlags&1028)!==0&&l!==null)l.return=A,bs=l;else for(;bs!==null;){switch(A=bs,I=A.alternate,l=A.flags,A.tag){case 0:if((l&4)!==0&&(l=A.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&I!==null){l=void 0,h=A,S=I.memoizedProps,I=I.memoizedState,x=h.stateNode;try{var en=Wd(h.type,S);l=x.getSnapshotBeforeUpdate(en,I),x.__reactInternalSnapshotBeforeUpdate=l}catch(gn){vr(h,h.return,gn)}}break;case 3:if((l&1024)!==0){if(l=A.stateNode.containerInfo,h=l.nodeType,h===9)p2(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":p2(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=A.sibling,l!==null){l.return=A.return,bs=l;break}bs=A.return}}function ZC(l,A,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:TA(l,h),x&4&&ip(5,h);break;case 1:if(TA(l,h),x&4)if(l=h.stateNode,A===null)try{l.componentDidMount()}catch(X){vr(h,h.return,X)}else{var S=Wd(h.type,A.memoizedProps);A=A.memoizedState;try{l.componentDidUpdate(S,A,l.__reactInternalSnapshotBeforeUpdate)}catch(X){vr(h,h.return,X)}}x&64&&qC(h),x&512&&sp(h,h.return);break;case 3:if(TA(l,h),x&64&&(l=h.updateQueue,l!==null)){if(A=null,h.child!==null)switch(h.child.tag){case 27:case 5:A=h.child.stateNode;break;case 1:A=h.child.stateNode}try{Ei(l,A)}catch(X){vr(h,h.return,X)}}break;case 27:A===null&&x&4&&XC(h);case 26:case 5:TA(l,h),A===null&&x&4&&WC(h),x&512&&sp(h,h.return);break;case 12:TA(l,h);break;case 31:TA(l,h),x&4&&n4(l,h);break;case 13:TA(l,h),x&4&&r4(l,h),x&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=_D.bind(null,h),VD(l,h))));break;case 22:if(x=h.memoizedState!==null||SA,!x){A=A!==null&&A.memoizedState!==null||Gi,S=SA;var I=Gi;SA=x,(Gi=A)&&!I?IA(l,h,(h.subtreeFlags&8772)!==0):TA(l,h),SA=S,Gi=I}break;case 30:break;default:TA(l,h)}}function e4(l){var A=l.alternate;A!==null&&(l.alternate=null,e4(A)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(A=l.stateNode,A!==null&&bt(A)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ei=null,lo=!1;function BA(l,A,h){for(h=h.child;h!==null;)t4(l,A,h),h=h.sibling}function t4(l,A,h){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount($t,h)}catch{}switch(h.tag){case 26:Gi||Dc(h,A),BA(l,A,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Gi||Dc(h,A);var x=ei,S=lo;Fu(h.type)&&(ei=h.stateNode,lo=!1),BA(l,A,h),fp(h.stateNode),ei=x,lo=S;break;case 5:Gi||Dc(h,A);case 6:if(x=ei,S=lo,ei=null,BA(l,A,h),ei=x,lo=S,ei!==null)if(lo)try{(ei.nodeType===9?ei.body:ei.nodeName==="HTML"?ei.ownerDocument.body:ei).removeChild(h.stateNode)}catch(I){vr(h,A,I)}else try{ei.removeChild(h.stateNode)}catch(I){vr(h,A,I)}break;case 18:ei!==null&&(lo?(l=ei,q4(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),mf(l)):q4(ei,h.stateNode));break;case 4:x=ei,S=lo,ei=h.stateNode.containerInfo,lo=!0,BA(l,A,h),ei=x,lo=S;break;case 0:case 11:case 14:case 15:Eu(2,h,A),Gi||Eu(4,h,A),BA(l,A,h);break;case 1:Gi||(Dc(h,A),x=h.stateNode,typeof x.componentWillUnmount=="function"&&$C(h,A,x)),BA(l,A,h);break;case 21:BA(l,A,h);break;case 22:Gi=(x=Gi)||h.memoizedState!==null,BA(l,A,h),Gi=x;break;default:BA(l,A,h)}}function n4(l,A){if(A.memoizedState===null&&(l=A.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{mf(l)}catch(h){vr(A,A.return,h)}}}function r4(l,A){if(A.memoizedState===null&&(l=A.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{mf(l)}catch(h){vr(A,A.return,h)}}function pD(l){switch(l.tag){case 31:case 13:case 19:var A=l.stateNode;return A===null&&(A=l.stateNode=new JC),A;case 22:return l=l.stateNode,A=l._retryCache,A===null&&(A=l._retryCache=new JC),A;default:throw Error(r(435,l.tag))}}function ym(l,A){var h=pD(l);A.forEach(function(x){if(!h.has(x)){h.add(x);var S=CD.bind(null,l,x);x.then(S,S)}})}function co(l,A){var h=A.deletions;if(h!==null)for(var x=0;x<h.length;x++){var S=h[x],I=l,X=A,he=X;e:for(;he!==null;){switch(he.tag){case 27:if(Fu(he.type)){ei=he.stateNode,lo=!1;break e}break;case 5:ei=he.stateNode,lo=!1;break e;case 3:case 4:ei=he.stateNode.containerInfo,lo=!0;break e}he=he.return}if(ei===null)throw Error(r(160));t4(I,X,S),ei=null,lo=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)i4(A,l),A=A.sibling}var Kl=null;function i4(l,A){var h=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:co(A,l),Ao(l),x&4&&(Eu(3,l,l.return),ip(3,l),Eu(5,l,l.return));break;case 1:co(A,l),Ao(l),x&512&&(Gi||h===null||Dc(h,h.return)),x&64&&SA&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var S=Kl;if(co(A,l),Ao(l),x&512&&(Gi||h===null||Dc(h,h.return)),x&4){var I=h!==null?h.memoizedState:null;if(x=l.memoizedState,h===null)if(x===null)if(l.stateNode===null){e:{x=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":I=S.getElementsByTagName("title")[0],(!I||I[Ye]||I[ye]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(x),S.head.insertBefore(I,S.querySelector("head > title"))),Qs(I,x,h),I[ye]=l,Yt(I),x=I;break e;case"link":var X=iE("link","href",S).get(x+(h.href||""));if(X){for(var he=0;he<X.length;he++)if(I=X[he],I.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&I.getAttribute("rel")===(h.rel==null?null:h.rel)&&I.getAttribute("title")===(h.title==null?null:h.title)&&I.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){X.splice(he,1);break t}}I=S.createElement(x),Qs(I,x,h),S.head.appendChild(I);break;case"meta":if(X=iE("meta","content",S).get(x+(h.content||""))){for(he=0;he<X.length;he++)if(I=X[he],I.getAttribute("content")===(h.content==null?null:""+h.content)&&I.getAttribute("name")===(h.name==null?null:h.name)&&I.getAttribute("property")===(h.property==null?null:h.property)&&I.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&I.getAttribute("charset")===(h.charSet==null?null:h.charSet)){X.splice(he,1);break t}}I=S.createElement(x),Qs(I,x,h),S.head.appendChild(I);break;default:throw Error(r(468,x))}I[ye]=l,Yt(I),x=I}l.stateNode=x}else sE(S,l.type,l.stateNode);else l.stateNode=rE(S,x,l.memoizedProps);else I!==x?(I===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):I.count--,x===null?sE(S,l.type,l.stateNode):rE(S,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Qy(l,l.memoizedProps,h.memoizedProps)}break;case 27:co(A,l),Ao(l),x&512&&(Gi||h===null||Dc(h,h.return)),h!==null&&x&4&&Qy(l,l.memoizedProps,h.memoizedProps);break;case 5:if(co(A,l),Ao(l),x&512&&(Gi||h===null||Dc(h,h.return)),l.flags&32){S=l.stateNode;try{Pi(S,"")}catch(en){vr(l,l.return,en)}}x&4&&l.stateNode!=null&&(S=l.memoizedProps,Qy(l,S,h!==null?h.memoizedProps:S)),x&1024&&(zy=!0);break;case 6:if(co(A,l),Ao(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,h=l.stateNode;try{h.nodeValue=x}catch(en){vr(l,l.return,en)}}break;case 3:if(Dm=null,S=Kl,Kl=Rm(A.containerInfo),co(A,l),Kl=S,Ao(l),x&4&&h!==null&&h.memoizedState.isDehydrated)try{mf(A.containerInfo)}catch(en){vr(l,l.return,en)}zy&&(zy=!1,s4(l));break;case 4:x=Kl,Kl=Rm(l.stateNode.containerInfo),co(A,l),Ao(l),Kl=x;break;case 12:co(A,l),Ao(l);break;case 31:co(A,l),Ao(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ym(l,x)));break;case 13:co(A,l),Ao(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(bm=Ne()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ym(l,x)));break;case 22:S=l.memoizedState!==null;var Fe=h!==null&&h.memoizedState!==null,Ze=SA,lt=Gi;if(SA=Ze||S,Gi=lt||Fe,co(A,l),Gi=lt,SA=Ze,Ao(l),x&8192)e:for(A=l.stateNode,A._visibility=S?A._visibility&-2:A._visibility|1,S&&(h===null||Fe||SA||Gi||Yd(l)),h=null,A=l;;){if(A.tag===5||A.tag===26){if(h===null){Fe=h=A;try{if(I=Fe.stateNode,S)X=I.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{he=Fe.stateNode;var gt=Fe.memoizedProps.style,et=gt!=null&&gt.hasOwnProperty("display")?gt.display:null;he.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(en){vr(Fe,Fe.return,en)}}}else if(A.tag===6){if(h===null){Fe=A;try{Fe.stateNode.nodeValue=S?"":Fe.memoizedProps}catch(en){vr(Fe,Fe.return,en)}}}else if(A.tag===18){if(h===null){Fe=A;try{var rt=Fe.stateNode;S?$4(rt,!0):$4(Fe.stateNode,!1)}catch(en){vr(Fe,Fe.return,en)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===l)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===l)break e;for(;A.sibling===null;){if(A.return===null||A.return===l)break e;h===A&&(h=null),A=A.return}h===A&&(h=null),A.sibling.return=A.return,A=A.sibling}x&4&&(x=l.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,ym(l,h))));break;case 19:co(A,l),Ao(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,ym(l,x)));break;case 30:break;case 21:break;default:co(A,l),Ao(l)}}function Ao(l){var A=l.flags;if(A&2){try{for(var h,x=l.return;x!==null;){if(YC(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,I=Hy(l);vm(l,I,S);break;case 5:var X=h.stateNode;h.flags&32&&(Pi(X,""),h.flags&=-33);var he=Hy(l);vm(l,he,X);break;case 3:case 4:var Fe=h.stateNode.containerInfo,Ze=Hy(l);Vy(l,Ze,Fe);break;default:throw Error(r(161))}}catch(lt){vr(l,l.return,lt)}l.flags&=-3}A&4096&&(l.flags&=-4097)}function s4(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var A=l;s4(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),l=l.sibling}}function TA(l,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)ZC(l,A.alternate,A),A=A.sibling}function Yd(l){for(l=l.child;l!==null;){var A=l;switch(A.tag){case 0:case 11:case 14:case 15:Eu(4,A,A.return),Yd(A);break;case 1:Dc(A,A.return);var h=A.stateNode;typeof h.componentWillUnmount=="function"&&$C(A,A.return,h),Yd(A);break;case 27:fp(A.stateNode);case 26:case 5:Dc(A,A.return),Yd(A);break;case 22:A.memoizedState===null&&Yd(A);break;case 30:Yd(A);break;default:Yd(A)}l=l.sibling}}function IA(l,A,h){for(h=h&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var x=A.alternate,S=l,I=A,X=I.flags;switch(I.tag){case 0:case 11:case 15:IA(S,I,h),ip(4,I);break;case 1:if(IA(S,I,h),x=I,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ze){vr(x,x.return,Ze)}if(x=I,S=x.updateQueue,S!==null){var he=x.stateNode;try{var Fe=S.shared.hiddenCallbacks;if(Fe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Fe.length;S++)aa(Fe[S],he)}catch(Ze){vr(x,x.return,Ze)}}h&&X&64&&qC(I),sp(I,I.return);break;case 27:XC(I);case 26:case 5:IA(S,I,h),h&&x===null&&X&4&&WC(I),sp(I,I.return);break;case 12:IA(S,I,h);break;case 31:IA(S,I,h),h&&X&4&&n4(S,I);break;case 13:IA(S,I,h),h&&X&4&&r4(S,I);break;case 22:I.memoizedState===null&&IA(S,I,h),sp(I,I.return);break;case 30:break;default:IA(S,I,h)}A=A.sibling}}function Gy(l,A){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(l=A.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&zd(h))}function Ky(l,A){l=null,A.alternate!==null&&(l=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==l&&(A.refCount++,l!=null&&zd(l))}function ql(l,A,h,x){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)a4(l,A,h,x),A=A.sibling}function a4(l,A,h,x){var S=A.flags;switch(A.tag){case 0:case 11:case 15:ql(l,A,h,x),S&2048&&ip(9,A);break;case 1:ql(l,A,h,x);break;case 3:ql(l,A,h,x),S&2048&&(l=null,A.alternate!==null&&(l=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==l&&(A.refCount++,l!=null&&zd(l)));break;case 12:if(S&2048){ql(l,A,h,x),l=A.stateNode;try{var I=A.memoizedProps,X=I.id,he=I.onPostCommit;typeof he=="function"&&he(X,A.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Fe){vr(A,A.return,Fe)}}else ql(l,A,h,x);break;case 31:ql(l,A,h,x);break;case 13:ql(l,A,h,x);break;case 23:break;case 22:I=A.stateNode,X=A.alternate,A.memoizedState!==null?I._visibility&2?ql(l,A,h,x):ap(l,A):I._visibility&2?ql(l,A,h,x):(I._visibility|=2,af(l,A,h,x,(A.subtreeFlags&10256)!==0||!1)),S&2048&&Gy(X,A);break;case 24:ql(l,A,h,x),S&2048&&Ky(A.alternate,A);break;default:ql(l,A,h,x)}}function af(l,A,h,x,S){for(S=S&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var I=l,X=A,he=h,Fe=x,Ze=X.flags;switch(X.tag){case 0:case 11:case 15:af(I,X,he,Fe,S),ip(8,X);break;case 23:break;case 22:var lt=X.stateNode;X.memoizedState!==null?lt._visibility&2?af(I,X,he,Fe,S):ap(I,X):(lt._visibility|=2,af(I,X,he,Fe,S)),S&&Ze&2048&&Gy(X.alternate,X);break;case 24:af(I,X,he,Fe,S),S&&Ze&2048&&Ky(X.alternate,X);break;default:af(I,X,he,Fe,S)}A=A.sibling}}function ap(l,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var h=l,x=A,S=x.flags;switch(x.tag){case 22:ap(h,x),S&2048&&Gy(x.alternate,x);break;case 24:ap(h,x),S&2048&&Ky(x.alternate,x);break;default:ap(h,x)}A=A.sibling}}var op=8192;function of(l,A,h){if(l.subtreeFlags&op)for(l=l.child;l!==null;)o4(l,A,h),l=l.sibling}function o4(l,A,h){switch(l.tag){case 26:of(l,A,h),l.flags&op&&l.memoizedState!==null&&tj(h,Kl,l.memoizedState,l.memoizedProps);break;case 5:of(l,A,h);break;case 3:case 4:var x=Kl;Kl=Rm(l.stateNode.containerInfo),of(l,A,h),Kl=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=op,op=16777216,of(l,A,h),op=x):of(l,A,h));break;default:of(l,A,h)}}function l4(l){var A=l.alternate;if(A!==null&&(l=A.child,l!==null)){A.child=null;do A=l.sibling,l.sibling=null,l=A;while(l!==null)}}function lp(l){var A=l.deletions;if((l.flags&16)!==0){if(A!==null)for(var h=0;h<A.length;h++){var x=A[h];bs=x,A4(x,l)}l4(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)c4(l),l=l.sibling}function c4(l){switch(l.tag){case 0:case 11:case 15:lp(l),l.flags&2048&&Eu(9,l,l.return);break;case 3:lp(l);break;case 12:lp(l);break;case 22:var A=l.stateNode;l.memoizedState!==null&&A._visibility&2&&(l.return===null||l.return.tag!==13)?(A._visibility&=-3,wm(l)):lp(l);break;default:lp(l)}}function wm(l){var A=l.deletions;if((l.flags&16)!==0){if(A!==null)for(var h=0;h<A.length;h++){var x=A[h];bs=x,A4(x,l)}l4(l)}for(l=l.child;l!==null;){switch(A=l,A.tag){case 0:case 11:case 15:Eu(8,A,A.return),wm(A);break;case 22:h=A.stateNode,h._visibility&2&&(h._visibility&=-3,wm(A));break;default:wm(A)}l=l.sibling}}function A4(l,A){for(;bs!==null;){var h=bs;switch(h.tag){case 0:case 11:case 15:Eu(8,h,A);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:zd(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,bs=x;else e:for(h=l;bs!==null;){x=bs;var S=x.sibling,I=x.return;if(e4(x),x===h){bs=null;break e}if(S!==null){S.return=I,bs=S;break e}bs=I}}}var gD={getCacheForType:function(l){var A=As(oi),h=A.data.get(l);return h===void 0&&(h=l(),A.data.set(l,h)),h},cacheSignal:function(){return As(oi).controller.signal}},mD=typeof WeakMap=="function"?WeakMap:Map,ur=0,Lr=null,Ln=null,On=0,xr=0,jo=null,Nu=!1,lf=!1,qy=!1,kA=0,gi=0,Su=0,Xd=0,$y=0,Mo=0,cf=0,cp=null,uo=null,Wy=!1,bm=0,u4=0,_m=1/0,Cm=null,Bu=null,ds=0,Tu=null,Af=null,FA=0,Yy=0,Xy=null,d4=null,Ap=0,Jy=null;function Po(){return(ur&2)!==0&&On!==0?On&-On:ie.T!==null?i2():le()}function h4(){if(Mo===0)if((On&536870912)===0||Un){var l=Kt;Kt<<=1,(Kt&3932160)===0&&(Kt=262144),Mo=l}else Mo=536870912;return l=li.current,l!==null&&(l.flags|=32),Mo}function ho(l,A,h){(l===Lr&&(xr===2||xr===9)||l.cancelPendingCommit!==null)&&(uf(l,0),Iu(l,On,Mo,!1)),Li(l,h),((ur&2)===0||l!==Lr)&&(l===Lr&&((ur&2)===0&&(Xd|=h),gi===4&&Iu(l,On,Mo,!1)),jc(l))}function f4(l,A,h){if((ur&6)!==0)throw Error(r(327));var x=!h&&(A&127)===0&&(A&l.expiredLanes)===0||sn(l,A),S=x?yD(l,A):e2(l,A,!0),I=x;do{if(S===0){lf&&!x&&Iu(l,A,0,!1);break}else{if(h=l.current.alternate,I&&!xD(h)){S=e2(l,A,!1),I=!1;continue}if(S===2){if(I=A,l.errorRecoveryDisabledLanes&I)var X=0;else X=l.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){A=X;e:{var he=l;S=cp;var Fe=he.current.memoizedState.isDehydrated;if(Fe&&(uf(he,X).flags|=256),X=e2(he,X,!1),X!==2){if(qy&&!Fe){he.errorRecoveryDisabledLanes|=I,Xd|=I,S=4;break e}I=uo,uo=S,I!==null&&(uo===null?uo=I:uo.push.apply(uo,I))}S=X}if(I=!1,S!==2)continue}}if(S===1){uf(l,0),Iu(l,A,0,!0);break}e:{switch(x=l,I=S,I){case 0:case 1:throw Error(r(345));case 4:if((A&4194048)!==A)break;case 6:Iu(x,A,Mo,!Nu);break e;case 2:uo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((A&62914560)===A&&(S=bm+300-Ne(),10<S)){if(Iu(x,A,Mo,!Nu),Ht(x,0,!0)!==0)break e;FA=A,x.timeoutHandle=G4(p4.bind(null,x,h,uo,Cm,Wy,A,Mo,Xd,cf,Nu,I,"Throttled",-0,0),S);break e}p4(x,h,uo,Cm,Wy,A,Mo,Xd,cf,Nu,I,null,-0,0)}}break}while(!0);jc(l)}function p4(l,A,h,x,S,I,X,he,Fe,Ze,lt,gt,et,rt){if(l.timeoutHandle=-1,gt=A.subtreeFlags,gt&8192||(gt&16785408)===16785408){gt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Er},o4(A,I,gt);var en=(I&62914560)===I?bm-Ne():(I&4194048)===I?u4-Ne():0;if(en=nj(gt,en),en!==null){FA=I,l.cancelPendingCommit=en(_4.bind(null,l,A,I,h,x,S,X,he,Fe,lt,gt,null,et,rt)),Iu(l,I,X,!Ze);return}}_4(l,A,I,h,x,S,X,he,Fe)}function xD(l){for(var A=l;;){var h=A.tag;if((h===0||h===11||h===15)&&A.flags&16384&&(h=A.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var S=h[x],I=S.getSnapshot;S=S.value;try{if(!js(I(),S))return!1}catch{return!1}}if(h=A.child,A.subtreeFlags&16384&&h!==null)h.return=A,A=h;else{if(A===l)break;for(;A.sibling===null;){if(A.return===null||A.return===l)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Iu(l,A,h,x){A&=~$y,A&=~Xd,l.suspendedLanes|=A,l.pingedLanes&=~A,x&&(l.warmLanes|=A),x=l.expirationTimes;for(var S=A;0<S;){var I=31-Jt(S),X=1<<I;x[I]=-1,S&=~X}h!==0&&Ci(l,h,A)}function Em(){return(ur&6)===0?(up(0),!1):!0}function Zy(){if(Ln!==null){if(xr===0)var l=Ln.return;else l=Ln,sl=Bc=null,Jh(l),ct=null,Ot=0,l=Ln;for(;l!==null;)KC(l.alternate,l),l=l.return;Ln=null}}function uf(l,A){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,MD(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),FA=0,Zy(),Lr=l,Ln=h=eo(l.current,null),On=A,xr=0,jo=null,Nu=!1,lf=sn(l,A),qy=!1,cf=Mo=$y=Xd=Su=gi=0,uo=cp=null,Wy=!1,(A&8)!==0&&(A|=A&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=A;0<x;){var S=31-Jt(x),I=1<<S;A|=l[S],x&=~I}return kA=A,Md(),h}function g4(l,A){_n=null,ie.H=tp,A===Le||A===qe?(A=ut(),xr=3):A===$e?(A=ut(),xr=4):xr=A===ky?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,jo=A,Ln===null&&(gi=1,fm(l,to(A,l.current)))}function m4(){var l=li.current;return l===null?!0:(On&4194048)===On?Hi===null:(On&62914560)===On||(On&536870912)!==0?l===Hi:!1}function x4(){var l=ie.H;return ie.H=tp,l===null?tp:l}function v4(){var l=ie.A;return ie.A=gD,l}function Nm(){gi=4,Nu||(On&4194048)!==On&&li.current!==null||(lf=!0),(Su&134217727)===0&&(Xd&134217727)===0||Lr===null||Iu(Lr,On,Mo,!1)}function e2(l,A,h){var x=ur;ur|=2;var S=x4(),I=v4();(Lr!==l||On!==A)&&(Cm=null,uf(l,A)),A=!1;var X=gi;e:do try{if(xr!==0&&Ln!==null){var he=Ln,Fe=jo;switch(xr){case 8:Zy(),X=6;break e;case 3:case 2:case 9:case 6:li.current===null&&(A=!0);var Ze=xr;if(xr=0,jo=null,df(l,he,Fe,Ze),h&&lf){X=0;break e}break;default:Ze=xr,xr=0,jo=null,df(l,he,Fe,Ze)}}vD(),X=gi;break}catch(lt){g4(l,lt)}while(!0);return A&&l.shellSuspendCounter++,sl=Bc=null,ur=x,ie.H=S,ie.A=I,Ln===null&&(Lr=null,On=0,Md()),X}function vD(){for(;Ln!==null;)y4(Ln)}function yD(l,A){var h=ur;ur|=2;var x=x4(),S=v4();Lr!==l||On!==A?(Cm=null,_m=Ne()+500,uf(l,A)):lf=sn(l,A);e:do try{if(xr!==0&&Ln!==null){A=Ln;var I=jo;t:switch(xr){case 1:xr=0,jo=null,df(l,A,I,1);break;case 2:case 9:if(pt(I)){xr=0,jo=null,w4(A);break}A=function(){xr!==2&&xr!==9||Lr!==l||(xr=7),jc(l)},I.then(A,A);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:pt(I)?(xr=0,jo=null,w4(A)):(xr=0,jo=null,df(l,A,I,7));break;case 5:var X=null;switch(Ln.tag){case 26:X=Ln.memoizedState;case 5:case 27:var he=Ln;if(X?aE(X):he.stateNode.complete){xr=0,jo=null;var Fe=he.sibling;if(Fe!==null)Ln=Fe;else{var Ze=he.return;Ze!==null?(Ln=Ze,Sm(Ze)):Ln=null}break t}}xr=0,jo=null,df(l,A,I,5);break;case 6:xr=0,jo=null,df(l,A,I,6);break;case 8:Zy(),gi=6;break e;default:throw Error(r(462))}}wD();break}catch(lt){g4(l,lt)}while(!0);return sl=Bc=null,ie.H=x,ie.A=S,ur=h,Ln!==null?0:(Lr=null,On=0,Md(),gi)}function wD(){for(;Ln!==null&&!Bt();)y4(Ln)}function y4(l){var A=zC(l.alternate,l,kA);l.memoizedProps=l.pendingProps,A===null?Sm(l):Ln=A}function w4(l){var A=l,h=A.alternate;switch(A.tag){case 15:case 0:A=MC(h,A,A.pendingProps,A.type,void 0,On);break;case 11:A=MC(h,A,A.pendingProps,A.type.render,A.ref,On);break;case 5:Jh(A);default:KC(h,A),A=Ln=Qd(A,kA),A=zC(h,A,kA)}l.memoizedProps=l.pendingProps,A===null?Sm(l):Ln=A}function df(l,A,h,x){sl=Bc=null,Jh(A),ct=null,Ot=0;var S=A.return;try{if(cD(l,S,A,h,On)){gi=1,fm(l,to(h,l.current)),Ln=null;return}}catch(I){if(S!==null)throw Ln=S,I;gi=1,fm(l,to(h,l.current)),Ln=null;return}A.flags&32768?(Un||x===1?l=!0:lf||(On&536870912)!==0?l=!1:(Nu=l=!0,(x===2||x===9||x===3||x===6)&&(x=li.current,x!==null&&x.tag===13&&(x.flags|=16384))),b4(A,l)):Sm(A)}function Sm(l){var A=l;do{if((A.flags&32768)!==0){b4(A,Nu);return}l=A.return;var h=dD(A.alternate,A,kA);if(h!==null){Ln=h;return}if(A=A.sibling,A!==null){Ln=A;return}Ln=A=l}while(A!==null);gi===0&&(gi=5)}function b4(l,A){do{var h=hD(l.alternate,l);if(h!==null){h.flags&=32767,Ln=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!A&&(l=l.sibling,l!==null)){Ln=l;return}Ln=l=h}while(l!==null);gi=6,Ln=null}function _4(l,A,h,x,S,I,X,he,Fe){l.cancelPendingCommit=null;do Bm();while(ds!==0);if((ur&6)!==0)throw Error(r(327));if(A!==null){if(A===l.current)throw Error(r(177));if(I=A.lanes|A.childLanes,I|=Mh,cn(l,h,I,X,he,Fe),l===Lr&&(Ln=Lr=null,On=0),Af=A,Tu=l,FA=h,Yy=I,Xy=S,d4=x,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,ED(It,function(){return B4(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||x){x=ie.T,ie.T=null,S=Ae.p,Ae.p=2,X=ur,ur|=4;try{fD(l,A,h)}finally{ur=X,Ae.p=S,ie.T=x}}ds=1,C4(),E4(),N4()}}function C4(){if(ds===1){ds=0;var l=Tu,A=Af,h=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||h){h=ie.T,ie.T=null;var x=Ae.p;Ae.p=2;var S=ur;ur|=4;try{i4(A,l);var I=d2,X=Ro(l.containerInfo),he=I.focusedElem,Fe=I.selectionRange;if(X!==he&&he&&he.ownerDocument&&jl(he.ownerDocument.documentElement,he)){if(Fe!==null&&Lo(he)){var Ze=Fe.start,lt=Fe.end;if(lt===void 0&&(lt=Ze),"selectionStart"in he)he.selectionStart=Ze,he.selectionEnd=Math.min(lt,he.value.length);else{var gt=he.ownerDocument||document,et=gt&&gt.defaultView||window;if(et.getSelection){var rt=et.getSelection(),en=he.textContent.length,gn=Math.min(Fe.start,en),Ir=Fe.end===void 0?gn:Math.min(Fe.end,en);!rt.extend&&gn>Ir&&(X=Ir,Ir=gn,gn=X);var He=Xa(he,gn),je=Xa(he,Ir);if(He&&je&&(rt.rangeCount!==1||rt.anchorNode!==He.node||rt.anchorOffset!==He.offset||rt.focusNode!==je.node||rt.focusOffset!==je.offset)){var Je=gt.createRange();Je.setStart(He.node,He.offset),rt.removeAllRanges(),gn>Ir?(rt.addRange(Je),rt.extend(je.node,je.offset)):(Je.setEnd(je.node,je.offset),rt.addRange(Je))}}}}for(gt=[],rt=he;rt=rt.parentNode;)rt.nodeType===1&&gt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<gt.length;he++){var dt=gt[he];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Om=!!u2,d2=u2=null}finally{ur=S,Ae.p=x,ie.T=h}}l.current=A,ds=2}}function E4(){if(ds===2){ds=0;var l=Tu,A=Af,h=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||h){h=ie.T,ie.T=null;var x=Ae.p;Ae.p=2;var S=ur;ur|=4;try{ZC(l,A.alternate,A)}finally{ur=S,Ae.p=x,ie.T=h}}ds=3}}function N4(){if(ds===4||ds===3){ds=0,Dt();var l=Tu,A=Af,h=FA,x=d4;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?ds=5:(ds=0,Af=Tu=null,S4(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(Bu=null),tr(h),A=A.stateNode,fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot($t,A,void 0,(A.current.flags&128)===128)}catch{}if(x!==null){A=ie.T,S=Ae.p,Ae.p=2,ie.T=null;try{for(var I=l.onRecoverableError,X=0;X<x.length;X++){var he=x[X];I(he.value,{componentStack:he.stack})}}finally{ie.T=A,Ae.p=S}}(FA&3)!==0&&Bm(),jc(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===Jy?Ap++:(Ap=0,Jy=l):Ap=0,up(0)}}function S4(l,A){(l.pooledCacheLanes&=A)===0&&(A=l.pooledCache,A!=null&&(l.pooledCache=null,zd(A)))}function Bm(){return C4(),E4(),N4(),B4()}function B4(){if(ds!==5)return!1;var l=Tu,A=Yy;Yy=0;var h=tr(FA),x=ie.T,S=Ae.p;try{Ae.p=32>h?32:h,ie.T=null,h=Xy,Xy=null;var I=Tu,X=FA;if(ds=0,Af=Tu=null,FA=0,(ur&6)!==0)throw Error(r(331));var he=ur;if(ur|=4,c4(I.current),a4(I,I.current,X,h),ur=he,up(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot($t,I)}catch{}return!0}finally{Ae.p=S,ie.T=x,S4(l,A)}}function T4(l,A,h){A=to(h,A),A=Iy(l.stateNode,A,2),l=mr(l,A,2),l!==null&&(Li(l,2),jc(l))}function vr(l,A,h){if(l.tag===3)T4(l,l,h);else for(;A!==null;){if(A.tag===3){T4(A,l,h);break}else if(A.tag===1){var x=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Bu===null||!Bu.has(x))){l=to(h,l),h=IC(2),x=mr(A,h,2),x!==null&&(kC(h,x,A,l),Li(x,2),jc(x));break}}A=A.return}}function t2(l,A,h){var x=l.pingCache;if(x===null){x=l.pingCache=new mD;var S=new Set;x.set(A,S)}else S=x.get(A),S===void 0&&(S=new Set,x.set(A,S));S.has(h)||(qy=!0,S.add(h),l=bD.bind(null,l,A,h),A.then(l,l))}function bD(l,A,h){var x=l.pingCache;x!==null&&x.delete(A),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,Lr===l&&(On&h)===h&&(gi===4||gi===3&&(On&62914560)===On&&300>Ne()-bm?(ur&2)===0&&uf(l,0):$y|=h,cf===On&&(cf=0)),jc(l)}function I4(l,A){A===0&&(A=jn()),l=Pl(l,A),l!==null&&(Li(l,A),jc(l))}function _D(l){var A=l.memoizedState,h=0;A!==null&&(h=A.retryLane),I4(l,h)}function CD(l,A){var h=0;switch(l.tag){case 31:case 13:var x=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(A),I4(l,h)}function ED(l,A){return At(l,A)}var Tm=null,hf=null,n2=!1,Im=!1,r2=!1,ku=0;function jc(l){l!==hf&&l.next===null&&(hf===null?Tm=hf=l:hf=hf.next=l),Im=!0,n2||(n2=!0,SD())}function up(l,A){if(!r2&&Im){r2=!0;do for(var h=!1,x=Tm;x!==null;){if(l!==0){var S=x.pendingLanes;if(S===0)var I=0;else{var X=x.suspendedLanes,he=x.pingedLanes;I=(1<<31-Jt(42|l)+1)-1,I&=S&~(X&~he),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(h=!0,R4(x,I))}else I=On,I=Ht(x,x===Lr?I:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(I&3)===0||sn(x,I)||(h=!0,R4(x,I));x=x.next}while(h);r2=!1}}function ND(){k4()}function k4(){Im=n2=!1;var l=0;ku!==0&&jD()&&(l=ku);for(var A=Ne(),h=null,x=Tm;x!==null;){var S=x.next,I=F4(x,A);I===0?(x.next=null,h===null?Tm=S:h.next=S,S===null&&(hf=h)):(h=x,(l!==0||(I&3)!==0)&&(Im=!0)),x=S}ds!==0&&ds!==5||up(l),ku!==0&&(ku=0)}function F4(l,A){for(var h=l.suspendedLanes,x=l.pingedLanes,S=l.expirationTimes,I=l.pendingLanes&-62914561;0<I;){var X=31-Jt(I),he=1<<X,Fe=S[X];Fe===-1?((he&h)===0||(he&x)!==0)&&(S[X]=ts(he,A)):Fe<=A&&(l.expiredLanes|=he),I&=~he}if(A=Lr,h=On,h=Ht(l,l===A?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,h===0||l===A&&(xr===2||xr===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&Et(x),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||sn(l,h)){if(A=h&-h,A===l.callbackPriority)return A;switch(x!==null&&Et(x),tr(h)){case 2:case 8:h=ht;break;case 32:h=It;break;case 268435456:h=Ue;break;default:h=It}return x=U4.bind(null,l),h=At(h,x),l.callbackPriority=A,l.callbackNode=h,A}return x!==null&&x!==null&&Et(x),l.callbackPriority=2,l.callbackNode=null,2}function U4(l,A){if(ds!==0&&ds!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(Bm()&&l.callbackNode!==h)return null;var x=On;return x=Ht(l,l===Lr?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(f4(l,x,A),F4(l,Ne()),l.callbackNode!=null&&l.callbackNode===h?U4.bind(null,l):null)}function R4(l,A){if(Bm())return null;f4(l,A,!0)}function SD(){PD(function(){(ur&6)!==0?At(ft,ND):k4()})}function i2(){if(ku===0){var l=w;l===0&&(l=ae,ae<<=1,(ae&261888)===0&&(ae=256)),ku=l}return ku}function L4(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:kl(""+l)}function D4(l,A){var h=A.ownerDocument.createElement("input");return h.name=A.name,h.value=A.value,l.id&&h.setAttribute("form",l.id),A.parentNode.insertBefore(h,A),l=new FormData(l),h.parentNode.removeChild(h),l}function BD(l,A,h,x,S){if(A==="submit"&&h&&h.stateNode===S){var I=L4((S[Ce]||null).action),X=x.submitter;X&&(A=(A=X[Ce]||null)?L4(A.formAction):X.getAttribute("formAction"),A!==null&&(I=A,X=null));var he=new Sa("action","action",null,x,S);l.push({event:he,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(ku!==0){var Fe=X?D4(S,X):new FormData(S);Cy(h,{pending:!0,data:Fe,method:S.method,action:I},null,Fe)}}else typeof I=="function"&&(he.preventDefault(),Fe=X?D4(S,X):new FormData(S),Cy(h,{pending:!0,data:Fe,method:S.method,action:I},I,Fe))},currentTarget:S}]})}}for(var s2=0;s2<il.length;s2++){var a2=il[s2],TD=a2.toLowerCase(),ID=a2[0].toUpperCase()+a2.slice(1);xs(TD,"on"+ID)}xs(fu,"onAnimationEnd"),xs(Fa,"onAnimationIteration"),xs(nl,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Nr,"onTransitionRun"),xs(Sr,"onTransitionStart"),xs(ai,"onTransitionCancel"),xs(fi,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dp));function j4(l,A){A=(A&4)!==0;for(var h=0;h<l.length;h++){var x=l[h],S=x.event;x=x.listeners;e:{var I=void 0;if(A)for(var X=x.length-1;0<=X;X--){var he=x[X],Fe=he.instance,Ze=he.currentTarget;if(he=he.listener,Fe!==I&&S.isPropagationStopped())break e;I=he,S.currentTarget=Ze;try{I(S)}catch(lt){pA(lt)}S.currentTarget=null,I=Fe}else for(X=0;X<x.length;X++){if(he=x[X],Fe=he.instance,Ze=he.currentTarget,he=he.listener,Fe!==I&&S.isPropagationStopped())break e;I=he,S.currentTarget=Ze;try{I(S)}catch(lt){pA(lt)}S.currentTarget=null,I=Fe}}}}function Dn(l,A){var h=A[Ge];h===void 0&&(h=A[Ge]=new Set);var x=l+"__bubble";h.has(x)||(M4(A,l,2,!1),h.add(x))}function o2(l,A,h){var x=0;A&&(x|=4),M4(h,l,x,A)}var km="_reactListening"+Math.random().toString(36).slice(2);function l2(l){if(!l[km]){l[km]=!0,Mn.forEach(function(h){h!=="selectionchange"&&(kD.has(h)||o2(h,!1,l),o2(h,!0,l))});var A=l.nodeType===9?l:l.ownerDocument;A===null||A[km]||(A[km]=!0,o2("selectionchange",!1,A))}}function M4(l,A,h,x){switch(hE(A)){case 2:var S=sj;break;case 8:S=aj;break;default:S=_2}h=S.bind(null,A,h,l),S=void 0,!No||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(S=!0),x?S!==void 0?l.addEventListener(A,h,{capture:!0,passive:S}):l.addEventListener(A,h,!0):S!==void 0?l.addEventListener(A,h,{passive:S}):l.addEventListener(A,h,!1)}function c2(l,A,h,x,S){var I=x;if((A&1)===0&&(A&2)===0&&x!==null)e:for(;;){if(x===null)return;var X=x.tag;if(X===3||X===4){var he=x.stateNode.containerInfo;if(he===S)break;if(X===4)for(X=x.return;X!==null;){var Fe=X.tag;if((Fe===3||Fe===4)&&X.stateNode.containerInfo===S)return;X=X.return}for(;he!==null;){if(X=Nt(he),X===null)return;if(Fe=X.tag,Fe===5||Fe===6||Fe===26||Fe===27){x=I=X;continue e}he=he.parentNode}}x=x.return}Eo(function(){var Ze=I,lt=Fs(h),gt=[];e:{var et=rl.get(l);if(et!==void 0){var rt=Sa,en=l;switch(l){case"keypress":if(na(h)===0)break e;case"keydown":case"keyup":rt=vc;break;case"focusin":en="focus",rt=Ul;break;case"focusout":en="blur",rt=Ul;break;case"beforeblur":case"afterblur":rt=Ul;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=N;break;case fu:case Fa:case nl:rt=lu;break;case fi:rt=W;break;case"scroll":case"scrollend":rt=hc;break;case"wheel":rt=Ie;break;case"copy":case"cut":case"paste":rt=gc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Ta;break;case"toggle":case"beforetoggle":rt=xt}var gn=(A&4)!==0,Ir=!gn&&(l==="scroll"||l==="scrollend"),He=gn?et!==null?et+"Capture":null:et;gn=[];for(var je=Ze,Je;je!==null;){var dt=je;if(Je=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||Je===null||He===null||(dt=ta(je,He),dt!=null&&gn.push(hp(je,dt,Je))),Ir)break;je=je.return}0<gn.length&&(et=new rt(et,en,null,h,lt),gt.push({event:et,listeners:gn}))}}if((A&7)===0){e:{if(et=l==="mouseover"||l==="pointerover",rt=l==="mouseout"||l==="pointerout",et&&h!==AA&&(en=h.relatedTarget||h.fromElement)&&(Nt(en)||en[Te]))break e;if((rt||et)&&(et=lt.window===lt?lt:(et=lt.ownerDocument)?et.defaultView||et.parentWindow:window,rt?(en=h.relatedTarget||h.toElement,rt=Ze,en=en?Nt(en):null,en!==null&&(Ir=s(en),gn=en.tag,en!==Ir||gn!==5&&gn!==27&&gn!==6)&&(en=null)):(rt=null,en=Ze),rt!==en)){if(gn=Wa,dt="onMouseLeave",He="onMouseEnter",je="mouse",(l==="pointerout"||l==="pointerover")&&(gn=Ta,dt="onPointerLeave",He="onPointerEnter",je="pointer"),Ir=rt==null?et:Ct(rt),Je=en==null?et:Ct(en),et=new gn(dt,je+"leave",rt,h,lt),et.target=Ir,et.relatedTarget=Je,dt=null,Nt(lt)===Ze&&(gn=new gn(He,je+"enter",en,h,lt),gn.target=Je,gn.relatedTarget=Ir,dt=gn),Ir=dt,rt&&en)t:{for(gn=FD,He=rt,je=en,Je=0,dt=He;dt;dt=gn(dt))Je++;dt=0;for(var An=je;An;An=gn(An))dt++;for(;0<Je-dt;)He=gn(He),Je--;for(;0<dt-Je;)je=gn(je),dt--;for(;Je--;){if(He===je||je!==null&&He===je.alternate){gn=He;break t}He=gn(He),je=gn(je)}gn=null}else gn=null;rt!==null&&P4(gt,et,rt,gn,!1),en!==null&&Ir!==null&&P4(gt,Ir,en,gn,!0)}}e:{if(et=Ze?Ct(Ze):window,rt=et.nodeName&&et.nodeName.toLowerCase(),rt==="select"||rt==="input"&&et.type==="file")var sr=Ls;else if(Au(et))if(fA)sr=jd;else{sr=jh;var rn=Dd}else rt=et.nodeName,!rt||rt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Ze&&ea(Ze.elementType)&&(sr=Ls):sr=Uo;if(sr&&(sr=sr(l,Ze))){uu(gt,sr,h,lt);break e}rn&&rn(l,et,Ze),l==="focusout"&&Ze&&et.type==="number"&&Ze.memoizedProps.value!=null&&dc(et,"number",et.value)}switch(rn=Ze?Ct(Ze):window,l){case"focusin":(Au(rn)||rn.contentEditable==="true")&&(ms=rn,bc=Ze,Ml=null);break;case"focusout":Ml=bc=ms=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Ja(gt,h,lt);break;case"selectionchange":if(hu)break;case"keydown":case"keyup":Ja(gt,h,lt)}var In;if(Qt)e:{switch(l){case"compositionstart":var Qn="onCompositionStart";break e;case"compositionend":Qn="onCompositionEnd";break e;case"compositionupdate":Qn="onCompositionUpdate";break e}Qn=void 0}else gs?$r(l,h)&&(Qn="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Qn="onCompositionStart");Qn&&(Yn&&h.locale!=="ko"&&(gs||Qn!=="onCompositionStart"?Qn==="onCompositionEnd"&&gs&&(In=Bo()):($a=lt,uA="value"in $a?$a.value:$a.textContent,gs=!0)),rn=Fm(Ze,Qn),0<rn.length&&(Qn=new Rs(Qn,l,null,h,lt),gt.push({event:Qn,listeners:rn}),In?Qn.data=In:(In=Qr(h),In!==null&&(Qn.data=In)))),(In=bn?Ia(l,h):Rl(l,h))&&(Qn=Fm(Ze,"onBeforeInput"),0<Qn.length&&(rn=new Rs("onBeforeInput","beforeinput",null,h,lt),gt.push({event:rn,listeners:Qn}),rn.data=In)),BD(gt,l,Ze,h,lt)}j4(gt,A)})}function hp(l,A,h){return{instance:l,listener:A,currentTarget:h}}function Fm(l,A){for(var h=A+"Capture",x=[];l!==null;){var S=l,I=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=ta(l,h),S!=null&&x.unshift(hp(l,S,I)),S=ta(l,A),S!=null&&x.push(hp(l,S,I))),l.tag===3)return x;l=l.return}return[]}function FD(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function P4(l,A,h,x,S){for(var I=A._reactName,X=[];h!==null&&h!==x;){var he=h,Fe=he.alternate,Ze=he.stateNode;if(he=he.tag,Fe!==null&&Fe===x)break;he!==5&&he!==26&&he!==27||Ze===null||(Fe=Ze,S?(Ze=ta(h,I),Ze!=null&&X.unshift(hp(h,Ze,Fe))):S||(Ze=ta(h,I),Ze!=null&&X.push(hp(h,Ze,Fe)))),h=h.return}X.length!==0&&l.push({event:A,listeners:X})}var UD=/\r\n?/g,RD=/\u0000|\uFFFD/g;function O4(l){return(typeof l=="string"?l:""+l).replace(UD,`
`).replace(RD,"")}function Q4(l,A){return A=O4(A),O4(l)===A}function Tr(l,A,h,x,S,I){switch(h){case"children":typeof x=="string"?A==="body"||A==="textarea"&&x===""||Pi(l,x):(typeof x=="number"||typeof x=="bigint")&&A!=="body"&&Pi(l,""+x);break;case"className":qn(l,"class",x);break;case"tabIndex":qn(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(l,h,x);break;case"style":cA(l,x,I);break;case"data":if(A!=="object"){qn(l,"data",x);break}case"src":case"href":if(x===""&&(A!=="a"||h!=="href")){l.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=kl(""+x),l.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(h==="formAction"?(A!=="input"&&Tr(l,A,"name",S.name,S,null),Tr(l,A,"formEncType",S.formEncType,S,null),Tr(l,A,"formMethod",S.formMethod,S,null),Tr(l,A,"formTarget",S.formTarget,S,null)):(Tr(l,A,"encType",S.encType,S,null),Tr(l,A,"method",S.method,S,null),Tr(l,A,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(h);break}x=kl(""+x),l.setAttribute(h,x);break;case"onClick":x!=null&&(l.onclick=Er);break;case"onScroll":x!=null&&Dn("scroll",l);break;case"onScrollEnd":x!=null&&Dn("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}h=kl(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""+x):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":x===!0?l.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(h,x):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(h,x):l.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(h):l.setAttribute(h,x);break;case"popover":Dn("beforetoggle",l),Dn("toggle",l),ji(l,"popover",x);break;case"xlinkActuate":Or(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Or(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Or(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Or(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Or(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Or(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Or(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Or(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Or(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ji(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Il.get(h)||h,ji(l,h,x))}}function A2(l,A,h,x,S,I){switch(h){case"style":cA(l,x,I);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=h}}break;case"children":typeof x=="string"?Pi(l,x):(typeof x=="number"||typeof x=="bigint")&&Pi(l,""+x);break;case"onScroll":x!=null&&Dn("scroll",l);break;case"onScrollEnd":x!=null&&Dn("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),A=h.slice(2,S?h.length-7:void 0),I=l[Ce]||null,I=I!=null?I[h]:null,typeof I=="function"&&l.removeEventListener(A,I,S),typeof x=="function")){typeof I!="function"&&I!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(A,x,S);break e}h in l?l[h]=x:x===!0?l.setAttribute(h,""):ji(l,h,x)}}}function Qs(l,A,h){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",l),Dn("load",l);var x=!1,S=!1,I;for(I in h)if(h.hasOwnProperty(I)){var X=h[I];if(X!=null)switch(I){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,A));default:Tr(l,A,I,X,h,null)}}S&&Tr(l,A,"srcSet",h.srcSet,h,null),x&&Tr(l,A,"src",h.src,h,null);return;case"input":Dn("invalid",l);var he=I=X=S=null,Fe=null,Ze=null;for(x in h)if(h.hasOwnProperty(x)){var lt=h[x];if(lt!=null)switch(x){case"name":S=lt;break;case"type":X=lt;break;case"checked":Fe=lt;break;case"defaultChecked":Ze=lt;break;case"value":I=lt;break;case"defaultValue":he=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,A));break;default:Tr(l,A,x,lt,h,null)}}au(l,I,he,Fe,Ze,X,S,!1);return;case"select":Dn("invalid",l),x=X=I=null;for(S in h)if(h.hasOwnProperty(S)&&(he=h[S],he!=null))switch(S){case"value":I=he;break;case"defaultValue":X=he;break;case"multiple":x=he;default:Tr(l,A,S,he,h,null)}A=I,h=X,l.multiple=!!x,A!=null?Wo(l,!!x,A,!1):h!=null&&Wo(l,!!x,h,!0);return;case"textarea":Dn("invalid",l),I=S=x=null;for(X in h)if(h.hasOwnProperty(X)&&(he=h[X],he!=null))switch(X){case"value":x=he;break;case"defaultValue":S=he;break;case"children":I=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:Tr(l,A,X,he,h,null)}Yo(l,x,S,I);return;case"option":for(Fe in h)if(h.hasOwnProperty(Fe)&&(x=h[Fe],x!=null))switch(Fe){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Tr(l,A,Fe,x,h,null)}return;case"dialog":Dn("beforetoggle",l),Dn("toggle",l),Dn("cancel",l),Dn("close",l);break;case"iframe":case"object":Dn("load",l);break;case"video":case"audio":for(x=0;x<dp.length;x++)Dn(dp[x],l);break;case"image":Dn("error",l),Dn("load",l);break;case"details":Dn("toggle",l);break;case"embed":case"source":case"link":Dn("error",l),Dn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ze in h)if(h.hasOwnProperty(Ze)&&(x=h[Ze],x!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,A));default:Tr(l,A,Ze,x,h,null)}return;default:if(ea(A)){for(lt in h)h.hasOwnProperty(lt)&&(x=h[lt],x!==void 0&&A2(l,A,lt,x,h,void 0));return}}for(he in h)h.hasOwnProperty(he)&&(x=h[he],x!=null&&Tr(l,A,he,x,h,null))}function LD(l,A,h,x){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,X=null,he=null,Fe=null,Ze=null,lt=null;for(rt in h){var gt=h[rt];if(h.hasOwnProperty(rt)&&gt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":Fe=gt;default:x.hasOwnProperty(rt)||Tr(l,A,rt,null,x,gt)}}for(var et in x){var rt=x[et];if(gt=h[et],x.hasOwnProperty(et)&&(rt!=null||gt!=null))switch(et){case"type":I=rt;break;case"name":S=rt;break;case"checked":Ze=rt;break;case"defaultChecked":lt=rt;break;case"value":X=rt;break;case"defaultValue":he=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,A));break;default:rt!==gt&&Tr(l,A,et,rt,x,gt)}}Tl(l,X,he,Fe,Ze,lt,I,S);return;case"select":rt=X=he=et=null;for(I in h)if(Fe=h[I],h.hasOwnProperty(I)&&Fe!=null)switch(I){case"value":break;case"multiple":rt=Fe;default:x.hasOwnProperty(I)||Tr(l,A,I,null,x,Fe)}for(S in x)if(I=x[S],Fe=h[S],x.hasOwnProperty(S)&&(I!=null||Fe!=null))switch(S){case"value":et=I;break;case"defaultValue":he=I;break;case"multiple":X=I;default:I!==Fe&&Tr(l,A,S,I,x,Fe)}A=he,h=X,x=rt,et!=null?Wo(l,!!h,et,!1):!!x!=!!h&&(A!=null?Wo(l,!!h,A,!0):Wo(l,!!h,h?[]:"",!1));return;case"textarea":rt=et=null;for(he in h)if(S=h[he],h.hasOwnProperty(he)&&S!=null&&!x.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:Tr(l,A,he,null,x,S)}for(X in x)if(S=x[X],I=h[X],x.hasOwnProperty(X)&&(S!=null||I!=null))switch(X){case"value":et=S;break;case"defaultValue":rt=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==I&&Tr(l,A,X,S,x,I)}oA(l,et,rt);return;case"option":for(var en in h)if(et=h[en],h.hasOwnProperty(en)&&et!=null&&!x.hasOwnProperty(en))switch(en){case"selected":l.selected=!1;break;default:Tr(l,A,en,null,x,et)}for(Fe in x)if(et=x[Fe],rt=h[Fe],x.hasOwnProperty(Fe)&&et!==rt&&(et!=null||rt!=null))switch(Fe){case"selected":l.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Tr(l,A,Fe,et,x,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gn in h)et=h[gn],h.hasOwnProperty(gn)&&et!=null&&!x.hasOwnProperty(gn)&&Tr(l,A,gn,null,x,et);for(Ze in x)if(et=x[Ze],rt=h[Ze],x.hasOwnProperty(Ze)&&et!==rt&&(et!=null||rt!=null))switch(Ze){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,A));break;default:Tr(l,A,Ze,et,x,rt)}return;default:if(ea(A)){for(var Ir in h)et=h[Ir],h.hasOwnProperty(Ir)&&et!==void 0&&!x.hasOwnProperty(Ir)&&A2(l,A,Ir,void 0,x,et);for(lt in x)et=x[lt],rt=h[lt],!x.hasOwnProperty(lt)||et===rt||et===void 0&&rt===void 0||A2(l,A,lt,et,x,rt);return}}for(var He in h)et=h[He],h.hasOwnProperty(He)&&et!=null&&!x.hasOwnProperty(He)&&Tr(l,A,He,null,x,et);for(gt in x)et=x[gt],rt=h[gt],!x.hasOwnProperty(gt)||et===rt||et==null&&rt==null||Tr(l,A,gt,et,x,rt)}function H4(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DD(){if(typeof performance.getEntriesByType=="function"){for(var l=0,A=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var S=h[x],I=S.transferSize,X=S.initiatorType,he=S.duration;if(I&&he&&H4(X)){for(X=0,he=S.responseEnd,x+=1;x<h.length;x++){var Fe=h[x],Ze=Fe.startTime;if(Ze>he)break;var lt=Fe.transferSize,gt=Fe.initiatorType;lt&&H4(gt)&&(Fe=Fe.responseEnd,X+=lt*(Fe<he?1:(he-Ze)/(Fe-Ze)))}if(--x,A+=8*(I+X)/(S.duration/1e3),l++,10<l)break}}if(0<l)return A/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var u2=null,d2=null;function Um(l){return l.nodeType===9?l:l.ownerDocument}function V4(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z4(l,A){if(l===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&A==="foreignObject"?0:l}function h2(l,A){return l==="textarea"||l==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var f2=null;function jD(){var l=window.event;return l&&l.type==="popstate"?l===f2?!1:(f2=l,!0):(f2=null,!1)}var G4=typeof setTimeout=="function"?setTimeout:void 0,MD=typeof clearTimeout=="function"?clearTimeout:void 0,K4=typeof Promise=="function"?Promise:void 0,PD=typeof queueMicrotask=="function"?queueMicrotask:typeof K4<"u"?function(l){return K4.resolve(null).then(l).catch(OD)}:G4;function OD(l){setTimeout(function(){throw l})}function Fu(l){return l==="head"}function q4(l,A){var h=A,x=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(x===0){l.removeChild(S),mf(A);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")fp(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,fp(h);for(var I=h.firstChild;I;){var X=I.nextSibling,he=I.nodeName;I[Ye]||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=X}}else h==="body"&&fp(l.ownerDocument.body);h=S}while(h);mf(A)}function $4(l,A){var h=l;l=0;do{var x=h.nextSibling;if(h.nodeType===1?A?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(A?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=x}while(h)}function p2(l){var A=l.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var h=A;switch(A=A.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":p2(h),bt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function QD(l,A,h,x){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==A.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Ye])switch(A){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(I=l.getAttribute("rel"),I==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(I!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(I=l.getAttribute("src"),(I!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(A==="input"&&l.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===I)return l}else return l;if(l=ul(l.nextSibling),l===null)break}return null}function HD(l,A,h){if(A==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=ul(l.nextSibling),l===null))return null;return l}function W4(l,A){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!A||(l=ul(l.nextSibling),l===null))return null;return l}function g2(l){return l.data==="$?"||l.data==="$~"}function m2(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function VD(l,A){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=A;else if(l.data!=="$?"||h.readyState!=="loading")A();else{var x=function(){A(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function ul(l){for(;l!=null;l=l.nextSibling){var A=l.nodeType;if(A===1||A===3)break;if(A===8){if(A=l.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return l}var x2=null;function Y4(l){l=l.nextSibling;for(var A=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(A===0)return ul(l.nextSibling);A--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||A++}l=l.nextSibling}return null}function X4(l){l=l.previousSibling;for(var A=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(A===0)return l;A--}else h!=="/$"&&h!=="/&"||A++}l=l.previousSibling}return null}function J4(l,A,h){switch(A=Um(h),l){case"html":if(l=A.documentElement,!l)throw Error(r(452));return l;case"head":if(l=A.head,!l)throw Error(r(453));return l;case"body":if(l=A.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function fp(l){for(var A=l.attributes;A.length;)l.removeAttributeNode(A[0]);bt(l)}var dl=new Map,Z4=new Set;function Rm(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var UA=Ae.d;Ae.d={f:zD,r:GD,D:KD,C:qD,L:$D,m:WD,X:XD,S:YD,M:JD};function zD(){var l=UA.f(),A=Em();return l||A}function GD(l){var A=kt(l);A!==null&&A.tag===5&&A.type==="form"?gC(A):UA.r(l)}var ff=typeof document>"u"?null:document;function eE(l,A,h){var x=ff;if(x&&typeof A=="string"&&A){var S=Mi(A);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),Z4.has(S)||(Z4.add(S),l={rel:l,crossOrigin:h,href:A},x.querySelector(S)===null&&(A=x.createElement("link"),Qs(A,"link",l),Yt(A),x.head.appendChild(A)))}}function KD(l){UA.D(l),eE("dns-prefetch",l,null)}function qD(l,A){UA.C(l,A),eE("preconnect",l,A)}function $D(l,A,h){UA.L(l,A,h);var x=ff;if(x&&l&&A){var S='link[rel="preload"][as="'+Mi(A)+'"]';A==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Mi(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Mi(h.imageSizes)+'"]')):S+='[href="'+Mi(l)+'"]';var I=S;switch(A){case"style":I=pf(l);break;case"script":I=gf(l)}dl.has(I)||(l=g({rel:"preload",href:A==="image"&&h&&h.imageSrcSet?void 0:l,as:A},h),dl.set(I,l),x.querySelector(S)!==null||A==="style"&&x.querySelector(pp(I))||A==="script"&&x.querySelector(gp(I))||(A=x.createElement("link"),Qs(A,"link",l),Yt(A),x.head.appendChild(A)))}}function WD(l,A){UA.m(l,A);var h=ff;if(h&&l){var x=A&&typeof A.as=="string"?A.as:"script",S='link[rel="modulepreload"][as="'+Mi(x)+'"][href="'+Mi(l)+'"]',I=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=gf(l)}if(!dl.has(I)&&(l=g({rel:"modulepreload",href:l},A),dl.set(I,l),h.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(gp(I)))return}x=h.createElement("link"),Qs(x,"link",l),Yt(x),h.head.appendChild(x)}}}function YD(l,A,h){UA.S(l,A,h);var x=ff;if(x&&l){var S=Ft(x).hoistableStyles,I=pf(l);A=A||"default";var X=S.get(I);if(!X){var he={loading:0,preload:null};if(X=x.querySelector(pp(I)))he.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":A},h),(h=dl.get(I))&&v2(l,h);var Fe=X=x.createElement("link");Yt(Fe),Qs(Fe,"link",l),Fe._p=new Promise(function(Ze,lt){Fe.onload=Ze,Fe.onerror=lt}),Fe.addEventListener("load",function(){he.loading|=1}),Fe.addEventListener("error",function(){he.loading|=2}),he.loading|=4,Lm(X,A,x)}X={type:"stylesheet",instance:X,count:1,state:he},S.set(I,X)}}}function XD(l,A){UA.X(l,A);var h=ff;if(h&&l){var x=Ft(h).hoistableScripts,S=gf(l),I=x.get(S);I||(I=h.querySelector(gp(S)),I||(l=g({src:l,async:!0},A),(A=dl.get(S))&&y2(l,A),I=h.createElement("script"),Yt(I),Qs(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function JD(l,A){UA.M(l,A);var h=ff;if(h&&l){var x=Ft(h).hoistableScripts,S=gf(l),I=x.get(S);I||(I=h.querySelector(gp(S)),I||(l=g({src:l,async:!0,type:"module"},A),(A=dl.get(S))&&y2(l,A),I=h.createElement("script"),Yt(I),Qs(I,"link",l),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function tE(l,A,h,x){var S=(S=q.current)?Rm(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(A=pf(h.href),h=Ft(S).hoistableStyles,x=h.get(A),x||(x={type:"style",instance:null,count:0,state:null},h.set(A,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=pf(h.href);var I=Ft(S).hoistableStyles,X=I.get(l);if(X||(S=S.ownerDocument||S,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(l,X),(I=S.querySelector(pp(l)))&&!I._p&&(X.instance=I,X.state.loading=5),dl.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},dl.set(l,h),I||ZD(S,l,h,X.state))),A&&x===null)throw Error(r(528,""));return X}if(A&&x!==null)throw Error(r(529,""));return null;case"script":return A=h.async,h=h.src,typeof h=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=gf(h),h=Ft(S).hoistableScripts,x=h.get(A),x||(x={type:"script",instance:null,count:0,state:null},h.set(A,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function pf(l){return'href="'+Mi(l)+'"'}function pp(l){return'link[rel="stylesheet"]['+l+"]"}function nE(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function ZD(l,A,h,x){l.querySelector('link[rel="preload"][as="style"]['+A+"]")?x.loading=1:(A=l.createElement("link"),x.preload=A,A.addEventListener("load",function(){return x.loading|=1}),A.addEventListener("error",function(){return x.loading|=2}),Qs(A,"link",h),Yt(A),l.head.appendChild(A))}function gf(l){return'[src="'+Mi(l)+'"]'}function gp(l){return"script[async]"+l}function rE(l,A,h){if(A.count++,A.instance===null)switch(A.type){case"style":var x=l.querySelector('style[data-href~="'+Mi(h.href)+'"]');if(x)return A.instance=x,Yt(x),x;var S=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Yt(x),Qs(x,"style",S),Lm(x,h.precedence,l),A.instance=x;case"stylesheet":S=pf(h.href);var I=l.querySelector(pp(S));if(I)return A.state.loading|=4,A.instance=I,Yt(I),I;x=nE(h),(S=dl.get(S))&&v2(x,S),I=(l.ownerDocument||l).createElement("link"),Yt(I);var X=I;return X._p=new Promise(function(he,Fe){X.onload=he,X.onerror=Fe}),Qs(I,"link",x),A.state.loading|=4,Lm(I,h.precedence,l),A.instance=I;case"script":return I=gf(h.src),(S=l.querySelector(gp(I)))?(A.instance=S,Yt(S),S):(x=h,(S=dl.get(I))&&(x=g({},h),y2(x,S)),l=l.ownerDocument||l,S=l.createElement("script"),Yt(S),Qs(S,"link",x),l.head.appendChild(S),A.instance=S);case"void":return null;default:throw Error(r(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(x=A.instance,A.state.loading|=4,Lm(x,h.precedence,l));return A.instance}function Lm(l,A,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,I=S,X=0;X<x.length;X++){var he=x[X];if(he.dataset.precedence===A)I=he;else if(I!==S)break}I?I.parentNode.insertBefore(l,I.nextSibling):(A=h.nodeType===9?h.head:h,A.insertBefore(l,A.firstChild))}function v2(l,A){l.crossOrigin==null&&(l.crossOrigin=A.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=A.referrerPolicy),l.title==null&&(l.title=A.title)}function y2(l,A){l.crossOrigin==null&&(l.crossOrigin=A.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=A.referrerPolicy),l.integrity==null&&(l.integrity=A.integrity)}var Dm=null;function iE(l,A,h){if(Dm===null){var x=new Map,S=Dm=new Map;S.set(h,x)}else S=Dm,x=S.get(h),x||(x=new Map,S.set(h,x));if(x.has(l))return x;for(x.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var I=h[S];if(!(I[Ye]||I[ye]||l==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var X=I.getAttribute(A)||"";X=l+X;var he=x.get(X);he?he.push(I):x.set(X,[I])}}return x}function sE(l,A,h){l=l.ownerDocument||l,l.head.insertBefore(h,A==="title"?l.querySelector("head > title"):null)}function ej(l,A,h){if(h===1||A.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return l=A.disabled,typeof A.precedence=="string"&&l==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function aE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function tj(l,A,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=pf(x.href),I=A.querySelector(pp(S));if(I){A=I._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(l.count++,l=jm.bind(l),A.then(l,l)),h.state.loading|=4,h.instance=I,Yt(I);return}I=A.ownerDocument||A,x=nE(x),(S=dl.get(S))&&v2(x,S),I=I.createElement("link"),Yt(I);var X=I;X._p=new Promise(function(he,Fe){X.onload=he,X.onerror=Fe}),Qs(I,"link",x),h.instance=I}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,A),(A=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=jm.bind(l),A.addEventListener("load",h),A.addEventListener("error",h))}}var w2=0;function nj(l,A){return l.stylesheets&&l.count===0&&Pm(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var x=setTimeout(function(){if(l.stylesheets&&Pm(l,l.stylesheets),l.unsuspend){var I=l.unsuspend;l.unsuspend=null,I()}},6e4+A);0<l.imgBytes&&w2===0&&(w2=62500*DD());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Pm(l,l.stylesheets),l.unsuspend)){var I=l.unsuspend;l.unsuspend=null,I()}},(l.imgBytes>w2?50:800)+A);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(S)}}:null}function jm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Mm=null;function Pm(l,A){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Mm=new Map,A.forEach(rj,l),Mm=null,jm.call(l))}function rj(l,A){if(!(A.state.loading&4)){var h=Mm.get(l);if(h)var x=h.get(null);else{h=new Map,Mm.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var X=S[I];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(h.set(X.dataset.precedence,X),x=X)}x&&h.set(null,x)}S=A.instance,X=S.getAttribute("data-precedence"),I=h.get(X)||x,I===x&&h.set(null,S),h.set(X,S),this.count++,x=jm.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),I?I.parentNode.insertBefore(S,I.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),A.state.loading|=4}}var mp={$$typeof:P,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ij(l,A,h,x,S,I,X,he,Fe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Fe,this.incompleteTransitions=new Map}function oE(l,A,h,x,S,I,X,he,Fe,Ze,lt,gt){return l=new ij(l,A,h,X,Fe,Ze,lt,gt,he),A=1,I===!0&&(A|=24),I=ys(3,null,null,A),l.current=I,I.stateNode=l,A=yu(),A.refCount++,l.pooledCache=A,A.refCount++,I.memoizedState={element:x,isDehydrated:h,cache:A},Ar(I),l}function lE(l){return l?(l=os,l):os}function cE(l,A,h,x,S,I){S=lE(S),x.context===null?x.context=S:x.pendingContext=S,x=pn(A),x.payload={element:h},I=I===void 0?null:I,I!==null&&(x.callback=I),h=mr(l,x,A),h!==null&&(ho(h,l,A),Oi(h,l,A))}function AE(l,A){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<A?h:A}}function b2(l,A){AE(l,A),(l=l.alternate)&&AE(l,A)}function uE(l){if(l.tag===13||l.tag===31){var A=Pl(l,67108864);A!==null&&ho(A,l,67108864),b2(l,67108864)}}function dE(l){if(l.tag===13||l.tag===31){var A=Po();A=gr(A);var h=Pl(l,A);h!==null&&ho(h,l,A),b2(l,A)}}var Om=!0;function sj(l,A,h,x){var S=ie.T;ie.T=null;var I=Ae.p;try{Ae.p=2,_2(l,A,h,x)}finally{Ae.p=I,ie.T=S}}function aj(l,A,h,x){var S=ie.T;ie.T=null;var I=Ae.p;try{Ae.p=8,_2(l,A,h,x)}finally{Ae.p=I,ie.T=S}}function _2(l,A,h,x){if(Om){var S=C2(x);if(S===null)c2(l,A,x,Qm,h),fE(l,x);else if(lj(S,l,A,h,x))x.stopPropagation();else if(fE(l,x),A&4&&-1<oj.indexOf(l)){for(;S!==null;){var I=kt(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var X=dn(I.pendingLanes);if(X!==0){var he=I;for(he.pendingLanes|=2,he.entangledLanes|=2;X;){var Fe=1<<31-Jt(X);he.entanglements[1]|=Fe,X&=~Fe}jc(I),(ur&6)===0&&(_m=Ne()+500,up(0))}}break;case 31:case 13:he=Pl(I,2),he!==null&&ho(he,I,2),Em(),b2(I,2)}if(I=C2(x),I===null&&c2(l,A,x,Qm,h),I===S)break;S=I}S!==null&&x.stopPropagation()}else c2(l,A,x,null,h)}}function C2(l){return l=Fs(l),E2(l)}var Qm=null;function E2(l){if(Qm=null,l=Nt(l),l!==null){var A=s(l);if(A===null)l=null;else{var h=A.tag;if(h===13){if(l=o(A),l!==null)return l;l=null}else if(h===31){if(l=c(A),l!==null)return l;l=null}else if(h===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;l=null}else A!==l&&(l=null)}}return Qm=l,null}function hE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case ft:return 2;case ht:return 8;case It:case Tt:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var N2=!1,Uu=null,Ru=null,Lu=null,xp=new Map,vp=new Map,Du=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(l,A){switch(l){case"focusin":case"focusout":Uu=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":xp.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":vp.delete(A.pointerId)}}function yp(l,A,h,x,S,I){return l===null||l.nativeEvent!==I?(l={blockedOn:A,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[S]},A!==null&&(A=kt(A),A!==null&&uE(A)),l):(l.eventSystemFlags|=x,A=l.targetContainers,S!==null&&A.indexOf(S)===-1&&A.push(S),l)}function lj(l,A,h,x,S){switch(A){case"focusin":return Uu=yp(Uu,l,A,h,x,S),!0;case"dragenter":return Ru=yp(Ru,l,A,h,x,S),!0;case"mouseover":return Lu=yp(Lu,l,A,h,x,S),!0;case"pointerover":var I=S.pointerId;return xp.set(I,yp(xp.get(I)||null,l,A,h,x,S)),!0;case"gotpointercapture":return I=S.pointerId,vp.set(I,yp(vp.get(I)||null,l,A,h,x,S)),!0}return!1}function pE(l){var A=Nt(l.target);if(A!==null){var h=s(A);if(h!==null){if(A=h.tag,A===13){if(A=o(h),A!==null){l.blockedOn=A,Be(l.priority,function(){dE(h)});return}}else if(A===31){if(A=c(h),A!==null){l.blockedOn=A,Be(l.priority,function(){dE(h)});return}}else if(A===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Hm(l){if(l.blockedOn!==null)return!1;for(var A=l.targetContainers;0<A.length;){var h=C2(l.nativeEvent);if(h===null){h=l.nativeEvent;var x=new h.constructor(h.type,h);AA=x,h.target.dispatchEvent(x),AA=null}else return A=kt(h),A!==null&&uE(A),l.blockedOn=h,!1;A.shift()}return!0}function gE(l,A,h){Hm(l)&&h.delete(A)}function cj(){N2=!1,Uu!==null&&Hm(Uu)&&(Uu=null),Ru!==null&&Hm(Ru)&&(Ru=null),Lu!==null&&Hm(Lu)&&(Lu=null),xp.forEach(gE),vp.forEach(gE)}function Vm(l,A){l.blockedOn===A&&(l.blockedOn=null,N2||(N2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,cj)))}var zm=null;function mE(l){zm!==l&&(zm=l,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){zm===l&&(zm=null);for(var A=0;A<l.length;A+=3){var h=l[A],x=l[A+1],S=l[A+2];if(typeof x!="function"){if(E2(x||h)===null)continue;break}var I=kt(h);I!==null&&(l.splice(A,3),A-=3,Cy(I,{pending:!0,data:S,method:h.method,action:x},x,S))}}))}function mf(l){function A(Fe){return Vm(Fe,l)}Uu!==null&&Vm(Uu,l),Ru!==null&&Vm(Ru,l),Lu!==null&&Vm(Lu,l),xp.forEach(A),vp.forEach(A);for(var h=0;h<Du.length;h++){var x=Du[h];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Du.length&&(h=Du[0],h.blockedOn===null);)pE(h),h.blockedOn===null&&Du.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var S=h[x],I=h[x+1],X=S[Ce]||null;if(typeof I=="function")X||mE(h);else if(X){var he=null;if(I&&I.hasAttribute("formAction")){if(S=I,X=I[Ce]||null)he=X.formAction;else if(E2(S)!==null)continue}else he=X.action;typeof he=="function"?h[x+1]=he:(h.splice(x,3),x-=3),mE(h)}}}function xE(){function l(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(X){return S=X})},focusReset:"manual",scroll:"manual"})}function A(){S!==null&&(S(),S=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),S!==null&&(S(),S=null)}}}function S2(l){this._internalRoot=l}Gm.prototype.render=S2.prototype.render=function(l){var A=this._internalRoot;if(A===null)throw Error(r(409));var h=A.current,x=Po();cE(h,x,l,A,null,null)},Gm.prototype.unmount=S2.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var A=l.containerInfo;cE(l.current,2,null,l,null,null),Em(),A[Te]=null}};function Gm(l){this._internalRoot=l}Gm.prototype.unstable_scheduleHydration=function(l){if(l){var A=le();l={blockedOn:null,target:l,priority:A};for(var h=0;h<Du.length&&A!==0&&A<Du[h].priority;h++);Du.splice(h,0,l),h===0&&pE(l)}};var vE=e.version;if(vE!=="19.2.3")throw Error(r(527,vE,"19.2.3"));Ae.findDOMNode=function(l){var A=l._reactInternals;if(A===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=d(A),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var Aj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Km=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Km.isDisabled&&Km.supportsFiber)try{$t=Km.inject(Aj),fn=Km}catch{}}return bp.createRoot=function(l,A){if(!i(l))throw Error(r(299));var h=!1,x="",S=NC,I=SC,X=BC;return A!=null&&(A.unstable_strictMode===!0&&(h=!0),A.identifierPrefix!==void 0&&(x=A.identifierPrefix),A.onUncaughtError!==void 0&&(S=A.onUncaughtError),A.onCaughtError!==void 0&&(I=A.onCaughtError),A.onRecoverableError!==void 0&&(X=A.onRecoverableError)),A=oE(l,1,!1,null,null,h,x,null,S,I,X,xE),l[Te]=A.current,l2(l),new S2(A)},bp.hydrateRoot=function(l,A,h){if(!i(l))throw Error(r(299));var x=!1,S="",I=NC,X=SC,he=BC,Fe=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(I=h.onUncaughtError),h.onCaughtError!==void 0&&(X=h.onCaughtError),h.onRecoverableError!==void 0&&(he=h.onRecoverableError),h.formState!==void 0&&(Fe=h.formState)),A=oE(l,1,!0,A,h??null,x,S,Fe,I,X,he,xE),A.context=lE(null),h=A.current,x=Po(),x=gr(x),S=pn(x),S.callback=null,mr(h,S,x),h=x,A.current.lanes=h,Li(A,h),jc(A),l[Te]=A.current,l2(l),new Gm(A)},bp.version="19.2.3",bp}var TE;function yj(){if(TE)return I2.exports;TE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I2.exports=vj(),I2.exports}var wj=yj();const bj=nI(wj),_j=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Cj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,f=s>>2,g=(s&3)<<4|c>>4;let m=(c&15)<<2|d>>6,v=d&63;u||(v=64,o||(m=64)),r.push(t[f],t[g],t[m],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(iI(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Cj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||d==null||g==null)throw new Ej;const m=s<<2|c>>4;if(r.push(m),d!==64){const v=c<<4&240|d>>2;if(r.push(v),g!==64){const C=d<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nj=function(n){const e=iI(n);return sI.encodeByteArray(e,!0)},o1=function(n){return Nj(n).replace(/\./g,"")},aI=function(n){try{return sI.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=()=>Sj().__FIREBASE_DEFAULTS__,Tj=()=>{if(typeof process>"u"||typeof IE>"u")return;const n=IE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ij=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&aI(n[1]);return e&&JSON.parse(e)},uv=()=>{try{return _j()||Bj()||Tj()||Ij()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oI=n=>{var e,t;return(t=(e=uv())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},kj=n=>{const e=oI(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},lI=()=>{var n;return(n=uv())==null?void 0:n.config},cI=n=>{var e;return(e=uv())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AI(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n};return[o1(JSON.stringify(t)),o1(JSON.stringify(o)),""].join(".")}const qp={};function Rj(){const n={prod:[],emulator:[]};for(const e of Object.keys(qp))qp[e]?n.emulator.push(e):n.prod.push(e);return n}function Lj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kE=!1;function uI(n,e){if(typeof window>"u"||typeof document>"u"||!w0(window.location.host)||qp[n]===e||qp[n]||kE)return;qp[n]=e;function t(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=Rj().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{kE=!0,o()},m}function f(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Lj(r),v=t("text"),C=document.getElementById(v)||document.createElement("span"),_=t("learnmore"),E=document.getElementById(_)||document.createElement("a"),T=t("preprendIcon"),k=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const P=m.element;c(P),f(E,_);const z=d();u(k,T),P.append(k,C,E,z),document.body.appendChild(P)}s?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_a())}function jj(){var e;const n=(e=uv())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pj(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Oj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qj(){const n=_a();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Hj(){return!jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vj(){try{return typeof indexedDB=="object"}catch{return!1}}function zj(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="FirebaseError";class nu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Gj,Object.setPrototypeOf(this,nu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lg.prototype.create)}}class Lg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kj(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new nu(i,c,r)}}function Kj(n,e){return n.replace(qj,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qj=/\{\$([^}]+)}/g;function $j(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function hh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(FE(s)&&FE(o)){if(!hh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function FE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fp(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Up(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Wj(n,e){const t=new Yj(n,e);return t.subscribe.bind(t)}class Yj{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Xj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=R2),i.error===void 0&&(i.error=R2),i.complete===void 0&&(i.complete=R2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xj(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function R2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n){return n&&n._delegate?n._delegate:n}class fh{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Fj;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eM(e))try{this.getOrInitializeService({instanceIdentifier:Zd})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zd){return this.instances.has(e)}getOptions(e=Zd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zd){return this.component?this.component.multipleInstances?e:Zd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zj(n){return n===Zd?void 0:n}function eM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Jj(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(zn||(zn={}));const nM={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},rM=zn.INFO,iM={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},sM=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=iM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let f5=class{constructor(e){this.name=e,this._logLevel=rM,this._logHandler=sM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...e),this._logHandler(this,zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...e),this._logHandler(this,zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...e),this._logHandler(this,zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...e),this._logHandler(this,zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...e),this._logHandler(this,zn.ERROR,...e)}};const aM=(n,e)=>e.some(t=>n instanceof t);let UE,RE;function oM(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lM(){return RE||(RE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dI=new WeakMap,Pw=new WeakMap,hI=new WeakMap,L2=new WeakMap,p5=new WeakMap;function cM(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(rd(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&dI.set(t,n)}).catch(()=>{}),p5.set(e,n),e}function AM(n){if(Pw.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Pw.set(n,e)}let Ow={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Pw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hI.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return rd(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uM(n){Ow=n(Ow)}function dM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(D2(this),e,...t);return hI.set(r,e.sort?e.sort():[e]),rd(r)}:lM().includes(n)?function(...e){return n.apply(D2(this),e),rd(dI.get(this))}:function(...e){return rd(n.apply(D2(this),e))}}function hM(n){return typeof n=="function"?dM(n):(n instanceof IDBTransaction&&AM(n),aM(n,oM())?new Proxy(n,Ow):n)}function rd(n){if(n instanceof IDBRequest)return cM(n);if(L2.has(n))return L2.get(n);const e=hM(n);return e!==n&&(L2.set(n,e),p5.set(e,n)),e}const D2=n=>p5.get(n);function fM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),c=rd(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rd(o.result),u.oldVersion,u.newVersion,rd(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const pM=["get","getKey","getAll","getAllKeys","count"],gM=["put","add","delete","clear"],j2=new Map;function LE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(j2.get(e))return j2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=gM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pM.includes(t)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),i&&u.done]))[0]};return j2.set(e,s),s}uM(n=>({...n,get:(e,t,r)=>LE(e,t)||n.get(e,t,r),has:(e,t)=>!!LE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function xM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qw="@firebase/app",DE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new f5("@firebase/app"),vM="@firebase/app-compat",yM="@firebase/analytics-compat",wM="@firebase/analytics",bM="@firebase/app-check-compat",_M="@firebase/app-check",CM="@firebase/auth",EM="@firebase/auth-compat",NM="@firebase/database",SM="@firebase/data-connect",BM="@firebase/database-compat",TM="@firebase/functions",IM="@firebase/functions-compat",kM="@firebase/installations",FM="@firebase/installations-compat",UM="@firebase/messaging",RM="@firebase/messaging-compat",LM="@firebase/performance",DM="@firebase/performance-compat",jM="@firebase/remote-config",MM="@firebase/remote-config-compat",PM="@firebase/storage",OM="@firebase/storage-compat",QM="@firebase/firestore",HM="@firebase/ai",VM="@firebase/firestore-compat",zM="firebase",GM="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="[DEFAULT]",KM={[Qw]:"fire-core",[vM]:"fire-core-compat",[wM]:"fire-analytics",[yM]:"fire-analytics-compat",[_M]:"fire-app-check",[bM]:"fire-app-check-compat",[CM]:"fire-auth",[EM]:"fire-auth-compat",[NM]:"fire-rtdb",[SM]:"fire-data-connect",[BM]:"fire-rtdb-compat",[TM]:"fire-fn",[IM]:"fire-fn-compat",[kM]:"fire-iid",[FM]:"fire-iid-compat",[UM]:"fire-fcm",[RM]:"fire-fcm-compat",[LM]:"fire-perf",[DM]:"fire-perf-compat",[jM]:"fire-rc",[MM]:"fire-rc-compat",[PM]:"fire-gcs",[OM]:"fire-gcs-compat",[QM]:"fire-fst",[VM]:"fire-fst-compat",[HM]:"fire-vertex","fire-js":"fire-js",[zM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map,qM=new Map,Vw=new Map;function jE(n,e){try{n.container.addComponent(e)}catch(t){KA.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function c0(n){const e=n.name;if(Vw.has(e))return KA.debug(`There were multiple attempts to register component ${e}.`),!1;Vw.set(e,n);for(const t of l1.values())jE(t,n);for(const t of qM.values())jE(t,n);return!0}function g5(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vl(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},id=new Lg("app","Firebase",$M);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw id.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=GM;function fI(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Hw,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw id.create("bad-app-name",{appName:String(i)});if(t||(t=lI()),!t)throw id.create("no-options");const s=l1.get(i);if(s){if(hh(t,s.options)&&hh(r,s.config))return s;throw id.create("duplicate-app",{appName:i})}const o=new tM(i);for(const u of Vw.values())o.addComponent(u);const c=new WM(t,r,o);return l1.set(i,c),c}function pI(n=Hw){const e=l1.get(n);if(!e&&n===Hw&&lI())return fI();if(!e)throw id.create("no-app",{appName:n});return e}function sd(n,e,t){let r=KM[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),KA.warn(o.join(" "));return}c0(new fh(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="firebase-heartbeat-database",XM=1,ug="firebase-heartbeat-store";let M2=null;function gI(){return M2||(M2=fM(YM,XM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ug)}catch(t){console.warn(t)}}}}).catch(n=>{throw id.create("idb-open",{originalErrorMessage:n.message})})),M2}async function JM(n){try{const t=(await gI()).transaction(ug),r=await t.objectStore(ug).get(mI(n));return await t.done,r}catch(e){if(e instanceof nu)KA.warn(e.message);else{const t=id.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});KA.warn(t.message)}}}async function ME(n,e){try{const r=(await gI()).transaction(ug,"readwrite");await r.objectStore(ug).put(e,mI(n)),await r.done}catch(t){if(t instanceof nu)KA.warn(t.message);else{const r=id.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});KA.warn(r.message)}}}function mI(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=1024,e8=30;class t8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new r8(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>e8){const o=i8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){KA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PE(),{heartbeatsToSend:r,unsentEntries:i}=n8(this._heartbeatsCache.heartbeats),s=o1(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return KA.warn(t),""}}}function PE(){return new Date().toISOString().substring(0,10)}function n8(n,e=ZM){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),OE(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),OE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class r8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vj()?zj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ME(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function OE(n){return o1(JSON.stringify({version:2,heartbeats:n})).length}function i8(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(n){c0(new fh("platform-logger",e=>new mM(e),"PRIVATE")),c0(new fh("heartbeat",e=>new t8(e),"PRIVATE")),sd(Qw,DE,n),sd(Qw,DE,"esm2020"),sd("fire-js","")}s8("");function xI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a8=xI,vI=new Lg("auth","Firebase",xI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new f5("@firebase/auth");function o8(n,...e){c1.logLevel<=zn.WARN&&c1.warn(`Auth (${b0}): ${n}`,...e)}function Ox(n,...e){c1.logLevel<=zn.ERROR&&c1.error(`Auth (${b0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n,...e){throw m5(n,...e)}function Gc(n,...e){return m5(n,...e)}function yI(n,e,t){const r={...a8(),[e]:t};return new Lg("auth","Firebase",r).create(e,{appName:n.name})}function OA(n){return yI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m5(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vI.create(n,...e)}function yn(n,e,...t){if(!n)throw m5(e,...t)}function MA(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ox(e),new Error(e)}function qA(n,e){n||MA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function l8(){return QE()==="http:"||QE()==="https:"}function QE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l8()||Pj()||"connection"in navigator)?navigator.onLine:!0}function A8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t){this.shortDelay=e,this.longDelay=t,qA(t>e,"Short delay should be less than long delay!"),this.isMobile=Dj()||Oj()}get(){return c8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(n,e){qA(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;MA("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;MA("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;MA("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h8=new jg(3e4,6e4);function Sd(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function rA(n,e,t,r,i={}){return bI(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const c=Dg({key:n.config.apiKey,...o}).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:u,...s};return Mj()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&w0(n.emulatorConfig.host)&&(d.credentials="include"),wI.fetch()(await _I(n,n.config.apiHost,t,c),d)})}async function bI(n,e,t){n._canInitEmulator=!1;const r={...u8,...e};try{const i=new p8(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qm(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qm(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw qm(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw qm(n,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yI(n,f,d);ac(n,f)}}catch(i){if(i instanceof nu)throw i;ac(n,"network-request-failed",{message:String(i)})}}async function Mg(n,e,t,r,i={}){const s=await rA(n,e,t,r,i);return"mfaPendingCredential"in s&&ac(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function _I(n,e,t,r){const i=`${e}${t}?${r}`,s=n,o=s.config.emulator?x5(n.config,i):`${n.config.apiScheme}://${i}`;return d8.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function f8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Gc(this.auth,"network-request-failed")),h8.get())})}}function qm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Gc(n,e,r);return i.customData._tokenResponse=t,i}function HE(n){return n!==void 0&&n.enterprise!==void 0}class g8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return f8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m8(n,e){return rA(n,"GET","/v2/recaptchaConfig",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(n,e){return rA(n,"POST","/v1/accounts:delete",e)}async function A1(n,e){return rA(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v8(n,e=!1){const t=wi(n),r=await t.getIdToken(e),i=v5(r);yn(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$p(P2(i.auth_time)),issuedAtTime:$p(P2(i.iat)),expirationTime:$p(P2(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function P2(n){return Number(n)*1e3}function v5(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ox("JWT malformed, contained fewer than 3 sections"),null;try{const i=aI(t);return i?JSON.parse(i):(Ox("Failed to decode base64 JWT payload"),null)}catch(i){return Ox("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VE(n){const e=v5(n);return yn(e,"internal-error"),yn(typeof e.exp<"u","internal-error"),yn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nu&&y8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function y8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$p(this.lastLoginAt),this.creationTime=$p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n){var g;const e=n.auth,t=await n.getIdToken(),r=await ph(n,A1(e,{idToken:t}));yn(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?CI(i.providerUserInfo):[],o=_8(n.providerData,s),c=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!(o!=null&&o.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,f)}async function b8(n){const e=wi(n);await u1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _8(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(n,e){const t=await bI(n,{},async()=>{const r=Dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await _I(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return n.emulatorConfig&&w0(n.emulatorConfig.host)&&(u.credentials="include"),wI.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function E8(n,e){return rA(n,"POST","/v2/accounts:revokeToken",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yn(e.idToken,"internal-error"),yn(typeof e.idToken<"u","internal-error"),yn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){yn(e.length!==0,"internal-error");const t=VE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(yn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await C8(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new qf;return r&&(yn(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(yn(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(yn(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qf,this.toJSON())}_performRefresh(){return MA("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(n,e){yn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ec{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new w8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ph(this,this.stsTokenManager.getToken(this.auth,e));return yn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return v8(this,e)}reload(){return b8(this)}_assign(e){this!==e&&(yn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ec({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){yn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await u1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vl(this.auth.app))return Promise.reject(OA(this.auth));const e=await this.getIdToken();return await ph(this,x8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,u=t._redirectEventId??void 0,d=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:g,emailVerified:m,isAnonymous:v,providerData:C,stsTokenManager:_}=t;yn(g&&_,e,"internal-error");const E=qf.fromJSON(this.name,_);yn(typeof g=="string",e,"internal-error"),Mu(r,e.name),Mu(i,e.name),yn(typeof m=="boolean",e,"internal-error"),yn(typeof v=="boolean",e,"internal-error"),Mu(s,e.name),Mu(o,e.name),Mu(c,e.name),Mu(u,e.name),Mu(d,e.name),Mu(f,e.name);const T=new ec({uid:g,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:E,createdAt:d,lastLoginAt:f});return C&&Array.isArray(C)&&(T.providerData=C.map(k=>({...k}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,t,r=!1){const i=new qf;i.updateFromServerResponse(t);const s=new ec({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await u1(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];yn(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new qf;c.updateFromIdToken(r);const u=new ec({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function PA(n){qA(n instanceof Function,"Expected a class definition");let e=zE.get(n);return e?(qA(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}EI.type="NONE";const GE=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(n,e,t){return`firebase:${n}:${e}:${t}`}class $f{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qx(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qx("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await A1(this.auth,{idToken:e}).catch(()=>{});return t?ec._fromGetAccountInfoResponse(this.auth,t,e):null}return ec._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new $f(PA(GE),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||PA(GE);const o=Qx(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const f=await d._get(o);if(f){let g;if(typeof f=="string"){const m=await A1(e,{idToken:f}).catch(()=>{});if(!m)break;g=await ec._fromGetAccountInfoResponse(e,m,f)}else g=ec._fromJSON(e,f);d!==s&&(c=g),s=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new $f(s,e,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new $f(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kI(e))return"Blackberry";if(FI(e))return"Webos";if(SI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(II(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NI(n=_a()){return/firefox\//i.test(n)}function SI(n=_a()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(n=_a()){return/crios\//i.test(n)}function TI(n=_a()){return/iemobile/i.test(n)}function II(n=_a()){return/android/i.test(n)}function kI(n=_a()){return/blackberry/i.test(n)}function FI(n=_a()){return/webos/i.test(n)}function y5(n=_a()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function N8(n=_a()){var e;return y5(n)&&!!((e=window.navigator)!=null&&e.standalone)}function S8(){return Qj()&&document.documentMode===10}function UI(n=_a()){return y5(n)||II(n)||FI(n)||kI(n)||/windows phone/i.test(n)||TI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(n,e=[]){let t;switch(n){case"Browser":t=KE(_a());break;case"Worker":t=`${KE(_a())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${b0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,c)=>{try{const u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(n,e={}){return rA(n,"GET","/v2/passwordPolicy",Sd(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=6;class k8{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??I8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new B8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=PA(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await $f.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await A1(this,{idToken:e}),r=await ec._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(vl(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await u1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vl(this.app))return Promise.reject(OA(this));const t=e?wi(e):null;return t&&yn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&yn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vl(this.app)?Promise.reject(OA(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vl(this.app)?Promise.reject(OA(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(PA(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T8(this),t=new k8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await E8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&PA(e)||this._popupRedirectResolver;yn(t,this,"argument-error"),this.redirectPersistenceManager=await $f.create(this,[PA(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(yn(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(vl(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&o8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ch(n){return wi(n)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wj(t=>this.observer=t)}get next(){return yn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U8(n){dv=n}function LI(n){return dv.loadJS(n)}function R8(){return dv.recaptchaEnterpriseScript}function L8(){return dv.gapiScript}function D8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class j8{constructor(){this.enterprise=new M8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class M8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const P8="recaptcha-enterprise",DI="NO_RECAPTCHA";class O8{constructor(e){this.type=P8,this.auth=Ch(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{m8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new g8(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;HE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(DI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j8().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&HE(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=R8();u.length!==0&&(u+=c),LI(u).then(()=>{i(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function $E(n,e,t,r=!1,i=!1){const s=new O8(n);let o;if(i)o=DI;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Kw(n,e,t,r,i){var s;if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $E(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await $E(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(n,e){const t=g5(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(hh(s,e??{}))return i;ac(i,"already-initialized")}return t.initialize({options:e})}function H8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(PA);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V8(n,e,t){const r=Ch(n);yn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=jI(e),{host:o,port:c}=z8(e),u=c===null?"":`:${c}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){yn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yn(hh(d,r.config.emulator)&&hh(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,w0(o)?(AI(`${s}//${o}${u}`),uI("Auth",!0)):G8()}function jI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function z8(n){const e=jI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:WE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:WE(o)}}}function WE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function G8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return MA("not implemented")}_getIdTokenResponse(e){return MA("not implemented")}_linkToIdToken(e,t){return MA("not implemented")}_getReauthenticationResolver(e){return MA("not implemented")}}async function K8(n,e){return rA(n,"POST","/v1/accounts:update",e)}async function q8(n,e){return rA(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e){return Mg(n,"POST","/v1/accounts:signInWithPassword",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W8(n,e){return Mg(n,"POST","/v1/accounts:signInWithEmailLink",Sd(n,e))}async function Y8(n,e){return Mg(n,"POST","/v1/accounts:signInWithEmailLink",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends w5{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new dg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new dg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,t,"signInWithPassword",$8);case"emailLink":return W8(e,{email:this._email,oobCode:this._password});default:ac(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kw(e,r,"signUpPassword",q8);case"emailLink":return Y8(e,{idToken:t,email:this._email,oobCode:this._password});default:ac(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wf(n,e){return Mg(n,"POST","/v1/accounts:signInWithIdp",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="http://localhost";class gh extends w5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ac("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=t;if(!r||!i)return null;const o=new gh(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Wf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Wf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Wf(e,t)}buildRequest(){const e={requestUri:X8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z8(n){const e=Fp(Up(n)).link,t=e?Fp(Up(e)).deep_link_id:null,r=Fp(Up(n)).deep_link_id;return(r?Fp(Up(r)).link:null)||r||t||e||n}class b5{constructor(e){const t=Fp(Up(e)),r=t.apiKey??null,i=t.oobCode??null,s=J8(t.mode??null);yn(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Z8(e);try{return new b5(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.providerId=_0.PROVIDER_ID}static credential(e,t){return dg._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=b5.parseLink(t);return yn(r,"argument-error"),dg._fromEmailAndCode(e,r.code,r.tenantId)}}_0.PROVIDER_ID="password";_0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends MI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Pg{constructor(){super("facebook.com")}static credential(e){return gh._fromParams({providerId:Ku.PROVIDER_ID,signInMethod:Ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ku.credentialFromTaggedObject(e)}static credentialFromError(e){return Ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ku.credential(e.oauthAccessToken)}catch{return null}}}Ku.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ku.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Pg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gh._fromParams({providerId:qu.PROVIDER_ID,signInMethod:qu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qu.credentialFromTaggedObject(e)}static credentialFromError(e){return qu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return qu.credential(t,r)}catch{return null}}}qu.GOOGLE_SIGN_IN_METHOD="google.com";qu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends Pg{constructor(){super("github.com")}static credential(e){return gh._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $u.credential(e.oauthAccessToken)}catch{return null}}}$u.GITHUB_SIGN_IN_METHOD="github.com";$u.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Pg{constructor(){super("twitter.com")}static credential(e,t){return gh._fromParams({providerId:Wu.PROVIDER_ID,signInMethod:Wu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wu.credentialFromTaggedObject(e)}static credentialFromError(e){return Wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Wu.credential(t,r)}catch{return null}}}Wu.TWITTER_SIGN_IN_METHOD="twitter.com";Wu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(n,e){return Mg(n,"POST","/v1/accounts:signUp",Sd(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await ec._fromIdTokenResponse(e,r,i),o=YE(r);return new mh({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=YE(r);return new mh({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function YE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1 extends nu{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,d1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new d1(e,t,r,i)}}function PI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?d1._fromErrorAndOperation(n,s,e,r):s})}async function tP(n,e,t=!1){const r=await ph(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return mh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,e,t=!1){const{auth:r}=n;if(vl(r.app))return Promise.reject(OA(r));const i="reauthenticate";try{const s=await ph(n,PI(r,i,e,n),t);yn(s.idToken,r,"internal-error");const o=v5(s.idToken);yn(o,r,"internal-error");const{sub:c}=o;return yn(n.uid===c,r,"user-mismatch"),mh._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ac(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(n,e,t=!1){if(vl(n.app))return Promise.reject(OA(n));const r="signIn",i=await PI(n,r,e),s=await mh._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function rP(n,e){return OI(Ch(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(n){const e=Ch(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iP(n,e,t){if(vl(n.app))return Promise.reject(OA(n));const r=Ch(n),o=await Kw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eP).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&QI(n),u}),c=await mh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function sP(n,e,t){return vl(n.app)?Promise.reject(OA(n)):rP(wi(n),_0.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(n,e){return rA(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wi(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await ph(r,aP(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function oP(n,e){return lP(wi(n),null,e)}async function lP(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(s.password=t);const o=await ph(n,K8(r,s));await n._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e){return wi(n).setPersistence(e)}function AP(n,e,t,r){return wi(n).onIdTokenChanged(e,t,r)}function uP(n,e,t){return wi(n).beforeAuthStateChanged(e,t)}function dP(n,e,t,r){return wi(n).onAuthStateChanged(e,t,r)}function hP(n){return wi(n).signOut()}const h1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(h1,"1"),this.storage.removeItem(h1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1e3,pP=10;class VI extends HI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);S8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pP):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VI.type="LOCAL";const zI=VI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends HI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}GI.type="SESSION";const _5=GI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new hv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async d=>d(t.origin,s)),u=await gP(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const d=C5("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const m=g;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(){return window}function xP(n){Kc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof Kc().WorkerGlobalScope<"u"&&typeof Kc().importScripts=="function"}async function vP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function wP(){return KI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebaseLocalStorageDb",bP=1,f1="firebaseLocalStorage",$I="fbase_key";class Og{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fv(n,e){return n.transaction([f1],e?"readwrite":"readonly").objectStore(f1)}function _P(){const n=indexedDB.deleteDatabase(qI);return new Og(n).toPromise()}function qw(){const n=indexedDB.open(qI,bP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(f1,{keyPath:$I})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(f1)?e(r):(r.close(),await _P(),e(await qw()))})})}async function JE(n,e,t){const r=fv(n,!0).put({[$I]:e,value:t});return new Og(r).toPromise()}async function CP(n,e){const t=fv(n,!1).get(e),r=await new Og(t).toPromise();return r===void 0?null:r.value}function ZE(n,e){const t=fv(n,!0).delete(e);return new Og(t).toPromise()}const EP=800,NP=3;class WI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hv._getInstance(wP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await vP(),!this.activeServiceWorker)return;this.sender=new mP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qw();return await JE(e,h1,"1"),await ZE(e,h1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>JE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>CP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fv(i,!1).getAll();return new Og(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WI.type="LOCAL";const SP=WI;new jg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(n,e){return e?PA(e):(yn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5 extends w5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function TP(n){return OI(n.auth,new E5(n),n.bypassAuthState)}function IP(n){const{auth:e,user:t}=n;return yn(t,e,"internal-error"),nP(t,new E5(n),n.bypassAuthState)}async function kP(n){const{auth:e,user:t}=n;return yn(t,e,"internal-error"),tP(t,new E5(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TP;case"linkViaPopup":case"linkViaRedirect":return kP;case"reauthViaPopup":case"reauthViaRedirect":return IP;default:ac(this.auth,"internal-error")}}resolve(e){qA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new jg(2e3,1e4);class Of extends YI{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Of.currentPopupAction&&Of.currentPopupAction.cancel(),Of.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yn(e,this.auth,"internal-error"),e}async onExecution(){qA(this.filter.length===1,"Popup operations only handle one event");const e=C5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Gc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Gc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Of.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FP.get())};e()}}Of.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="pendingRedirect",Hx=new Map;class RP extends YI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hx.get(this.auth._key());if(!e){try{const r=await LP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hx.set(this.auth._key(),e)}return this.bypassAuthState||Hx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LP(n,e){const t=MP(e),r=jP(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function DP(n,e){Hx.set(n._key(),e)}function jP(n){return PA(n._redirectPersistence)}function MP(n){return Qx(UP,n.config.apiKey,n.name)}async function PP(n,e,t=!1){if(vl(n.app))return Promise.reject(OA(n));const r=Ch(n),i=BP(r,e),o=await new RP(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=600*1e3;class QP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XI(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Gc(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OP&&this.cachedEventUids.clear(),this.cachedEventUids.has(eN(e))}saveEventToCache(e){this.cachedEventUids.add(eN(e)),this.lastProcessedEventTime=Date.now()}}function eN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(n,e={}){return rA(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GP=/^https?/;async function KP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await VP(n);for(const t of e)try{if(qP(t))return}catch{}ac(n,"unauthorized-domain")}function qP(n){const e=zw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!GP.test(t))return!1;if(zP.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new jg(3e4,6e4);function tN(){const n=Kc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function WP(n){return new Promise((e,t)=>{var i,s,o;function r(){tN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tN(),t(Gc(n,"network-request-failed"))},timeout:$P.get()})}if((s=(i=Kc().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Kc().gapi)!=null&&o.load)r();else{const c=D8("iframefcb");return Kc()[c]=()=>{gapi.load?r():t(Gc(n,"network-request-failed"))},LI(`${L8()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw Vx=null,e})}let Vx=null;function YP(n){return Vx=Vx||WP(n),Vx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new jg(5e3,15e3),JP="__/auth/iframe",ZP="emulator/auth/iframe",eO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nO(n){const e=n.config;yn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?x5(e,ZP):`https://${n.config.authDomain}/${JP}`,r={apiKey:e.apiKey,appName:n.name,v:b0},i=tO.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Dg(r).slice(1)}`}async function rO(n){const e=await YP(n),t=Kc().gapi;return yn(t,n,"internal-error"),e.open({where:document.body,url:nO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gc(n,"network-request-failed"),c=Kc().setTimeout(()=>{s(o)},XP.get());function u(){Kc().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sO=500,aO=600,oO="_blank",lO="http://localhost";class nN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cO(n,e,t,r=sO,i=aO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...iO,width:r.toString(),height:i.toString(),top:s,left:o},d=_a().toLowerCase();t&&(c=BI(d)?oO:t),NI(d)&&(e=e||lO,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[v,C])=>`${m}${v}=${C},`,"");if(N8(d)&&c!=="_self")return AO(e||"",c),new nN(null);const g=window.open(e||"",c,f);yn(g,n,"popup-blocked");try{g.focus()}catch{}return new nN(g)}function AO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO="__/auth/handler",dO="emulator/auth/handler",hO=encodeURIComponent("fac");async function rN(n,e,t,r,i,s){yn(n.config.authDomain,n,"auth-domain-config-required"),yn(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:b0,eventId:i};if(e instanceof MI){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",$j(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries({}))o[f]=g}if(e instanceof Pg){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await n._getAppCheckToken(),d=u?`#${hO}=${encodeURIComponent(u)}`:"";return`${fO(n)}?${Dg(c).slice(1)}${d}`}function fO({config:n}){return n.emulator?x5(n,dO):`https://${n.authDomain}/${uO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="webStorageSupport";class pO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_5,this._completeRedirectFn=PP,this._overrideRedirectResult=DP}async _openPopup(e,t,r,i){var o;qA((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await rN(e,t,r,zw(),i);return cO(e,s,C5())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await rN(e,t,r,zw(),i);return xP(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(qA(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rO(e),r=new QP(e);return t.register("authEvent",i=>(yn(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(O2,{type:O2},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[O2];s!==void 0&&t(!!s),ac(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UI()||SI()||y5()}}const gO=pO;var iN="@firebase/auth",sN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vO(n){c0(new fh("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;yn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(n)},d=new F8(r,i,s,u);return H8(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),c0(new fh("auth-internal",e=>{const t=Ch(e.getProvider("auth").getImmediate());return(r=>new mO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),sd(iN,sN,xO(n)),sd(iN,sN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=300,wO=cI("authIdTokenMaxAge")||yO;let aN=null;const bO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wO)return;const i=t==null?void 0:t.token;aN!==i&&(aN=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _O(n=pI()){const e=g5(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Q8(n,{popupRedirectResolver:gO,persistence:[SP,zI,_5]}),r=cI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=bO(s.toString());uP(t,o,()=>o(t.currentUser)),AP(t,c=>o(c))}}const i=oI("auth");return i&&V8(t,`http://${i}`),t}function CO(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}U8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Gc("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",CO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vO("Browser");var oN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ad,JI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,F){function M(){}M.prototype=F.prototype,R.F=F.prototype,R.prototype=new M,R.prototype.constructor=R,R.D=function(G,L,Q){for(var j=Array(arguments.length-2),re=2;re<arguments.length;re++)j[re-2]=arguments[re];return F.prototype[L].apply(G,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,F,M){M||(M=0);const G=Array(16);if(typeof F=="string")for(var L=0;L<16;++L)G[L]=F.charCodeAt(M++)|F.charCodeAt(M++)<<8|F.charCodeAt(M++)<<16|F.charCodeAt(M++)<<24;else for(L=0;L<16;++L)G[L]=F[M++]|F[M++]<<8|F[M++]<<16|F[M++]<<24;F=R.g[0],M=R.g[1],L=R.g[2];let Q=R.g[3],j;j=F+(Q^M&(L^Q))+G[0]+3614090360&4294967295,F=M+(j<<7&4294967295|j>>>25),j=Q+(L^F&(M^L))+G[1]+3905402710&4294967295,Q=F+(j<<12&4294967295|j>>>20),j=L+(M^Q&(F^M))+G[2]+606105819&4294967295,L=Q+(j<<17&4294967295|j>>>15),j=M+(F^L&(Q^F))+G[3]+3250441966&4294967295,M=L+(j<<22&4294967295|j>>>10),j=F+(Q^M&(L^Q))+G[4]+4118548399&4294967295,F=M+(j<<7&4294967295|j>>>25),j=Q+(L^F&(M^L))+G[5]+1200080426&4294967295,Q=F+(j<<12&4294967295|j>>>20),j=L+(M^Q&(F^M))+G[6]+2821735955&4294967295,L=Q+(j<<17&4294967295|j>>>15),j=M+(F^L&(Q^F))+G[7]+4249261313&4294967295,M=L+(j<<22&4294967295|j>>>10),j=F+(Q^M&(L^Q))+G[8]+1770035416&4294967295,F=M+(j<<7&4294967295|j>>>25),j=Q+(L^F&(M^L))+G[9]+2336552879&4294967295,Q=F+(j<<12&4294967295|j>>>20),j=L+(M^Q&(F^M))+G[10]+4294925233&4294967295,L=Q+(j<<17&4294967295|j>>>15),j=M+(F^L&(Q^F))+G[11]+2304563134&4294967295,M=L+(j<<22&4294967295|j>>>10),j=F+(Q^M&(L^Q))+G[12]+1804603682&4294967295,F=M+(j<<7&4294967295|j>>>25),j=Q+(L^F&(M^L))+G[13]+4254626195&4294967295,Q=F+(j<<12&4294967295|j>>>20),j=L+(M^Q&(F^M))+G[14]+2792965006&4294967295,L=Q+(j<<17&4294967295|j>>>15),j=M+(F^L&(Q^F))+G[15]+1236535329&4294967295,M=L+(j<<22&4294967295|j>>>10),j=F+(L^Q&(M^L))+G[1]+4129170786&4294967295,F=M+(j<<5&4294967295|j>>>27),j=Q+(M^L&(F^M))+G[6]+3225465664&4294967295,Q=F+(j<<9&4294967295|j>>>23),j=L+(F^M&(Q^F))+G[11]+643717713&4294967295,L=Q+(j<<14&4294967295|j>>>18),j=M+(Q^F&(L^Q))+G[0]+3921069994&4294967295,M=L+(j<<20&4294967295|j>>>12),j=F+(L^Q&(M^L))+G[5]+3593408605&4294967295,F=M+(j<<5&4294967295|j>>>27),j=Q+(M^L&(F^M))+G[10]+38016083&4294967295,Q=F+(j<<9&4294967295|j>>>23),j=L+(F^M&(Q^F))+G[15]+3634488961&4294967295,L=Q+(j<<14&4294967295|j>>>18),j=M+(Q^F&(L^Q))+G[4]+3889429448&4294967295,M=L+(j<<20&4294967295|j>>>12),j=F+(L^Q&(M^L))+G[9]+568446438&4294967295,F=M+(j<<5&4294967295|j>>>27),j=Q+(M^L&(F^M))+G[14]+3275163606&4294967295,Q=F+(j<<9&4294967295|j>>>23),j=L+(F^M&(Q^F))+G[3]+4107603335&4294967295,L=Q+(j<<14&4294967295|j>>>18),j=M+(Q^F&(L^Q))+G[8]+1163531501&4294967295,M=L+(j<<20&4294967295|j>>>12),j=F+(L^Q&(M^L))+G[13]+2850285829&4294967295,F=M+(j<<5&4294967295|j>>>27),j=Q+(M^L&(F^M))+G[2]+4243563512&4294967295,Q=F+(j<<9&4294967295|j>>>23),j=L+(F^M&(Q^F))+G[7]+1735328473&4294967295,L=Q+(j<<14&4294967295|j>>>18),j=M+(Q^F&(L^Q))+G[12]+2368359562&4294967295,M=L+(j<<20&4294967295|j>>>12),j=F+(M^L^Q)+G[5]+4294588738&4294967295,F=M+(j<<4&4294967295|j>>>28),j=Q+(F^M^L)+G[8]+2272392833&4294967295,Q=F+(j<<11&4294967295|j>>>21),j=L+(Q^F^M)+G[11]+1839030562&4294967295,L=Q+(j<<16&4294967295|j>>>16),j=M+(L^Q^F)+G[14]+4259657740&4294967295,M=L+(j<<23&4294967295|j>>>9),j=F+(M^L^Q)+G[1]+2763975236&4294967295,F=M+(j<<4&4294967295|j>>>28),j=Q+(F^M^L)+G[4]+1272893353&4294967295,Q=F+(j<<11&4294967295|j>>>21),j=L+(Q^F^M)+G[7]+4139469664&4294967295,L=Q+(j<<16&4294967295|j>>>16),j=M+(L^Q^F)+G[10]+3200236656&4294967295,M=L+(j<<23&4294967295|j>>>9),j=F+(M^L^Q)+G[13]+681279174&4294967295,F=M+(j<<4&4294967295|j>>>28),j=Q+(F^M^L)+G[0]+3936430074&4294967295,Q=F+(j<<11&4294967295|j>>>21),j=L+(Q^F^M)+G[3]+3572445317&4294967295,L=Q+(j<<16&4294967295|j>>>16),j=M+(L^Q^F)+G[6]+76029189&4294967295,M=L+(j<<23&4294967295|j>>>9),j=F+(M^L^Q)+G[9]+3654602809&4294967295,F=M+(j<<4&4294967295|j>>>28),j=Q+(F^M^L)+G[12]+3873151461&4294967295,Q=F+(j<<11&4294967295|j>>>21),j=L+(Q^F^M)+G[15]+530742520&4294967295,L=Q+(j<<16&4294967295|j>>>16),j=M+(L^Q^F)+G[2]+3299628645&4294967295,M=L+(j<<23&4294967295|j>>>9),j=F+(L^(M|~Q))+G[0]+4096336452&4294967295,F=M+(j<<6&4294967295|j>>>26),j=Q+(M^(F|~L))+G[7]+1126891415&4294967295,Q=F+(j<<10&4294967295|j>>>22),j=L+(F^(Q|~M))+G[14]+2878612391&4294967295,L=Q+(j<<15&4294967295|j>>>17),j=M+(Q^(L|~F))+G[5]+4237533241&4294967295,M=L+(j<<21&4294967295|j>>>11),j=F+(L^(M|~Q))+G[12]+1700485571&4294967295,F=M+(j<<6&4294967295|j>>>26),j=Q+(M^(F|~L))+G[3]+2399980690&4294967295,Q=F+(j<<10&4294967295|j>>>22),j=L+(F^(Q|~M))+G[10]+4293915773&4294967295,L=Q+(j<<15&4294967295|j>>>17),j=M+(Q^(L|~F))+G[1]+2240044497&4294967295,M=L+(j<<21&4294967295|j>>>11),j=F+(L^(M|~Q))+G[8]+1873313359&4294967295,F=M+(j<<6&4294967295|j>>>26),j=Q+(M^(F|~L))+G[15]+4264355552&4294967295,Q=F+(j<<10&4294967295|j>>>22),j=L+(F^(Q|~M))+G[6]+2734768916&4294967295,L=Q+(j<<15&4294967295|j>>>17),j=M+(Q^(L|~F))+G[13]+1309151649&4294967295,M=L+(j<<21&4294967295|j>>>11),j=F+(L^(M|~Q))+G[4]+4149444226&4294967295,F=M+(j<<6&4294967295|j>>>26),j=Q+(M^(F|~L))+G[11]+3174756917&4294967295,Q=F+(j<<10&4294967295|j>>>22),j=L+(F^(Q|~M))+G[2]+718787259&4294967295,L=Q+(j<<15&4294967295|j>>>17),j=M+(Q^(L|~F))+G[9]+3951481745&4294967295,R.g[0]=R.g[0]+F&4294967295,R.g[1]=R.g[1]+(L+(j<<21&4294967295|j>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+Q&4294967295}r.prototype.v=function(R,F){F===void 0&&(F=R.length);const M=F-this.blockSize,G=this.C;let L=this.h,Q=0;for(;Q<F;){if(L==0)for(;Q<=M;)i(this,R,Q),Q+=this.blockSize;if(typeof R=="string"){for(;Q<F;)if(G[L++]=R.charCodeAt(Q++),L==this.blockSize){i(this,G),L=0;break}}else for(;Q<F;)if(G[L++]=R[Q++],L==this.blockSize){i(this,G),L=0;break}}this.h=L,this.o+=F},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var F=1;F<R.length-8;++F)R[F]=0;F=this.o*8;for(var M=R.length-8;M<R.length;++M)R[M]=F&255,F/=256;for(this.v(R),R=Array(16),F=0,M=0;M<4;++M)for(let G=0;G<32;G+=8)R[F++]=this.g[M]>>>G&255;return R};function s(R,F){var M=c;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=F(R)}function o(R,F){this.h=F;const M=[];let G=!0;for(let L=R.length-1;L>=0;L--){const Q=R[L]|0;G&&Q==F||(M[L]=Q,G=!1)}this.g=M}var c={};function u(R){return-128<=R&&R<128?s(R,function(F){return new o([F|0],F<0?-1:0)}):new o([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return g;if(R<0)return E(d(-R));const F=[];let M=1;for(let G=0;R>=M;G++)F[G]=R/M|0,M*=4294967296;return new o(F,0)}function f(R,F){if(R.length==0)throw Error("number format error: empty string");if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(R.charAt(0)=="-")return E(f(R.substring(1),F));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(F,8));let G=g;for(let Q=0;Q<R.length;Q+=8){var L=Math.min(8,R.length-Q);const j=parseInt(R.substring(Q,Q+L),F);L<8?(L=d(Math.pow(F,L)),G=G.j(L).add(d(j))):(G=G.j(M),G=G.add(d(j)))}return G}var g=u(0),m=u(1),v=u(16777216);n=o.prototype,n.m=function(){if(_(this))return-E(this).m();let R=0,F=1;for(let M=0;M<this.g.length;M++){const G=this.i(M);R+=(G>=0?G:4294967296+G)*F,F*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(_(this))return"-"+E(this).toString(R);const F=d(Math.pow(R,6));var M=this;let G="";for(;;){const L=z(M,F).g;M=T(M,L.j(F));let Q=((M.g.length>0?M.g[0]:M.h)>>>0).toString(R);if(M=L,C(M))return Q+G;for(;Q.length<6;)Q="0"+Q;G=Q+G}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let F=0;F<R.g.length;F++)if(R.g[F]!=0)return!1;return!0}function _(R){return R.h==-1}n.l=function(R){return R=T(this,R),_(R)?-1:C(R)?0:1};function E(R){const F=R.g.length,M=[];for(let G=0;G<F;G++)M[G]=~R.g[G];return new o(M,~R.h).add(m)}n.abs=function(){return _(this)?E(this):this},n.add=function(R){const F=Math.max(this.g.length,R.g.length),M=[];let G=0;for(let L=0;L<=F;L++){let Q=G+(this.i(L)&65535)+(R.i(L)&65535),j=(Q>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);G=j>>>16,Q&=65535,j&=65535,M[L]=j<<16|Q}return new o(M,M[M.length-1]&-2147483648?-1:0)};function T(R,F){return R.add(E(F))}n.j=function(R){if(C(this)||C(R))return g;if(_(this))return _(R)?E(this).j(E(R)):E(E(this).j(R));if(_(R))return E(this.j(E(R)));if(this.l(v)<0&&R.l(v)<0)return d(this.m()*R.m());const F=this.g.length+R.g.length,M=[];for(var G=0;G<2*F;G++)M[G]=0;for(G=0;G<this.g.length;G++)for(let L=0;L<R.g.length;L++){const Q=this.i(G)>>>16,j=this.i(G)&65535,re=R.i(L)>>>16,fe=R.i(L)&65535;M[2*G+2*L]+=j*fe,k(M,2*G+2*L),M[2*G+2*L+1]+=Q*fe,k(M,2*G+2*L+1),M[2*G+2*L+1]+=j*re,k(M,2*G+2*L+1),M[2*G+2*L+2]+=Q*re,k(M,2*G+2*L+2)}for(R=0;R<F;R++)M[R]=M[2*R+1]<<16|M[2*R];for(R=F;R<2*F;R++)M[R]=0;return new o(M,0)};function k(R,F){for(;(R[F]&65535)!=R[F];)R[F+1]+=R[F]>>>16,R[F]&=65535,F++}function P(R,F){this.g=R,this.h=F}function z(R,F){if(C(F))throw Error("division by zero");if(C(R))return new P(g,g);if(_(R))return F=z(E(R),F),new P(E(F.g),E(F.h));if(_(F))return F=z(R,E(F)),new P(E(F.g),F.h);if(R.g.length>30){if(_(R)||_(F))throw Error("slowDivide_ only works with positive integers.");for(var M=m,G=F;G.l(R)<=0;)M=Y(M),G=Y(G);var L=Z(M,1),Q=Z(G,1);for(G=Z(G,2),M=Z(M,2);!C(G);){var j=Q.add(G);j.l(R)<=0&&(L=L.add(M),Q=j),G=Z(G,1),M=Z(M,1)}return F=T(R,L.j(F)),new P(L,F)}for(L=g;R.l(F)>=0;){for(M=Math.max(1,Math.floor(R.m()/F.m())),G=Math.ceil(Math.log(M)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),Q=d(M),j=Q.j(F);_(j)||j.l(R)>0;)M-=G,Q=d(M),j=Q.j(F);C(Q)&&(Q=m),L=L.add(Q),R=T(R,j)}return new P(L,R)}n.B=function(R){return z(this,R).h},n.and=function(R){const F=Math.max(this.g.length,R.g.length),M=[];for(let G=0;G<F;G++)M[G]=this.i(G)&R.i(G);return new o(M,this.h&R.h)},n.or=function(R){const F=Math.max(this.g.length,R.g.length),M=[];for(let G=0;G<F;G++)M[G]=this.i(G)|R.i(G);return new o(M,this.h|R.h)},n.xor=function(R){const F=Math.max(this.g.length,R.g.length),M=[];for(let G=0;G<F;G++)M[G]=this.i(G)^R.i(G);return new o(M,this.h^R.h)};function Y(R){const F=R.g.length+1,M=[];for(let G=0;G<F;G++)M[G]=R.i(G)<<1|R.i(G-1)>>>31;return new o(M,R.h)}function Z(R,F){const M=F>>5;F%=32;const G=R.g.length-M,L=[];for(let Q=0;Q<G;Q++)L[Q]=F>0?R.i(Q+M)>>>F|R.i(Q+M+1)<<32-F:R.i(Q+M);return new o(L,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,JI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,ad=o}).apply(typeof oN<"u"?oN:typeof self<"u"?self:typeof window<"u"?window:{});var $m=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZI,Rp,ek,zx,$w,tk,nk,rk;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof $m=="object"&&$m];for(var N=0;N<p.length;++N){var D=p[N];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=t(this);function i(p,N){if(N)e:{var D=r;p=p.split(".");for(var W=0;W<p.length-1;W++){var pe=p[W];if(!(pe in D))break e;D=D[pe]}p=p[p.length-1],W=D[p],N=N(W),N!=W&&N!=null&&e(D,p,{configurable:!0,writable:!0,value:N})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(N){var D=[],W;for(W in N)Object.prototype.hasOwnProperty.call(N,W)&&D.push([W,N[W]]);return D}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function c(p){var N=typeof p;return N=="object"&&p!=null||N=="function"}function u(p,N,D){return p.call.apply(p.bind,arguments)}function d(p,N,D){return d=u,d.apply(null,arguments)}function f(p,N){var D=Array.prototype.slice.call(arguments,1);return function(){var W=D.slice();return W.push.apply(W,arguments),p.apply(this,W)}}function g(p,N){function D(){}D.prototype=N.prototype,p.Z=N.prototype,p.prototype=new D,p.prototype.constructor=p,p.Ob=function(W,pe,Ie){for(var Qe=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Qe[xt-2]=arguments[xt];return N.prototype[pe].apply(W,Qe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function v(p){const N=p.length;if(N>0){const D=Array(N);for(let W=0;W<N;W++)D[W]=p[W];return D}return[]}function C(p,N){for(let W=1;W<arguments.length;W++){const pe=arguments[W];var D=typeof pe;if(D=D!="object"?D:pe?Array.isArray(pe)?"array":D:"null",D=="array"||D=="object"&&typeof pe.length=="number"){D=p.length||0;const Ie=pe.length||0;p.length=D+Ie;for(let Qe=0;Qe<Ie;Qe++)p[D+Qe]=pe[Qe]}else p.push(pe)}}class _{constructor(N,D){this.i=N,this.j=D,this.h=0,this.g=null}get(){let N;return this.h>0?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function E(p){o.setTimeout(()=>{throw p},0)}function T(){var p=R;let N=null;return p.g&&(N=p.g,p.g=p.g.next,p.g||(p.h=null),N.next=null),N}class k{constructor(){this.h=this.g=null}add(N,D){const W=P.get();W.set(N,D),this.h?this.h.next=W:this.g=W,this.h=W}}var P=new _(()=>new z,p=>p.reset());class z{constructor(){this.next=this.g=this.h=null}set(N,D){this.h=N,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,Z=!1,R=new k,F=()=>{const p=Promise.resolve(void 0);Y=()=>{p.then(M)}};function M(){for(var p;p=T();){try{p.h.call(p.g)}catch(D){E(D)}var N=P;N.j(p),N.h<100&&(N.h++,p.next=N.g,N.g=p)}Z=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(p,N){this.type=p,this.g=this.target=N,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var Q=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var p=!1,N=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const D=()=>{};o.addEventListener("test",D,N),o.removeEventListener("test",D,N)}catch{}return p})();function j(p){return/^[\s\xa0]*$/.test(p)}function re(p,N){L.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,N)}g(re,L),re.prototype.init=function(p,N){const D=this.type=p.type,W=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=N,N=p.relatedTarget,N||(D=="mouseover"?N=p.fromElement:D=="mouseout"&&(N=p.toElement)),this.relatedTarget=N,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),ie=0;function Ae(p,N,D,W,pe){this.listener=p,this.proxy=null,this.src=N,this.type=D,this.capture=!!W,this.ha=pe,this.key=++ie,this.da=this.fa=!1}function me(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function _e(p,N,D){for(const W in p)N.call(D,p[W],W,p)}function we(p,N){for(const D in p)N.call(void 0,p[D],D,p)}function ee(p){const N={};for(const D in p)N[D]=p[D];return N}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(p,N){let D,W;for(let pe=1;pe<arguments.length;pe++){W=arguments[pe];for(D in W)p[D]=W[D];for(let Ie=0;Ie<U.length;Ie++)D=U[Ie],Object.prototype.hasOwnProperty.call(W,D)&&(p[D]=W[D])}}function V(p){this.src=p,this.g={},this.h=0}V.prototype.add=function(p,N,D,W,pe){const Ie=p.toString();p=this.g[Ie],p||(p=this.g[Ie]=[],this.h++);const Qe=q(p,N,W,pe);return Qe>-1?(N=p[Qe],D||(N.fa=!1)):(N=new Ae(N,this.src,Ie,!!W,pe),N.fa=D,p.push(N)),N};function J(p,N){const D=N.type;if(D in p.g){var W=p.g[D],pe=Array.prototype.indexOf.call(W,N,void 0),Ie;(Ie=pe>=0)&&Array.prototype.splice.call(W,pe,1),Ie&&(me(N),p.g[D].length==0&&(delete p.g[D],p.h--))}}function q(p,N,D,W){for(let pe=0;pe<p.length;++pe){const Ie=p[pe];if(!Ie.da&&Ie.listener==N&&Ie.capture==!!D&&Ie.ha==W)return pe}return-1}var te="closure_lm_"+(Math.random()*1e6|0),xe={};function ue(p,N,D,W,pe){if(Array.isArray(N)){for(let Ie=0;Ie<N.length;Ie++)ue(p,N[Ie],D,W,pe);return null}return D=St(D),p&&p[fe]?p.J(N,D,c(W)?!!W.capture:!1,pe):be(p,N,D,!1,W,pe)}function be(p,N,D,W,pe,Ie){if(!N)throw Error("Invalid event type");const Qe=c(pe)?!!pe.capture:!!pe;let xt=Ee(p);if(xt||(p[te]=xt=new V(p)),D=xt.add(N,D,W,Qe,Ie),D.proxy)return D;if(W=Ve(),D.proxy=W,W.src=p,W.listener=D,p.addEventListener)Q||(pe=Qe),pe===void 0&&(pe=!1),p.addEventListener(N.toString(),W,pe);else if(p.attachEvent)p.attachEvent(nt(N.toString()),W);else if(p.addListener&&p.removeListener)p.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ve(){function p(D){return N.call(p.src,p.listener,D)}const N=Re;return p}function Pe(p,N,D,W,pe){if(Array.isArray(N))for(var Ie=0;Ie<N.length;Ie++)Pe(p,N[Ie],D,W,pe);else W=c(W)?!!W.capture:!!W,D=St(D),p&&p[fe]?(p=p.i,Ie=String(N).toString(),Ie in p.g&&(N=p.g[Ie],D=q(N,D,W,pe),D>-1&&(me(N[D]),Array.prototype.splice.call(N,D,1),N.length==0&&(delete p.g[Ie],p.h--)))):p&&(p=Ee(p))&&(N=p.g[N.toString()],p=-1,N&&(p=q(N,D,W,pe)),(D=p>-1?N[p]:null)&&We(D))}function We(p){if(typeof p!="number"&&p&&!p.da){var N=p.src;if(N&&N[fe])J(N.i,p);else{var D=p.type,W=p.proxy;N.removeEventListener?N.removeEventListener(D,W,p.capture):N.detachEvent?N.detachEvent(nt(D),W):N.addListener&&N.removeListener&&N.removeListener(W),(D=Ee(N))?(J(D,p),D.h==0&&(D.src=null,N[te]=null)):me(p)}}}function nt(p){return p in xe?xe[p]:xe[p]="on"+p}function Re(p,N){if(p.da)p=!0;else{N=new re(N,this);const D=p.listener,W=p.ha||p.src;p.fa&&We(p),p=D.call(W,N)}return p}function Ee(p){return p=p[te],p instanceof V?p:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function St(p){return typeof p=="function"?p:(p[at]||(p[at]=function(N){return p.handleEvent(N)}),p[at])}function tt(){G.call(this),this.i=new V(this),this.M=this,this.G=null}g(tt,G),tt.prototype[fe]=!0,tt.prototype.removeEventListener=function(p,N,D,W){Pe(this,p,N,D,W)};function At(p,N){var D,W=p.G;if(W)for(D=[];W;W=W.G)D.push(W);if(p=p.M,W=N.type||N,typeof N=="string")N=new L(N,p);else if(N instanceof L)N.target=N.target||p;else{var pe=N;N=new L(W,p),H(N,pe)}pe=!0;let Ie,Qe;if(D)for(Qe=D.length-1;Qe>=0;Qe--)Ie=N.g=D[Qe],pe=Et(Ie,W,!0,N)&&pe;if(Ie=N.g=p,pe=Et(Ie,W,!0,N)&&pe,pe=Et(Ie,W,!1,N)&&pe,D)for(Qe=0;Qe<D.length;Qe++)Ie=N.g=D[Qe],pe=Et(Ie,W,!1,N)&&pe}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var p=this.i;for(const N in p.g){const D=p.g[N];for(let W=0;W<D.length;W++)me(D[W]);delete p.g[N],p.h--}}this.G=null},tt.prototype.J=function(p,N,D,W){return this.i.add(String(p),N,!1,D,W)},tt.prototype.K=function(p,N,D,W){return this.i.add(String(p),N,!0,D,W)};function Et(p,N,D,W){if(N=p.i.g[String(N)],!N)return!0;N=N.concat();let pe=!0;for(let Ie=0;Ie<N.length;++Ie){const Qe=N[Ie];if(Qe&&!Qe.da&&Qe.capture==D){const xt=Qe.listener,Pt=Qe.ha||Qe.src;Qe.fa&&J(p.i,Qe),pe=xt.call(Pt,W)!==!1&&pe}}return pe&&!W.defaultPrevented}function Bt(p,N){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(N)>2147483647?-1:o.setTimeout(p,N||0)}function Dt(p){p.g=Bt(()=>{p.g=null,p.i&&(p.i=!1,Dt(p))},p.l);const N=p.h;p.h=null,p.m.apply(null,N)}class Ne extends G{constructor(N,D){super(),this.m=N,this.l=D,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ze(p){G.call(this),this.h=p,this.g={}}g(ze,G);var ft=[];function ht(p){_e(p.g,function(N,D){this.g.hasOwnProperty(D)&&We(N)},p),p.g={}}ze.prototype.N=function(){ze.Z.N.call(this),ht(this)},ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=o.JSON.stringify,Tt=o.JSON.parse,Ue=class{stringify(p){return o.JSON.stringify(p,void 0)}parse(p){return o.JSON.parse(p,void 0)}};function ke(){}function Gt(){}var $t={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fn(){L.call(this,"d")}g(fn,L);function nn(){L.call(this,"c")}g(nn,L);var Jt={},hr=null;function ln(){return hr=hr||new tt}Jt.Ia="serverreachability";function _i(p){L.call(this,Jt.Ia,p)}g(_i,L);function ae(p){const N=ln();At(N,new _i(N))}Jt.STAT_EVENT="statevent";function Kt(p,N){L.call(this,Jt.STAT_EVENT,p),this.stat=N}g(Kt,L);function an(p){const N=ln();At(N,new Kt(N,p))}Jt.Ja="timingevent";function dn(p,N){L.call(this,Jt.Ja,p),this.size=N}g(dn,L);function Ht(p,N){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){p()},N)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function ts(p,N,D,W,pe,Ie){p.info(function(){if(p.g)if(Ie){var Qe="",xt=Ie.split("&");for(let Qt=0;Qt<xt.length;Qt++){var Pt=xt[Qt].split("=");if(Pt.length>1){const Zt=Pt[0];Pt=Pt[1];const bn=Zt.split("_");Qe=bn.length>=2&&bn[1]=="type"?Qe+(Zt+"="+Pt+"&"):Qe+(Zt+"=redacted&")}}}else Qe=null;else Qe=Ie;return"XMLHTTP REQ ("+W+") [attempt "+pe+"]: "+N+`
`+D+`
`+Qe})}function jn(p,N,D,W,pe,Ie,Qe){p.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+pe+"]: "+N+`
`+D+`
`+Ie+" "+Qe})}function ni(p,N,D,W){p.info(function(){return"XMLHTTP TEXT ("+N+"): "+cn(p,D)+(W?" "+W:"")})}function Li(p,N){p.info(function(){return"TIMEOUT: "+N})}sn.prototype.info=function(){};function cn(p,N){if(!p.g)return N;if(!N)return null;try{const Ie=JSON.parse(N);if(Ie){for(p=0;p<Ie.length;p++)if(Array.isArray(Ie[p])){var D=Ie[p];if(!(D.length<2)){var W=D[1];if(Array.isArray(W)&&!(W.length<1)){var pe=W[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(let Qe=1;Qe<W.length;Qe++)W[Qe]=""}}}}return It(Ie)}catch{return N}}var Ci={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Di={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ui;function gr(){}g(gr,ke),gr.prototype.g=function(){return new XMLHttpRequest},ui=new gr;function tr(p){return encodeURIComponent(String(p))}function le(p){var N=1;p=p.split(":");const D=[];for(;N>0&&p.length;)D.push(p.shift()),N--;return p.length&&D.push(p.join(":")),D}function Be(p,N,D,W){this.j=p,this.i=N,this.l=D,this.S=W||1,this.V=new ze(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var ye={},Ce={};function Te(p,N,D){p.M=1,p.A=ns(Or(N)),p.u=D,p.R=!0,Ge(p,null)}function Ge(p,N){p.F=Date.now(),Ye(p),p.B=Or(p.A);var D=p.B,W=p.S;Array.isArray(W)||(W=[String(W)]),ea(D.i,"t",W),p.C=0,D=p.j.L,p.h=new ve,p.g=hA(p.j,D?N:null,!p.u),p.P>0&&(p.O=new Ne(d(p.Y,p,p.g),p.P)),N=p.V,D=p.g,W=p.ba;var pe="readystatechange";Array.isArray(pe)||(pe&&(ft[0]=pe.toString()),pe=ft);for(let Ie=0;Ie<pe.length;Ie++){const Qe=ue(D,pe[Ie],W||N.handleEvent,!1,N.h||N);if(!Qe)break;N.g[Qe.key]=Qe}N=p.J?ee(p.J):{},p.u?(p.v||(p.v="POST"),N["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,N)):(p.v="GET",p.g.ea(p.B,p.v,null,N)),ae(),ts(p.i,p.v,p.B,p.l,p.S,p.u)}Be.prototype.ba=function(p){p=p.target;const N=this.O;N&&is(p)==3?N.j():this.Y(p)},Be.prototype.Y=function(p){try{if(p==this.g)e:{const xt=is(this.g),Pt=this.g.ya(),Qt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||ii(this.g)))){this.K||xt!=4||Pt==7||(Pt==8||Qt<=0?ae(3):ae(2)),Nt(this);var N=this.g.ca();this.X=N;var D=it(this);if(this.o=N==200,jn(this.i,this.v,this.B,this.l,this.S,xt,N),this.o){if(this.U&&!this.L){t:{if(this.g){var W,pe=this.g;if((W=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(W)){var Ie=W;break t}}Ie=null}if(p=Ie)ni(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ft(this,p);else{this.o=!1,this.m=3,an(12),Ct(this),kt(this);break e}}if(this.R){p=!0;let Zt;for(;!this.K&&this.C<D.length;)if(Zt=Xe(this,D),Zt==Ce){xt==4&&(this.m=4,an(14),p=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==ye){this.m=4,an(15),ni(this.i,this.l,D,"[Invalid Chunk]"),p=!1;break}else ni(this.i,this.l,Zt,null),Ft(this,Zt);if(Ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||D.length!=0||this.h.h||(this.m=1,an(16),p=!1),this.o=this.o&&p,!p)ni(this.i,this.l,D,"[Invalid Chunked Response]"),Ct(this),kt(this);else if(D.length>0&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.aa&&!Qe.P&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+D.length),Jo(Qe),Qe.P=!0,an(11))}}else ni(this.i,this.l,D,null),Ft(this,D);xt==4&&Ct(this),this.o&&!this.K&&(xt==4?gc(this.j,this):(this.o=!1,Ye(this)))}else ra(this.g),N==400&&D.indexOf("Unknown SID")>0?(this.m=3,an(12)):(this.m=0,an(13)),Ct(this),kt(this)}}}catch{}finally{}};function it(p){if(!Ke(p))return p.g.la();const N=ii(p.g);if(N==="")return"";let D="";const W=N.length,pe=is(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ct(p),kt(p),"";p.h.i=new o.TextDecoder}for(let Ie=0;Ie<W;Ie++)p.h.h=!0,D+=p.h.i.decode(N[Ie],{stream:!(pe&&Ie==W-1)});return N.length=0,p.h.g+=D,p.C=0,p.h.g}function Ke(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function Xe(p,N){var D=p.C,W=N.indexOf(`
`,D);return W==-1?Ce:(D=Number(N.substring(D,W)),isNaN(D)?ye:(W+=1,W+D>N.length?Ce:(N=N.slice(W,W+D),p.C=W+D,N)))}Be.prototype.cancel=function(){this.K=!0,Ct(this)};function Ye(p){p.T=Date.now()+p.H,bt(p,p.H)}function bt(p,N){if(p.D!=null)throw Error("WatchDog timer not null");p.D=Ht(d(p.aa,p),N)}function Nt(p){p.D&&(o.clearTimeout(p.D),p.D=null)}Be.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Li(this.i,this.B),this.M!=2&&(ae(),an(17)),Ct(this),this.m=2,kt(this)):bt(this,this.T-p)};function kt(p){p.j.I==0||p.K||gc(p.j,p)}function Ct(p){Nt(p);var N=p.O;N&&typeof N.dispose=="function"&&N.dispose(),p.O=null,ht(p.V),p.g&&(N=p.g,p.g=null,N.abort(),N.dispose())}function Ft(p,N){try{var D=p.j;if(D.I!=0&&(D.g==p||di(D.h,p))){if(!p.L&&di(D.h,p)&&D.I==3){try{var W=D.Ba.g.parse(N)}catch{W=null}if(Array.isArray(W)&&W.length==3){var pe=W;if(pe[0]==0){e:if(!D.v){if(D.g)if(D.g.F+3e3<p.F)Zo(D),ko(D);else break e;Ul(D),an(18)}}else D.xa=pe[1],0<D.xa-D.K&&pe[2]<37500&&D.F&&D.A==0&&!D.C&&(D.C=Ht(d(D.Va,D),6e3));cr(D.h)<=1&&D.ta&&(D.ta=void 0)}else Rs(D,11)}else if((p.L||D.g==p)&&Zo(D),!j(N))for(pe=D.Ba.g.parse(N),N=0;N<pe.length;N++){let Qt=pe[N];const Zt=Qt[0];if(!(Zt<=D.K))if(D.K=Zt,Qt=Qt[1],D.I==2)if(Qt[0]=="c"){D.M=Qt[1],D.ba=Qt[2];const bn=Qt[3];bn!=null&&(D.ka=bn,D.j.info("VER="+D.ka));const Yn=Qt[4];Yn!=null&&(D.za=Yn,D.j.info("SVER="+D.za));const Xn=Qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(W=1.5*Xn,D.O=W,D.j.info("backChannelRequestTimeoutMs_="+W)),W=D;const rr=p.g;if(rr){const $r=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($r){var Ie=W.h;Ie.g||$r.indexOf("spdy")==-1&&$r.indexOf("quic")==-1&&$r.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Ca(Ie,Ie.h),Ie.h=null))}if(W.G){const Qr=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Qr&&(W.wa=Qr,er(W.J,W.G,Qr))}}D.I=3,D.l&&D.l.ra(),D.aa&&(D.T=Date.now()-p.F,D.j.info("Handshake RTT: "+D.T+"ms")),W=D;var Qe=p;if(W.na=xc(W,W.L?W.ba:null,W.W),Qe.L){Zs(W.h,Qe);var xt=Qe,Pt=W.O;Pt&&(xt.H=Pt),xt.D&&(Nt(xt),Ye(xt)),W.g=Qe}else Xo(W);D.i.length>0&&ss(D)}else Qt[0]!="stop"&&Qt[0]!="close"||Rs(D,7);else D.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Rs(D,7):hc(D):Qt[0]!="noop"&&D.l&&D.l.qa(Qt),D.A=0)}}ae(4)}catch{}}var Yt=class{constructor(p,N){this.g=p,this.map=N}};function Mn(p){this.l=p||10,o.PerformanceNavigationTiming?(p=o.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wn(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function cr(p){return p.h?1:p.g?p.g.size:0}function di(p,N){return p.h?p.h==N:p.g?p.g.has(N):!1}function Ca(p,N){p.g?p.g.add(N):p.h=N}function Zs(p,N){p.h&&p.h==N?p.h=null:p.g&&p.g.has(N)&&p.g.delete(N)}Mn.prototype.cancel=function(){if(this.i=Is(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Is(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let N=p.i;for(const D of p.g.values())N=N.concat(D.G);return N}return v(p.i)}var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ji(p,N){if(p){p=p.split("&");for(let D=0;D<p.length;D++){const W=p[D].indexOf("=");let pe,Ie=null;W>=0?(pe=p[D].substring(0,W),Ie=p[D].substring(W+1)):pe=p[D],N(pe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function qn(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let N;p instanceof qn?(this.l=p.l,ri(this,p.j),this.o=p.o,this.g=p.g,Co(this,p.u),this.h=p.h,Bl(this,Il(p.i)),this.m=p.m):p&&(N=String(p).match(Ea))?(this.l=!1,ri(this,N[1]||"",!0),this.o=ks(N[2]||""),this.g=ks(N[3]||"",!0),Co(this,N[4]),this.h=ks(N[5]||"",!0),Bl(this,N[6]||"",!0),this.m=ks(N[7]||"")):(this.l=!1,this.i=new Yo(null,this.l))}qn.prototype.toString=function(){const p=[];var N=this.j;N&&p.push(hi(N,Tl,!0),":");var D=this.g;return(D||N=="file")&&(p.push("//"),(N=this.o)&&p.push(hi(N,Tl,!0),"@"),p.push(tr(D).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.u,D!=null&&p.push(":",String(D))),(D=this.h)&&(this.g&&D.charAt(0)!="/"&&p.push("/"),p.push(hi(D,D.charAt(0)=="/"?dc:au,!0))),(D=this.i.toString())&&p.push("?",D),(D=this.m)&&p.push("#",hi(D,oA)),p.join("")},qn.prototype.resolve=function(p){const N=Or(this);let D=!!p.j;D?ri(N,p.j):D=!!p.o,D?N.o=p.o:D=!!p.g,D?N.g=p.g:D=p.u!=null;var W=p.h;if(D)Co(N,p.u);else if(D=!!p.h){if(W.charAt(0)!="/")if(this.g&&!this.h)W="/"+W;else{var pe=N.h.lastIndexOf("/");pe!=-1&&(W=N.h.slice(0,pe+1)+W)}if(pe=W,pe==".."||pe==".")W="";else if(pe.indexOf("./")!=-1||pe.indexOf("/.")!=-1){W=pe.lastIndexOf("/",0)==0,pe=pe.split("/");const Ie=[];for(let Qe=0;Qe<pe.length;){const xt=pe[Qe++];xt=="."?W&&Qe==pe.length&&Ie.push(""):xt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),W&&Qe==pe.length&&Ie.push("")):(Ie.push(xt),W=!0)}W=Ie.join("/")}else W=pe}return D?N.h=W:D=p.i.toString()!=="",D?Bl(N,Il(p.i)):D=!!p.m,D&&(N.m=p.m),N};function Or(p){return new qn(p)}function ri(p,N,D){p.j=D?ks(N,!0):N,p.j&&(p.j=p.j.replace(/:$/,""))}function Co(p,N){if(N){if(N=Number(N),isNaN(N)||N<0)throw Error("Bad port number "+N);p.u=N}else p.u=null}function Bl(p,N,D){N instanceof Yo?(p.i=N,kl(p.i,p.l)):(D||(N=hi(N,Wo)),p.i=new Yo(N,p.l))}function er(p,N,D){p.i.set(N,D)}function ns(p){return er(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ks(p,N){return p?N?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function hi(p,N,D){return typeof p=="string"?(p=encodeURI(p).replace(N,Mi),D&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Mi(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Tl=/[#\/\?@]/g,au=/[#\?:]/g,dc=/[#\?]/g,Wo=/[#\?@]/g,oA=/#/g;function Yo(p,N){this.h=this.g=null,this.i=p||null,this.j=!!N}function Pi(p){p.g||(p.g=new Map,p.h=0,p.i&&ji(p.i,function(N,D){p.add(decodeURIComponent(N.replace(/\+/g," ")),D)}))}n=Yo.prototype,n.add=function(p,N){Pi(this),this.i=null,p=Na(this,p);let D=this.g.get(p);return D||this.g.set(p,D=[]),D.push(N),this.h+=1,this};function ou(p,N){Pi(p),N=Na(p,N),p.g.has(N)&&(p.i=null,p.h-=p.g.get(N).length,p.g.delete(N))}function lA(p,N){return Pi(p),N=Na(p,N),p.g.has(N)}n.forEach=function(p,N){Pi(this),this.g.forEach(function(D,W){D.forEach(function(pe){p.call(N,pe,W,this)},this)},this)};function cA(p,N){Pi(p);let D=[];if(typeof N=="string")lA(p,N)&&(D=D.concat(p.g.get(Na(p,N))));else for(p=Array.from(p.g.values()),N=0;N<p.length;N++)D=D.concat(p[N]);return D}n.set=function(p,N){return Pi(this),this.i=null,p=Na(this,p),lA(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[N]),this.h+=1,this},n.get=function(p,N){return p?(p=cA(this,p),p.length>0?String(p[0]):N):N};function ea(p,N,D){ou(p,N),D.length>0&&(p.i=null,p.g.set(Na(p,N),v(D)),p.h+=D.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],N=Array.from(this.g.keys());for(let W=0;W<N.length;W++){var D=N[W];const pe=tr(D);D=cA(this,D);for(let Ie=0;Ie<D.length;Ie++){let Qe=pe;D[Ie]!==""&&(Qe+="="+tr(D[Ie])),p.push(Qe)}}return this.i=p.join("&")};function Il(p){const N=new Yo;return N.i=p.i,p.g&&(N.g=new Map(p.g),N.h=p.h),N}function Na(p,N){return N=String(N),p.j&&(N=N.toLowerCase()),N}function kl(p,N){N&&!p.j&&(Pi(p),p.i=null,p.g.forEach(function(D,W){const pe=W.toLowerCase();W!=pe&&(ou(this,W),ea(this,pe,D))},p)),p.j=N}function Er(p,N){const D=new sn;if(o.Image){const W=new Image;W.onload=f(Fs,D,"TestLoadImage: loaded",!0,N,W),W.onerror=f(Fs,D,"TestLoadImage: error",!1,N,W),W.onabort=f(Fs,D,"TestLoadImage: abort",!1,N,W),W.ontimeout=f(Fs,D,"TestLoadImage: timeout",!1,N,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=p}else N(!1)}function AA(p,N){const D=new sn,W=new AbortController,pe=setTimeout(()=>{W.abort(),Fs(D,"TestPingServer: timeout",!1,N)},1e4);fetch(p,{signal:W.signal}).then(Ie=>{clearTimeout(pe),Ie.ok?Fs(D,"TestPingServer: ok",!0,N):Fs(D,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(pe),Fs(D,"TestPingServer: error",!1,N)})}function Fs(p,N,D,W,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),W(D)}catch{}}function hn(){this.g=new Ue}function qa(p){this.i=p.Sb||null,this.h=p.ab||!1}g(qa,ke),qa.prototype.g=function(){return new Fl(this.i,this.h)};function Fl(p,N){tt.call(this),this.H=p,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Fl,tt),n=Fl.prototype,n.open=function(p,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=N,this.readyState=1,ta(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const N={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(N.body=p),(this.H||o).fetch(new Request(this.D,N)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ta(this)),this.g&&(this.readyState=3,ta(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Us(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function Us(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var N=p.value?p.value:new Uint8Array(0);(N=this.B.decode(N,{stream:!p.done}))&&(this.response=this.responseText+=N)}p.done?Eo(this):ta(this),this.readyState==3&&Us(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Eo(this))},n.Na=function(p){this.g&&(this.response=p,Eo(this))},n.ga=function(){this.g&&Eo(this)};function Eo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,ta(p)}n.setRequestHeader=function(p,N){this.A.append(p,N)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],N=this.h.entries();for(var D=N.next();!D.done;)D=D.value,p.push(D[0]+": "+D[1]),D=N.next();return p.join(`\r
`)};function ta(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function rs(p){let N="";return _e(p,function(D,W){N+=W,N+=":",N+=D,N+=`\r
`}),N}function No(p,N,D){e:{for(W in D){var W=!1;break e}W=!0}W||(D=rs(D),typeof p=="string"?D!=null&&tr(D):er(p,N,D))}function nr(p){tt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(nr,tt);var $a=/^https?$/i,uA=["POST","PUT"];n=nr.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,N,D,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);N=N?N.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ui.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(N,String(p),!0),this.B=!1}catch(Ie){So(this,Ie);return}if(p=D||"",D=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var pe in W)D.set(pe,W[pe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const Ie of W.keys())D.set(Ie,W.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(D.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),pe=o.FormData&&p instanceof o.FormData,!(Array.prototype.indexOf.call(uA,N,void 0)>=0)||W||pe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,Qe]of D)this.g.setRequestHeader(Ie,Qe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Ie){So(this,Ie)}};function So(p,N){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=N,p.o=5,Bo(p),To(p)}function Bo(p){p.A||(p.A=!0,At(p,"complete"),At(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,At(this,"complete"),At(this,"abort"),To(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),nr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?na(this):this.Xa())},n.Xa=function(){na(this)};function na(p){if(p.h&&typeof s<"u"){if(p.v&&is(p)==4)setTimeout(p.Ca.bind(p),0);else if(At(p,"readystatechange"),is(p)==4){p.h=!1;try{const Ie=p.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var D;if(!(D=N)){var W;if(W=Ie===0){let Qe=String(p.D).match(Ea)[1]||null;!Qe&&o.self&&o.self.location&&(Qe=o.self.location.protocol.slice(0,-1)),W=!$a.test(Qe?Qe.toLowerCase():"")}D=W}if(D)At(p,"complete"),At(p,"success");else{p.o=6;try{var pe=is(p)>2?p.g.statusText:""}catch{pe=""}p.l=pe+" ["+p.ca()+"]",Bo(p)}}finally{To(p)}}}}function To(p,N){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const D=p.g;p.g=null,N||At(p,"ready");try{D.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function is(p){return p.g?p.g.readyState:0}n.ca=function(){try{return is(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var N=this.g.responseText;return p&&N.indexOf(p)==0&&(N=N.substring(p.length)),Tt(N)}};function ii(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function ra(p){const N={};p=(p.g&&is(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<p.length;W++){if(j(p[W]))continue;var D=le(p[W]);const pe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Ie=N[pe]||[];N[pe]=Ie,Ie.push(D)}we(N,function(W){return W.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(p,N,D){return D&&D.internalChannelParams&&D.internalChannelParams[p]||N}function Io(p){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sa("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sa("baseRetryDelayMs",5e3,p),this.Za=Sa("retryDelaySeedMs",1e4,p),this.Ta=Sa("forwardChannelMaxRetries",2,p),this.va=Sa("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Mn(p&&p.concurrentRequestLimit),this.Ba=new hn,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Io.prototype,n.ka=8,n.I=1,n.connect=function(p,N,D,W){an(0),this.W=p,this.H=N||{},D&&W!==void 0&&(this.H.OSID=D,this.H.OAID=W),this.F=this.X,this.J=xc(this,null,this.W),ss(this)};function hc(p){if(ia(p),p.I==3){var N=p.V++,D=Or(p.J);if(er(D,"SID",p.M),er(D,"RID",N),er(D,"TYPE","terminate"),as(p,D),N=new Be(p,p.j,N),N.M=2,N.A=ns(Or(D)),D=!1,o.navigator&&o.navigator.sendBeacon)try{D=o.navigator.sendBeacon(N.A.toString(),"")}catch{}!D&&o.Image&&(new Image().src=N.A,D=!0),D||(N.g=hA(N.j,null),N.g.ea(N.A)),N.F=Date.now(),Ye(N)}mc(p)}function ko(p){p.g&&(Jo(p),p.g.cancel(),p.g=null)}function ia(p){ko(p),p.v&&(o.clearTimeout(p.v),p.v=null),Zo(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&o.clearTimeout(p.m),p.m=null)}function ss(p){if(!Wn(p.h)&&!p.m){p.m=!0;var N=p.Ea;Y||F(),Z||(Y(),Z=!0),R.add(N,p),p.D=0}}function fc(p,N){return cr(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=N.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=Ht(d(p.Ea,p,N),dA(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const pe=new Be(this,this.j,p);let Ie=this.o;if(this.U&&(Ie?(Ie=ee(Ie),H(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(pe.J=Ie,Ie=null),this.S)e:{for(var N=0,D=0;D<this.i.length;D++){t:{var W=this.i[D];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(N+=W,N>4096){N=D;break e}if(N===4096||D===this.i.length-1){N=D+1;break e}}N=1e3}else N=1e3;N=pc(this,pe,N),D=Or(this.J),er(D,"RID",p),er(D,"CVER",22),this.G&&er(D,"X-HTTP-Session-Id",this.G),as(this,D),Ie&&(this.R?N="headers="+tr(rs(Ie))+"&"+N:this.u&&No(D,this.u,Ie)),Ca(this.h,pe),this.Ra&&er(D,"TYPE","init"),this.S?(er(D,"$req",N),er(D,"SID","null"),pe.U=!0,Te(pe,D,null)):Te(pe,D,N),this.I=2}}else this.I==3&&(p?Wa(this,p):this.i.length==0||Wn(this.h)||Wa(this))};function Wa(p,N){var D;N?D=N.l:D=p.V++;const W=Or(p.J);er(W,"SID",p.M),er(W,"RID",D),er(W,"AID",p.K),as(p,W),p.u&&p.o&&No(W,p.u,p.o),D=new Be(p,p.j,D,p.D+1),p.u===null&&(D.J=p.o),N&&(p.i=N.G.concat(p.i)),N=pc(p,D,1e3),D.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ca(p.h,D),Te(D,W,N)}function as(p,N){p.H&&_e(p.H,function(D,W){er(N,W,D)}),p.l&&_e({},function(D,W){er(N,W,D)})}function pc(p,N,D){D=Math.min(p.i.length,D);const W=p.l?d(p.l.Ka,p.l,p):null;e:{var pe=p.i;let xt=-1;for(;;){const Pt=["count="+D];xt==-1?D>0?(xt=pe[0].g,Pt.push("ofs="+xt)):xt=0:Pt.push("ofs="+xt);let Qt=!0;for(let Zt=0;Zt<D;Zt++){var Ie=pe[Zt].g;const bn=pe[Zt].map;if(Ie-=xt,Ie<0)xt=Math.max(0,pe[Zt].g-100),Qt=!1;else try{Ie="req"+Ie+"_"||"";try{var Qe=bn instanceof Map?bn:Object.entries(bn);for(const[Yn,Xn]of Qe){let rr=Xn;c(Xn)&&(rr=It(Xn)),Pt.push(Ie+Yn+"="+encodeURIComponent(rr))}}catch(Yn){throw Pt.push(Ie+"type="+encodeURIComponent("_badmap")),Yn}}catch{W&&W(bn)}}if(Qt){Qe=Pt.join("&");break e}}Qe=void 0}return p=p.i.splice(0,D),N.G=p,Qe}function Xo(p){if(!p.g&&!p.v){p.Y=1;var N=p.Da;Y||F(),Z||(Y(),Z=!0),R.add(N,p),p.A=0}}function Ul(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=Ht(d(p.Da,p),dA(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=Ht(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,an(10),ko(this),lu(this))};function Jo(p){p.B!=null&&(o.clearTimeout(p.B),p.B=null)}function lu(p){p.g=new Be(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var N=Or(p.na);er(N,"RID","rpc"),er(N,"SID",p.M),er(N,"AID",p.K),er(N,"CI",p.F?"0":"1"),!p.F&&p.ia&&er(N,"TO",p.ia),er(N,"TYPE","xmlhttp"),as(p,N),p.u&&p.o&&No(N,p.u,p.o),p.O&&(p.g.H=p.O);var D=p.g;p=p.ba,D.M=1,D.A=ns(Or(N)),D.u=null,D.R=!0,Ge(D,p)}n.Va=function(){this.C!=null&&(this.C=null,ko(this),Ul(this),an(19))};function Zo(p){p.C!=null&&(o.clearTimeout(p.C),p.C=null)}function gc(p,N){var D=null;if(p.g==N){Zo(p),Jo(p),p.g=null;var W=2}else if(di(p.h,N))D=N.G,Zs(p.h,N),W=1;else return;if(p.I!=0){if(N.o)if(W==1){D=N.u?N.u.length:0,N=Date.now()-N.F;var pe=p.D;W=ln(),At(W,new dn(W,D)),ss(p)}else Xo(p);else if(pe=N.m,pe==3||pe==0&&N.X>0||!(W==1&&fc(p,N)||W==2&&Ul(p)))switch(D&&D.length>0&&(N=p.h,N.i=N.i.concat(D)),pe){case 1:Rs(p,5);break;case 4:Rs(p,10);break;case 3:Rs(p,6);break;default:Rs(p,2)}}}function dA(p,N){let D=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(D*=2),D*N}function Rs(p,N){if(p.j.info("Error code "+N),N==2){var D=d(p.bb,p),W=p.Ua;const pe=!W;W=new qn(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ri(W,"https"),ns(W),pe?Er(W.toString(),D):AA(W.toString(),D)}else an(2);p.I=0,p.l&&p.l.pa(N),mc(p),ia(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function mc(p){if(p.I=0,p.ja=[],p.l){const N=Is(p.h);(N.length!=0||p.i.length!=0)&&(C(p.ja,N),C(p.ja,p.i),p.h.i.length=0,v(p.i),p.i.length=0),p.l.oa()}}function xc(p,N,D){var W=D instanceof qn?Or(D):new qn(D);if(W.g!="")N&&(W.g=N+"."+W.g),Co(W,W.u);else{var pe=o.location;W=pe.protocol,N=N?N+"."+pe.hostname:pe.hostname,pe=+pe.port;const Ie=new qn(null);W&&ri(Ie,W),N&&(Ie.g=N),pe&&Co(Ie,pe),D&&(Ie.h=D),W=Ie}return D=p.G,N=p.wa,D&&N&&er(W,D,N),er(W,"VER",p.ka),as(p,W),W}function hA(p,N,D){if(N&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return N=p.Aa&&!p.ma?new nr(new qa({ab:D})):new nr(p.ma),N.Fa(p.L),N}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}n=cu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ba(){}Ba.prototype.g=function(p,N){return new si(p,N)};function si(p,N){tt.call(this),this.g=new Io(N),this.l=p,this.h=N&&N.messageUrlParams||null,p=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(p?p["X-WebChannel-Content-Type"]=N.messageContentType:p={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.sa&&(p?p["X-WebChannel-Client-Profile"]=N.sa:p={"X-WebChannel-Client-Profile":N.sa}),this.g.U=p,(p=N&&N.Qb)&&!j(p)&&(this.g.u=p),this.A=N&&N.supportsCrossDomainXhr||!1,this.v=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!j(N)&&(this.g.G=N,p=this.h,p!==null&&N in p&&(p=this.h,N in p&&delete p[N])),this.j=new Ta(this)}g(si,tt),si.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){hc(this.g)},si.prototype.o=function(p){var N=this.g;if(typeof p=="string"){var D={};D.__data__=p,p=D}else this.v&&(D={},D.__data__=It(p),p=D);N.i.push(new Yt(N.Ya++,p)),N.I==3&&ss(N)},si.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,si.Z.N.call(this)};function vc(p){fn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var N=p.__sm__;if(N){e:{for(const D in N){p=D;break e}p=void 0}(this.i=p)&&(p=this.i,N=N!==null&&p in N?N[p]:void 0),this.data=N}else this.data=p}g(vc,fn);function Fo(){nn.call(this),this.status=1}g(Fo,nn);function Ta(p){this.g=p}g(Ta,cu),Ta.prototype.ra=function(){At(this.g,"a")},Ta.prototype.qa=function(p){At(this.g,new vc(p))},Ta.prototype.pa=function(p){At(this.g,new Fo)},Ta.prototype.oa=function(){At(this.g,"b")},Ba.prototype.createWebChannel=Ba.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,rk=function(){return new Ba},nk=function(){return ln()},tk=Jt,$w={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,zx=Ci,Di.COMPLETE="complete",ek=Di,Gt.EventType=$t,$t.OPEN="a",$t.CLOSE="b",$t.ERROR="c",$t.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Rp=Gt,nr.prototype.listenOnce=nr.prototype.K,nr.prototype.getLastError=nr.prototype.Ha,nr.prototype.getLastErrorCode=nr.prototype.ya,nr.prototype.getStatus=nr.prototype.ca,nr.prototype.getResponseJson=nr.prototype.La,nr.prototype.getResponseText=nr.prototype.la,nr.prototype.send=nr.prototype.ea,nr.prototype.setWithCredentials=nr.prototype.Fa,ZI=nr}).apply(typeof $m<"u"?$m:typeof self<"u"?self:typeof window<"u"?window:{});const lN="@firebase/firestore",cN="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pa.UNAUTHENTICATED=new pa(null),pa.GOOGLE_CREDENTIALS=new pa("google-credentials-uid"),pa.FIRST_PARTY=new pa("first-party-uid"),pa.MOCK_USER=new pa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new f5("@firebase/firestore");function Tf(){return xh.logLevel}function Xt(n,...e){if(xh.logLevel<=zn.DEBUG){const t=e.map(N5);xh.debug(`Firestore (${C0}): ${n}`,...t)}}function $A(n,...e){if(xh.logLevel<=zn.ERROR){const t=e.map(N5);xh.error(`Firestore (${C0}): ${n}`,...t)}}function A0(n,...e){if(xh.logLevel<=zn.WARN){const t=e.map(N5);xh.warn(`Firestore (${C0}): ${n}`,...t)}}function N5(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,ik(n,r,t)}function ik(n,e,t){let r=`FIRESTORE (${C0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw $A(r),new Error(r)}function pr(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||ik(e,i,r)}function Tn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qt extends nu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(pa.UNAUTHENTICATED)))}shutdown(){}}class NO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class SO{constructor(e){this.t=e,this.currentUser=pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pr(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve();let s=new QA;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new QA,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((async()=>{await u.promise,await i(this.currentUser)}))},c=u=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>c(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new QA)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pr(typeof r.accessToken=="string",31837,{l:r}),new sk(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pr(e===null||typeof e=="string",2055,{h:e}),new pa(e)}}class BO{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=pa.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TO{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new BO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(pa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vl(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pr(this.o===void 0,3512);const r=s=>{s.error!=null&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Xt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(pr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=kO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Gn(n,e){return n<e?-1:n>e?1:0}function Ww(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),s=e.charAt(r);if(i!==s)return Q2(i)===Q2(s)?Gn(i,s):Q2(i)?1:-1}return Gn(n.length,e.length)}const FO=55296,UO=57343;function Q2(n){const e=n.charCodeAt(0);return e>=FO&&e<=UO}function u0(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="__name__";class Vc{constructor(e,t,r){t===void 0?t=0:t>e.length&&wn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&wn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=Vc.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Gn(e.length,t.length)}static compareSegments(e,t){const r=Vc.isNumericId(e),i=Vc.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Vc.extractNumericId(e).compare(Vc.extractNumericId(t)):Ww(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ad.fromString(e.substring(4,e.length-2))}}class Mr extends Vc{construct(e,t,r){return new Mr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qt(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Mr(t)}static emptyPath(){return new Mr([])}}const RO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ks extends Vc{construct(e,t,r){return new Ks(e,t,r)}static isValidIdentifier(e){return RO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ks.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uN}static keyField(){return new Ks([uN])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new qt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new qt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new qt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new qt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ks(t)}static emptyPath(){return new Ks([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.path=e}static fromPath(e){return new un(Mr.fromString(e))}static fromName(e){return new un(Mr.fromString(e).popFirst(5))}static empty(){return new un(Mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new un(new Mr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n,e,t){if(!t)throw new qt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LO(n,e,t,r){if(e===!0&&r===!0)throw new qt(mt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dN(n){if(!un.isDocumentKey(n))throw new qt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hN(n){if(un.isDocumentKey(n))throw new qt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ok(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pv(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":wn(12329,{type:typeof n})}function xo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pv(n);throw new qt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Qg(n,e){if(!ok(n))throw new qt(mt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const o=n[r];if(i&&typeof o!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${r}' field to equal '${s.value}'`;break}}if(t)throw new qt(mt.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=-62135596800,pN=1e6;class zr{static now(){return zr.fromMillis(Date.now())}static fromDate(e){return zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*pN);return new zr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fN)throw new qt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pN}_compareTo(e){return this.seconds===e.seconds?Gn(this.nanoseconds,e.nanoseconds):Gn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Qg(e,zr._jsonSchema))return new zr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zr._jsonSchemaVersion="firestore/timestamp/1.0",zr._jsonSchema={type:Yi("string",zr._jsonSchemaVersion),seconds:Yi("number"),nanoseconds:Yi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{static fromTimestamp(e){return new Nn(e)}static min(){return new Nn(new zr(0,0))}static max(){return new Nn(new zr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-1;function DO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nn.fromTimestamp(r===1e9?new zr(t+1,0):new zr(t,r));return new ud(i,un.empty(),e)}function jO(n){return new ud(n.readTime,n.key,hg)}class ud{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ud(Nn.min(),un.empty(),hg)}static max(){return new ud(Nn.max(),un.empty(),hg)}}function MO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=un.comparator(n.documentKey,e.documentKey),t!==0?t:Gn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==PO)throw n;Xt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new vt(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof vt?t:vt.resolve(t)}catch(t){return vt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):vt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):vt.reject(t)}static resolve(e){return new vt(((t,r)=>{t(e)}))}static reject(e){return new vt(((t,r)=>{r(e)}))}static waitFor(e){return new vt(((t,r)=>{let i=0,s=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++s,o&&s===i&&t()}),(u=>r(u)))})),o=!0,s===i&&t()}))}static or(e){let t=vt.resolve(!1);for(const r of e)t=t.next((i=>i?vt.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,s)=>{r.push(t.call(this,i,s))})),this.waitFor(r)}static mapArray(e,t){return new vt(((r,i)=>{const s=e.length,o=new Array(s);let c=0;for(let u=0;u<s;u++){const d=u;t(e[d]).next((f=>{o[d]=f,++c,c===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,t){return new vt(((r,i)=>{const s=()=>{e()===!0?t().next((()=>{s()}),i):r()};s()}))}}function QO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function N0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=-1;function mv(n){return n==null}function p1(n){return n===0&&1/n==-1/0}function HO(n){return typeof n=="number"&&Number.isInteger(n)&&!p1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="";function VO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gN(e)),e=zO(n.get(t),e);return gN(e)}function zO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case lk:t+="";break;default:t+=s}}return t}function gN(n){return n+lk+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Bd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ck(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t){this.comparator=e,this.root=t||Gs.EMPTY}insert(e,t){return new Ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gs.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gs{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gs.RED,this.left=i??Gs.EMPTY,this.right=s??Gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gs(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Gs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw wn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw wn(27949);return e+(this.isRed()?0:1)}}Gs.EMPTY=null,Gs.RED=!0,Gs.BLACK=!1;Gs.EMPTY=new class{constructor(){this.size=0}get key(){throw wn(57766)}get value(){throw wn(16141)}get color(){throw wn(16727)}get left(){throw wn(29726)}get right(){throw wn(36894)}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gs(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xN(this.data.getIterator())}getIteratorFrom(e){return new xN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof ps)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ps(this.comparator);return t.data=e,t}}class xN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.fields=e,e.sort(Ks.comparator)}static empty(){return new Ko([])}unionWith(e){let t=new ps(Ks.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ko(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return u0(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ak("Invalid base64 string: "+s):s}})(e);return new Xs(t)}static fromUint8Array(e){const t=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new Xs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xs.EMPTY_BYTE_STRING=new Xs("");const GO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dd(n){if(pr(!!n,39018),typeof n=="string"){let e=0;const t=GO.exec(n);if(pr(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hd(n){return typeof n=="string"?Xs.fromBase64String(n):Xs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="server_timestamp",dk="__type__",hk="__previous_value__",fk="__local_write_time__";function T5(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[dk])==null?void 0:r.stringValue)===uk}function xv(n){const e=n.mapValue.fields[hk];return T5(e)?xv(e):e}function fg(n){const e=dd(n.mapValue.fields[fk].timestampValue);return new zr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,r,i,s,o,c,u,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const g1="(default)";class pg{constructor(e,t){this.projectId=e,this.database=t||g1}static empty(){return new pg("","")}get isDefaultDatabase(){return this.database===g1}isEqual(e){return e instanceof pg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__type__",qO="__max__",Ym={mapValue:{}},gk="__vector__",m1="value";function fd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T5(n)?4:WO(n)?9007199254740991:$O(n)?10:11:wn(28295,{value:n})}function Jc(n,e){if(n===e)return!0;const t=fd(n);if(t!==fd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fg(n).isEqual(fg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=dd(i.timestampValue),c=dd(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,s){return hd(i.bytesValue).isEqual(hd(s.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,s){return Ti(i.geoPointValue.latitude)===Ti(s.geoPointValue.latitude)&&Ti(i.geoPointValue.longitude)===Ti(s.geoPointValue.longitude)})(n,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Ti(i.integerValue)===Ti(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ti(i.doubleValue),c=Ti(s.doubleValue);return o===c?p1(o)===p1(c):isNaN(o)&&isNaN(c)}return!1})(n,e);case 9:return u0(n.arrayValue.values||[],e.arrayValue.values||[],Jc);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(mN(o)!==mN(c))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!Jc(o[u],c[u])))return!1;return!0})(n,e);default:return wn(52216,{left:n})}}function gg(n,e){return(n.values||[]).find((t=>Jc(t,e)))!==void 0}function d0(n,e){if(n===e)return 0;const t=fd(n),r=fd(e);if(t!==r)return Gn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gn(n.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Ti(s.integerValue||s.doubleValue),u=Ti(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return vN(n.timestampValue,e.timestampValue);case 4:return vN(fg(n),fg(e));case 5:return Ww(n.stringValue,e.stringValue);case 6:return(function(s,o){const c=hd(s),u=hd(o);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),u=o.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=Gn(c[d],u[d]);if(f!==0)return f}return Gn(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=Gn(Ti(s.latitude),Ti(o.latitude));return c!==0?c:Gn(Ti(s.longitude),Ti(o.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return yN(n.arrayValue,e.arrayValue);case 10:return(function(s,o){var m,v,C,_;const c=s.fields||{},u=o.fields||{},d=(m=c[m1])==null?void 0:m.arrayValue,f=(v=u[m1])==null?void 0:v.arrayValue,g=Gn(((C=d==null?void 0:d.values)==null?void 0:C.length)||0,((_=f==null?void 0:f.values)==null?void 0:_.length)||0);return g!==0?g:yN(d,f)})(n.mapValue,e.mapValue);case 11:return(function(s,o){if(s===Ym.mapValue&&o===Ym.mapValue)return 0;if(s===Ym.mapValue)return 1;if(o===Ym.mapValue)return-1;const c=s.fields||{},u=Object.keys(c),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){const m=Ww(u[g],f[g]);if(m!==0)return m;const v=d0(c[u[g]],d[f[g]]);if(v!==0)return v}return Gn(u.length,f.length)})(n.mapValue,e.mapValue);default:throw wn(23264,{he:t})}}function vN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Gn(n,e);const t=dd(n),r=dd(e),i=Gn(t.seconds,r.seconds);return i!==0?i:Gn(t.nanos,r.nanos)}function yN(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=d0(t[i],r[i]);if(s)return s}return Gn(t.length,r.length)}function h0(n){return Yw(n)}function Yw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=dd(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hd(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return un.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Yw(s);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yw(t.fields[o])}`;return i+"}"})(n.mapValue):wn(61005,{value:n})}function Gx(n){switch(fd(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xv(n);return e?16+Gx(e):16;case 5:return 2*n.stringValue.length;case 6:return hd(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Gx(s)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Bd(r.fields,((s,o)=>{i+=s.length+Gx(o)})),i})(n.mapValue);default:throw wn(13486,{value:n})}}function wN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xw(n){return!!n&&"integerValue"in n}function I5(n){return!!n&&"arrayValue"in n}function bN(n){return!!n&&"nullValue"in n}function _N(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kx(n){return!!n&&"mapValue"in n}function $O(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[pk])==null?void 0:r.stringValue)===gk}function Wp(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Bd(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Wp(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wp(n.arrayValue.values[t]);return e}return{...n}}function WO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.value=e}static empty(){return new go({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wp(t)}setAll(e){let t=Ks.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Wp(o):i.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Kx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Bd(t,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new go(Wp(this.value))}}function mk(n){const e=[];return Bd(n.fields,((t,r)=>{const i=new Ks([t]);if(Kx(r)){const s=mk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new Ko(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new ma(e,0,Nn.min(),Nn.min(),Nn.min(),go.empty(),0)}static newFoundDocument(e,t,r,i){return new ma(e,1,t,Nn.min(),r,i,0)}static newNoDocument(e,t){return new ma(e,2,t,Nn.min(),Nn.min(),go.empty(),0)}static newUnknownDocument(e,t){return new ma(e,3,t,Nn.min(),Nn.min(),go.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ma&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ma(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.position=e,this.inclusive=t}}function CN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(s.field.isKeyField()?r=un.comparator(un.fromName(o.referenceValue),t.key):r=d0(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function EN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,t="asc"){this.field=e,this.dir=t}}function YO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{}class Wi extends xk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new JO(e,t,r):t==="array-contains"?new tQ(e,r):t==="in"?new nQ(e,r):t==="not-in"?new rQ(e,r):t==="array-contains-any"?new iQ(e,r):new Wi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZO(e,r):new eQ(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(d0(t,this.value)):t!==null&&fd(this.value)===fd(t)&&this.matchesComparison(d0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return wn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oc extends xk{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new oc(e,t)}matches(e){return vk(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vk(n){return n.op==="and"}function yk(n){return XO(n)&&vk(n)}function XO(n){for(const e of n.filters)if(e instanceof oc)return!1;return!0}function Jw(n){if(n instanceof Wi)return n.field.canonicalString()+n.op.toString()+h0(n.value);if(yk(n))return n.filters.map((e=>Jw(e))).join(",");{const e=n.filters.map((t=>Jw(t))).join(",");return`${n.op}(${e})`}}function wk(n,e){return n instanceof Wi?(function(r,i){return i instanceof Wi&&r.op===i.op&&r.field.isEqual(i.field)&&Jc(r.value,i.value)})(n,e):n instanceof oc?(function(r,i){return i instanceof oc&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,c)=>s&&wk(o,i.filters[c])),!0):!1})(n,e):void wn(19439)}function bk(n){return n instanceof Wi?(function(t){return`${t.field.canonicalString()} ${t.op} ${h0(t.value)}`})(n):n instanceof oc?(function(t){return t.op.toString()+" {"+t.getFilters().map(bk).join(" ,")+"}"})(n):"Filter"}class JO extends Wi{constructor(e,t,r){super(e,t,r),this.key=un.fromName(r.referenceValue)}matches(e){const t=un.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZO extends Wi{constructor(e,t){super(e,"in",t),this.keys=_k("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class eQ extends Wi{constructor(e,t){super(e,"not-in",t),this.keys=_k("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function _k(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>un.fromName(r.referenceValue)))}class tQ extends Wi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return I5(t)&&gg(t.arrayValue,this.value)}}class nQ extends Wi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gg(this.value.arrayValue,t)}}class rQ extends Wi{constructor(e,t){super(e,"not-in",t)}matches(e){if(gg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gg(this.value.arrayValue,t)}}class iQ extends Wi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!I5(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>gg(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function NN(n,e=null,t=[],r=[],i=null,s=null,o=null){return new sQ(n,e,t,r,i,s,o)}function k5(n){const e=Tn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Jw(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),mv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>h0(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>h0(r))).join(",")),e.Te=t}return e.Te}function F5(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!wk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!EN(n.startAt,e.startAt)&&EN(n.endAt,e.endAt)}function Zw(n){return un.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aQ(n,e,t,r,i,s,o,c){return new Hg(n,e,t,r,i,s,o,c)}function vv(n){return new Hg(n)}function SN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ck(n){return n.collectionGroup!==null}function Yp(n){const e=Tn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ps(Ks.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new v1(s,r))})),t.has(Ks.keyField().canonicalString())||e.Ie.push(new v1(Ks.keyField(),r))}return e.Ie}function qc(n){const e=Tn(n);return e.Ee||(e.Ee=oQ(e,Yp(n))),e.Ee}function oQ(n,e){if(n.limitType==="F")return NN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new v1(i.field,s)}));const t=n.endAt?new x1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new x1(n.startAt.position,n.startAt.inclusive):null;return NN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function eb(n,e){const t=n.filters.concat([e]);return new Hg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function y1(n,e,t){return new Hg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function yv(n,e){return F5(qc(n),qc(e))&&n.limitType===e.limitType}function Ek(n){return`${k5(qc(n))}|lt:${n.limitType}`}function If(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>bk(i))).join(", ")}]`),mv(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>h0(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>h0(i))).join(",")),`Target(${r})`})(qc(n))}; limitType=${n.limitType})`}function wv(n,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):un.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(n,e)&&(function(r,i){for(const s of Yp(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,u){const d=CN(o,c,u);return o.inclusive?d<=0:d<0})(r.startAt,Yp(r),i)||r.endAt&&!(function(o,c,u){const d=CN(o,c,u);return o.inclusive?d>=0:d>0})(r.endAt,Yp(r),i))})(n,e)}function lQ(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nk(n){return(e,t)=>{let r=!1;for(const i of Yp(n)){const s=cQ(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cQ(n,e,t){const r=n.field.isKeyField()?un.comparator(e.key,t.key):(function(s,o,c){const u=o.data.field(s),d=c.data.field(s);return u!==null&&d!==null?d0(u,d):wn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wn(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bd(this.inner,((t,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AQ=new Ai(un.comparator);function WA(){return AQ}const Sk=new Ai(un.comparator);function Lp(...n){let e=Sk;for(const t of n)e=e.insert(t.key,t);return e}function Bk(n){let e=Sk;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function sh(){return Xp()}function Tk(){return Xp()}function Xp(){return new Eh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uQ=new Ai(un.comparator),dQ=new ps(un.comparator);function Kn(...n){let e=dQ;for(const t of n)e=e.add(t);return e}const hQ=new ps(Gn);function fQ(){return hQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:p1(e)?"-0":e}}function Ik(n){return{integerValue:""+n}}function pQ(n,e){return HO(e)?Ik(e):U5(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this._=void 0}}function gQ(n,e,t){return n instanceof mg?(function(i,s){const o={fields:{[dk]:{stringValue:uk},[fk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T5(s)&&(s=xv(s)),s&&(o.fields[hk]=s),{mapValue:o}})(t,e):n instanceof xg?Fk(n,e):n instanceof vg?Uk(n,e):(function(i,s){const o=kk(i,s),c=BN(o)+BN(i.Ae);return Xw(o)&&Xw(i.Ae)?Ik(c):U5(i.serializer,c)})(n,e)}function mQ(n,e,t){return n instanceof xg?Fk(n,e):n instanceof vg?Uk(n,e):t}function kk(n,e){return n instanceof w1?(function(r){return Xw(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class mg extends bv{}class xg extends bv{constructor(e){super(),this.elements=e}}function Fk(n,e){const t=Rk(e);for(const r of n.elements)t.some((i=>Jc(i,r)))||t.push(r);return{arrayValue:{values:t}}}class vg extends bv{constructor(e){super(),this.elements=e}}function Uk(n,e){let t=Rk(e);for(const r of n.elements)t=t.filter((i=>!Jc(i,r)));return{arrayValue:{values:t}}}class w1 extends bv{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function BN(n){return Ti(n.integerValue||n.doubleValue)}function Rk(n){return I5(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,t){this.field=e,this.transform=t}}function vQ(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof xg&&i instanceof xg||r instanceof vg&&i instanceof vg?u0(r.elements,i.elements,Jc):r instanceof w1&&i instanceof w1?Jc(r.Ae,i.Ae):r instanceof mg&&i instanceof mg})(n.transform,e.transform)}class yQ{constructor(e,t){this.version=e,this.transformResults=t}}class _l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _l}static exists(e){return new _l(void 0,e)}static updateTime(e){return new _l(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qx(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class _v{}function Lk(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new R5(n.key,_l.none()):new Vg(n.key,n.data,_l.none());{const t=n.data,r=go.empty();let i=new ps(Ks.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Td(n.key,r,new Ko(i.toArray()),_l.none())}}function wQ(n,e,t){n instanceof Vg?(function(i,s,o){const c=i.value.clone(),u=IN(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Td?(function(i,s,o){if(!qx(i.precondition,s))return void s.convertToUnknownDocument(o.version);const c=IN(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(Dk(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(n,e,t):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function Jp(n,e,t,r){return n instanceof Vg?(function(s,o,c,u){if(!qx(s.precondition,o))return c;const d=s.value.clone(),f=kN(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Td?(function(s,o,c,u){if(!qx(s.precondition,o))return c;const d=kN(s.fieldTransforms,u,o),f=o.data;return f.setAll(Dk(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(s,o,c){return qx(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(n,e,t)}function bQ(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kk(r.transform,i||null);s!=null&&(t===null&&(t=go.empty()),t.set(r.field,s))}return t||null}function TN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&u0(r,i,((s,o)=>vQ(s,o)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vg extends _v{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Td extends _v{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Dk(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function IN(n,e,t){const r=new Map;pr(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,mQ(o,c,t[i]))}return r}function kN(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,gQ(s,o,e))}return r}class R5 extends _v{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _Q extends _v{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wQ(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Jp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Jp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Tk();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;const u=Lk(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Nn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Kn())}isEqual(e){return this.batchId===e.batchId&&u0(this.mutations,e.mutations,((t,r)=>TN(t,r)))&&u0(this.baseMutations,e.baseMutations,((t,r)=>TN(t,r)))}}class L5{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return uQ})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new L5(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi,Zn;function SQ(n){switch(n){case mt.OK:return wn(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return wn(15467,{code:n})}}function jk(n){if(n===void 0)return $A("GRPC error has no .code"),mt.UNKNOWN;switch(n){case qi.OK:return mt.OK;case qi.CANCELLED:return mt.CANCELLED;case qi.UNKNOWN:return mt.UNKNOWN;case qi.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case qi.INTERNAL:return mt.INTERNAL;case qi.UNAVAILABLE:return mt.UNAVAILABLE;case qi.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case qi.NOT_FOUND:return mt.NOT_FOUND;case qi.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case qi.ABORTED:return mt.ABORTED;case qi.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case qi.DATA_LOSS:return mt.DATA_LOSS;default:return wn(39323,{code:n})}}(Zn=qi||(qi={}))[Zn.OK=0]="OK",Zn[Zn.CANCELLED=1]="CANCELLED",Zn[Zn.UNKNOWN=2]="UNKNOWN",Zn[Zn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zn[Zn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zn[Zn.NOT_FOUND=5]="NOT_FOUND",Zn[Zn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zn[Zn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zn[Zn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zn[Zn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zn[Zn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zn[Zn.ABORTED=10]="ABORTED",Zn[Zn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zn[Zn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zn[Zn.INTERNAL=13]="INTERNAL",Zn[Zn.UNAVAILABLE=14]="UNAVAILABLE",Zn[Zn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=new ad([4294967295,4294967295],0);function FN(n){const e=BQ().encode(n),t=new JI;return t.update(e),new Uint8Array(t.digest())}function UN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ad([t,r],0),new ad([i,s],0)]}class D5{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dp(`Invalid padding: ${t}`);if(r<0)throw new Dp(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dp(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dp(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ad.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ad.fromNumber(r)));return i.compare(TQ)===1&&(i=new ad([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=FN(e),[r,i]=UN(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new D5(s,i,t);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=FN(e),[r,i]=UN(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zg.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cv(Nn.min(),i,new Ai(Gn),WA(),Kn())}}class zg{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zg(r,t,Kn(),Kn(),Kn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class Mk{constructor(e,t){this.targetId=e,this.Ce=t}}class Pk{constructor(e,t,r=Xs.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class RN{constructor(){this.ve=0,this.Fe=LN(),this.Me=Xs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Kn(),t=Kn(),r=Kn();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:wn(38017,{changeType:s})}})),new zg(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=LN()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=WA(),this.Je=Xm(),this.He=Xm(),this.Ye=new Ai(Gn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:wn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(Zw(s))if(r===0){const o=new un(s.path);this.et(t,o,ma.newNoDocument(o,Nn.min()))}else pr(r===1,20013,{expectedCount:r});else{const o=this._t(t);if(o!==r){const c=this.ut(e),u=c?this.ct(c,e,o):1;if(u!==0){this.it(t);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,c;try{o=hd(r).toUint8Array()}catch(u){if(u instanceof Ak)return A0("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new D5(o,i,s)}catch(u){return A0(u instanceof Dp?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&Zw(c.target)){const u=new un(c.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,ma.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let r=Kn();this.He.forEach(((s,o)=>{let c=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Cv(e,t,this.Ye,this.je,r);return this.je=WA(),this.Je=Xm(),this.He=Xm(),this.Ye=new Ai(Gn),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new RN,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ps(Gn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ps(Gn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RN),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xm(){return new Ai(un.comparator)}function LN(){return new Ai(un.comparator)}const kQ={asc:"ASCENDING",desc:"DESCENDING"},FQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UQ={and:"AND",or:"OR"};class RQ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function tb(n,e){return n.useProto3Json||mv(e)?e:{value:e}}function b1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LQ(n,e){return b1(n,e.toTimestamp())}function $c(n){return pr(!!n,49232),Nn.fromTimestamp((function(t){const r=dd(t);return new zr(r.seconds,r.nanos)})(n))}function j5(n,e){return nb(n,e).canonicalString()}function nb(n,e){const t=(function(i){return new Mr(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Qk(n){const e=Mr.fromString(n);return pr(Kk(e),10190,{key:e.toString()}),e}function rb(n,e){return j5(n.databaseId,e.path)}function H2(n,e){const t=Qk(e);if(t.get(1)!==n.databaseId.projectId)throw new qt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new un(Vk(t))}function Hk(n,e){return j5(n.databaseId,e)}function DQ(n){const e=Qk(n);return e.length===4?Mr.emptyPath():Vk(e)}function ib(n){return new Mr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Vk(n){return pr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DN(n,e,t){return{name:rb(n,e),fields:t.value.mapValue.fields}}function jQ(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:wn(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(pr(f===void 0||typeof f=="string",58123),Xs.fromBase64String(f||"")):(pr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Xs.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const f=d.code===void 0?mt.UNKNOWN:jk(d.code);return new qt(f,d.message||"")})(o);t=new Pk(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=H2(n,r.document.name),s=$c(r.document.updateTime),o=r.document.createTime?$c(r.document.createTime):Nn.min(),c=new go({mapValue:{fields:r.document.fields}}),u=ma.newFoundDocument(i,s,o,c),d=r.targetIds||[],f=r.removedTargetIds||[];t=new $x(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=H2(n,r.document),s=r.readTime?$c(r.readTime):Nn.min(),o=ma.newNoDocument(i,s),c=r.removedTargetIds||[];t=new $x([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=H2(n,r.document),s=r.removedTargetIds||[];t=new $x([],s,i,null)}else{if(!("filter"in e))return wn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new NQ(i,s),c=r.targetId;t=new Mk(c,o)}}return t}function MQ(n,e){let t;if(e instanceof Vg)t={update:DN(n,e.key,e.value)};else if(e instanceof R5)t={delete:rb(n,e.key)};else if(e instanceof Td)t={update:DN(n,e.key,e.data),updateMask:qQ(e.fieldMask)};else{if(!(e instanceof _Q))return wn(16599,{Vt:e.type});t={verify:rb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const c=o.transform;if(c instanceof mg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof vg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof w1)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw wn(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:LQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:wn(27497)})(n,e.precondition)),t}function PQ(n,e){return n&&n.length>0?(pr(e!==void 0,14353),n.map((t=>(function(i,s){let o=i.updateTime?$c(i.updateTime):$c(s);return o.isEqual(Nn.min())&&(o=$c(s)),new yQ(o,i.transformResults||[])})(t,e)))):[]}function OQ(n,e){return{documents:[Hk(n,e.path)]}}function QQ(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Hk(n,i);const s=(function(d){if(d.length!==0)return Gk(oc.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(m){return{field:kf(m.field),direction:zQ(m.dir)}})(f)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=tb(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function HQ(n){let e=DQ(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pr(r===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=(function(g){const m=zk(g);return m instanceof oc&&yk(m)?m.getFilters():[m]})(t.where));let o=[];t.orderBy&&(o=(function(g){return g.map((m=>(function(C){return new v1(Ff(C.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m)))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let m;return m=typeof g=="object"?g.value:g,mv(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(g){const m=!!g.before,v=g.values||[];return new x1(v,m)})(t.startAt));let d=null;return t.endAt&&(d=(function(g){const m=!g.before,v=g.values||[];return new x1(v,m)})(t.endAt)),aQ(e,i,o,s,c,"F",u,d)}function VQ(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wn(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function zk(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ff(t.unaryFilter.field);return Wi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ff(t.unaryFilter.field);return Wi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ff(t.unaryFilter.field);return Wi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ff(t.unaryFilter.field);return Wi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return wn(61313);default:return wn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Wi.create(Ff(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return wn(58110);default:return wn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return oc.create(t.compositeFilter.filters.map((r=>zk(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wn(1026)}})(t.compositeFilter.op))})(n):wn(30097,{filter:n})}function zQ(n){return kQ[n]}function GQ(n){return FQ[n]}function KQ(n){return UQ[n]}function kf(n){return{fieldPath:n.canonicalString()}}function Ff(n){return Ks.fromServerFormat(n.fieldPath)}function Gk(n){return n instanceof Wi?(function(t){if(t.op==="=="){if(_N(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NAN"}};if(bN(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_N(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NAN"}};if(bN(t.value))return{unaryFilter:{field:kf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kf(t.field),op:GQ(t.op),value:t.value}}})(n):n instanceof oc?(function(t){const r=t.getFilters().map((i=>Gk(i)));return r.length===1?r[0]:{compositeFilter:{op:KQ(t.op),filters:r}}})(n):wn(54877,{filter:n})}function qQ(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Kk(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,t,r,i,s=Nn.min(),o=Nn.min(),c=Xs.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Yu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e){this.yt=e}}function WQ(n){const e=HQ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?y1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(){this.Cn=new XQ}addToCollectionParentIndex(e,t){return this.Cn.add(t),vt.resolve()}getCollectionParents(e,t){return vt.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return vt.resolve()}deleteFieldIndex(e,t){return vt.resolve()}deleteAllFieldIndexes(e){return vt.resolve()}createTargetIndexes(e,t){return vt.resolve()}getDocumentsMatchingTarget(e,t){return vt.resolve(null)}getIndexType(e,t){return vt.resolve(0)}getFieldIndexes(e,t){return vt.resolve([])}getNextCollectionGroupToUpdate(e){return vt.resolve(null)}getMinOffset(e,t){return vt.resolve(ud.min())}getMinOffsetFromCollectionGroup(e,t){return vt.resolve(ud.min())}updateCollectionGroup(e,t,r){return vt.resolve()}updateIndexEntries(e,t){return vt.resolve()}}class XQ{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ps(Mr.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ps(Mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qk=41943040;class fo{static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(qk,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new f0(0)}static cr(){return new f0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="LruGarbageCollector",JQ=1048576;function PN([n,e],[t,r]){const i=Gn(n,t);return i===0?Gn(e,r):i}class ZQ{constructor(e){this.Ir=e,this.buffer=new ps(PN),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();PN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class e7{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Xt(MN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){N0(t)?Xt(MN,"Ignoring IndexedDB error during garbage collection: ",t):await E0(t)}await this.Vr(3e5)}))}}class t7{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return vt.resolve(gv.ce);const r=new ZQ(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),vt.resolve(jN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jN):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,s,o,c,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,t)))).next((g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(d=Date.now(),Tf()<=zn.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${s} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),vt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function n7(n,e){return new t7(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(){this.changes=new Eh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ma.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?vt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&Jp(r.mutation,i,Ko.empty(),zr.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Kn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Kn()){const i=sh();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((s=>{let o=Lp();return s.forEach(((c,u)=>{o=o.insert(c,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const r=sh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Kn())))}populateOverlays(e,t,r){const i=[];return r.forEach((s=>{t.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,r,i){let s=WA();const o=Xp(),c=(function(){return Xp()})();return t.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Td)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Jp(f.mutation,d,f.mutation.getFieldMask(),zr.now())):o.set(d.key,Ko.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>o.set(d,f))),t.forEach(((d,f)=>c.set(d,new i7(f,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Xp();let i=new Ai(((o,c)=>o-c)),s=Kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((u=>{const d=t.get(u);if(d===null)return;let f=r.get(u)||Ko.empty();f=c.applyToLocalView(d,f),r.set(u,f);const g=(i.get(c.batchId)||Kn()).add(u);i=i.insert(c.batchId,g)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,g=Tk();f.forEach((m=>{if(!s.has(m)){const v=Lk(t.get(m),r.get(m));v!==null&&g.set(m,v),s=s.add(m)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return vt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(o){return un.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ck(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):vt.resolve(sh());let c=hg,u=s;return o.next((d=>vt.forEach(d,((f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),s.get(f)?vt.resolve():this.remoteDocumentCache.getEntry(e,f).next((m=>{u=u.insert(f,m)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,Kn()))).next((f=>({batchId:c,changes:Bk(f)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new un(t)).next((r=>{let i=Lp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Lp();return this.indexManager.getCollectionParents(e,s).next((c=>vt.forEach(c,(u=>{const d=(function(g,m){return new Hg(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((g,m)=>{o=o.insert(g,m)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i)))).next((o=>{s.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ma.newInvalidDocument(f)))}));let c=Lp();return o.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&Jp(f.mutation,d,Ko.empty(),zr.now()),wv(t,d)&&(c=c.insert(u,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return vt.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:$c(i.createTime)}})(t)),vt.resolve()}getNamedQuery(e,t){return vt.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:WQ(i.bundledQuery),readTime:$c(i.readTime)}})(t)),vt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.overlays=new Ai(un.comparator),this.qr=new Map}getOverlay(e,t){return vt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=sh();return vt.forEach(t,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,s)=>{this.St(e,t,s)})),vt.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),vt.resolve()}getOverlaysForCollection(e,t,r){const i=sh(),s=t.length+1,o=new un(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return vt.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ai(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=sh(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=sh(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>c.set(d,f))),!(c.size()>=i)););return vt.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EQ(t,r));let s=this.qr.get(t);s===void 0&&(s=Kn(),this.qr.set(t,s)),this.qr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this.sessionToken=Xs.EMPTY_BYTE_STRING}getSessionToken(e){return vt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,vt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(){this.Qr=new ps(Cs.$r),this.Ur=new ps(Cs.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Cs(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Cs(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new un(new Mr([])),r=new Cs(t,e),i=new Cs(t,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new un(new Mr([])),r=new Cs(t,e),i=new Cs(t,e+1);let s=Kn();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new Cs(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Cs{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return un.comparator(e.key,t.key)||Gn(e.Yr,t.Yr)}static Kr(e,t){return Gn(e.Yr,t.Yr)||un.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ps(Cs.$r)}checkEmpty(e){return vt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new CQ(s,t,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new Cs(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return vt.resolve(o)}lookupMutationBatch(e,t){return vt.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),s=i<0?0:i;return vt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return vt.resolve(this.mutationQueue.length===0?B5:this.tr-1)}getAllMutationBatches(e){return vt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cs(t,0),i=new Cs(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);s.push(c)})),vt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ps(Gn);return t.forEach((i=>{const s=new Cs(i,0),o=new Cs(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(c=>{r=r.add(c.Yr)}))})),vt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;un.isDocumentKey(s)||(s=s.child(""));const o=new Cs(new un(s),0);let c=new ps(Gn);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(c=c.add(u.Yr)),!0)}),o),vt.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){pr(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return vt.forEach(t.mutations,(i=>{const s=new Cs(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Cs(t,0),i=this.Zr.firstAfterOrEqual(r);return vt.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,vt.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.ri=e,this.docs=(function(){return new Ai(un.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return vt.resolve(r?r.document.mutableCopy():ma.newInvalidDocument(t))}getEntries(e,t){let r=WA();return t.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ma.newInvalidDocument(i))})),vt.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=WA();const o=t.path,c=new un(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||MO(jO(f),r)<=0||(i.has(f.key)||wv(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return vt.resolve(s)}getAllFromCollectionGroup(e,t,r,i){wn(9500)}ii(e,t){return vt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new u7(this)}getSize(e){return vt.resolve(this.size)}}class u7 extends r7{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),vt.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.persistence=e,this.si=new Eh((t=>k5(t)),F5),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.oi=0,this._i=new M5,this.targetCount=0,this.ai=f0.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),vt.resolve()}getLastRemoteSnapshotVersion(e){return vt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return vt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),vt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),vt.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new f0(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,vt.resolve()}updateTargetData(e,t){return this.Pr(t),vt.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,vt.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),vt.waitFor(s).next((()=>i))}getTargetCount(e){return vt.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return vt.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),vt.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),vt.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),vt.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return vt.resolve(r)}containsKey(e,t){return vt.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.ui={},this.overlays={},this.ci=new gv(0),this.li=!1,this.li=!0,this.hi=new l7,this.referenceDelegate=e(this),this.Pi=new d7(this),this.indexManager=new YQ,this.remoteDocumentCache=(function(i){return new A7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $Q(t),this.Ii=new a7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o7,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new c7(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Xt("MemoryPersistence","Starting transaction:",e);const i=new h7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,t){return vt.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class h7 extends OO{constructor(e){super(),this.currentSequenceNumber=e}}class P5{constructor(e){this.persistence=e,this.Ri=new M5,this.Vi=null}static mi(e){return new P5(e)}get fi(){if(this.Vi)return this.Vi;throw wn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),vt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),vt.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),vt.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vt.forEach(this.fi,(r=>{const i=un.fromPath(r);return this.gi(e,i).next((s=>{s||t.removeEntry(i,Nn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return vt.or([()=>vt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class _1{constructor(e,t){this.persistence=e,this.pi=new Eh((r=>VO(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=n7(this,t)}static mi(e,t){return new _1(e,t)}Ei(){}di(e){return vt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return vt.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?vt.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,t).next((c=>{c||(r++,s.removeEntry(o,Nn.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),vt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),vt.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),vt.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),vt.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gx(e.data.value)),t}br(e,t,r){return vt.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return vt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Kn(),i=Kn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O5(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Hj()?8:QO(_a())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new f7;return this.Ss(e,t,o).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>s.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Tf()<=zn.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",If(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),vt.resolve()):(Tf()<=zn.DEBUG&&Xt("QueryEngine","Query:",If(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Tf()<=zn.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",If(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qc(t))):vt.resolve())}ys(e,t){if(SN(t))return vt.resolve(null);let r=qc(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=y1(t,null,"F"),r=qc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Kn(...s);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(t,c);return this.Cs(t,d,o,u.readTime)?this.ys(e,y1(t,null,"F")):this.vs(e,d,t,u)}))))})))))}ws(e,t,r,i){return SN(t)||i.isEqual(Nn.min())?vt.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,r,i)?vt.resolve(null):(Tf()<=zn.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),If(t)),this.vs(e,o,t,DO(i,hg)).next((c=>c)))}))}Ds(e,t){let r=new ps(Nk(e));return t.forEach(((i,s)=>{wv(e,s)&&(r=r.add(s))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,r){return Tf()<=zn.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",If(t)),this.ps.getDocumentsMatchingQuery(e,t,ud.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="LocalStore",g7=3e8;class m7{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Ai(Gn),this.xs=new Eh((s=>k5(s)),F5),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function x7(n,e,t,r){return new m7(n,e,t,r)}async function Wk(n,e){const t=Tn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],c=[];let u=Kn();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function v7(n,e){const t=Tn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,u,d,f){const g=d.batch,m=g.keys();let v=vt.resolve();return m.forEach((C=>{v=v.next((()=>f.getEntry(u,C))).next((_=>{const E=d.docVersions.get(C);pr(E!==null,48541),_.version.compareTo(E)<0&&(g.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(u,g)))})(t,r,e,s).next((()=>s.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=Kn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function Yk(n){const e=Tn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function y7(n,e){const t=Tn(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((f,g)=>{const m=i.get(g);if(!m)return;c.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,g).next((()=>t.Pi.addMatchingKeys(s,f.addedDocuments,g))));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(Xs.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(g,v),(function(_,E,T){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=g7?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(m,v,f)&&c.push(t.Pi.updateTargetData(s,v))}));let u=WA(),d=Kn();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))})),c.push(w7(s,o,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Nn.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next((g=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(f)}return vt.waitFor(c).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(t.Ms=i,s)))}function w7(n,e,t){let r=Kn(),i=Kn();return t.forEach((s=>r=r.add(s))),e.getEntries(n,r).next((s=>{let o=WA();return t.forEach(((c,u)=>{const d=s.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Nn.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):Xt(Q5,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function b7(n,e){const t=Tn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=B5),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function _7(n,e){const t=Tn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((s=>s?(i=s,vt.resolve(i)):t.Pi.allocateTargetId(r).next((o=>(i=new Yu(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function sb(n,e,t){const r=Tn(n),i=r.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!N0(o))throw o;Xt(Q5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ON(n,e,t){const r=Tn(n);let i=Nn.min(),s=Kn();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const g=Tn(u),m=g.xs.get(f);return m!==void 0?vt.resolve(g.Ms.get(m)):g.Pi.getTargetData(d,f)})(r,o,qc(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,t?i:Nn.min(),t?s:Kn()))).next((c=>(C7(r,lQ(e),c),{documents:c,Qs:s})))))}function C7(n,e,t){let r=n.Os.get(e)||Nn.min();t.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),n.Os.set(e,r)}class QN{constructor(){this.activeTargetIds=fQ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E7{constructor(){this.Mo=new QN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new QN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="ConnectivityMonitor";class VN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Xt(HN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Xt(HN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jm=null;function ab(){return Jm===null?Jm=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jm++,"0x"+Jm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="RestConnection",S7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===g1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,s){const o=ab(),c=this.zo(e,t.toUriEncodedString());Xt(V2,`Sending RPC '${e}' ${o}:`,c,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(c),f=w0(d);return this.Jo(e,c,u,r,f).then((g=>(Xt(V2,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw A0(V2,`RPC '${e}' ${o} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,t,r,i,s,o){return this.Go(e,t,r,i,s)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+C0})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,t){const r=S7[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="WebChannelConnection";class I7 extends B7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,s){const o=ab();return new Promise(((c,u)=>{const d=new ZI;d.setWithCredentials(!0),d.listenOnce(ek.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case zx.NO_ERROR:const g=d.getResponseJson();Xt(ca,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),c(g);break;case zx.TIMEOUT:Xt(ca,`RPC '${e}' ${o} timed out`),u(new qt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case zx.HTTP_ERROR:const m=d.getStatus();if(Xt(ca,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const C=v==null?void 0:v.error;if(C&&C.status&&C.message){const _=(function(T){const k=T.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(k)>=0?k:mt.UNKNOWN})(C.status);u(new qt(_,C.message))}else u(new qt(mt.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new qt(mt.UNAVAILABLE,"Connection failed."));break;default:wn(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Xt(ca,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Xt(ca,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)}))}T_(e,t,r){const i=ab(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rk(),c=nk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const f=s.join("");Xt(ca,`Creating RPC '${e}' stream ${i}: ${f}`,u);const g=o.createWebChannel(f,u);this.I_(g);let m=!1,v=!1;const C=new T7({Yo:E=>{v?Xt(ca,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(Xt(ca,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),Xt(ca,`RPC '${e}' stream ${i} sending:`,E),g.send(E))},Zo:()=>g.close()}),_=(E,T,k)=>{E.listen(T,(P=>{try{k(P)}catch(z){setTimeout((()=>{throw z}),0)}}))};return _(g,Rp.EventType.OPEN,(()=>{v||(Xt(ca,`RPC '${e}' stream ${i} transport opened.`),C.o_())})),_(g,Rp.EventType.CLOSE,(()=>{v||(v=!0,Xt(ca,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(g))})),_(g,Rp.EventType.ERROR,(E=>{v||(v=!0,A0(ca,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),C.a_(new qt(mt.UNAVAILABLE,"The operation could not be completed")))})),_(g,Rp.EventType.MESSAGE,(E=>{var T;if(!v){const k=E.data[0];pr(!!k,16349);const P=k,z=(P==null?void 0:P.error)||((T=P[0])==null?void 0:T.error);if(z){Xt(ca,`RPC '${e}' stream ${i} received error:`,z);const Y=z.status;let Z=(function(M){const G=qi[M];if(G!==void 0)return jk(G)})(Y),R=z.message;Z===void 0&&(Z=mt.INTERNAL,R="Unknown error status: "+Y+" with message "+z.message),v=!0,C.a_(new qt(Z,R)),g.close()}else Xt(ca,`RPC '${e}' stream ${i} received:`,k),C.u_(k)}})),_(c,tk.STAT_EVENT,(E=>{E.stat===$w.PROXY?Xt(ca,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===$w.NOPROXY&&Xt(ca,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function z2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n){return new RQ(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Xt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="PersistentStream";class Jk{constructor(e,t,r,i,s,o,c,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xk(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===mt.RESOURCE_EXHAUSTED?($A(t.toString()),$A("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new qt(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Xt(zN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Xt(zN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k7 extends Jk{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=jQ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Nn.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Nn.min():o.readTime?$c(o.readTime):Nn.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ib(this.serializer),t.addTarget=(function(s,o){let c;const u=o.target;if(c=Zw(u)?{documents:OQ(s,u)}:{query:QQ(s,u).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Ok(s,o.resumeToken);const d=tb(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(Nn.min())>0){c.readTime=b1(s,o.snapshotVersion.toTimestamp());const d=tb(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=VQ(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ib(this.serializer),t.removeTarget=e,this.q_(t)}}class F7 extends Jk{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return pr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=PQ(e.writeResults,e.commitTime),r=$c(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ib(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>MQ(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{}class R7 extends U7{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new qt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,nb(t,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new qt(mt.UNKNOWN,s.toString())}))}Ho(e,t,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,nb(t,r),i,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qt(mt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($A(t),this.aa=!1):Xt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="RemoteStore";class D7{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Nh(this)&&(Xt(vh,"Restarting streams for network reachability change."),await(async function(u){const d=Tn(u);d.Ea.add(4),await Gg(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Nv(d)})(this))}))})),this.Ra=new L7(r,i)}}async function Nv(n){if(Nh(n))for(const e of n.da)await e(!0)}async function Gg(n){for(const e of n.da)await e(!1)}function Zk(n,e){const t=Tn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),G5(t)?z5(t):S0(t).O_()&&V5(t,e))}function H5(n,e){const t=Tn(n),r=S0(t);t.Ia.delete(e),r.O_()&&eF(t,e),t.Ia.size===0&&(r.O_()?r.L_():Nh(t)&&t.Ra.set("Unknown"))}function V5(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}S0(n).Y_(e)}function eF(n,e){n.Va.Ue(e),S0(n).Z_(e)}function z5(n){n.Va=new IQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),S0(n).start(),n.Ra.ua()}function G5(n){return Nh(n)&&!S0(n).x_()&&n.Ia.size>0}function Nh(n){return Tn(n).Ea.size===0}function tF(n){n.Va=void 0}async function j7(n){n.Ra.set("Online")}async function M7(n){n.Ia.forEach(((e,t)=>{V5(n,e)}))}async function P7(n,e){tF(n),G5(n)?(n.Ra.ha(e),z5(n)):n.Ra.set("Unknown")}async function O7(n,e,t){if(n.Ra.set("Online"),e instanceof Pk&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){Xt(vh,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await C1(n,r)}else if(e instanceof $x?n.Va.Ze(e):e instanceof Mk?n.Va.st(e):n.Va.tt(e),!t.isEqual(Nn.min()))try{const r=await Yk(n.localStore);t.compareTo(r)>=0&&await(function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),c.targetMismatches.forEach(((u,d)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Xs.EMPTY_BYTE_STRING,f.snapshotVersion)),eF(s,u);const g=new Yu(f.target,u,d,f.sequenceNumber);V5(s,g)})),s.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Xt(vh,"Failed to raise snapshot:",r),await C1(n,r)}}async function C1(n,e,t){if(!N0(e))throw e;n.Ea.add(1),await Gg(n),n.Ra.set("Offline"),t||(t=()=>Yk(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Xt(vh,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Nv(n)}))}function nF(n,e){return e().catch((t=>C1(n,t,e)))}async function Sv(n){const e=Tn(n),t=pd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:B5;for(;Q7(e);)try{const i=await b7(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,H7(e,i)}catch(i){await C1(e,i)}rF(e)&&iF(e)}function Q7(n){return Nh(n)&&n.Ta.length<10}function H7(n,e){n.Ta.push(e);const t=pd(n);t.O_()&&t.X_&&t.ea(e.mutations)}function rF(n){return Nh(n)&&!pd(n).x_()&&n.Ta.length>0}function iF(n){pd(n).start()}async function V7(n){pd(n).ra()}async function z7(n){const e=pd(n);for(const t of n.Ta)e.ea(t.mutations)}async function G7(n,e,t){const r=n.Ta.shift(),i=L5.from(r,e,t);await nF(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Sv(n)}async function K7(n,e){e&&pd(n).X_&&await(async function(r,i){if((function(o){return SQ(o)&&o!==mt.ABORTED})(i.code)){const s=r.Ta.shift();pd(r).B_(),await nF(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Sv(r)}})(n,e),rF(n)&&iF(n)}async function GN(n,e){const t=Tn(n);t.asyncQueue.verifyOperationInProgress(),Xt(vh,"RemoteStore received new credentials");const r=Nh(t);t.Ea.add(3),await Gg(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Nv(t)}async function q7(n,e){const t=Tn(n);e?(t.Ea.delete(2),await Nv(t)):e||(t.Ea.add(2),await Gg(t),t.Ra.set("Unknown"))}function S0(n){return n.ma||(n.ma=(function(t,r,i){const s=Tn(t);return s.sa(),new k7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:j7.bind(null,n),t_:M7.bind(null,n),r_:P7.bind(null,n),H_:O7.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),G5(n)?z5(n):n.Ra.set("Unknown")):(await n.ma.stop(),tF(n))}))),n.ma}function pd(n){return n.fa||(n.fa=(function(t,r,i){const s=Tn(t);return s.sa(),new F7(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:V7.bind(null,n),r_:K7.bind(null,n),ta:z7.bind(null,n),na:G7.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Sv(n)):(await n.fa.stop(),n.Ta.length>0&&(Xt(vh,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new QA,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,c=new K5(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q5(n,e){if($A("AsyncQueue",`${e}: ${n}`),N0(n))return new qt(mt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{static emptySet(e){return new Yf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||un.comparator(t.key,r.key):(t,r)=>un.comparator(t.key,r.key),this.keyedMap=Lp(),this.sortedSet=new Ai(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.ga=new Ai(un.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):wn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class p0{constructor(e,t,r,i,s,o,c,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new p0(e,t,Yf.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class W7{constructor(){this.queries=qN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Tn(t),s=i.queries;i.queries=qN(),s.forEach(((o,c)=>{for(const u of c.Sa)u.onError(r)}))})(this,new qt(mt.ABORTED,"Firestore shutting down"))}}function qN(){return new Eh((n=>Ek(n)),yv)}async function $5(n,e){const t=Tn(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new $7,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const c=q5(o,`Initialization of query '${If(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&Y5(t)}async function W5(n,e){const t=Tn(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Y7(n,e){const t=Tn(n);let r=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&Y5(t)}function X7(n,e,t){const r=Tn(n),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);r.queries.delete(e)}function Y5(n){n.Ca.forEach((e=>{e.next()}))}var ob,$N;($N=ob||(ob={})).Ma="default",$N.Cache="cache";class X5{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new p0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=p0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ob.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.key=e}}class aF{constructor(e){this.key=e}}class J7{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kn(),this.mutatedKeys=Kn(),this.eu=Nk(e),this.tu=new Yf(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new KN,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,g)=>{const m=i.get(f),v=wv(this.query,g)?g:null,C=!!m&&this.mutatedKeys.has(m.key),_=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;m&&v?m.data.isEqual(v.data)?C!==_&&(r.track({type:3,doc:v}),E=!0):this.su(m,v)||(r.track({type:2,doc:v}),E=!0,(u&&this.eu(v,u)>0||d&&this.eu(v,d)<0)&&(c=!0)):!m&&v?(r.track({type:0,doc:v}),E=!0):m&&!v&&(r.track({type:1,doc:m}),E=!0,(u||d)&&(c=!0)),E&&(v?(o=o.add(v),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,g)=>(function(v,C){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn(20277,{Rt:E})}};return _(v)-_(C)})(f.type,g.type)||this.eu(f.doc,g.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new p0(this.query,e.tu,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Kn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new aF(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new sF(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Kn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return p0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const J5="SyncEngine";class Z7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class e9{constructor(e){this.key=e,this.hu=!1}}class t9{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Eh((c=>Ek(c)),yv),this.Iu=new Map,this.Eu=new Set,this.du=new Ai(un.comparator),this.Au=new Map,this.Ru=new M5,this.Vu={},this.mu=new Map,this.fu=f0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n9(n,e,t=!0){const r=dF(n);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await oF(r,e,t,!0),i}async function r9(n,e){const t=dF(n);await oF(t,e,!0,!1)}async function oF(n,e,t,r){const i=await _7(n.localStore,qc(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let c;return r&&(c=await i9(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&Zk(n.remoteStore,i),c}async function i9(n,e,t,r,i){n.pu=(g,m,v)=>(async function(_,E,T,k){let P=E.view.ru(T);P.Cs&&(P=await ON(_.localStore,E.query,!1).then((({documents:R})=>E.view.ru(R,P))));const z=k&&k.targetChanges.get(E.targetId),Y=k&&k.targetMismatches.get(E.targetId)!=null,Z=E.view.applyChanges(P,_.isPrimaryClient,z,Y);return YN(_,E.targetId,Z.au),Z.snapshot})(n,g,m,v);const s=await ON(n.localStore,e,!0),o=new J7(e,s.Qs),c=o.ru(s.documents),u=zg.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=o.applyChanges(c,n.isPrimaryClient,u);YN(n,t,d.au);const f=new Z7(e,t,o);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function s9(n,e,t){const r=Tn(n),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!yv(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&H5(r.remoteStore,i.targetId),lb(r,i.targetId)})).catch(E0)):(lb(r,i.targetId),await sb(r.localStore,i.targetId,!0))}async function a9(n,e){const t=Tn(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),H5(t.remoteStore,r.targetId))}async function o9(n,e,t){const r=f9(n);try{const i=await(function(o,c){const u=Tn(o),d=zr.now(),f=c.reduce(((v,C)=>v.add(C.key)),Kn());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let C=WA(),_=Kn();return u.Ns.getEntries(v,f).next((E=>{C=E,C.forEach(((T,k)=>{k.isValidDocument()||(_=_.add(T))}))})).next((()=>u.localDocuments.getOverlayedDocuments(v,C))).next((E=>{g=E;const T=[];for(const k of c){const P=bQ(k,g.get(k.key).overlayedDocument);P!=null&&T.push(new Td(k.key,P,mk(P.value.mapValue),_l.exists(!0)))}return u.mutationQueue.addMutationBatch(v,d,T,c)})).next((E=>{m=E;const T=E.applyToLocalDocumentSet(g,_);return u.documentOverlayCache.saveOverlays(v,E.batchId,T)}))})).then((()=>({batchId:m.batchId,changes:Bk(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Ai(Gn)),d=d.insert(c,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,t),await Kg(r,i.changes),await Sv(r.remoteStore)}catch(i){const s=q5(i,"Failed to persist write");t.reject(s)}}async function lF(n,e){const t=Tn(n);try{const r=await y7(t.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=t.Au.get(s);o&&(pr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?pr(o.hu,14607):i.removedDocuments.size>0&&(pr(o.hu,42227),o.hu=!1))})),await Kg(t,r,e)}catch(r){await E0(r)}}function WN(n,e,t){const r=Tn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const u=Tn(o);u.onlineState=c;let d=!1;u.queries.forEach(((f,g)=>{for(const m of g.Sa)m.va(c)&&(d=!0)})),d&&Y5(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function l9(n,e,t){const r=Tn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ai(un.comparator);o=o.insert(s,ma.newNoDocument(s,Nn.min()));const c=Kn().add(s),u=new Cv(Nn.min(),new Map,new Ai(Gn),o,c);await lF(r,u),r.du=r.du.remove(s),r.Au.delete(e),Z5(r)}else await sb(r.localStore,e,!1).then((()=>lb(r,e,t))).catch(E0)}async function c9(n,e){const t=Tn(n),r=e.batch.batchId;try{const i=await v7(t.localStore,e);AF(t,r,null),cF(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kg(t,i)}catch(i){await E0(i)}}async function A9(n,e,t){const r=Tn(n);try{const i=await(function(o,c){const u=Tn(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next((g=>(pr(g!==null,37113),f=g.keys(),u.mutationQueue.removeMutationBatch(d,g)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);AF(r,e,t),cF(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kg(r,i)}catch(i){await E0(i)}}function cF(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function AF(n,e,t){const r=Tn(n);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function lb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||uF(n,r)}))}function uF(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(H5(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Z5(n))}function YN(n,e,t){for(const r of t)r instanceof sF?(n.Ru.addReference(r.key,e),u9(n,r)):r instanceof aF?(Xt(J5,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||uF(n,r.key)):wn(19791,{wu:r})}function u9(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Xt(J5,"New document in limbo: "+t),n.Eu.add(r),Z5(n))}function Z5(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new un(Mr.fromString(e)),r=n.fu.next();n.Au.set(r,new e9(t)),n.du=n.du.insert(t,r),Zk(n.remoteStore,new Yu(qc(vv(t.path)),r,"TargetPurposeLimboResolution",gv.ce))}}async function Kg(n,e,t){const r=Tn(n),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,u)=>{o.push(r.pu(u,e,t).then((d=>{var f;if((d||t)&&r.isPrimaryClient){const g=d?!d.fromCache:(f=t==null?void 0:t.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);const g=O5.As(u.targetId,d);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(u,d){const f=Tn(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>vt.forEach(d,(m=>vt.forEach(m.Es,(v=>f.persistence.referenceDelegate.addReference(g,m.targetId,v))).next((()=>vt.forEach(m.ds,(v=>f.persistence.referenceDelegate.removeReference(g,m.targetId,v)))))))))}catch(g){if(!N0(g))throw g;Xt(Q5,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const v=f.Ms.get(m),C=v.snapshotVersion,_=v.withLastLimboFreeSnapshotVersion(C);f.Ms=f.Ms.insert(m,_)}}})(r.localStore,s))}async function d9(n,e){const t=Tn(n);if(!t.currentUser.isEqual(e)){Xt(J5,"User change. New user:",e.toKey());const r=await Wk(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((u=>{u.reject(new qt(mt.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kg(t,r.Ls)}}function h9(n,e){const t=Tn(n),r=t.Au.get(e);if(r&&r.hu)return Kn().add(r.key);{let i=Kn();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const c=t.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function dF(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l9.bind(null,e),e.Pu.H_=Y7.bind(null,e.eventManager),e.Pu.yu=X7.bind(null,e.eventManager),e}function f9(n){const e=Tn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A9.bind(null,e),e}class E1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ev(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return x7(this.persistence,new p7,e.initialUser,this.serializer)}Cu(e){return new $k(P5.mi,this.serializer)}Du(e){return new E7}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}E1.provider={build:()=>new E1};class p9 extends E1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){pr(this.persistence.referenceDelegate instanceof _1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new e7(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new $k((r=>_1.mi(r,t)),this.serializer)}}class cb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>WN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d9.bind(null,this.syncEngine),await q7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new W7})()}createDatastore(e){const t=Ev(e.databaseInfo.databaseId),r=(function(s){return new I7(s)})(e.databaseInfo);return(function(s,o,c,u){return new R7(s,o,c,u)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,s,o,c){return new D7(r,i,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>WN(this.syncEngine,t,0)),(function(){return VN.v()?new VN:new N7})())}createSyncEngine(e,t){return(function(i,s,o,c,u,d,f){const g=new t9(i,s,o,c,u,d);return f&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const s=Tn(i);Xt(vh,"RemoteStore shutting down."),s.Ea.add(5),await Gg(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}cb.provider={build:()=>new cb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$A("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="FirestoreClient";class g9{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pa.UNAUTHENTICATED,this.clientId=S5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Xt(gd,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Xt(gd,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new QA;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=q5(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function G2(n,e){n.asyncQueue.verifyOperationInProgress(),Xt(gd,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Wk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function XN(n,e){n.asyncQueue.verifyOperationInProgress();const t=await m9(n);Xt(gd,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>GN(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>GN(e.remoteStore,i))),n._onlineComponents=e}async function m9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Xt(gd,"Using user provided OfflineComponentProvider");try{await G2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===mt.FAILED_PRECONDITION||i.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;A0("Error using user provided cache. Falling back to memory cache: "+t),await G2(n,new E1)}}else Xt(gd,"Using default OfflineComponentProvider"),await G2(n,new p9(void 0));return n._offlineComponents}async function hF(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Xt(gd,"Using user provided OnlineComponentProvider"),await XN(n,n._uninitializedComponentsProvider._online)):(Xt(gd,"Using default OnlineComponentProvider"),await XN(n,new cb))),n._onlineComponents}function x9(n){return hF(n).then((e=>e.syncEngine))}async function N1(n){const e=await hF(n),t=e.eventManager;return t.onListen=n9.bind(null,e.syncEngine),t.onUnlisten=s9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=r9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=a9.bind(null,e.syncEngine),t}function v9(n,e,t={}){const r=new QA;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,d){const f=new e_({next:m=>{f.Nu(),o.enqueueAndForget((()=>W5(s,g)));const v=m.docs.has(c);!v&&m.fromCache?d.reject(new qt(mt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?d.reject(new qt(mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new X5(vv(c.path),f,{includeMetadataChanges:!0,qa:!0});return $5(s,g)})(await N1(n),n.asyncQueue,e,t,r))),r.promise}function y9(n,e,t={}){const r=new QA;return n.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,u,d){const f=new e_({next:m=>{f.Nu(),o.enqueueAndForget((()=>W5(s,g))),m.fromCache&&u.source==="server"?d.reject(new qt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),g=new X5(c,f,{includeMetadataChanges:!0,qa:!0});return $5(s,g)})(await N1(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="firestore.googleapis.com",ZN=!0;class eS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pF,this.ssl=ZN}else this.host=e.host,this.ssl=e.ssl??ZN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JQ)throw new qt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EO;switch(r.type){case"firstParty":return new TO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=JN.get(t);r&&(Xt("ComponentProvider","Removing Datastore"),JN.delete(t),r.terminate())})(this),Promise.resolve()}}function w9(n,e,t,r={}){var d;n=xo(n,Bv);const i=w0(e),s=n._getSettings(),o={...s,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(AI(`https://${c}`),uI("Firestore",!0)),s.host!==pF&&s.host!==c&&A0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:c,ssl:i,emulatorOptions:r};if(!hh(u,o)&&(n._setSettings(u),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=pa.MOCK_USER;else{f=Uj(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new qt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new pa(m)}n._authCredentials=new NO(new sk(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Id(this.firestore,e,this._query)}}class vi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}toJSON(){return{type:vi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Qg(t,vi._jsonSchema))return new vi(e,r||null,new un(Mr.fromString(t.referencePath)))}}vi._jsonSchemaVersion="firestore/documentReference/1.0",vi._jsonSchema={type:Yi("string",vi._jsonSchemaVersion),referencePath:Yi("string")};class od extends Id{constructor(e,t,r){super(e,t,vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new un(e))}withConverter(e){return new od(this.firestore,e,this._path)}}function Oa(n,e,...t){if(n=wi(n),ak("collection","path",e),n instanceof Bv){const r=Mr.fromString(e,...t);return hN(r),new od(n,null,r)}{if(!(n instanceof vi||n instanceof od))throw new qt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mr.fromString(e,...t));return hN(r),new od(n.firestore,null,r)}}function Vn(n,e,...t){if(n=wi(n),arguments.length===1&&(e=S5.newId()),ak("doc","path",e),n instanceof Bv){const r=Mr.fromString(e,...t);return dN(r),new vi(n,null,new un(r))}{if(!(n instanceof vi||n instanceof od))throw new qt(mt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Mr.fromString(e,...t));return dN(r),new vi(n.firestore,n instanceof od?n.converter:null,new un(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="AsyncQueue";class nS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xk(this,"async_queue_retry"),this._c=()=>{const r=z2();r&&Xt(tS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=z2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=z2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new QA;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!N0(e))throw e;Xt(tS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,$A("INTERNAL UNHANDLED ERROR: ",rS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=K5.createAndSchedule(this,e,t,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&wn(47125,{Pc:rS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function rS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(n,["next","error","complete"])}class YA extends Bv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nS(e),this._firestoreClient=void 0,await e}}}function b9(n,e){const t=typeof n=="object"?n:pI(),r=typeof n=="string"?n:g1,i=g5(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kj("firestore");s&&w9(i,...s)}return i}function Tv(n){if(n._terminated)throw new qt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_9(n),n._firestoreClient}function _9(n){var r,i,s;const e=n._freezeSettings(),t=(function(c,u,d,f){return new KO(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,fF(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new g9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Xs.fromBase64String(e))}catch(t){throw new qt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Qg(e,yl._jsonSchema))return yl.fromBase64String(e.bytes)}}yl._jsonSchemaVersion="firestore/bytes/1.0",yl._jsonSchema={type:Yi("string",yl._jsonSchemaVersion),bytes:Yi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new qt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ks(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Gn(this._lat,e._lat)||Gn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wc._jsonSchemaVersion}}static fromJSON(e){if(Qg(e,Wc._jsonSchema))return new Wc(e.latitude,e.longitude)}}Wc._jsonSchemaVersion="firestore/geoPoint/1.0",Wc._jsonSchema={type:Yi("string",Wc._jsonSchemaVersion),latitude:Yi("number"),longitude:Yi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Qg(e,Yc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Yc(e.vectorValues);throw new qt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yc._jsonSchemaVersion="firestore/vectorValue/1.0",Yc._jsonSchema={type:Yi("string",Yc._jsonSchemaVersion),vectorValues:Yi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^__.*__$/;class E9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Td(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vg(e,this.data,t,this.fieldTransforms)}}class gF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Td(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn(40011,{Ac:n})}}class t_{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new t_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return S1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(mF(this.Ac)&&C9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N9{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ev(e)}Cc(e,t,r,i=!1){return new t_({Ac:e,methodName:t,Dc:r,path:Ks.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fv(n){const e=n._freezeSettings(),t=Ev(n._databaseId);return new N9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xF(n,e,t,r,i,s={}){const o=n.Cc(s.merge||s.mergeFields?2:0,e,t,i);r_("Data must be an object, but it was:",o,r);const c=vF(r,o);let u,d;if(s.merge)u=new Ko(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const g of s.mergeFields){const m=Ab(e,g,t);if(!o.contains(m))throw new qt(mt.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wF(f,m)||f.push(m)}u=new Ko(f),d=o.fieldTransforms.filter((g=>u.covers(g.field)))}else u=null,d=o.fieldTransforms;return new E9(new go(c),u,d)}class Uv extends kv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uv}}class n_ extends kv{_toFieldTransform(e){return new xQ(e.path,new mg)}isEqual(e){return e instanceof n_}}function S9(n,e,t,r){const i=n.Cc(1,e,t);r_("Data must be an object, but it was:",i,r);const s=[],o=go.empty();Bd(r,((u,d)=>{const f=i_(e,u,t);d=wi(d);const g=i.yc(f);if(d instanceof Uv)s.push(f);else{const m=qg(d,g);m!=null&&(s.push(f),o.set(f,m))}}));const c=new Ko(s);return new gF(o,c,i.fieldTransforms)}function B9(n,e,t,r,i,s){const o=n.Cc(1,e,t),c=[Ab(e,r,t)],u=[i];if(s.length%2!=0)throw new qt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(Ab(e,s[m])),u.push(s[m+1]);const d=[],f=go.empty();for(let m=c.length-1;m>=0;--m)if(!wF(d,c[m])){const v=c[m];let C=u[m];C=wi(C);const _=o.yc(v);if(C instanceof Uv)d.push(v);else{const E=qg(C,_);E!=null&&(d.push(v),f.set(v,E))}}const g=new Ko(d);return new gF(f,g,o.fieldTransforms)}function T9(n,e,t,r=!1){return qg(t,n.Cc(r?4:3,e))}function qg(n,e){if(yF(n=wi(n)))return r_("Unsupported field value:",e,n),vF(n,e);if(n instanceof kv)return(function(r,i){if(!mF(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const c of r){let u=qg(c,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(n,e)}return(function(r,i){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return pQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=zr.fromDate(r);return{timestampValue:b1(i.serializer,s)}}if(r instanceof zr){const s=new zr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:b1(i.serializer,s)}}if(r instanceof Wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:Ok(i.serializer,r._byteString)};if(r instanceof vi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:j5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yc)return(function(o,c){return{mapValue:{fields:{[pk]:{stringValue:gk},[m1]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return U5(c.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${pv(r)}`)})(n,e)}function vF(n,e){const t={};return ck(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bd(n,((r,i)=>{const s=qg(i,e.mc(r));s!=null&&(t[r]=s)})),{mapValue:{fields:t}}}function yF(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zr||n instanceof Wc||n instanceof yl||n instanceof vi||n instanceof kv||n instanceof Yc)}function r_(n,e,t){if(!yF(t)||!ok(t)){const r=pv(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Ab(n,e,t){if((e=wi(e))instanceof Iv)return e._internalPath;if(typeof e=="string")return i_(n,e);throw S1("Field path arguments must be of type string or ",n,!1,void 0,t)}const I9=new RegExp("[~\\*/\\[\\]]");function i_(n,e,t){if(e.search(I9)>=0)throw S1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Iv(...e.split("."))._internalPath}catch{throw S1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function S1(n,e,t,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new qt(mt.INVALID_ARGUMENT,c+n+u)}function wF(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class k9 extends bF{data(){return super.data()}}function s_(n,e){return typeof e=="string"?i_(n,e):e instanceof Iv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new qt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a_{}class CF extends a_{}function Qf(n,e,...t){let r=[];e instanceof a_&&r.push(e),r=r.concat(t),(function(s){const o=s.filter((u=>u instanceof o_)).length,c=s.filter((u=>u instanceof Rv)).length;if(o>1||o>0&&c>0)throw new qt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Rv extends CF{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Rv(e,t,r)}_apply(e){const t=this._parse(e);return EF(e._query,t),new Id(e.firestore,e.converter,eb(e._query,t))}_parse(e){const t=Fv(e.firestore);return(function(s,o,c,u,d,f,g){let m;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new qt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){aS(g,f);const C=[];for(const _ of g)C.push(sS(u,s,_));m={arrayValue:{values:C}}}else m=sS(u,s,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||aS(g,f),m=T9(c,o,g,f==="in"||f==="not-in");return Wi.create(d,f,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Hc(n,e,t){const r=e,i=s_("where",n);return Rv._create(i,r,t)}class o_ extends a_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new o_(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:oc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,s){let o=i;const c=s.getFlattenedFilters();for(const u of c)EF(o,u),o=eb(o,u)})(e._query,t),new Id(e.firestore,e.converter,eb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class l_ extends CF{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new l_(e,t,r)}_apply(e){return new Id(e.firestore,e.converter,y1(e._query,this._limit,this._limitType))}}function F9(n){return l_._create("limit",n,"F")}function sS(n,e,t){if(typeof(t=wi(t))=="string"){if(t==="")throw new qt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ck(e)&&t.indexOf("/")!==-1)throw new qt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Mr.fromString(t));if(!un.isDocumentKey(r))throw new qt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return wN(n,new un(r))}if(t instanceof vi)return wN(n,t._key);throw new qt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pv(t)}.`)}function aS(n,e){if(!Array.isArray(n)||n.length===0)throw new qt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function EF(n,e){const t=(function(i,s){for(const o of i)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new qt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class U9{convertValue(e,t="none"){switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Bd(e,((i,s)=>{r[i]=this.convertValue(s,t)})),r}convertVectorValue(e){var r,i,s;const t=(s=(i=(r=e.fields)==null?void 0:r[m1].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Ti(o.doubleValue)));return new Yc(t)}convertGeoPoint(e){return new Wc(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fg(e));default:return null}}convertTimestamp(e){const t=dd(e);return new zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Mr.fromString(e);pr(Kk(r),9688,{name:e});const i=new pg(r.get(1),r.get(3)),s=new un(r.popFirst(5));return i.isEqual(t)||$A(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class jp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oh extends bF{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(s_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=oh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}oh._jsonSchemaVersion="firestore/documentSnapshot/1.0",oh._jsonSchema={type:Yi("string",oh._jsonSchemaVersion),bundleSource:Yi("string","DocumentSnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class Wx extends oh{data(e={}){return super.data(e)}}class lh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new jp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Wx(this._firestore,this._userDataWriter,r.key,r,new jp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const u=new Wx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const u=new Wx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new jp(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:R9(c.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=S5.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(n){n=xo(n,vi);const e=xo(n.firestore,YA);return v9(Tv(e),n._key).then((t=>SF(e,n,t)))}lh._jsonSchemaVersion="firestore/querySnapshot/1.0",lh._jsonSchema={type:Yi("string",lh._jsonSchemaVersion),bundleSource:Yi("string","QuerySnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class c_ extends U9{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,t)}}function Zm(n){n=xo(n,Id);const e=xo(n.firestore,YA),t=Tv(e),r=new c_(e);return _F(n._query),y9(t,n._query).then((i=>new lh(e,r,n,i)))}function q2(n,e,t){n=xo(n,vi);const r=xo(n.firestore,YA),i=NF(n.converter,e);return Lv(r,[xF(Fv(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,_l.none())])}function Si(n,e,t,...r){n=xo(n,vi);const i=xo(n.firestore,YA),s=Fv(i);let o;return o=typeof(e=wi(e))=="string"||e instanceof Iv?B9(s,"updateDoc",n._key,e,t,r):S9(s,"updateDoc",n._key,e),Lv(i,[o.toMutation(n._key,_l.exists(!0))])}function Uf(n){return Lv(xo(n.firestore,YA),[new R5(n._key,_l.none())])}function jA(n,e){const t=xo(n.firestore,YA),r=Vn(n),i=NF(n.converter,e);return Lv(t,[xF(Fv(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,_l.exists(!1))]).then((()=>r))}function B1(n,...e){var u,d,f;n=wi(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iS(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(iS(e[r])){const g=e[r];e[r]=(u=g.next)==null?void 0:u.bind(g),e[r+1]=(d=g.error)==null?void 0:d.bind(g),e[r+2]=(f=g.complete)==null?void 0:f.bind(g)}let s,o,c;if(n instanceof vi)o=xo(n.firestore,YA),c=vv(n._key.path),s={next:g=>{e[r]&&e[r](SF(o,n,g))},error:e[r+1],complete:e[r+2]};else{const g=xo(n,Id);o=xo(g.firestore,YA),c=g._query;const m=new c_(o);s={next:v=>{e[r]&&e[r](new lh(o,m,g,v))},error:e[r+1],complete:e[r+2]},_F(n._query)}return(function(m,v,C,_){const E=new e_(_),T=new X5(v,E,C);return m.asyncQueue.enqueueAndForget((async()=>$5(await N1(m),T))),()=>{E.Nu(),m.asyncQueue.enqueueAndForget((async()=>W5(await N1(m),T)))}})(Tv(o),c,i,s)}function Lv(n,e){return(function(r,i){const s=new QA;return r.asyncQueue.enqueueAndForget((async()=>o9(await x9(r),i,s))),s.promise})(Tv(n),e)}function SF(n,e,t){const r=t.docs.get(e._key),i=new c_(n);return new oh(n,i,e._key,r,new jp(t.hasPendingWrites,t.fromCache),e.converter)}function Yx(){return new n_("serverTimestamp")}(function(e,t=!0){(function(i){C0=i})(b0),c0(new fh("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),c=new YA(new SO(r.getProvider("auth-internal")),new IO(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new qt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pg(d.options.projectId,f)})(o,i),o);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),sd(lN,cN,e),sd(lN,cN,"esm2020")})();var L9="firebase",D9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sd(L9,D9,"app");const j9={apiKey:"AIzaSyDpG7Ja5HCfU2RnGJuxXU5ypPA7JKgYY7U",authDomain:"clinic-725a7.firebaseapp.com",projectId:"clinic-725a7",storageBucket:"clinic-725a7.firebasestorage.app",messagingSenderId:"644725580556",appId:"1:644725580556:web:a5947d966e711888125f29",measurementId:"G-82J5FZ1M07"},BF=fI(j9),Pu=_O(BF),mn=b9(BF),TF=se.createContext(void 0),M9=({children:n})=>{const[e,t]=se.useState(null),[r,i]=se.useState(null),[s,o]=se.useState(!1),[c,u]=se.useState(!1),[d,f]=se.useState(null),[g,m]=se.useState(!1),[v,C]=se.useState("trial"),[_,E]=se.useState(!0),[T,k]=se.useState(null),[P,z]=se.useState(!1);se.useEffect(()=>{const we=dP(Pu,async ee=>{if(!P){if(E(!0),ee)await Y(ee.uid,{uid:ee.uid,displayName:ee.displayName,email:ee.email,photoURL:ee.photoURL});else{const U=localStorage.getItem("manual_db_session");if(U){const H=JSON.parse(U);z(!0),await Y(H.uid,H)}else Z()}E(!1)}});return()=>we()},[P]);const Y=async(we,ee)=>{const U=Vn(mn,"clinics",we);B1(U,V=>{var J,q;if(V.exists()){const te=V.data();if(o(((J=te.settings)==null?void 0:J.setupComplete)||!1),u(((q=te.settings)==null?void 0:q.isVerified)||!1),f(te.trialExpiry||null),C(te.plan||"trial"),te.plan==="trial"&&te.trialExpiry){const xe=new Date(te.trialExpiry);m(new Date>xe)}else m(!1)}}),t(ee);const H=localStorage.getItem(`system_session_${we}`);if(H)try{i(JSON.parse(H))}catch{console.error("Failed to parse system session")}},Z=()=>{t(null),i(null),f(null),m(!1),u(!1),o(!1),C("trial"),z(!1),localStorage.removeItem("manual_db_session")},R=async(we,ee,U=!0)=>{k(null);try{await cP(Pu,U?zI:_5),await sP(Pu,we,ee)}catch{const V=Qf(Oa(mn,"clinics"),Hc("ownerEmail","==",we),Hc("ownerPassword","==",ee)),J=await Zm(V);if(J.empty){const q="Access Denied. Incorrect email or password.";throw k(q),new Error(q)}else{const q=J.docs[0].data(),te={uid:J.docs[0].id,displayName:q.ownerName,email:q.ownerEmail,photoURL:null};U&&localStorage.setItem("manual_db_session",JSON.stringify(te)),z(!0),await Y(J.docs[0].id,te)}}},F=async(we,ee,U,H="verify")=>{if(!we)return;const V="service_2mkov1h",J="ec15454546587464",q="Yc3tBFQBCMQM1rwV-",te=new Date(Date.now()+15*6e4).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),xe={service_id:V,template_id:J,user_id:q,template_params:{to_name:ee||"User",to_email:we,email:we,recipient_email:we,passcode:U,otp:U,time:te,project_name:"AB Clinic System",subject:H==="reset"?"Reset your password":"Verify your account"}};try{await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)})}catch(ue){console.error("Email failed:",ue)}},M=async(we,ee,U,H)=>{k(null);try{const V=await iP(Pu,we,ee);await XE(V.user,{displayName:U});const J=Math.floor(1e5+Math.random()*9e5).toString(),q=new Date;q.setDate(q.getDate()+14),await q2(Vn(mn,"clinics",V.user.uid),{ownerName:U,ownerEmail:we,ownerPassword:ee,phone:H,plan:"trial",createdAt:new Date().toISOString(),trialExpiry:q.toISOString(),settings:{setupComplete:!1,isVerified:!1}}),await q2(Vn(mn,"verifications",V.user.uid),{otp:J,email:we,createdAt:new Date().toISOString()}),await F(we,U,J),t({uid:V.user.uid,displayName:U,email:we,photoURL:null}),o(!1),u(!1)}catch(V){throw k(V.message),V}},G=async we=>{if(e){k(null);try{const ee=await K2(Vn(mn,"verifications",e.uid));if(ee.exists()&&ee.data().otp===we)await Si(Vn(mn,"clinics",e.uid),{"settings.isVerified":!0}),u(!0);else throw new Error("Invalid verification code. Please check your email.")}catch(ee){throw k(ee.message),ee}}},L=async()=>{if(!e||!e.email)return;const we=Math.floor(1e5+Math.random()*9e5).toString();await Si(Vn(mn,"verifications",e.uid),{otp:we,createdAt:new Date().toISOString()}),await F(e.email,e.displayName||"User",we)},Q=async we=>{k(null);try{const ee=Qf(Oa(mn,"clinics"),Hc("ownerEmail","==",we)),U=await Zm(ee);if(U.empty)throw new Error("No registered clinic found with this email.");const H=Math.floor(1e5+Math.random()*9e5).toString(),V=U.docs[0].data(),J=U.docs[0].id;await q2(Vn(mn,"password_resets",we),{otp:H,email:we,clinicId:J,createdAt:new Date().toISOString()}),await F(we,V.ownerName,H,"reset")}catch(ee){throw k(ee.message),ee}},j=async(we,ee)=>{k(null);try{const U=await K2(Vn(mn,"password_resets",we));if(!U.exists()||U.data().otp!==ee)throw new Error("Invalid reset code. Please check your email.")}catch(U){throw k(U.message),U}},re=async(we,ee,U)=>{k(null);try{const H=await K2(Vn(mn,"password_resets",we));if(H.exists()&&H.data().otp===ee){const V=H.data().clinicId;await Si(Vn(mn,"clinics",V),{ownerPassword:U});const J=Qf(Oa(mn,"app_users"),Hc("clinicId","==",V),Hc("role","==","admin")),q=await Zm(J);if(!q.empty){const te=q.docs[0].id;await Si(Vn(mn,"app_users",te),{password:U})}await Uf(Vn(mn,"password_resets",we))}else throw new Error("Reset session expired. Please start over.")}catch(H){throw k(H.message),H}},fe=async we=>{if(e)try{const ee=await jA(Oa(mn,"app_users"),{...we,clinicId:e.uid,role:"admin",permissions:{dashboard:{access:!0},front_desk:{access:!0},accountant:{access:!0},analytics:{access:!0},system_control:{access:!0},examination_room:{access:!0},social_media:{access:!0}}});await Si(Vn(mn,"clinics",e.uid),{"settings.setupComplete":!0}),o(!0);const U={id:ee.id,...we,role:"admin"};i(U),localStorage.setItem(`system_session_${e.uid}`,JSON.stringify(U))}catch(ee){k(ee.message)}},ie=async(we,ee,U)=>{if(e){k(null);try{const H=Qf(Oa(mn,"app_users"),Hc("clinicId","==",e.uid),Hc("username","==",we),Hc("password","==",ee)),V=await Zm(H);if(V.empty)throw new Error("Invalid credentials.");const J=V.docs[0].data(),q={id:V.docs[0].id,...J};U?localStorage.setItem(`system_session_${e.uid}`,JSON.stringify(q)):localStorage.removeItem(`system_session_${e.uid}`),i(q)}catch(H){throw k(H.message),H}}},Ae=()=>{e&&localStorage.removeItem(`system_session_${e.uid}`),i(null)},me=async()=>{await hP(Pu),Z()},_e=async we=>{if(!e||!r)return;Pu.currentUser&&!P&&(we.displayName&&await XE(Pu.currentUser,{displayName:we.displayName}),we.password&&await oP(Pu.currentUser,we.password));const ee=Vn(mn,"app_users",r.id),U={};if(we.displayName&&(U.displayName=we.displayName),we.photoURL&&(U.photoURL=we.photoURL),we.password&&(U.password=we.password),await Si(ee,U),r.role==="admin"){const V={};we.displayName&&(V.ownerName=we.displayName),we.password&&(V.ownerPassword=we.password),await Si(Vn(mn,"clinics",e.uid),V)}const H={...r,...U};i(H),localStorage.getItem(`system_session_${e.uid}`)&&localStorage.setItem(`system_session_${e.uid}`,JSON.stringify(H))};return a.jsx(TF.Provider,{value:{firebaseUser:e,loading:_,loginSaaS:R,signupSaaS:M,logoutSaaS:me,systemUser:r,loginSystem:ie,logoutSystem:Ae,isSetupComplete:s,completeAdminSetup:fe,isVerified:c,verifyOTP:G,resendOTP:L,trialExpiry:d,isTrialExpired:g,currentPlan:v,requestPasswordResetOTP:Q,verifyPasswordResetOTP:j,completePasswordReset:re,error:T,updateUserProfile:_e},children:n})},qr=()=>{const n=se.useContext(TF);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},IF=se.createContext(void 0),P9=({children:n})=>{const[e,t]=se.useState("dark");se.useEffect(()=>{const i=window.document.documentElement;e==="dark"?(i.classList.add("dark"),i.classList.remove("light")):(i.classList.add("light"),i.classList.remove("dark"))},[e]);const r=()=>{t(i=>i==="dark"?"light":"dark")};return a.jsx(IF.Provider,{value:{theme:e,toggleTheme:r},children:n})},O9=()=>{const n=se.useContext(IF);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n},kF=se.createContext(void 0),Q9=n=>[{id:"clinic_name",type:"text",x:5,y:3,w:90,h:5,content:"{{CLINIC_NAME}}",fontSize:24,fontWeight:"bold",align:"center",zIndex:10},{id:"dr_name",type:"text",x:5,y:8,w:90,h:4,content:"{{DOCTOR_NAME}}",fontSize:14,fontWeight:"bold",align:"center",zIndex:10},{id:"specialty",type:"text",x:5,y:12,w:90,h:4,content:"{{SPECIALTY}}",fontSize:10,align:"center",zIndex:10},{id:"date",type:"text",x:75,y:18,w:20,h:4,content:"Date: {{DATE}}",fontSize:10,align:"right",zIndex:10},{id:"patient_name",type:"text",x:5,y:18,w:50,h:4,content:"Patient: {{PATIENT_NAME}}",fontSize:12,fontWeight:"bold",align:"left",zIndex:10},{id:"age",type:"text",x:55,y:18,w:15,h:4,content:"Age: {{AGE}}",fontSize:10,align:"left",zIndex:10},{id:"divider",type:"text",x:5,y:22,w:90,h:1,content:"____________________________________________________________________________________",fontSize:10,align:"center",zIndex:5},{id:"data_block",type:"data_block",x:5,y:28,w:90,h:60,content:":: DATA SPACE ::",fontSize:12,align:"left",zIndex:1},{id:"footer",type:"text",x:5,y:92,w:90,h:5,content:"{{PHONES}} | {{ADDRESSES}}",fontSize:9,align:"center",zIndex:10}],Xf=n=>({paperSize:n,backgroundUrl:void 0,elements:Q9()}),$2={rx:Xf("A5"),requests:Xf("A5"),reports:Xf("A4"),clinicName:"",doctorName:"",phones:[],addresses:[],specialty:"General Practice"},H9=({children:n})=>{const{firebaseUser:e}=qr(),t=e==null?void 0:e.uid,[r,i]=se.useState([]),[s,o]=se.useState("available"),[c,u]=se.useState(null),[d,f]=se.useState("available"),[g,m]=se.useState(null),[v,C]=se.useState(!1),[_,E]=se.useState(!1),[T,k]=se.useState([]),[P,z]=se.useState([]),[Y,Z]=se.useState([]),[R,F]=se.useState([]),[M,G]=se.useState([]),[L,Q]=se.useState([]),[j,re]=se.useState($2);se.useEffect(()=>{t||(i([]),F([]),G([]),k([]),z([]),Z([]),Q([]),re($2))},[t]),se.useEffect(()=>{if(!t)return;const te=B1(Vn(mn,"clinics",t),xe=>{if(xe.exists()){const be=xe.data().settings||{};if(E(be.isBookingPaused||!1),o(be.doctorStatus||"available"),u(be.callingPatientId||null),f(be.assistantDoctorStatus||"available"),m(be.callingPatientIdAssistant||null),be.printSettings){const Ve=be.printSettings;re({...$2,...Ve,rx:{...Xf("A5"),...Ve.rx||{}},requests:{...Xf("A5"),...Ve.requests||{}},reports:{...Xf("A4"),...Ve.reports||{}}})}}});return()=>te()},[t]),se.useEffect(()=>{if(!t)return;const xe=[{name:"appointments",setter:i},{name:"moderators",setter:k},{name:"shifts",setter:z},{name:"moderatorSessions",setter:Z},{name:"transactions",setter:F},{name:"activityLogs",setter:G,limit:20},{name:"app_users",setter:ue=>{Q(ue),C(ue.some(be=>be.role==="assistant_doctor"))}}].map(ue=>{let be=Qf(Oa(mn,ue.name),Hc("clinicId","==",t));return B1(be,Ve=>{let Pe=Ve.docs.map(We=>({id:We.id,...We.data()}));ue.name==="activityLogs"&&(Pe.sort((We,nt)=>{var at,St;const Re=((at=We.timestamp)==null?void 0:at.seconds)||0;return(((St=nt.timestamp)==null?void 0:St.seconds)||0)-Re}),ue.limit&&(Pe=Pe.slice(0,ue.limit))),ue.setter(Pe)})});return()=>xe.forEach(ue=>ue())},[t]);const fe=async te=>{if(!t)return;const xe=r.length+1;await jA(Oa(mn,"appointments"),{...te,no:xe,clinicId:t,timestamp:Yx()}),await J(`New appointment added: ${te.name}`,"success")},ie=async(te,xe)=>{const ue=JSON.parse(JSON.stringify(xe));await Si(Vn(mn,"appointments",te),ue)},Ae=async te=>{await Uf(Vn(mn,"appointments",te)),await J("Appointment deleted","warning")},me=async(te,xe)=>{const be=[...r.filter(We=>We.status==="checked-in").sort((We,nt)=>(We.queueOrder??9999)-(nt.queueOrder??9999)||(We.checkInTime||0)-(nt.checkInTime||0))],Pe=be.splice(te,1)[0];if(Pe){be.splice(xe,0,Pe);const We=be.map((nt,Re)=>Si(Vn(mn,"appointments",nt.id),{queueOrder:Re}));await Promise.all(We)}},_e=async te=>{t&&(await jA(Oa(mn,"transactions"),{...te,clinicId:t,timestamp:Yx()}),await J(`Financial transaction logged: ${te.description}`,"info"))},we=async()=>{t&&(await Si(Vn(mn,"clinics",t),{"settings.isBookingPaused":!_}),await J(`Booking system ${_?"resumed":"paused"}`,"warning"))},ee=async te=>{t&&(await Si(Vn(mn,"clinics",t),{"settings.doctorStatus":te}),await J(`Doctor status changed to ${te}`,"info"))},U=async te=>{t&&await Si(Vn(mn,"clinics",t),{"settings.callingPatientId":te})},H=async te=>{t&&await Si(Vn(mn,"clinics",t),{"settings.assistantDoctorStatus":te})},V=async te=>{t&&await Si(Vn(mn,"clinics",t),{"settings.callingPatientIdAssistant":te})},J=async(te,xe="info")=>{t&&await jA(Oa(mn,"activityLogs"),{clinicId:t,message:te,type:xe,timestamp:Yx()})},q=async te=>{if(!t)return;const xe={...j,...te},ue=JSON.parse(JSON.stringify(xe));await Si(Vn(mn,"clinics",t),{"settings.printSettings":ue}),await J("Print customization updated","success")};return a.jsx(kF.Provider,{value:{appointments:r,addAppointment:fe,updateAppointment:ie,deleteAppointment:Ae,updateAppointmentStatus:(te,xe)=>Si(Vn(mn,"appointments",te),{status:xe}),reorderQueue:me,doctorStatus:s,setDoctorStatus:ee,callingPatientId:c,setCallingPatientId:U,assistantDoctorStatus:d,setAssistantDoctorStatus:H,callingPatientIdAssistant:g,setCallingPatientIdAssistant:V,hasAssistantDoctor:v,isBookingPaused:_,toggleBookingPause:we,transactions:R,addTransaction:_e,updateTransaction:(te,xe)=>Si(Vn(mn,"transactions",te),xe),deleteTransaction:te=>Uf(Vn(mn,"transactions",te)),logs:M,logActivity:J,moderators:T,addModerator:te=>jA(Oa(mn,"moderators"),{name:te,clinicId:t}),updateModerator:(te,xe)=>Si(Vn(mn,"moderators",te),{name:xe}),deleteModerator:te=>Uf(Vn(mn,"moderators",te)),shifts:P,addShift:te=>jA(Oa(mn,"shifts"),{...te,clinicId:t}),updateShift:(te,xe)=>Si(Vn(mn,"shifts",te),xe),deleteShift:te=>Uf(Vn(mn,"shifts",te)),moderatorSessions:Y,checkInModerator:async te=>(await jA(Oa(mn,"moderatorSessions"),{...te,clinicId:t})).id,checkOutModerator:(te,xe,ue)=>Si(Vn(mn,"moderatorSessions",te),{checkOutTime:xe,checkOutStatus:ue}),appUsers:L,addAppUser:te=>jA(Oa(mn,"app_users"),{...te,clinicId:t}),updateAppUser:(te,xe)=>Si(Vn(mn,"app_users",te),xe),deleteAppUser:te=>Uf(Vn(mn,"app_users",te)),printSettings:j,updatePrintSettings:q},children:n})},bi=()=>{const n=se.useContext(kF);if(!n)throw new Error("useData must be used within DataProvider");return n},FF=se.createContext(void 0),V9=({children:n})=>{const[e,t]=se.useState(()=>localStorage.getItem("clinic_lang")||"en"),r=e==="ar";se.useEffect(()=>{localStorage.setItem("clinic_lang",e);const s=document.documentElement;s.dir=r?"rtl":"ltr",s.lang=e,r?(s.classList.add("font-arabic"),s.classList.remove("font-sans")):(s.classList.add("font-sans"),s.classList.remove("font-arabic"))},[e,r]);const i=(s,o)=>e==="ar"?o:s;return a.jsx(FF.Provider,{value:{language:e,setLanguage:t,isRTL:r,t:i},children:a.jsx("div",{className:r?"font-arabic":"font-sans",children:n})})},Nl=()=>{const n=se.useContext(FF);if(!n)throw new Error("useLanguage must be used within LanguageProvider");return n};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G9=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),oS=n=>{const e=G9(n);return e.charAt(0).toUpperCase()+e.slice(1)},UF=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),K9=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=se.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},u)=>se.createElement("svg",{ref:u,...q9,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:UF("lucide",i),...!s&&!K9(c)&&{"aria-hidden":"true"},...c},[...o.map(([d,f])=>se.createElement(d,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(n,e)=>{const t=se.forwardRef(({className:r,...i},s)=>se.createElement($9,{ref:s,iconNode:e,className:UF(`lucide-${z9(oS(n))}`,`lucide-${n}`,r),...i}));return t.displayName=oS(n),t};/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ci=wt("activity",W9);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],X9=wt("arrow-left",Y9);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dv=wt("arrow-right",J9);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],eH=wt("baby",Z9);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yg=wt("ban",tH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],A_=wt("bell",nH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],iH=wt("bot",rH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],RF=wt("brain-circuit",sH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],LF=wt("briefcase",aH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],lH=wt("building",oH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],AH=wt("calculator",cH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dH=wt("calendar",uH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DF=wt("camera",hH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jF=wt("chart-column",fH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],wg=wt("chart-pie",pH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],g0=wt("check",gH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xH=wt("chevron-down",mH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yh=wt("chevron-left",vH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],m0=wt("chevron-right",yH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bH=wt("chevron-up",wH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M17 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h14",key:"1mb5g1"}],["path",{d:"M18 8c0-2.5-2-2.5-2-5",key:"1il607"}],["path",{d:"M21 16a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"1yl5r7"}],["path",{d:"M22 8c0-2.5-2-2.5-2-5",key:"1gah44"}],["path",{d:"M7 12v4",key:"jqww69"}]],CH=wt("cigarette",_H);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kd=wt("circle-alert",EH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}],["path",{d:"M16 12H8",key:"1fr5h0"}]],lS=wt("circle-arrow-left",NH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]],cS=wt("circle-arrow-right",SH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],md=wt("circle-check-big",BH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Oo=wt("circle-check",TH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ji=wt("circle-x",IH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bg=wt("clipboard-list",kH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nc=wt("clock",FH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],RH=wt("columns-2",UH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],u_=wt("cpu",LH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],MF=wt("database",DH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fd=wt("dollar-sign",jH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],d_=wt("download",MH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],AS=wt("eraser",PH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],PF=wt("external-link",OH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],OF=wt("eye-off",QH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xd=wt("eye",HH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],B0=wt("file-down",VH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],GH=wt("file-spreadsheet",zH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],h_=wt("file-text",KH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],QF=wt("folder-open",qH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],HF=wt("grip-vertical",$H);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],VF=wt("heart",WH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],zF=wt("hourglass",YH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],JH=wt("house",XH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],eV=wt("image",ZH);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"m22 11-1.296-1.296a2.4 2.4 0 0 0-3.408 0L11 16",key:"9kzy35"}],["path",{d:"M4 8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2",key:"1t0f0t"}],["circle",{cx:"13",cy:"7",r:"1",fill:"currentColor",key:"1obus6"}],["rect",{x:"8",y:"2",width:"14",height:"14",rx:"2",key:"1gvhby"}]],GF=wt("images",tV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],KF=wt("key",nV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],$g=wt("languages",rV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],qF=wt("layout-dashboard",iV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],$F=wt("layout-grid",sV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xa=wt("loader-circle",aV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],T0=wt("lock",oV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jv=wt("log-out",lV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],W2=wt("mail",cV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f_=wt("map-pin",AV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],dV=wt("maximize-2",uV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Zc=wt("megaphone",hV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],WF=wt("message-square",fV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],T1=wt("mic",pV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],YF=wt("minimize-2",gV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],x0=wt("monitor",mV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],p_=wt("moon",xV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],XF=wt("network",vV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],g_=wt("octagon-alert",yV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],JF=wt("octagon-x",wV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],ZF=wt("palette",bV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],CV=wt("panels-top-left",_V);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ya=wt("pen",EV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],e6=wt("phone",NV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],m_=wt("pill",SV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],za=wt("plus",BV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],XA=wt("power",TV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ld=wt("printer",IV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],FV=wt("quote",kV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vd=wt("refresh-cw",UV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],t6=wt("repeat",RV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],I0=wt("rocket",LV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],jV=wt("rotate-ccw",DV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Mv=wt("save",MV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pv=wt("search",PV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],n6=wt("send",OV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],HV=wt("share-2",QV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zV=wt("settings",VV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],KV=wt("shield-alert",GV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k0=wt("shield-check",qV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eA=wt("shield",$V);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ov=wt("sparkles",WV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],yo=wt("stethoscope",YV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],JV=wt("sun",XV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],r6=wt("target",ZV);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],x_=wt("test-tube",ez);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],nz=wt("text-align-end",tz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],iz=wt("text-align-center",rz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],az=wt("text-align-start",sz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ii=wt("trash-2",oz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],i6=wt("trending-down",lz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],F0=wt("trending-up",cz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],s6=wt("triangle-alert",Az);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],dz=wt("type",uz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fz=wt("upload",hz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a6=wt("user-check",pz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Sh=wt("user-plus",gz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yd=wt("user",mz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ri=wt("users",xz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],I1=wt("video",vz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],o6=wt("waves",yz);/**
 * @license lucide-react v0.560.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tA=wt("x",wz),Qv=({onBack:n,onTrial:e})=>{const{t,isRTL:r}=Nl(),{signupSaaS:i,error:s,firebaseUser:o}=qr(),[c,u]=se.useState(!1),[d,f]=se.useState(!1),[g,m]=se.useState(!1),[v,C]=se.useState({email:"",password:"",name:"",phone:""}),[_,E]=se.useState("trial"),T=z=>{if(E(z),o&&(z==="monthly"||z==="annual")){k(z);return}u(!0)},k=z=>{const Y=o==null?void 0:o.uid;z==="monthly"?window.location.href=`https://checkouts.kashier.io/en/paymentpage?ppLink=PP-4168241201,test&clinicId=${Y}`:window.location.href=`https://checkouts.kashier.io/en/paymentpage?ppLink=PP-4168241202,test&clinicId=${Y}`},P=async z=>{z.preventDefault(),m(!0);try{await i(v.email,v.password,v.name,v.phone),_==="monthly"||_==="annual"?k(_):e()}catch(Y){console.error(Y)}finally{m(!1)}};return a.jsxs("div",{className:"min-h-screen bg-[#020203] text-white p-8 animate-fade-in selection:bg-neon-blue selection:text-black",dir:r?"rtl":"ltr",children:[a.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[50%] h-[50%] bg-neon-blue/5 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[a.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-500 hover:text-white transition-all font-black uppercase text-xs tracking-widest mb-12 group",children:[a.jsx(yh,{size:20,className:`transition-transform ${r?"rotate-180 group-hover:translate-x-1":"group-hover:-translate-x-1"}`}),t("Back Home"," ")]}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block px-4 py-1.5 rounded-full bg-neon-blue/10 border border-neon-blue/30 text-[10px] font-black uppercase tracking-[0.3em] text-neon-blue mb-6",children:t("INVEST IN YOUR CLINIC","   ")}),a.jsxs("h1",{className:"text-6xl md:text-8xl font-black uppercase tracking-tighter mb-6 leading-none",children:[t("Investment","")," ",a.jsx("br",{})," ",a.jsx("span",{className:"text-neon-blue",children:t("Plans","")})]}),a.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-sm mb-12",children:t("SELECT THE OPTIMAL PATH FOR YOUR CLINIC'S GROWTH","     ")}),a.jsxs("button",{onClick:()=>T("trial"),className:"px-12 py-5 bg-white/5 border border-neon-blue/40 text-neon-blue font-black rounded-3xl hover:bg-neon-blue hover:text-black transition-all shadow-glow-blue uppercase text-sm tracking-[0.2em] flex items-center gap-3 mx-auto mb-16",children:[a.jsx(I0,{size:20})," ",t("START 14 DAYS FREE TRIAL","     ")]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-24 items-stretch",children:[a.jsxs("div",{className:"p-12 rounded-[3.5rem] bg-white/5 border border-white/10 flex flex-col hover:border-white/20 transition-all group relative overflow-hidden",children:[a.jsx("h4",{className:"text-2xl font-black mb-4 uppercase",children:t("Monthly","")}),a.jsxs("div",{className:"mb-10",children:[a.jsx("span",{className:"text-5xl font-black tracking-tighter text-white",children:"1500"}),a.jsx("span",{className:"text-gray-500 ml-2 font-bold uppercase text-sm",children:t("L.E / Month",". / ")})]}),a.jsxs("ul",{className:"space-y-4 mb-12 flex-1 text-[11px] text-gray-400 font-black uppercase tracking-widest",children:[a.jsxs("li",{className:"flex items-center gap-3 text-white",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Full System Access","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Aura AI Neural Engine","   ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Advanced Clinical Suite","   ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Multi User Control","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Marketing Intelligence","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Dedicated Cloud Sync","  ")]})]}),a.jsx("button",{onClick:()=>T("monthly"),className:"w-full py-5 bg-white text-black hover:bg-neon-blue transition-all rounded-3xl font-black text-[10px] uppercase tracking-widest shadow-xl",children:t("Initialize Monthly"," ")})]}),a.jsxs("div",{className:"p-12 rounded-[3.5rem] bg-gradient-to-br from-neon-blue/10 to-neon-purple/10 border-2 border-neon-blue/40 flex flex-col relative scale-105 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)]",children:[a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 px-8 py-2 bg-neon-blue text-black rounded-full text-[10px] font-black uppercase tracking-widest shadow-glow-blue whitespace-nowrap",children:t("SAVE 3000 L.E","  .")}),a.jsx("h4",{className:"text-2xl font-black mb-4 uppercase text-neon-blue",children:t("Annually","")}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"text-6xl font-black tracking-tighter text-white",children:"15000"}),a.jsx("span",{className:"text-gray-500 ml-2 font-bold uppercase text-sm",children:t("L.E / Year",". / ")})]}),a.jsxs("p",{className:"text-[11px] text-gray-500 font-black mb-8 uppercase tracking-widest",children:["(",t("1250 L.E per month","  "),")"]}),a.jsxs("ul",{className:"space-y-4 mb-12 flex-1 text-[11px] text-white font-black uppercase tracking-widest",children:[a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Full System Access","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Aura AI Neural Engine","   ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Advanced Clinical Suite","   ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Multi User Control","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Marketing Intelligence","  ")]}),a.jsxs("li",{className:"flex items-center gap-3",children:[a.jsx(Oo,{size:18,className:"text-neon-blue"})," ",t("Dedicated Cloud Sync","  ")]})]}),a.jsx("button",{onClick:()=>T("annual"),className:"w-full py-6 bg-neon-blue text-black rounded-3xl font-black text-[10px] uppercase tracking-widest transition-all shadow-glow-blue",children:t("Initialize Annual"," ")})]}),a.jsxs("div",{className:"p-12 rounded-[3.5rem] bg-white/5 border border-white/10 flex flex-col hover:border-white/20 transition-all group",children:[a.jsx("h4",{className:"text-2xl font-black mb-4 uppercase",children:t("Customized","")}),a.jsx("div",{className:"mb-10",children:a.jsx("span",{className:"text-4xl font-black tracking-tighter text-gray-400 uppercase",children:t("Contact"," ")})}),a.jsx("p",{className:"text-gray-500 text-xs font-bold leading-relaxed mb-12 flex-1",children:t("For large medical institutions and hospitals requiring fully customized technological solutions","              ")}),a.jsxs("button",{onClick:()=>f(!0),className:"w-full py-5 border border-white/10 text-white hover:bg-white/10 transition-all rounded-3xl font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3",children:[t("Contact Sales","  ")," ",a.jsx(W2,{size:16})]})]})]})]}),d&&a.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>f(!1)}),a.jsxs("div",{className:"relative w-full max-w-md glass-panel p-10 rounded-[3rem] border border-white/10 shadow-2xl animate-slide-up text-center",children:[a.jsx("button",{onClick:()=>f(!1),className:"absolute top-8 right-8 text-gray-500 hover:text-white transition-colors",children:a.jsx(tA,{size:24})}),a.jsx("div",{className:"w-24 h-24 rounded-[2rem] bg-gradient-to-br from-white/5 to-white/10 border border-white/10 flex items-center justify-center mx-auto mb-8 shadow-2xl",children:a.jsx(W2,{size:40,className:"text-white"})}),a.jsx("h3",{className:"text-3xl font-black uppercase tracking-tighter mb-4 text-white",children:t("Enterprise Sales"," ")}),a.jsx("p",{className:"text-gray-400 text-xs font-bold leading-relaxed mb-8 uppercase tracking-wider",children:t("Reach out for custom integrations and large-scale deployments.","        .")}),a.jsxs("div",{className:"bg-black/40 p-6 rounded-3xl border border-white/5 mb-8 group cursor-pointer hover:border-white/20 transition-all",onClick:()=>{navigator.clipboard.writeText("mediosaisystem@gmail.com"),alert("Email copied!")},children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-widest mb-2",children:t("Email Address"," ")}),a.jsx("p",{className:"text-white font-bold text-lg select-all",children:"mediosaisystem@gmail.com"})]}),a.jsxs("a",{href:"mailto:mediosaisystem@gmail.com",className:"w-full py-5 bg-white text-black font-black rounded-2xl hover:bg-neon-blue transition-all text-[11px] uppercase tracking-[0.3em] flex items-center justify-center gap-3 shadow-glow-white hover:shadow-glow-blue",children:[t("Send Email Now","  ")," ",a.jsx(Dv,{size:16})]})]})]}),c&&a.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>u(!1)}),a.jsxs("div",{className:"relative w-full max-w-xl glass-panel p-12 rounded-[3.5rem] border border-neon-blue/20 shadow-2xl animate-slide-up",children:[a.jsx("button",{onClick:()=>u(!1),className:"absolute top-8 right-8 text-gray-500 hover:text-white transition-colors",children:a.jsx(tA,{size:24})}),a.jsxs("div",{className:"mb-12 text-center",children:[a.jsx("h3",{className:"text-4xl font-black uppercase tracking-tighter mb-4 text-white",children:_==="trial"?t("TRIAL REGISTRATION","  "):t("COMPLETE SUBSCRIPTION","  ")}),a.jsx("p",{className:"text-[11px] text-gray-400 font-black uppercase tracking-[0.2em]",children:t("FILL DETAILS TO INITIALIZE YOUR DIGITAL CLINIC","     ")})]}),s&&a.jsxs("div",{className:"mb-8 p-4 bg-red-500/10 border border-red-500/30 rounded-2xl text-red-400 text-xs font-bold flex items-center gap-3",children:[a.jsx(kd,{size:18})," ",s]}),a.jsxs("form",{onSubmit:P,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(ci,{size:18,className:`absolute ${r?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors`}),a.jsx("input",{required:!0,type:"text",value:v.name,onChange:z=>C({...v,name:z.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-4 ${r?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm focus:border-neon-blue outline-none transition-all placeholder-gray-800`,placeholder:t("Clinic Name"," ")})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(e6,{size:18,className:`absolute ${r?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors`}),a.jsx("input",{required:!0,type:"tel",value:v.phone,onChange:z=>C({...v,phone:z.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-4 ${r?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm focus:border-neon-blue outline-none transition-all placeholder-gray-800`,placeholder:t("Phone Number"," ")})]})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(W2,{size:18,className:`absolute ${r?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors`}),a.jsx("input",{required:!0,type:"email",value:v.email,onChange:z=>C({...v,email:z.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-4 ${r?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm focus:border-neon-blue outline-none transition-all placeholder-gray-800`,placeholder:t("Email Address"," ")})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(T0,{size:18,className:`absolute ${r?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors`}),a.jsx("input",{required:!0,type:"password",value:v.password,onChange:z=>C({...v,password:z.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-4 ${r?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm focus:border-neon-blue outline-none transition-all placeholder-gray-800`,placeholder:t("Password"," ")})]}),a.jsx("button",{disabled:g,type:"submit",className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl shadow-glow-blue hover:opacity-90 active:scale-95 transition-all text-[11px] uppercase tracking-[0.4em] flex items-center justify-center gap-3",children:g?a.jsx(xa,{className:"animate-spin",size:18}):_==="trial"?t("INITIALIZE TRIAL","  "):t("PROCEED TO PAYMENT","  ")})]})]})]})]})},bz=()=>{const{loginSaaS:n,signupSaaS:e,verifyOTP:t,requestPasswordResetOTP:r,verifyPasswordResetOTP:i,completePasswordReset:s,error:o,firebaseUser:c,isVerified:u}=qr(),{setLanguage:d}=Nl(),[f,g]=se.useState("main"),[m,v]=se.useState(!1),[C,_]=se.useState(!1),[E,T]=se.useState("none"),[k,P]=se.useState({email:"",password:"",name:"",phone:""}),[z,Y]=se.useState({email:"",password:"",rememberMe:!0}),[Z,R]=se.useState(""),[F,M]=se.useState(""),[G,L]=se.useState(""),[Q,j]=se.useState(!1),[re,fe]=se.useState(["","","","","",""]),ie=se.useRef([]),[Ae,me]=se.useState(!1),[_e,we]=se.useState(0),ee=[{id:1,title:"Doctor-Engineered AI Clinic Intelligence",desc:"Revolutionize your practice with a fully integrated AI ecosystem. From voice directives to automated patient flow, focus only on healing.",icon:a.jsx(RF,{size:52,className:"text-neon-blue"})},{id:2,title:"Control with Aura AI Assistant",desc:"Direct your entire clinic through natural voice or text commands. Aura understands your medical workflow and manages your schedule seamlessly.",icon:a.jsx(T1,{size:52,className:"text-neon-purple"})},{id:3,title:"AI-Driven Growth & Analytics",desc:"Leverage advanced statistics to analyze patient flow, improve decision-making, and optimize marketing campaigns automatically.",icon:a.jsx(F0,{size:52,className:"text-neon-green"})}];se.useEffect(()=>{c&&!u&&g("otp");const ue=setInterval(()=>we(be=>(be+1)%ee.length),8e3);return()=>clearInterval(ue)},[c,u,ee.length]);const U=async ue=>{ue.preventDefault(),me(!0);try{await n(z.email,z.password,z.rememberMe)}catch(be){console.error(be)}finally{me(!1)}},H=async ue=>{ue.preventDefault(),me(!0);try{await e(k.email,k.password,k.name,k.phone),g("otp"),_(!1)}catch(be){console.error(be)}finally{me(!1)}},V=async ue=>{ue.preventDefault(),me(!0);try{await t(re.join(""))}catch(be){console.error(be)}finally{me(!1)}},J=async ue=>{ue.preventDefault(),me(!0);try{await r(Z),T("otp"),fe(["","","","","",""])}catch(be){console.error(be)}finally{me(!1)}},q=async ue=>{ue.preventDefault(),me(!0);try{await i(Z,re.join("")),T("password_input")}catch(be){console.error(be)}finally{me(!1)}},te=async ue=>{if(ue.preventDefault(),F===G){me(!0);try{await s(Z,re.join(""),F),T("success")}catch(be){console.error(be)}finally{me(!1)}}},xe=()=>{T("none"),_(!0),v(!1)};return f==="pricing"?a.jsx(Qv,{onBack:()=>g("main"),onTrial:()=>xe()}):f==="otp"?a.jsxs("div",{className:"min-h-screen bg-[#020203] text-white flex flex-col items-center justify-center p-8 font-sans",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-neon-blue/5 rounded-full blur-[150px] animate-pulse-slow"}),a.jsxs("div",{className:"relative w-full max-w-lg glass-panel p-14 rounded-[3rem] border border-white/10 shadow-2xl text-center animate-slide-up",children:[a.jsx("div",{className:"w-20 h-20 rounded-3xl bg-neon-blue/10 border border-neon-blue/30 flex items-center justify-center text-neon-blue mx-auto mb-10 shadow-glow-blue animate-float",children:a.jsx(k0,{size:40})}),a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter mb-4",children:"Verify Identity"}),a.jsxs("p",{className:"text-gray-400 text-sm font-medium mb-10 leading-relaxed",children:["Security protocol initiated. Enter the 6-digit synchronization code sent to:",a.jsx("br",{}),a.jsx("span",{className:"text-white font-bold mt-2 block",children:c==null?void 0:c.email})]}),a.jsxs("form",{onSubmit:V,className:"space-y-10",children:[a.jsx("div",{className:"flex justify-center gap-3",children:re.map((ue,be)=>a.jsx("input",{ref:Ve=>{ie.current[be]=Ve},type:"text",inputMode:"numeric",maxLength:1,value:ue,onChange:Ve=>{var nt;const Pe=Ve.target.value;if(isNaN(Number(Pe))&&Pe!=="")return;const We=[...re];We[be]=Pe,fe(We),Pe!==""&&be<5&&((nt=ie.current[be+1])==null||nt.focus())},className:"w-12 h-16 bg-white/5 border border-white/10 rounded-2xl text-center text-2xl font-black text-neon-blue focus:border-neon-blue focus:bg-white/10 outline-none transition-all"},be))}),a.jsx("button",{disabled:Ae||re.includes(""),className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl shadow-glow-blue hover:scale-[1.02] active:scale-95 transition-all",children:Ae?a.jsx(xa,{className:"animate-spin mx-auto"}):"CONFIRM IDENTITY"})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-[#020203] text-white selection:bg-neon-blue selection:text-black font-sans overflow-x-hidden",children:[a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-[100] border-b border-white/5 bg-black/80 backdrop-blur-xl",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center px-8 py-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>{T("none"),v(!0)},className:"flex items-center gap-2 px-5 py-2 rounded-full border border-white/10 text-white font-bold text-[10px] uppercase tracking-wider hover:bg-white/5 transition-all",children:[a.jsx(yd,{size:14})," LOGIN"]}),a.jsxs("button",{onClick:()=>d("ar"),className:"p-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 hover:text-neon-blue transition-all flex items-center gap-2",children:[a.jsx($g,{size:18})," ",a.jsx("span",{className:"text-[10px] font-black uppercase",children:""})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[a.jsx("button",{onClick:()=>g("main"),className:"text-[10px] font-bold uppercase tracking-[0.2em] text-neon-blue",children:"HOME"}),a.jsx("button",{onClick:()=>g("pricing"),className:"text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 hover:text-neon-blue transition-colors",children:"PRICING"}),a.jsx("button",{onClick:()=>g("about"),className:"text-[10px] font-bold uppercase tracking-[0.2em] text-gray-400 hover:text-neon-blue transition-colors",children:"ABOUT"}),a.jsxs("button",{onClick:()=>window.open("https://youtube.com","_blank"),className:"text-[10px] font-bold uppercase tracking-[0.2em] text-neon-purple hover:text-neon-blue transition-colors flex items-center gap-2 border border-neon-purple/30 px-3 py-1 rounded-full group",children:[a.jsx(xd,{size:12,className:"group-hover:animate-pulse"})," DEMO"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-xl font-black tracking-tighter uppercase",children:["Medi",a.jsx("span",{className:"text-neon-blue",children:"OS"})," ",a.jsx("span",{className:"text-neon-purple",children:"AI"})]}),a.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-glow-blue",children:a.jsx(ci,{size:20,className:"text-white"})})]})]})}),f==="main"?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"relative h-screen flex items-center justify-center pt-16",children:[a.jsx("div",{className:"absolute top-1/2 left-12 z-50",children:a.jsx("button",{onClick:()=>we(ue=>(ue-1+ee.length)%ee.length),className:"p-4 rounded-full bg-white/5 border border-white/10 text-gray-500 hover:text-neon-blue transition-all",children:a.jsx(yh,{size:32})})}),a.jsx("div",{className:"absolute top-1/2 right-12 z-50",children:a.jsx("button",{onClick:()=>we(ue=>(ue+1)%ee.length),className:"p-4 rounded-full bg-white/5 border border-white/10 text-gray-500 hover:text-neon-blue transition-all",children:a.jsx(m0,{size:32})})}),a.jsx("div",{className:"w-full max-w-4xl px-12 relative h-[500px] flex items-center justify-center",children:ee.map((ue,be)=>a.jsxs("div",{className:`absolute w-full flex flex-col items-center text-center transition-all duration-1000 ${be===_e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[a.jsx("div",{className:"mb-8 p-9 rounded-[2.5rem] bg-white/5 border border-white/10 shadow-2xl animate-float",children:ue.icon}),a.jsx("h1",{className:"text-5xl font-black tracking-tighter uppercase mb-6 drop-shadow-xl",children:ue.title}),a.jsx("p",{className:"text-lg text-gray-400 font-medium max-w-2xl leading-relaxed mb-10",children:ue.desc}),a.jsxs("button",{onClick:()=>xe(),className:"px-24 py-5 bg-neon-blue text-black font-black rounded-full shadow-glow-blue hover:scale-105 transition-all text-[11px] uppercase tracking-widest flex items-center gap-3",children:["GET STARTED ",a.jsx(Dv,{size:18})]})]},ue.id))})]}),a.jsxs("section",{id:"features",className:"py-32 px-8 max-w-7xl mx-auto border-t border-white/5",children:[a.jsxs("div",{className:"text-center mb-24",children:[a.jsx("h2",{className:"text-6xl font-black uppercase tracking-tighter mb-4 text-glow",children:"Comprehensive AI Clinical Core"}),a.jsx("p",{className:"text-gray-500 font-black uppercase tracking-[0.3em] text-[10px]",children:"NEXT-GEN TECHNOLOGY FOR CLINIC GOVERNANCE"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx(hl,{icon:a.jsx(T1,{size:28}),title:"Aura AI Assistant",desc:"Control the entire system using natural voice or text directives. Aura is your digital mission partner.",color:"purple"}),a.jsx(hl,{icon:a.jsx(jF,{size:28}),title:"AI-Driven Analytics",desc:"Monitor clinic performance, analyze patient flow, and improve decision-making with predictive statistics.",color:"blue"}),a.jsx(hl,{icon:a.jsx(I0,{size:28}),title:"AI Marketing",desc:"Automatically create and optimize marketing campaigns from one dashboard to maximize conversion.",color:"green"}),a.jsx(hl,{icon:a.jsx(Ri,{size:28}),title:"Smart Queue Control",desc:"AI-optimized appointments, queue, and waiting room orchestration to minimize patient idle time.",color:"blue"}),a.jsx(hl,{icon:a.jsx(h_,{size:28}),title:"Advanced Medical Sheet",desc:"Full medical session management including prescriptions, lab tests, imaging, and secure patient history.",color:"purple"}),a.jsx(hl,{icon:a.jsx(ld,{size:28}),title:"Export & Print Rx",desc:"Instantly generate and print professional prescriptions, lab requests, and radiology orders.",color:"green"}),a.jsx(hl,{icon:a.jsx(Fd,{size:28}),title:"Smart Accounting",desc:"Complete financial management system synced with clinic performance and demographic metrics.",color:"blue"}),a.jsx(hl,{icon:a.jsx(XF,{size:28}),title:"Unified Dashboard",desc:"Manage social media and marketing channels directly from one centralized mission control.",color:"purple"}),a.jsx(hl,{icon:a.jsx(eA,{size:28}),title:"Secure Storage",desc:"Enterprise-grade encryption for all patient medical records and diagnostic imaging history.",color:"green"}),a.jsx(hl,{icon:a.jsx(p_,{size:28}),title:"Adaptive Dark Mode",desc:"Optimized interface specifically designed for best visibility and reduced eye strain during long working hours.",color:"purple"}),a.jsx(hl,{icon:a.jsx(ZF,{size:28}),title:"Customizable Prints",desc:"Fully customize your prescription layouts or upload your own pre-designed templates for a branded experience.",color:"blue"}),a.jsx(hl,{icon:a.jsx(Sh,{size:28}),title:"Assistant Doctor Room",desc:"Enable a dedicated workstation for assistant doctors to prepare patient data and sync instantly with the main room.",color:"green"})]})]})]}):a.jsx(_z,{onBack:()=>g("main")}),m&&a.jsx(uS,{mode:"login",resetFlow:E,setResetFlow:T,onClose:()=>v(!1),onSubmit:U,onResetRequest:J,onResetVerify:q,onPasswordResetComplete:te,data:z,setData:Y,resetEmail:Z,setResetEmail:R,newPassword:F,setNewPassword:M,confirmPassword:G,setConfirmPassword:L,showPass:Q,setShowPass:j,otp:re,setOtp:fe,otpInputs:ie,loading:Ae,error:o}),C&&a.jsx(uS,{mode:"signup",resetFlow:E,setResetFlow:T,onClose:()=>_(!1),onSubmit:H,data:k,setData:P,loading:Ae,error:o,otp:re,setOtp:fe,otpInputs:ie})]})},hl=({icon:n,title:e,desc:t,color:r})=>a.jsxs("div",{className:"p-10 rounded-[2.5rem] bg-white/5 border border-white/5 hover:bg-white/[0.07] transition-all group overflow-hidden",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-6 border transition-all group-hover:scale-110 ${r==="blue"?"text-neon-blue bg-neon-blue/5 border-neon-blue/20":r==="purple"?"text-neon-purple bg-neon-purple/5 border-neon-purple/20":"text-neon-green bg-neon-green/5 border-neon-green/20"}`,children:n}),a.jsx("h3",{className:"text-lg font-black text-white mb-3 uppercase tracking-tight group-hover:text-neon-blue transition-colors",children:e}),a.jsx("p",{className:"text-[13px] text-gray-500 font-medium leading-relaxed",children:t})]}),uS=({mode:n,resetFlow:e="none",setResetFlow:t,onClose:r,onSubmit:i,onResetRequest:s,onResetVerify:o,onPasswordResetComplete:c,data:u,setData:d,resetEmail:f,setResetEmail:g,newPassword:m,setNewPassword:v,confirmPassword:C,setConfirmPassword:_,showPass:E,setShowPass:T,otp:k,setOtp:P,otpInputs:z,loading:Y,error:Z})=>a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-fade-in",children:a.jsxs("div",{className:"relative w-full max-w-md glass-panel p-12 rounded-[3rem] border border-white/10 shadow-2xl animate-slide-up",children:[a.jsx("button",{onClick:r,className:"absolute top-8 right-8 text-gray-500 hover:text-white transition-colors",children:a.jsx(tA,{size:24})}),a.jsxs("div",{className:"mb-10 text-center",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest mb-2",children:e==="none"?n==="login"?"Terminal Login":"Start Trial":"Identity Recovery"}),a.jsx("p",{className:"text-[9px] text-gray-500 font-black uppercase",children:e==="none"?n==="login"?"Identify for system access":"14 days full access - no credit card":"Security protocol initiated"})]}),Z&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-xs font-bold flex items-center gap-2 animate-shake",children:[a.jsx(kd,{size:14})," ",Z]}),e==="none"&&a.jsxs("form",{onSubmit:i,className:"space-y-4",children:[n==="signup"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{required:!0,type:"text",value:u.name,onChange:R=>d({...u,name:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none placeholder-gray-800",placeholder:"Clinic Name"}),a.jsx("input",{required:!0,type:"tel",value:u.phone,onChange:R=>d({...u,phone:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none placeholder-gray-800",placeholder:"Phone Number"})]}),a.jsx("input",{required:!0,type:"email",value:u.email,onChange:R=>d({...u,email:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none placeholder-gray-800",placeholder:"Email Address"}),a.jsx("input",{required:!0,type:"password",value:u.password,onChange:R=>d({...u,password:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none placeholder-gray-800",placeholder:"Password"}),n==="login"&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:u.rememberMe,onChange:R=>d({...u,rememberMe:R.target.checked})}),a.jsx("div",{className:"w-5 h-5 rounded border-2 border-white/10 bg-black/40 peer-checked:bg-neon-blue peer-checked:border-neon-blue transition-all"}),a.jsx(g0,{size:14,className:"absolute top-0.5 left-0.5 text-black opacity-0 peer-checked:opacity-100 transition-opacity"})]}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 group-hover:text-white transition-colors",children:"Remember"})]}),a.jsx("button",{type:"button",onClick:()=>t("request"),className:"text-[10px] font-black text-neon-blue hover:text-white transition-colors uppercase tracking-widest",children:"Forgot Password?"})]}),a.jsx("button",{disabled:Y,className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl shadow-glow-blue hover:opacity-90 active:scale-95 transition-all text-[10px] uppercase tracking-[0.4em] flex items-center justify-center gap-3",children:Y?a.jsx(xa,{className:"animate-spin"}):n==="login"?"ENTER SYSTEM":"INITIALIZE TRIAL"})]}),e==="request"&&a.jsxs("form",{onSubmit:s,className:"space-y-6",children:[a.jsx("p",{className:"text-xs text-gray-400 leading-relaxed text-center",children:"Enter your registered clinic email to receive a secure recovery OTP."}),a.jsx("input",{required:!0,type:"email",value:f,onChange:R=>g(R.target.value),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-purple outline-none placeholder-gray-800",placeholder:"Clinic Email Address"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>t("none"),className:"flex-1 py-4 bg-white/5 text-white font-bold rounded-2xl text-[10px] uppercase tracking-widest hover:bg-white/10 transition-all",children:"Cancel"}),a.jsx("button",{disabled:Y,type:"submit",className:"flex-[2] py-4 bg-neon-purple text-white font-black rounded-2xl shadow-[0_0_15px_rgba(157,0,255,0.4)] hover:scale-[1.02] active:scale-95 transition-all text-[10px] uppercase tracking-widest",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):"SEND RECOVERY CODE"})]})]}),e==="otp"&&a.jsxs("form",{onSubmit:o,className:"space-y-10",children:[a.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed text-center",children:["Code sent to: ",a.jsx("br",{}),a.jsx("span",{className:"text-white font-bold",children:f})]}),a.jsx("div",{className:"flex justify-center gap-3",children:k.map((R,F)=>a.jsx("input",{ref:M=>{z.current&&(z.current[F]=M)},type:"text",inputMode:"numeric",maxLength:1,value:R,onChange:M=>{var Q;const G=M.target.value;if(isNaN(Number(G))&&G!=="")return;const L=[...k];L[F]=G,P(L),G!==""&&F<5&&((Q=z.current[F+1])==null||Q.focus())},className:"w-10 h-14 bg-white/5 border border-white/10 rounded-xl text-center text-xl font-black text-neon-purple focus:border-neon-purple outline-none transition-all"},F))}),a.jsx("button",{disabled:Y||k.includes(""),className:"w-full py-5 bg-neon-purple text-white font-black rounded-2xl shadow-[0_0_20px_rgba(157,0,255,0.4)] hover:scale-[1.02] active:scale-95 transition-all text-[10px] uppercase tracking-widest",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):"VERIFY CODE"}),a.jsx("button",{type:"button",onClick:()=>t("request"),className:"w-full text-center text-[10px] text-gray-500 hover:text-white transition-colors font-black uppercase tracking-widest",children:"Change Email"})]}),e==="password_input"&&a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-green-400 font-bold uppercase tracking-widest mb-2",children:"Code Verified"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Generate your new secure credentials."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(T0,{size:18,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{required:!0,type:E?"text":"password",value:m,onChange:R=>v(R.target.value),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 pl-14 pr-12 text-sm focus:border-neon-blue outline-none placeholder-gray-800",placeholder:"New Password"}),a.jsx("button",{type:"button",onClick:()=>T(!E),className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-600 hover:text-white",children:E?a.jsx(OF,{size:18}):a.jsx(xd,{size:18})})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(k0,{size:18,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{required:!0,type:E?"text":"password",value:C,onChange:R=>_(R.target.value),className:`w-full bg-black/40 border rounded-2xl py-4 pl-14 pr-6 text-sm outline-none transition-all placeholder-gray-800 ${C?m===C?"border-green-500/30":"border-red-500/30":"border-white/5"}`,placeholder:"Confirm Password"})]})]}),a.jsx("button",{disabled:Y||!m||m!==C,type:"submit",className:"w-full py-5 bg-gradient-to-r from-neon-blue to-blue-600 text-black font-black rounded-2xl shadow-glow-blue hover:scale-[1.02] active:scale-95 transition-all text-[10px] uppercase tracking-widest disabled:opacity-30",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):"UPDATE SYSTEM PASSWORD"})]}),e==="success"&&a.jsxs("div",{className:"text-center space-y-8 py-6 animate-fade-in",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/10 border border-green-500/30 flex items-center justify-center text-green-500 mx-auto shadow-[0_0_30px_rgba(34,197,94,0.3)] animate-float",children:a.jsx(g0,{size:40})}),a.jsx("h4",{className:"text-xl font-black text-white uppercase tracking-widest",children:"Update Successful"}),a.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed px-4",children:["Identity confirmed and database synchronized. ",a.jsx("br",{}),a.jsx("br",{}),"Your new password is now active. Please return to the portal to sign in."]}),a.jsx("button",{onClick:()=>{t("none"),r()},className:"w-full py-5 bg-white text-black font-black rounded-2xl hover:bg-neon-blue transition-all text-[10px] uppercase tracking-widest shadow-xl",children:"Back to Terminal"})]})]})}),_z=({onBack:n})=>a.jsxs("div",{className:"pt-40 pb-32 px-8 max-w-5xl mx-auto animate-fade-in space-y-12",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"inline-flex p-4 rounded-3xl bg-neon-blue/10 border border-neon-blue/20 mb-2 animate-float text-neon-blue",children:a.jsx(r6,{size:40})}),a.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter",children:"About Us"})]}),a.jsxs("div",{className:"glass-panel p-12 rounded-[3.5rem] border border-white/10 relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b from-neon-blue to-neon-purple"}),a.jsxs("div",{className:"space-y-10",children:[a.jsx("h3",{className:"text-3xl font-black text-white underline decoration-neon-blue decoration-4 underline-offset-8 uppercase",children:"A Unique Vision for Healthcare"}),a.jsxs("div",{className:"space-y-6 text-lg text-gray-300 leading-relaxed font-medium",children:[a.jsx("p",{children:"We are a team of young Egyptian doctors passionate about technology, design, programming, and cloud solutions. Driven by our belief that doctors best understand the real needs of the medical field, and by combining our hands-on medical experience with advanced technological expertise, we have designed a unique and comprehensive system tailored to the needs of doctors, clinics, and medical centers."}),a.jsx("p",{children:"Our system aims to simplify clinic management, enhance both doctor and patient experiences, and improve daily workflow efficiency through smart solutions powered by the latest advancements in artificial intelligence and digital transformation."}),a.jsx("p",{children:"We do not offer just a software product  we deliver a complete vision for modern clinic management that keeps pace with the evolving medical market and empowers doctors to focus on what truly matters: providing the highest quality of patient care."})]})]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsx("button",{onClick:n,className:"px-10 py-4 bg-white/5 border border-white/10 rounded-2xl text-gray-400 font-bold uppercase tracking-widest hover:text-neon-blue transition-all text-[10px]",children:"Return to Home"})})]}),Cz=()=>{const{loginSaaS:n,signupSaaS:e,verifyOTP:t,requestPasswordResetOTP:r,verifyPasswordResetOTP:i,completePasswordReset:s,error:o,firebaseUser:c,isVerified:u}=qr(),{setLanguage:d}=Nl(),[f,g]=se.useState("main"),[m,v]=se.useState(!1),[C,_]=se.useState(!1),[E,T]=se.useState("none"),[k,P]=se.useState({email:"",password:"",name:"",phone:""}),[z,Y]=se.useState({email:"",password:"",rememberMe:!0}),[Z,R]=se.useState(""),[F,M]=se.useState(""),[G,L]=se.useState(""),[Q,j]=se.useState(!1),[re,fe]=se.useState(["","","","","",""]),ie=se.useRef([]),[Ae,me]=se.useState(!1),[_e,we]=se.useState(0),ee=[{id:1,title:"       ",desc:"                  .",icon:a.jsx(RF,{size:52,className:"text-neon-blue"})},{id:2,title:"     ",desc:"           .        .",icon:a.jsx(T1,{size:52,className:"text-neon-purple"})},{id:3,title:"     ",desc:"             .",icon:a.jsx(F0,{size:52,className:"text-neon-green"})}];se.useEffect(()=>{c&&!u&&g("otp");const ue=setInterval(()=>we(be=>(be+1)%ee.length),8e3);return()=>clearInterval(ue)},[c,u,ee.length]);const U=async ue=>{ue.preventDefault(),me(!0);try{await n(z.email,z.password,z.rememberMe)}catch(be){console.error(be)}finally{me(!1)}},H=async ue=>{ue.preventDefault(),me(!0);try{await e(k.email,k.password,k.name,k.phone),g("otp"),_(!1)}catch(be){console.error(be)}finally{me(!1)}},V=async ue=>{ue.preventDefault(),me(!0);try{await t(re.join(""))}catch(be){console.error(be)}finally{me(!1)}},J=async ue=>{ue.preventDefault(),me(!0);try{await r(Z),T("otp"),fe(["","","","","",""])}catch(be){console.error(be)}finally{me(!1)}},q=async ue=>{ue.preventDefault(),me(!0);try{await i(Z,re.join("")),T("password_input")}catch(be){console.error(be)}finally{me(!1)}},te=async ue=>{if(ue.preventDefault(),F===G){me(!0);try{await s(Z,re.join(""),F),T("success")}catch(be){console.error(be)}finally{me(!1)}}},xe=()=>{T("none"),_(!0),v(!1)};return f==="pricing"?a.jsx(Qv,{onBack:()=>g("main"),onTrial:()=>xe()}):f==="otp"?a.jsxs("div",{className:"min-h-screen bg-[#020203] text-white flex flex-col items-center justify-center p-8 font-arabic",dir:"rtl",children:[a.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-neon-blue/5 rounded-full blur-[150px] animate-pulse-slow"}),a.jsxs("div",{className:"relative w-full max-w-lg glass-panel p-14 rounded-[3rem] border border-white/10 shadow-2xl text-center animate-slide-up",children:[a.jsx("div",{className:"w-20 h-20 rounded-3xl bg-neon-blue/10 border border-neon-blue/30 flex items-center justify-center text-neon-blue mx-auto mb-10 shadow-glow-blue animate-float",children:a.jsx(k0,{size:40})}),a.jsx("h2",{className:"text-3xl font-black uppercase tracking-tighter mb-4",children:"  "}),a.jsxs("p",{className:"text-gray-400 text-sm font-medium mb-10 leading-relaxed",children:["   .      6   :",a.jsx("br",{}),a.jsx("span",{className:"text-white font-bold mt-2 block",children:c==null?void 0:c.email})]}),a.jsxs("form",{onSubmit:V,className:"space-y-10",children:[a.jsx("div",{className:"flex justify-center gap-3",dir:"ltr",children:re.map((ue,be)=>a.jsx("input",{ref:Ve=>{ie.current[be]=Ve},type:"text",inputMode:"numeric",maxLength:1,value:ue,onChange:Ve=>{var nt;const Pe=Ve.target.value;if(isNaN(Number(Pe))&&Pe!=="")return;const We=[...re];We[be]=Pe,fe(We),Pe!==""&&be<5&&((nt=ie.current[be+1])==null||nt.focus())},className:"w-12 h-16 bg-white/5 border border-white/10 rounded-2xl text-center text-2xl font-black text-neon-blue focus:border-neon-blue focus:bg-white/10 outline-none transition-all"},be))}),a.jsx("button",{disabled:Ae||re.includes(""),className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl shadow-glow-blue hover:scale-[1.02] active:scale-95 transition-all text-xl",children:Ae?a.jsx(xa,{className:"animate-spin mx-auto"}):" "})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-[#020203] text-white selection:bg-neon-blue selection:text-black font-arabic overflow-x-hidden",dir:"rtl",children:[a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-[100] border-b border-white/5 bg-black/80 backdrop-blur-xl",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center px-8 py-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>{T("none"),v(!0)},className:"flex items-center gap-2 px-5 py-2 rounded-full border border-white/10 text-white font-bold text-[10px] uppercase tracking-wider hover:bg-white/5 transition-all",children:[a.jsx(yd,{size:14}),"  "]}),a.jsxs("button",{onClick:()=>d("en"),className:"p-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 hover:text-neon-blue transition-all flex items-center gap-2",children:[a.jsx($g,{size:18})," ",a.jsx("span",{className:"text-[10px] font-black uppercase",children:"English"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[a.jsx("button",{onClick:()=>g("main"),className:"text-sm font-black uppercase tracking-wider text-neon-blue",children:""}),a.jsx("button",{onClick:()=>g("pricing"),className:"text-sm font-black uppercase tracking-wider text-gray-400 hover:text-neon-blue transition-colors",children:""}),a.jsx("button",{onClick:()=>g("about"),className:"text-sm font-black uppercase tracking-wider text-gray-400 hover:text-neon-blue transition-colors",children:" "}),a.jsxs("button",{onClick:()=>window.open("https://youtube.com","_blank"),className:"text-sm font-black uppercase tracking-wider text-neon-purple hover:text-neon-blue transition-colors flex items-center gap-2 border border-neon-purple/30 px-4 py-1 rounded-full group",children:[a.jsx(xd,{size:14,className:"group-hover:animate-pulse"})," "]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-xl md:text-2xl font-black tracking-tighter uppercase",children:["Medi",a.jsx("span",{className:"text-neon-blue",children:"OS"})," ",a.jsx("span",{className:"text-neon-purple",children:"AI"})]}),a.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-glow-blue border border-white/20",children:a.jsx(ci,{size:20,className:"text-white"})})]})]})}),f==="main"?a.jsxs(a.Fragment,{children:[a.jsxs("section",{className:"relative h-screen flex items-center justify-center pt-16",children:[a.jsx("div",{className:"absolute top-1/2 right-12 z-50",children:a.jsx("button",{onClick:()=>we(ue=>(ue+1)%ee.length),className:"p-4 rounded-full bg-white/5 border border-white/10 text-gray-500 hover:text-neon-blue transition-all",children:a.jsx(m0,{size:32})})}),a.jsx("div",{className:"absolute top-1/2 left-12 z-50",children:a.jsx("button",{onClick:()=>we(ue=>(ue-1+ee.length)%ee.length),className:"p-4 rounded-full bg-white/5 border border-white/10 text-gray-500 hover:text-neon-blue transition-all",children:a.jsx(yh,{size:32})})}),a.jsx("div",{className:"w-full max-w-4xl px-12 relative h-[500px] flex items-center justify-center",children:ee.map((ue,be)=>a.jsxs("div",{className:`absolute w-full flex flex-col items-center text-center transition-all duration-1000 ${be===_e?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,children:[a.jsx("div",{className:"mb-8 p-9 rounded-[2.5rem] bg-white/5 border border-white/10 shadow-2xl animate-float",children:ue.icon}),a.jsx("h1",{className:"text-4xl md:text-5xl font-black tracking-tight uppercase mb-6 leading-tight drop-shadow-xl",children:ue.title}),a.jsx("p",{className:"text-lg text-gray-400 font-medium max-w-2xl leading-relaxed mb-10",children:ue.desc}),a.jsxs("button",{onClick:()=>xe(),className:"px-24 py-5 bg-neon-blue text-black font-black rounded-full shadow-glow-blue hover:scale-105 transition-all text-lg flex items-center gap-3",children:["   ",a.jsx(X9,{size:22})]})]},ue.id))})]}),a.jsxs("section",{id:"features",className:"py-32 px-8 max-w-7xl mx-auto border-t border-white/5",children:[a.jsxs("div",{className:"text-center mb-24",children:[a.jsx("h2",{className:"text-5xl md:text-6xl font-black uppercase tracking-tighter mb-4 text-glow",children:"   "}),a.jsx("p",{className:"text-gray-500 font-black uppercase tracking-[0.3em] text-[10px]",children:"      "})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx(fl,{icon:a.jsx(T1,{size:28}),title:"  ",desc:"        .       .",color:"purple"}),a.jsx(fl,{icon:a.jsx(jF,{size:28}),title:"  ",desc:"             .",color:"blue"}),a.jsx(fl,{icon:a.jsx(I0,{size:28}),title:"  ",desc:"            .",color:"green"}),a.jsx(fl,{icon:a.jsx(Ri,{size:28}),title:"  ",desc:"            .",color:"blue"}),a.jsx(fl,{icon:a.jsx(h_,{size:28}),title:"  ",desc:"           .",color:"purple"}),a.jsx(fl,{icon:a.jsx(ld,{size:28}),title:"  ",desc:"          .",color:"green"}),a.jsx(fl,{icon:a.jsx(Fd,{size:28}),title:"  ",desc:"          .",color:"blue"}),a.jsx(fl,{icon:a.jsx(XF,{size:28}),title:"  ",desc:"           .",color:"purple"}),a.jsx(fl,{icon:a.jsx(eA,{size:28}),title:"  ",desc:"          .",color:"green"}),a.jsx(fl,{icon:a.jsx(p_,{size:28}),title:"  ",desc:"            .",color:"purple"}),a.jsx(fl,{icon:a.jsx(ZF,{size:28}),title:" ",desc:"             .",color:"blue"}),a.jsx(fl,{icon:a.jsx(Sh,{size:28}),title:"  ",desc:"             .",color:"green"})]})]})]}):a.jsx(Ez,{onBack:()=>g("main")}),m&&a.jsx(dS,{mode:"login",resetFlow:E,setResetFlow:T,onClose:()=>v(!1),onSubmit:U,onResetRequest:J,onResetVerify:q,onPasswordResetComplete:te,data:z,setData:Y,resetEmail:Z,setResetEmail:R,newPassword:F,setNewPassword:M,confirmPassword:G,setConfirmPassword:L,showPass:Q,setShowPass:j,otp:re,setOtp:fe,otpInputs:ie,loading:Ae,error:o}),C&&a.jsx(dS,{mode:"signup",resetFlow:E,setResetFlow:T,onClose:()=>_(!1),onSubmit:H,data:k,setData:P,loading:Ae,error:o,otp:re,setOtp:fe,otpInputs:ie})]})},fl=({icon:n,title:e,desc:t,color:r})=>a.jsxs("div",{className:"p-10 rounded-[2.5rem] bg-white/5 border border-white/5 hover:bg-white/[0.07] transition-all group overflow-hidden text-right",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center mb-6 border transition-all group-hover:scale-110 ${r==="blue"?"text-neon-blue bg-neon-blue/5 border-neon-blue/20":r==="purple"?"text-neon-purple bg-neon-purple/5 border-neon-purple/20":"text-neon-green bg-neon-green/5 border-neon-green/20"}`,children:n}),a.jsx("h3",{className:"text-xl font-black text-white mb-3 uppercase tracking-tight group-hover:text-neon-blue transition-colors",children:e}),a.jsx("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:t})]}),dS=({mode:n,resetFlow:e="none",setResetFlow:t,onClose:r,onSubmit:i,onResetRequest:s,onResetVerify:o,onPasswordResetComplete:c,data:u,setData:d,resetEmail:f,setResetEmail:g,newPassword:m,setNewPassword:v,confirmPassword:C,setConfirmPassword:_,showPass:E,setShowPass:T,otp:k,setOtp:P,otpInputs:z,loading:Y,error:Z})=>a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-6 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"relative w-full max-w-md glass-panel p-12 rounded-[3rem] border border-white/10 shadow-2xl animate-slide-up",children:[a.jsx("button",{onClick:r,className:"absolute top-8 right-8 text-gray-500 hover:text-white transition-colors",children:a.jsx(tA,{size:24})}),a.jsxs("div",{className:"mb-10 text-center",children:[a.jsx("h3",{className:"text-3xl font-black uppercase tracking-widest mb-2",children:e==="none"?n==="login"?" ":"  ":" "}),a.jsx("p",{className:"text-sm text-gray-500 font-black uppercase",children:e==="none"?n==="login"?"   ":"     -  ":"   "})]}),Z&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-xs font-bold flex items-center gap-2 animate-shake",children:[a.jsx(kd,{size:14})," ",Z]}),e==="none"&&a.jsxs("form",{onSubmit:i,className:"space-y-5",children:[n==="signup"&&a.jsxs(a.Fragment,{children:[a.jsx("input",{required:!0,type:"text",value:u.name,onChange:R=>d({...u,name:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none text-right",placeholder:" "}),a.jsx("input",{required:!0,type:"tel",value:u.phone,onChange:R=>d({...u,phone:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none text-left",dir:"ltr",placeholder:" "})]}),a.jsx("input",{required:!0,type:"email",value:u.email,onChange:R=>d({...u,email:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none text-left",dir:"ltr",placeholder:" "}),a.jsx("input",{required:!0,type:"password",value:u.password,onChange:R=>d({...u,password:R.target.value}),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-blue outline-none text-left",dir:"ltr",placeholder:" "}),n==="login"&&a.jsxs("div",{className:"flex items-center justify-between text-sm font-black px-1",children:[a.jsxs("label",{className:"flex items-center text-gray-400 cursor-pointer hover:text-white transition-colors gap-3 group select-none",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",checked:u.rememberMe,onChange:R=>d({...u,rememberMe:R.target.checked}),className:"peer sr-only"}),a.jsx("div",{className:"w-5 h-5 border-2 border-white/10 rounded bg-black/40 peer-checked:bg-neon-blue peer-checked:border-neon-blue transition-all"}),a.jsx(g0,{size:14,className:"absolute top-0.5 right-0.5 text-black opacity-0 peer-checked:opacity-100 transition-opacity"})]}),a.jsx("span",{children:""})]}),a.jsx("button",{type:"button",onClick:()=>t("request"),className:"text-neon-blue hover:text-white transition-colors text-xs",children:"  "})]}),a.jsx("button",{disabled:Y,className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl shadow-glow-blue hover:opacity-90 active:scale-95 transition-all text-lg",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):n==="login"?" ":"  "})]}),e==="request"&&a.jsxs("form",{onSubmit:s,className:"space-y-6 text-right",children:[a.jsx("p",{className:"text-sm text-gray-400 leading-relaxed text-center",children:"       ."}),a.jsx("input",{required:!0,type:"email",dir:"ltr",value:f,onChange:R=>g(R.target.value),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 px-6 text-sm focus:border-neon-purple outline-none text-left placeholder-gray-800",placeholder:" "}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>t("none"),className:"flex-1 py-4 bg-white/5 text-white font-bold rounded-2xl text-xs uppercase tracking-widest hover:bg-white/10 transition-all",children:""}),a.jsx("button",{disabled:Y,type:"submit",className:"flex-[2] py-4 bg-neon-purple text-white font-black rounded-2xl shadow-[0_0_15px_rgba(157,0,255,0.4)] hover:scale-[1.02] active:scale-95 transition-all text-lg tracking-widest",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):"  "})]})]}),e==="otp"&&a.jsxs("form",{onSubmit:o,className:"space-y-10",children:[a.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed text-center",children:["   : ",a.jsx("br",{}),a.jsx("span",{className:"text-white font-bold",children:f})]}),a.jsx("div",{className:"flex justify-center gap-3",dir:"ltr",children:k.map((R,F)=>a.jsx("input",{ref:M=>{z.current&&(z.current[F]=M)},type:"text",inputMode:"numeric",maxLength:1,value:R,onChange:M=>{var Q;const G=M.target.value;if(isNaN(Number(G))&&G!=="")return;const L=[...k];L[F]=G,P(L),G!==""&&F<5&&((Q=z.current[F+1])==null||Q.focus())},className:"w-10 h-14 bg-white/5 border border-white/10 rounded-xl text-center text-xl font-black text-neon-purple focus:border-neon-purple outline-none transition-all"},F))}),a.jsx("button",{disabled:Y||k.includes(""),className:"w-full py-5 bg-neon-purple text-white font-black rounded-2xl shadow-[0_0_20px_rgba(157,0,255,0.4)] hover:scale-[1.02] active:scale-95 transition-all text-lg",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):" "}),a.jsx("button",{type:"button",onClick:()=>t("request"),className:"w-full text-center text-sm text-gray-500 hover:text-white transition-colors font-black uppercase tracking-widest",children:"  "})]}),e==="password_input"&&a.jsxs("form",{onSubmit:c,className:"space-y-6 text-right",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-green-400 font-bold mb-2",children:"   "}),a.jsx("p",{className:"text-xs text-gray-400",children:"      ."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative group",children:[a.jsx(T0,{size:18,className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{required:!0,type:E?"text":"password",value:m,onChange:R=>v(R.target.value),className:"w-full bg-black/40 border border-white/5 rounded-2xl py-4 pr-14 pl-12 text-sm focus:border-neon-blue outline-none text-right",placeholder:"  "}),a.jsx("button",{type:"button",onClick:()=>T(!E),className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-600 hover:text-white",children:E?a.jsx(OF,{size:18}):a.jsx(xd,{size:18})})]}),a.jsxs("div",{className:"relative group",children:[a.jsx(k0,{size:18,className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{required:!0,type:E?"text":"password",value:C,onChange:R=>_(R.target.value),className:`w-full bg-black/40 border rounded-2xl py-4 pr-14 pl-6 text-sm outline-none transition-all text-right ${C?m===C?"border-green-500/30":"border-red-500/30":"border-white/5"}`,placeholder:"  "})]})]}),a.jsx("button",{disabled:Y||!m||m!==C,type:"submit",className:"w-full py-5 bg-gradient-to-l from-neon-blue to-blue-600 text-black font-black rounded-2xl shadow-lg hover:scale-[1.02] active:scale-95 transition-all text-xl disabled:opacity-30",children:Y?a.jsx(xa,{className:"animate-spin mx-auto"}):"   "})]}),e==="success"&&a.jsxs("div",{className:"text-center space-y-8 py-6 animate-fade-in",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/10 border border-green-500/30 flex items-center justify-center text-green-500 mx-auto shadow-[0_0_30px_rgba(34,197,94,0.3)] animate-float",children:a.jsx(g0,{size:40})}),a.jsx("h4",{className:"text-2xl font-black text-white uppercase tracking-widest",children:"  "}),a.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed px-4",children:["     . ",a.jsx("br",{}),a.jsx("br",{}),"    .     ."]}),a.jsx("button",{onClick:()=>{t("none"),r()},className:"w-full py-5 bg-white text-black font-black rounded-2xl hover:bg-neon-blue transition-all text-lg shadow-xl",children:"  "})]})]})}),Ez=({onBack:n})=>a.jsxs("div",{className:"pt-40 pb-32 px-8 max-w-5xl mx-auto animate-fade-in space-y-12 text-right",dir:"rtl",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"inline-flex p-4 rounded-3xl bg-neon-blue/10 border border-neon-blue/20 mb-2 animate-float text-neon-blue",children:a.jsx(r6,{size:40})}),a.jsx("h1",{className:"text-6xl font-black uppercase tracking-tighter",children:" "})]}),a.jsxs("div",{className:"glass-panel p-12 rounded-[3.5rem] border border-white/10 relative overflow-hidden shadow-2xl",children:[a.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full bg-gradient-to-b from-neon-blue to-neon-purple"}),a.jsxs("div",{className:"space-y-10",children:[a.jsx("h3",{className:"text-3xl font-black text-white underline decoration-neon-blue decoration-4 underline-offset-8 uppercase",children:"   "}),a.jsxs("div",{className:"space-y-6 text-xl text-gray-300 leading-relaxed font-medium",children:[a.jsx("p",{children:"            .                         different          ."}),a.jsx("p",{children:"                         ."}),a.jsx("p",{children:"                          :     ."})]})]})]}),a.jsx("div",{className:"text-center pt-4",children:a.jsx("button",{onClick:n,className:"px-10 py-4 bg-white/5 border border-white/10 rounded-2xl text-gray-400 font-bold uppercase tracking-widest hover:text-neon-blue transition-all text-sm",children:" "})})]}),hS=()=>{const{language:n}=Nl();return n==="ar"?a.jsx(Cz,{}):a.jsx(bz,{})},Nz=()=>{const{loginSystem:n,logoutSaaS:e,loading:t,error:r,firebaseUser:i}=qr(),[s,o]=se.useState(""),[c,u]=se.useState(""),[d,f]=se.useState(!1),[g,m]=se.useState(!1),v=async C=>{C.preventDefault(),m(!0);try{await n(s,c,d)}catch{console.error("System login failed")}finally{m(!1)}};return a.jsxs("div",{className:"min-h-screen flex w-full bg-[#050505] relative",children:[a.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-[40vw] h-[40vw] bg-neon-blue/10 rounded-full blur-[150px] animate-float"}),a.jsx("div",{className:"hidden lg:flex w-1/2 relative flex-col justify-center items-center p-16 z-10",children:a.jsxs("div",{className:"relative z-10 text-center space-y-10 max-w-lg",children:[a.jsx("div",{className:"w-28 h-28 mx-auto rounded-3xl bg-gradient-to-tr from-neon-blue to-neon-purple flex items-center justify-center shadow-glow-blue animate-float border border-white/20",children:a.jsx(ci,{size:56,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-6xl font-black text-white tracking-tighter mb-4 brand-text",children:["Medi",a.jsx("span",{className:"text-neon-blue",children:"OS"})]}),a.jsxs("p",{className:"text-gray-500 text-lg tracking-widest font-light uppercase",children:["Authenticated: ",a.jsx("span",{className:"text-white font-bold",children:i==null?void 0:i.displayName})]})]}),a.jsx("div",{className:"glass-panel p-8 rounded-2xl border border-white/10 backdrop-blur-xl",children:a.jsxs("p",{className:"text-xl text-gray-300 font-light leading-relaxed",children:['"Individual staff authentication active. Please use your provided ',a.jsx("span",{className:"font-bold text-neon-blue",children:"Clinic ID"}),'."']})}),a.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-gray-600 hover:text-red-400 transition-colors mx-auto font-bold uppercase text-xs tracking-widest",children:[a.jsx(jv,{size:16})," Exit SaaS Session"]})]})}),a.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative z-20",children:a.jsxs("div",{className:"relative w-full max-w-[420px]",children:[a.jsxs("div",{className:"glass-panel rounded-[2.5rem] p-12 border border-white/10 shadow-2xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink"}),a.jsxs("div",{className:"mb-10 text-center lg:text-left",children:[a.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight uppercase",children:"System Portal"}),a.jsx("p",{className:"text-gray-500 text-sm font-bold uppercase tracking-widest",children:"Identify Staff Member"})]}),r&&a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-red-500/10 border border-red-500/20 flex items-start gap-3 animate-slide-up",children:a.jsx("p",{className:"text-red-400 text-xs font-black uppercase",children:r})}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2 group",children:[a.jsx("label",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500 font-black ml-1",children:"Clinic Staff ID"}),a.jsxs("div",{className:"relative",children:[a.jsx(yd,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{type:"text",value:s,onChange:C=>o(C.target.value),className:"w-full bg-black/40 text-white pl-12 pr-4 py-4 rounded-2xl border border-white/5 focus:border-neon-blue outline-none transition-all placeholder-gray-700",placeholder:"username...",required:!0})]})]}),a.jsxs("div",{className:"space-y-2 group",children:[a.jsx("label",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500 font-black ml-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(T0,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-neon-purple transition-colors"}),a.jsx("input",{type:"password",value:c,onChange:C=>u(C.target.value),className:"w-full bg-black/40 text-white pl-12 pr-4 py-4 rounded-2xl border border-white/5 focus:border-neon-purple outline-none transition-all placeholder-gray-700",placeholder:"",required:!0})]})]}),a.jsx("div",{className:"flex items-center gap-2 px-1",children:a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:d,onChange:C=>f(C.target.checked)}),a.jsx("div",{className:"w-5 h-5 rounded border-2 border-white/10 bg-black/40 peer-checked:bg-neon-blue peer-checked:border-neon-blue transition-all"}),a.jsx(g0,{size:14,className:"absolute top-0.5 left-0.5 text-black opacity-0 peer-checked:opacity-100 transition-opacity"})]}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500 group-hover:text-white transition-colors",children:"Remember Session"})]})}),a.jsxs("button",{type:"submit",disabled:g||t,className:"w-full py-5 bg-gradient-to-r from-neon-blue to-blue-600 text-black font-black rounded-2xl shadow-glow-blue hover:scale-[1.02] active:scale-95 transition-all text-xs uppercase tracking-[0.3em] flex items-center justify-center gap-2",children:[g?"SYNCING...":"ENTER DASHBOARD"," ",!g&&a.jsx(Dv,{size:18})]})]})]}),a.jsx("div",{className:"mt-8 text-center opacity-40",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-500 uppercase tracking-[0.3em] font-black",children:[a.jsx(eA,{size:10})," SECURE CLINIC SILO ACTIVE"]})})]})})]})},Sz=()=>{const{firebaseUser:n,completeAdminSetup:e,error:t}=qr(),{t:r,setLanguage:i,language:s,isRTL:o}=Nl(),[c,u]=se.useState(1),[d,f]=se.useState({username:"",displayName:(n==null?void 0:n.displayName)||"",password:"",photoURL:""}),[g,m]=se.useState(""),[v,C]=se.useState(""),[_,E]=se.useState(""),[T,k]=se.useState([]),[P,z]=se.useState([]),[Y,Z]=se.useState(""),[R,F]=se.useState(""),[M,G]=se.useState(!1),[L,Q]=se.useState(0),j=_e=>{var ee;const we=(ee=_e.target.files)==null?void 0:ee[0];if(we){const U=new FileReader;U.onloadend=()=>{f(H=>({...H,photoURL:U.result}))},U.readAsDataURL(we)}},re=()=>{Y&&(k([...T,Y]),Z(""))},fe=_e=>{k(T.filter((we,ee)=>ee!==_e))},ie=()=>{R&&(z([...P,R]),F(""))},Ae=_e=>{z(P.filter((we,ee)=>ee!==_e))},me=async _e=>{_e.preventDefault(),G(!0);const we=setInterval(()=>{Q(ee=>ee>=95?ee:ee+5)},150);try{const ee={clinicName:g||d.displayName,doctorName:v||d.displayName,specialty:_||"General Practice",phones:T,addresses:P};await e({...d,role:"admin",permissions:{dashboard:{access:!0},front_desk:{access:!0},accountant:{access:!0},analytics:{access:!0},system_control:{access:!0},examination_room:{access:!0},social_media:{access:!0},customize_prints:{access:!0},assistant_room:{access:!0}}},ee),Q(100)}finally{clearInterval(we),G(!1)}};return a.jsxs("div",{className:`min-h-screen bg-[#050505] text-white flex flex-col items-center justify-center p-6 relative overflow-hidden selection:bg-neon-blue selection:text-black ${o?"font-arabic":"font-sans"}`,dir:o?"rtl":"ltr",children:[a.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[50vw] h-[50vw] bg-neon-blue/5 rounded-full blur-[150px] animate-pulse-slow pointer-events-none"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[50vw] h-[50vw] bg-neon-purple/5 rounded-full blur-[150px] animate-pulse-slow pointer-events-none",style:{animationDelay:"2s"}}),a.jsx("div",{className:"fixed top-8 right-8 z-[100] flex gap-4",children:a.jsxs("button",{onClick:()=>i(s==="en"?"ar":"en"),className:"flex items-center gap-2 px-6 py-2.5 rounded-full border border-white/10 bg-white/5 backdrop-blur-xl text-white font-black text-[10px] uppercase tracking-widest hover:bg-neon-blue hover:text-black transition-all hover:scale-105 active:scale-95 shadow-lg",children:[a.jsx($g,{size:14})," ",s==="en"?"":"English"]})}),a.jsxs("div",{className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-2 gap-16 items-center relative z-10",children:[a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-[2rem] bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-glow-blue animate-float border border-white/20",children:a.jsx(eA,{size:48,className:"text-white drop-shadow-lg"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-neon-blue font-black uppercase tracking-[0.4em] text-[10px] mb-1",children:r("SYSTEM INITIALIZATION"," ")}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:`h-1 w-4 rounded-full ${c>=1?"bg-neon-blue":"bg-white/10"}`}),a.jsx("div",{className:`h-1 w-4 rounded-full ${c>=2?"bg-neon-blue":"bg-white/10"}`})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h1",{className:"text-6xl lg:text-7xl font-black text-white tracking-tighter leading-none",children:[r("Initialize"," ")," ",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-blue to-neon-purple drop-shadow-[0_0_15px_rgba(0,243,255,0.4)]",children:r("Clinic Core"," ")})]}),a.jsxs("p",{className:"text-gray-400 text-xl leading-relaxed max-w-md font-medium opacity-80",children:[r("Authenticated as","  ")," ",a.jsx("span",{className:"text-white font-black",children:n==null?void 0:n.displayName})]})]}),M&&a.jsxs("div",{className:"space-y-4 animate-fade-in max-w-sm",children:[a.jsxs("div",{className:"flex justify-between text-[11px] font-black uppercase tracking-[0.3em] text-neon-blue",children:[a.jsx("span",{children:r("DEPLOYING ASSETS"," ")}),a.jsxs("span",{children:[L,"%"]})]}),a.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden border border-white/5 p-[2px]",children:a.jsx("div",{className:"h-full bg-neon-blue shadow-[0_0_15px_#00f3ff] transition-all duration-300 rounded-full",style:{width:`${L}%`}})})]})]}),a.jsxs("div",{className:"glass-panel p-12 lg:p-16 rounded-[4rem] border border-white/10 shadow-[0_0_80px_-20px_rgba(0,0,0,0.8)] relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-neon-blue via-neon-purple to-neon-pink opacity-80 group-hover:opacity-100 transition-opacity"}),a.jsxs("div",{className:"mb-12 text-center md:text-right",children:[a.jsx("h2",{className:"text-4xl font-black text-white mb-3 tracking-tighter uppercase",children:r("Installation Wizard"," ")}),a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.5em]",children:c===1?r("STEP 1 IDENTITY","  "):r("STEP 2 STATIONERY","  ")})]}),t&&a.jsxs("div",{className:"mb-10 p-5 bg-red-500/10 border border-red-500/20 rounded-[2rem] text-red-400 text-xs font-black flex items-center gap-4 animate-slide-up",children:[a.jsx(kd,{size:22})," ",t]}),c===1&&a.jsxs("div",{className:"space-y-10 animate-slide-up",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"relative group",children:a.jsxs("div",{className:"w-32 h-32 rounded-[2.5rem] bg-black/60 border-2 border-dashed border-white/10 overflow-hidden flex items-center justify-center group-hover:border-neon-blue transition-all cursor-pointer relative shadow-inner group-hover:shadow-[0_0_20px_rgba(0,243,255,0.2)]",children:[d.photoURL?a.jsx("img",{src:d.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):a.jsx(DF,{size:44,className:"text-gray-700 group-hover:text-neon-blue transition-colors"}),a.jsx("input",{type:"file",accept:"image/*",onChange:j,className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),a.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-[0.3em] mt-5",children:r("UPLOAD ADMIN SIGNATURE PHOTO","   ")})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3 group",children:[a.jsx("label",{className:`text-[10px] font-black text-gray-500 uppercase tracking-widest block ${o?"mr-2":"ml-2"}`,children:r("Master Access ID","  ")}),a.jsxs("div",{className:"relative",children:[a.jsx(yd,{size:20,className:`absolute ${o?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-blue transition-colors`}),a.jsx("input",{required:!0,type:"text",value:d.username,onChange:_e=>f({...d,username:_e.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-5 ${o?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm text-white focus:border-neon-blue focus:bg-black/60 outline-none transition-all placeholder-gray-800`,placeholder:"username"})]})]}),a.jsxs("div",{className:"space-y-3 group",children:[a.jsx("label",{className:`text-[10px] font-black text-gray-500 uppercase tracking-widest block ${o?"mr-2":"ml-2"}`,children:r("Display Designation"," ")}),a.jsxs("div",{className:"relative",children:[a.jsx($F,{size:20,className:`absolute ${o?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-purple transition-colors`}),a.jsx("input",{required:!0,type:"text",value:d.displayName,onChange:_e=>f({...d,displayName:_e.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-5 ${o?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm text-white focus:border-neon-purple focus:bg-black/60 outline-none transition-all placeholder-gray-800`,placeholder:"Dr. Name"})]})]}),a.jsxs("div",{className:"space-y-3 group",children:[a.jsx("label",{className:`text-[10px] font-black text-gray-500 uppercase tracking-widest block ${o?"mr-2":"ml-2"}`,children:r("Vault Password","  ")}),a.jsxs("div",{className:"relative",children:[a.jsx(T0,{size:20,className:`absolute ${o?"right-5":"left-5"} top-1/2 -translate-y-1/2 text-gray-600 group-focus-within:text-neon-pink transition-colors`}),a.jsx("input",{required:!0,type:"password",value:d.password,onChange:_e=>f({...d,password:_e.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-5 ${o?"pr-14 pl-6 text-right":"pl-14 pr-6 text-left"} text-sm text-white focus:border-neon-pink focus:bg-black/60 outline-none transition-all placeholder-gray-800`,placeholder:""})]})]})]}),a.jsxs("button",{type:"button",onClick:()=>u(2),disabled:!d.username||!d.password||!d.displayName,className:"w-full py-6 bg-white/10 border border-white/10 text-white font-black rounded-[2rem] hover:bg-white/20 transition-all text-xs uppercase tracking-[0.4em] flex items-center justify-center gap-4",children:[r("NEXT STEP"," ")," ",a.jsx(Dv,{size:20,className:o?"rotate-180":""})]})]}),c===2&&a.jsxs("form",{onSubmit:me,className:"space-y-8 animate-slide-up h-[500px] overflow-y-auto custom-scrollbar pr-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block",children:r("Clinic Name"," ")}),a.jsx("input",{required:!0,type:"text",value:g,onChange:_e=>m(_e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-neon-blue focus:bg-black/60 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block",children:r("Doctor Name"," ")}),a.jsx("input",{required:!0,type:"text",value:v,onChange:_e=>C(_e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-neon-blue focus:bg-black/60 outline-none transition-all"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block",children:r("Specialty","")}),a.jsx("input",{required:!0,type:"text",value:_,onChange:_e=>E(_e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-neon-purple focus:bg-black/60 outline-none transition-all"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block",children:r("Phone Numbers"," ")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"tel",value:Y,onChange:_e=>Z(_e.target.value),className:"flex-1 bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-white outline-none",placeholder:"+123..."}),a.jsx("button",{type:"button",onClick:re,className:"p-3 bg-white/10 rounded-xl hover:bg-neon-blue hover:text-black transition-colors",children:a.jsx(za,{size:16})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:T.map((_e,we)=>a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded flex items-center gap-2",children:[_e," ",a.jsx("button",{type:"button",onClick:()=>fe(we),children:a.jsx(Ii,{size:10,className:"text-red-400"})})]},we))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest block",children:r("Addresses","")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:R,onChange:_e=>F(_e.target.value),className:"flex-1 bg-black/40 border border-white/10 rounded-xl p-3 text-sm text-white outline-none",placeholder:"City, St..."}),a.jsx("button",{type:"button",onClick:ie,className:"p-3 bg-white/10 rounded-xl hover:bg-neon-purple hover:text-white transition-colors",children:a.jsx(za,{size:16})})]}),a.jsx("div",{className:"flex flex-col gap-2",children:P.map((_e,we)=>a.jsxs("span",{className:"text-xs bg-white/5 px-2 py-1 rounded flex justify-between items-center",children:[_e," ",a.jsx("button",{type:"button",onClick:()=>Ae(we),children:a.jsx(Ii,{size:10,className:"text-red-400"})})]},we))})]})]}),a.jsxs("button",{disabled:M,type:"submit",className:"w-full py-6 bg-neon-blue text-black font-black rounded-[2rem] shadow-glow-blue hover:scale-[1.02] active:scale-95 transition-all text-xs uppercase tracking-[0.4em] flex items-center justify-center gap-4 group overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 pointer-events-none"}),M?a.jsx(xa,{className:"animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(I0,{size:22,className:"group-hover:-translate-y-1 group-hover:translate-x-1 transition-transform"})," ",r("COMPLETE SYSTEM INITIALIZATION","  ")]})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("span",{className:"text-[9px] text-gray-600 font-bold uppercase tracking-[0.4em] flex items-center justify-center gap-3",children:[a.jsx(k0,{size:14,className:"text-neon-blue"})," ",r("SECURE ENROLLMENT"," ")]})})]})]})]})},Bz=({activeTab:n,setActiveTab:e})=>{const[t,r]=se.useState(!1),[i,s]=se.useState(!1),{systemUser:o,logoutSystem:c}=qr(),{hasAssistantDoctor:u}=bi(),{language:d,setLanguage:f,isRTL:g,t:m}=Nl(),v=[{name:m("Dashboard",""),icon:a.jsx(qF,{size:22}),id:"dashboard",permissionKey:"dashboard"},{name:m("Front Desk"," "),icon:a.jsx(JH,{size:22}),id:"front-desk",permissionKey:"front_desk"},...u?[{name:m("Assistant Doctor Room","  "),icon:a.jsx(Sh,{size:22}),id:"assistant-room",permissionKey:"assistant_room"}]:[],{name:m("Examination Room"," "),icon:a.jsx(yo,{size:22}),id:"exam-room",permissionKey:"examination_room"},{name:m("Patient Data"," "),icon:a.jsx(QF,{size:22}),id:"patient-data",permissionKey:"examination_room"},{name:m("Social Media"," "),icon:a.jsx(HV,{size:22}),id:"social",permissionKey:"social_media"},{name:m("Accountant",""),icon:a.jsx(AH,{size:22}),id:"accountant",permissionKey:"accountant"},{name:m("Analytics",""),icon:a.jsx(wg,{size:22}),id:"analytics",permissionKey:"analytics"},{name:m("Customize Prints"," "),icon:a.jsx(ld,{size:22}),id:"customize-prints",permissionKey:"customize_prints"},{name:m("System Control"," "),icon:a.jsx(zV,{size:22}),id:"system",permissionKey:"system_control"}],C=E=>{var T,k;return(o==null?void 0:o.role)==="admin"||E==="examination_room"&&(o==null?void 0:o.role)==="doctor"||E==="assistant_room"&&(o==null?void 0:o.role)==="assistant_doctor"?!0:((k=(T=o==null?void 0:o.permissions)==null?void 0:T[E])==null?void 0:k.access)===!0};se.useEffect(()=>{if(i){const E=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(E)}},[i]);const _=()=>{i?c():s(!0)};return a.jsxs("div",{className:`relative h-screen glass-panel border-r border-white/5 transition-all duration-500 ease-[cubic-bezier(0.25,0.8,0.25,1)] flex flex-col z-30 shadow-2xl
        ${t?"w-[88px]":"w-72"}`,children:[a.jsxs("div",{className:"h-28 flex items-center justify-center relative overflow-hidden shrink-0 drag-region",children:[a.jsx("div",{className:`transition-all duration-500 absolute ${t?"opacity-0 scale-75 blur-sm translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:a.jsxs("h1",{className:"text-3xl font-black tracking-wider text-center flex flex-col items-center select-none",children:[a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-blue to-neon-purple drop-shadow-[0_0_8px_rgba(0,243,255,0.5)]",children:"MediOS"}),a.jsx("span",{className:"text-[10px] tracking-[0.2em] text-gray-400 font-bold mt-1 uppercase",children:"AI Powered"})]})}),a.jsx("div",{className:`transition-all duration-500 absolute ${t?"opacity-100 scale-100":"opacity-0 scale-75 blur-sm"}`,children:a.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-[0_0_15px_rgba(0,243,255,0.4)]",children:a.jsx(ci,{className:"text-white",size:24})})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto py-2 px-4 space-y-3 custom-scrollbar",children:v.map(E=>{if(!C(E.permissionKey))return null;const T=n===E.name;return a.jsxs("button",{onClick:()=>e(E.name),className:`w-full flex items-center p-3.5 rounded-2xl transition-all duration-300 relative group overflow-hidden outline-none
                ${T?"bg-neon-blue/10 text-neon-blue shadow-[0_0_20px_-5px_rgba(0,243,255,0.3)] border border-neon-blue/20":"text-gray-400 hover:bg-white/5 hover:text-white border border-transparent hover:border-white/10"}
              `,children:[a.jsxs("div",{className:"relative z-10 flex items-center justify-center min-w-[24px]",children:[a.jsx("span",{className:`transition-all duration-300 ${T?"drop-shadow-[0_0_8px_rgba(0,243,255,0.6)] scale-110":"group-hover:scale-110"}`,children:E.icon}),a.jsx("span",{className:`text-sm font-semibold whitespace-nowrap transition-all duration-500 origin-left
                    ${g?"mr-4 ml-0":"ml-4 mr-0"}
                    ${t?"opacity-0 translate-x-4 max-w-0 hidden":"opacity-100 translate-x-0 max-w-[200px]"}
                 `,children:E.name})]}),T&&!t&&a.jsx("div",{className:`absolute w-1.5 h-1.5 rounded-full bg-neon-blue shadow-[0_0_10px_#00f3ff] ${g?"left-3":"right-3"}`})]},E.id)})}),a.jsxs("div",{className:"px-4 pb-3 flex flex-col gap-2 shrink-0",children:[a.jsxs("button",{onClick:()=>f(d==="en"?"ar":"en"),className:"w-full h-9 flex items-center justify-center gap-2 rounded-xl bg-white/5 border border-white/10 text-gray-400 hover:text-neon-blue hover:border-neon-blue/30 transition-all group overflow-hidden",children:[a.jsx($g,{size:14}),a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${t?"hidden":"inline"}`,children:m("","ENGLISH")})]}),a.jsxs("button",{onClick:_,className:`w-full h-9 flex items-center justify-center gap-2 rounded-xl transition-all duration-300 relative group overflow-hidden outline-none border
              ${i?"bg-red-500 text-white border-red-500 shadow-[0_0_15px_rgba(239,68,68,0.4)]":"bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20 hover:border-red-500/30"}
            `,children:[a.jsx(XA,{size:14,strokeWidth:3,className:i?"animate-pulse":""}),a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest whitespace-nowrap transition-all duration-500
               ${t?"w-0 opacity-0 hidden":"w-auto opacity-100"}
            `,children:i?m("Confirm?",""):m("Logout","")})]})]}),a.jsx("button",{onClick:()=>r(!t),className:`absolute top-[106px] w-6 h-6 bg-neon-blue text-black rounded-full flex items-center justify-center shadow-[0_0_10px_rgba(0,243,255,0.6)] hover:scale-110 transition-transform z-50 border-2 border-[#050505]
          ${g?"-left-3":"-right-3"}`,children:t?g?a.jsx(yh,{size:14}):a.jsx(m0,{size:14}):g?a.jsx(m0,{size:14}):a.jsx(yh,{size:14})})]})},Tz=({isOpen:n,onClose:e})=>{const{systemUser:t,firebaseUser:r}=qr(),{isRTL:i}=Nl(),[s,o]=se.useState([]),[c,u]=se.useState(""),d=se.useRef(null),f=r==null?void 0:r.uid;se.useEffect(()=>{if(!n||!f)return;const m=Qf(Oa(mn,"messages"),Hc("clinicId","==",f),F9(50)),v=B1(m,C=>{const _=[];C.forEach(E=>{_.push({id:E.id,...E.data()})}),_.sort((E,T)=>{var z,Y;const k=((z=E.createdAt)==null?void 0:z.seconds)||0,P=((Y=T.createdAt)==null?void 0:Y.seconds)||0;return k-P}),o(_),setTimeout(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},100)},C=>{console.error("Chat sync error:",C)});return()=>v()},[n,f]);const g=async m=>{if(m.preventDefault(),!(c.trim()===""||!f))try{await jA(Oa(mn,"messages"),{text:c,senderId:(t==null?void 0:t.id)||"anonymous",senderName:(t==null?void 0:t.displayName)||"Unknown",photoURL:t==null?void 0:t.photoURL,clinicId:f,createdAt:Yx()}),u("")}catch(v){console.error("Error sending message: ",v)}};return a.jsx("div",{className:`fixed bottom-8 ${i?"left-6":"right-8"} z-[100] flex flex-col items-end pointer-events-none`,dir:i?"rtl":"ltr",children:a.jsxs("div",{className:`transition-all duration-500 cubic-bezier(0.16, 1, 0.3, 1) transform 
          ${i?"origin-bottom-left":"origin-bottom-right"}
          ${n?"scale-100 opacity-100 translate-y-0 pointer-events-auto":"scale-75 opacity-0 translate-y-10 pointer-events-none hidden"}
          w-[380px] h-[600px] glass-panel rounded-[2.5rem] shadow-[0_25px_60px_-15px_rgba(0,0,0,0.7)] flex flex-col border border-white/10 overflow-hidden mb-6`,children:[a.jsxs("div",{className:"bg-white/5 p-6 flex justify-between items-center border-b border-white/5 backdrop-blur-xl shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 shadow-[0_0_15px_#22c55e]"}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500 animate-ping opacity-75"})]}),a.jsxs("div",{className:i?"text-right":"text-left",children:[a.jsx("span",{className:"font-black text-base text-white block tracking-tight leading-none mb-1",children:i?"  ":"Live Team Chat"}),a.jsx("span",{className:"text-[10px] text-neon-blue font-black block tracking-widest uppercase opacity-80",children:i?" ":"SECURE CHANNEL"})]})]}),a.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-all p-2.5 hover:bg-white/10 rounded-full group",children:a.jsx(YF,{size:20,className:"group-hover:scale-110 transition-transform"})})]}),a.jsxs("div",{ref:d,className:"flex-1 overflow-y-auto p-6 space-y-5 bg-black/40 custom-scrollbar scroll-smooth",children:[s.length===0&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-30 px-10",children:[a.jsx("div",{className:"p-5 rounded-full bg-white/5 mb-4 border border-white/5",children:a.jsx(WF,{size:40,className:"text-gray-400"})}),a.jsx("p",{className:"text-xs font-black uppercase tracking-widest leading-relaxed",children:i?"    ":"Secure silo active. Start a conversation."})]}),s.map(m=>{const v=m.senderId===(t==null?void 0:t.id);return a.jsxs("div",{className:`flex gap-3 ${v?"flex-row-reverse":"flex-row"} animate-slide-up`,children:[a.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gray-800 overflow-hidden flex-shrink-0 border border-white/10 shadow-xl group",children:m.photoURL?a.jsx("img",{src:m.photoURL,alt:"user",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-white font-black bg-gradient-to-br from-gray-700 to-gray-900 uppercase",children:m.senderName.charAt(0)})}),a.jsxs("div",{className:`flex flex-col ${v?i?"items-start":"items-end":i?"items-end":"items-start"} max-w-[75%]`,children:[a.jsx("div",{className:"flex items-center gap-2 mb-1 px-1",children:a.jsx("span",{className:"text-[10px] text-gray-500 font-black uppercase tracking-wider",children:m.senderName})}),a.jsx("div",{className:`p-4 rounded-[1.5rem] text-sm leading-relaxed break-words shadow-2xl border transition-all duration-300
                    ${v?"bg-neon-blue/10 text-white border-neon-blue/40 rounded-tr-none":"bg-white/5 text-gray-200 border-white/10 rounded-tl-none hover:bg-white/10"}`,children:m.text})]})]},m.id)})]}),a.jsxs("form",{onSubmit:g,className:"p-5 border-t border-white/10 bg-black/60 backdrop-blur-2xl flex gap-3 items-center shrink-0 pointer-events-auto",children:[a.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),placeholder:i?"  ...":"Type your message...",className:`flex-1 bg-white/5 border border-white/10 rounded-2xl px-5 py-3.5 text-sm focus:outline-none focus:border-neon-blue/50 text-white placeholder-gray-600 transition-all focus:bg-white/10 ${i?"text-right":"text-left"}`}),a.jsx("button",{type:"submit",disabled:!c.trim(),className:"p-4 rounded-2xl bg-neon-blue text-black hover:scale-105 active:scale-95 transition-all disabled:opacity-30 disabled:scale-100 shadow-[0_0_20px_rgba(0,243,255,0.4)] hover:shadow-[0_0_30px_rgba(0,243,255,0.6)]",children:a.jsx(n6,{size:20,className:i?"rotate-180":"",strokeWidth:2.5})})]})]})})};var Iz={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kz,Fz;function Uz(){return{geminiUrl:kz,vertexUrl:Fz}}function Rz(n,e,t,r){var i,s;if(!(n!=null&&n.baseUrl)){const o=Uz();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:t:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ru{}function Vt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(n,e,t){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const c=o.slice(0,-2);if(!(c in n))if(Array.isArray(t))n[c]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(n[c])){const u=n[c];if(Array.isArray(t))for(let d=0;d<u.length;d++){const f=u[d];b(f,e.slice(s+1),t[d])}else for(const d of u)b(d,e.slice(s+1),t)}return}else if(o.endsWith("[0]")){const c=o.slice(0,-3);c in n||(n[c]=[{}]);const u=n[c];b(u[0],e.slice(s+1),t);return}(!n[o]||typeof n[o]!="object")&&(n[o]={}),n=n[o]}const r=e[e.length-1],i=n[r];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[r]=t}function y(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let r=0;r<e.length;r++){if(typeof n!="object"||n===null)return t;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in n){const o=n[s];return Array.isArray(o)?o.map(c=>y(c,e.slice(r+1),t)):t}else return t}else n=n[i]}return n}catch(r){if(r instanceof TypeError)return t;throw r}}function Lz(n,e){for(const[t,r]of Object.entries(e)){const i=t.split("."),s=r.split("."),o=new Set;let c=-1;for(let u=0;u<i.length;u++)if(i[u]==="*"){c=u;break}if(c!==-1&&s.length>c)for(let u=c;u<s.length;u++){const d=s[u];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&o.add(d)}ub(n,i,s,0,o)}}function ub(n,e,t,r,i){if(r>=e.length||typeof n!="object"||n===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),c=n;if(o in c&&Array.isArray(c[o]))for(const u of c[o])ub(u,e,t,r+1,i)}else if(s==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const o=n,c=Object.keys(o).filter(d=>!d.startsWith("_")&&!i.has(d)),u={};for(const d of c)u[d]=o[d];for(const[d,f]of Object.entries(u)){const g=[];for(const m of t.slice(r))m==="*"?g.push(d):g.push(m);b(o,g,f)}for(const d of c)delete o[d]}}else{const o=n;s in o&&ub(o[s],e,t,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v_(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dz(n){const e={},t=y(n,["operationName"]);t!=null&&b(e,["operationName"],t);const r=y(n,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function jz(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response","generateVideoResponse"]);return o!=null&&b(e,["response"],Pz(o)),e}function Mz(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response"]);return o!=null&&b(e,["response"],Oz(o)),e}function Pz(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>Qz(o))),b(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Oz(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>Hz(o))),b(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function Qz(n){const e={},t=y(n,["video"]);return t!=null&&b(e,["video"],$z(t)),e}function Hz(n){const e={},t=y(n,["_self"]);return t!=null&&b(e,["video"],Wz(t)),e}function Vz(n){const e={},t=y(n,["operationName"]);return t!=null&&b(e,["_url","operationName"],t),e}function zz(n){const e={},t=y(n,["operationName"]);return t!=null&&b(e,["_url","operationName"],t),e}function Gz(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response"]);return o!=null&&b(e,["response"],Kz(o)),e}function Kz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&b(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function l6(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response"]);return o!=null&&b(e,["response"],qz(o)),e}function qz(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&b(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function $z(n){const e={},t=y(n,["uri"]);t!=null&&b(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&b(e,["videoBytes"],v_(r));const i=y(n,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function Wz(n){const e={},t=y(n,["gcsUri"]);t!=null&&b(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],v_(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fS;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fS||(fS={}));var pS;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(pS||(pS={}));var gS;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(gS||(gS={}));var jr;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(jr||(jr={}));var mS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(mS||(mS={}));var xS;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xS||(xS={}));var vS;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(vS||(vS={}));var yS;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yS||(yS={}));var wS;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(wS||(wS={}));var bS;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(bS||(bS={}));var _S;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(_S||(_S={}));var CS;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(CS||(CS={}));var ES;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(ES||(ES={}));var NS;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(NS||(NS={}));var SS;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(SS||(SS={}));var BS;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(BS||(BS={}));var TS;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(TS||(TS={}));var IS;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(IS||(IS={}));var kS;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kS||(kS={}));var k1;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(k1||(k1={}));var FS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FS||(FS={}));var US;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(US||(US={}));var RS;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(RS||(RS={}));var db;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(db||(db={}));var LS;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(LS||(LS={}));var DS;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(DS||(DS={}));var jS;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(jS||(jS={}));var MS;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(MS||(MS={}));var PS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(PS||(PS={}));var OS;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(OS||(OS={}));var QS;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(QS||(QS={}));var HS;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(HS||(HS={}));var VS;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(VS||(VS={}));var zS;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(zS||(zS={}));var GS;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(GS||(GS={}));var KS;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(KS||(KS={}));var qS;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(qS||(qS={}));var $S;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($S||($S={}));var WS;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(WS||(WS={}));var YS;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(YS||(YS={}));var XS;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(XS||(XS={}));var JS;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(JS||(JS={}));var ZS;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ZS||(ZS={}));var eB;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(eB||(eB={}));var tB;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(tB||(tB={}));var nB;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(nB||(nB={}));var rB;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(rB||(rB={}));var iB;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(iB||(iB={}));var sB;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sB||(sB={}));var aB;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(aB||(aB={}));var oB;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(oB||(oB={}));var lB;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(lB||(lB={}));var cB;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(cB||(cB={}));var AB;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(AB||(AB={}));var uB;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(uB||(uB={}));var Hf;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Hf||(Hf={}));class hb{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class _p{get text(){var e,t,r,i,s,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const g=[];for(const m of(u=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(const[v,C]of Object.entries(m))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&g.push(v);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,r,i,s,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const g of(u=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)!==null&&u!==void 0?u:[]){for(const[m,v]of Object.entries(g))m!=="inlineData"&&(v!==null||v!==void 0)&&f.push(m);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,r,i,s,o,c,u;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,r,i,s,o,c,u,d;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,r,i,s,o,c,u,d;if(((i=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(c=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.parts)===null||u===void 0?void 0:u.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class dB{}class hB{}class Yz{}class Xz{}class Jz{}class Zz{}class fB{}class pB{}class gB{}class eG{}class F1{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new F1;let i;const s=e;return t?i=Mz(s):i=jz(s),Object.assign(r,i),r}}class mB{}class xB{}class vB{}class yB{}class tG{}class nG{}class rG{}class y_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new y_,s=Gz(e);return Object.assign(r,s),r}}class iG{}class sG{}class aG{}class wB{}class oG{get text(){var e,t,r;let i="",s=!1;const o=[];for(const c of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(c))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;s=!0,i+=c.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,r;let i="";const s=[];for(const o of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(o))c!=="inlineData"&&u!==null&&s.push(c);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class w_{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const r=new w_,s=l6(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lr(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function c6(n,e){const t=lr(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function A6(n){return Array.isArray(n)?n.map(e=>U1(e)):[U1(n)]}function U1(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function u6(n){const e=U1(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function d6(n){const e=U1(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bB(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function h6(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>bB(e)):[bB(n)]}function fb(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function _B(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function CB(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function va(n){if(n==null)throw new Error("ContentUnion is required");return fb(n)?n:{role:"user",parts:h6(n)}}function b_(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=va(t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=va(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>va(t)):[va(e)]}function Cl(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(_B(n)||CB(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[va(n)]}const e=[],t=[],r=fb(n[0]);for(const i of n){const s=fb(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(_B(i)||CB(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return r||e.push({role:"user",parts:h6(t)}),e}function cG(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(jr).includes(t[0].toUpperCase())?t[0].toUpperCase():jr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(jr).includes(r.toUpperCase())?r.toUpperCase():jr.TYPE_UNSPECIFIED})}}function Jf(n){const e={},t=["items"],r=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&cG(n.type,e);for(const[o,c]of Object.entries(n))if(c!=null)if(o=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(jr).includes(c.toUpperCase())?c.toUpperCase():jr.TYPE_UNSPECIFIED}else if(t.includes(o))e[o]=Jf(c);else if(r.includes(o)){const u=[];for(const d of c){if(d.type=="null"){e.nullable=!0;continue}u.push(Jf(d))}e[o]=u}else if(i.includes(o)){const u={};for(const[d,f]of Object.entries(c))u[d]=Jf(f);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=c}return e}function __(n){return Jf(n)}function C_(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function E_(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function U0(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Jf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Jf(e.response));return n}function R0(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function AG(n,e,t,r=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function iu(n,e){if(typeof e!="string")throw new Error("name must be a string");return AG(n,e,"cachedContents")}function f6(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Ud(n){return v_(n)}function uG(n){return n!=null&&typeof n=="object"&&"name"in n}function dG(n){return n!=null&&typeof n=="object"&&"video"in n}function hG(n){return n!=null&&typeof n=="object"&&"uri"in n}function p6(n){var e;let t;if(uG(n)&&(t=n.name),!(hG(n)&&(t=n.uri,t===void 0))&&!(dG(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function g6(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function m6(n){for(const e of["models","tunedModels","publisherModels"])if(fG(n,e))return n[e];return[]}function fG(n,e){return n!==null&&typeof n=="object"&&e in n}function pG(n,e={}){const t=n,r={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(r.responseJsonSchema=t.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function gG(n,e={}){const t=[],r=new Set;for(const i of n){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=pG(i,e);o.functionDeclarations&&t.push(...o.functionDeclarations)}return{functionDeclarations:t}}function x6(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const r=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function mG(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function v6(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const u=o.response;if(typeof u!="object"||u===null)continue;if(u.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function L0(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function y6(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xG(n){const e={},t=y(n,["responsesFile"]);t!=null&&b(e,["fileName"],t);const r=y(n,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>JG(o))),b(e,["inlinedResponses"],s)}const i=y(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["inlinedEmbedContentResponses"],s)}return e}function vG(n){const e={},t=y(n,["predictionsFormat"]);t!=null&&b(e,["format"],t);const r=y(n,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(n,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function yG(n){const e={},t=y(n,["format"]);t!=null&&b(e,["predictionsFormat"],t);const r=y(n,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Xx(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(n,["metadata","state"]);i!=null&&b(e,["state"],y6(i));const s=y(n,["metadata","createTime"]);s!=null&&b(e,["createTime"],s);const o=y(n,["metadata","endTime"]);o!=null&&b(e,["endTime"],o);const c=y(n,["metadata","updateTime"]);c!=null&&b(e,["updateTime"],c);const u=y(n,["metadata","model"]);u!=null&&b(e,["model"],u);const d=y(n,["metadata","output"]);return d!=null&&b(e,["dest"],xG(v6(d))),e}function pb(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(n,["state"]);i!=null&&b(e,["state"],y6(i));const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["createTime"]);o!=null&&b(e,["createTime"],o);const c=y(n,["startTime"]);c!=null&&b(e,["startTime"],c);const u=y(n,["endTime"]);u!=null&&b(e,["endTime"],u);const d=y(n,["updateTime"]);d!=null&&b(e,["updateTime"],d);const f=y(n,["model"]);f!=null&&b(e,["model"],f);const g=y(n,["inputConfig"]);g!=null&&b(e,["src"],wG(g));const m=y(n,["outputConfig"]);m!=null&&b(e,["dest"],vG(v6(m)));const v=y(n,["completionStats"]);return v!=null&&b(e,["completionStats"],v),e}function wG(n){const e={},t=y(n,["instancesFormat"]);t!=null&&b(e,["format"],t);const r=y(n,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(n,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function bG(n,e){const t={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(t,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>XG(n,o))),b(t,["requests","requests"],s)}return t}function _G(n){const e={},t=y(n,["format"]);t!=null&&b(e,["instancesFormat"],t);const r=y(n,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(n,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function CG(n){const e={},t=y(n,["data"]);if(t!=null&&b(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function EG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function NG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function SG(n){const e={},t=y(n,["content"]);t!=null&&b(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],BG(r));const i=y(n,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&b(e,["finishReason"],s);const o=y(n,["avgLogprobs"]);o!=null&&b(e,["avgLogprobs"],o);const c=y(n,["groundingMetadata"]);c!=null&&b(e,["groundingMetadata"],c);const u=y(n,["index"]);u!=null&&b(e,["index"],u);const d=y(n,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const f=y(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),b(e,["safetyRatings"],m)}const g=y(n,["urlContextMetadata"]);return g!=null&&b(e,["urlContextMetadata"],g),e}function BG(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function w6(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>sK(s))),b(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&b(e,["role"],r),e}function TG(n,e){const t={},r=y(n,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function IG(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(n,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],yG(mG(i))),t}function EB(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["src"]);i!=null&&b(t,["batch","inputConfig"],bG(n,x6(n,i)));const s=y(e,["config"]);return s!=null&&TG(s,t),t}function kG(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["model"],lr(n,r));const i=y(e,["src"]);i!=null&&b(t,["inputConfig"],_G(x6(n,i)));const s=y(e,["config"]);return s!=null&&IG(s,t),t}function FG(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),t}function UG(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["src"]);i!=null&&b(t,["batch","inputConfig"],OG(n,i));const s=y(e,["config"]);return s!=null&&FG(s,t),t}function RG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function LG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function DG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&b(e,["name"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);return s!=null&&b(e,["error"],s),e}function jG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["name"]);r!=null&&b(e,["name"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);return s!=null&&b(e,["error"],s),e}function MG(n,e){const t={},r=y(e,["contents"]);if(r!=null){let s=b_(n,r);Array.isArray(s)&&(s=s.map(o=>o)),b(t,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(b(t,["_self"],PG(i,t)),Lz(t,{"requests[].*":"requests[].request.*"})),t}function PG(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function OG(n,e){const t={},r=y(e,["fileName"]);r!=null&&b(t,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(t,["requests"],MG(n,i)),t}function QG(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&b(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function HG(n){const e={},t=y(n,["id"]);t!=null&&b(e,["id"],t);const r=y(n,["args"]);r!=null&&b(e,["args"],r);const i=y(n,["name"]);if(i!=null&&b(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function VG(n){const e={},t=y(n,["mode"]);t!=null&&b(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zG(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&b(t,["systemInstruction"],w6(va(i)));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&b(r,["topP"],o);const c=y(e,["topK"]);c!=null&&b(r,["topK"],c);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const f=y(e,["stopSequences"]);f!=null&&b(r,["stopSequences"],f);const g=y(e,["responseLogprobs"]);g!=null&&b(r,["responseLogprobs"],g);const m=y(e,["logprobs"]);m!=null&&b(r,["logprobs"],m);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&b(r,["frequencyPenalty"],C);const _=y(e,["seed"]);_!=null&&b(r,["seed"],_);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const T=y(e,["responseSchema"]);T!=null&&b(r,["responseSchema"],__(T));const k=y(e,["responseJsonSchema"]);if(k!=null&&b(r,["responseJsonSchema"],k),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let j=P;Array.isArray(j)&&(j=j.map(re=>aK(re))),b(t,["safetySettings"],j)}const z=y(e,["tools"]);if(t!==void 0&&z!=null){let j=R0(z);Array.isArray(j)&&(j=j.map(re=>lK(U0(re)))),b(t,["tools"],j)}const Y=y(e,["toolConfig"]);if(t!==void 0&&Y!=null&&b(t,["toolConfig"],oK(Y)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=y(e,["cachedContent"]);t!==void 0&&Z!=null&&b(t,["cachedContent"],iu(n,Z));const R=y(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const F=y(e,["mediaResolution"]);F!=null&&b(r,["mediaResolution"],F);const M=y(e,["speechConfig"]);if(M!=null&&b(r,["speechConfig"],C_(M)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&b(r,["thinkingConfig"],G);const L=y(e,["imageConfig"]);L!=null&&b(r,["imageConfig"],YG(L));const Q=y(e,["enableEnhancedCivicAnswers"]);return Q!=null&&b(r,["enableEnhancedCivicAnswers"],Q),r}function GG(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>SG(d))),b(e,["candidates"],u)}const i=y(n,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const o=y(n,["responseId"]);o!=null&&b(e,["responseId"],o);const c=y(n,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function KG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function qG(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],L0(n,r)),t}function $G(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&b(e,["enableWidget"],t),e}function WG(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&b(e,["timeRangeFilter"],t),e}function YG(n){const e={},t=y(n,["aspectRatio"]);t!=null&&b(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function XG(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["request","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let c=Cl(i);Array.isArray(c)&&(c=c.map(u=>w6(u))),b(t,["request","contents"],c)}const s=y(e,["metadata"]);s!=null&&b(t,["metadata"],s);const o=y(e,["config"]);return o!=null&&b(t,["request","generationConfig"],zG(n,o,y(t,["request"],{}))),t}function JG(n){const e={},t=y(n,["response"]);t!=null&&b(e,["response"],GG(t));const r=y(n,["error"]);return r!=null&&b(e,["error"],r),e}function ZG(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function eK(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const s=y(n,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),t}function tK(n){const e={},t=y(n,["config"]);return t!=null&&ZG(t,e),e}function nK(n){const e={},t=y(n,["config"]);return t!=null&&eK(t,e),e}function rK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Xx(o))),b(e,["batchJobs"],s)}return e}function iK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>pb(o))),b(e,["batchJobs"],s)}return e}function sK(n){const e={},t=y(n,["mediaResolution"]);t!=null&&b(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&b(e,["fileData"],QG(s));const o=y(n,["functionCall"]);o!=null&&b(e,["functionCall"],HG(o));const c=y(n,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const u=y(n,["inlineData"]);u!=null&&b(e,["inlineData"],CG(u));const d=y(n,["text"]);d!=null&&b(e,["text"],d);const f=y(n,["thought"]);f!=null&&b(e,["thought"],f);const g=y(n,["thoughtSignature"]);g!=null&&b(e,["thoughtSignature"],g);const m=y(n,["videoMetadata"]);return m!=null&&b(e,["videoMetadata"],m),e}function aK(n){const e={},t=y(n,["category"]);if(t!=null&&b(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function oK(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&b(e,["functionCallingConfig"],VG(t));const r=y(n,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function lK(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(g=>g)),b(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const o=y(n,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=y(n,["googleMaps"]);c!=null&&b(e,["googleMaps"],$G(c));const u=y(n,["googleSearch"]);u!=null&&b(e,["googleSearch"],WG(u));const d=y(n,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var JA;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(JA||(JA={}));class Bh{constructor(e,t,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,i)}init(e,t,r){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cK extends ru{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bh(JA.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=EB(this.apiClient,e),r=t._url,i=Vt("{model}:batchGenerateContent",r),c=t.batch.inputConfig.requests,u=c.requests,d=[];for(const f of u){const g=Object.assign({},f);if(g.systemInstruction){const m=g.systemInstruction;delete g.systemInstruction;const v=g.request;v.systemInstruction=m,g.request=v}d.push(g)}return c.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const r=t?Object.assign({},t):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=kG(this.apiClient,e);return c=Vt("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>pb(f))}else{const d=EB(this.apiClient,e);return c=Vt("{model}:batchGenerateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>Xx(f))}}async createEmbeddingsInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=UG(this.apiClient,e);return s=Vt("{model}:asyncBatchEmbedContent",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>Xx(u))}}async get(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=qG(this.apiClient,e);return c=Vt("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>pb(f))}else{const d=KG(this.apiClient,e);return c=Vt("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>Xx(f))}}async cancel(e){var t,r,i,s;let o="",c={};if(this.apiClient.isVertexAI()){const u=NG(this.apiClient,e);o=Vt("batchPredictionJobs/{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=EG(this.apiClient,e);o=Vt("batches/{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=nK(e);return c=Vt("batchPredictionJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=iK(f),m=new wB;return Object.assign(m,g),m})}else{const d=tK(e);return c=Vt("batches",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=rK(f),m=new wB;return Object.assign(m,g),m})}}async delete(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=LG(this.apiClient,e);return c=Vt("batchPredictionJobs/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>jG(f))}else{const d=RG(this.apiClient,e);return c=Vt("batches/{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>DG(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AK(n){const e={},t=y(n,["data"]);if(t!=null&&b(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function NB(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>UK(s))),b(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&b(e,["role"],r),e}function uK(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const o=y(n,["contents"]);if(e!==void 0&&o!=null){let f=Cl(o);Array.isArray(f)&&(f=f.map(g=>NB(g))),b(e,["contents"],f)}const c=y(n,["systemInstruction"]);e!==void 0&&c!=null&&b(e,["systemInstruction"],NB(va(c)));const u=y(n,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(g=>LK(g))),b(e,["tools"],f)}const d=y(n,["toolConfig"]);if(e!==void 0&&d!=null&&b(e,["toolConfig"],RK(d)),y(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function dK(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(n,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const s=y(n,["displayName"]);e!==void 0&&s!=null&&b(e,["displayName"],s);const o=y(n,["contents"]);if(e!==void 0&&o!=null){let g=Cl(o);Array.isArray(g)&&(g=g.map(m=>m)),b(e,["contents"],g)}const c=y(n,["systemInstruction"]);e!==void 0&&c!=null&&b(e,["systemInstruction"],va(c));const u=y(n,["tools"]);if(e!==void 0&&u!=null){let g=u;Array.isArray(g)&&(g=g.map(m=>DK(m))),b(e,["tools"],g)}const d=y(n,["toolConfig"]);e!==void 0&&d!=null&&b(e,["toolConfig"],d);const f=y(n,["kmsKeyName"]);return e!==void 0&&f!=null&&b(e,["encryption_spec","kmsKeyName"],f),t}function hK(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["model"],c6(n,r));const i=y(e,["config"]);return i!=null&&uK(i,t),t}function fK(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["model"],c6(n,r));const i=y(e,["config"]);return i!=null&&dK(i,t),t}function pK(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],iu(n,r)),t}function gK(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],iu(n,r)),t}function mK(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function xK(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function vK(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&b(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function yK(n){const e={},t=y(n,["id"]);t!=null&&b(e,["id"],t);const r=y(n,["args"]);r!=null&&b(e,["args"],r);const i=y(n,["name"]);if(i!=null&&b(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wK(n){const e={},t=y(n,["mode"]);t!=null&&b(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bK(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&b(e,["description"],t);const r=y(n,["name"]);r!=null&&b(e,["name"],r);const i=y(n,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const o=y(n,["response"]);o!=null&&b(e,["response"],o);const c=y(n,["responseJsonSchema"]);return c!=null&&b(e,["responseJsonSchema"],c),e}function _K(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],iu(n,r)),t}function CK(n,e){const t={},r=y(e,["name"]);return r!=null&&b(t,["_url","name"],iu(n,r)),t}function EK(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&b(e,["enableWidget"],t),e}function NK(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&b(e,["timeRangeFilter"],t),e}function SK(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),t}function BK(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),t}function TK(n){const e={},t=y(n,["config"]);return t!=null&&SK(t,e),e}function IK(n){const e={},t=y(n,["config"]);return t!=null&&BK(t,e),e}function kK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["cachedContents"],s)}return e}function FK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["cachedContents"],s)}return e}function UK(n){const e={},t=y(n,["mediaResolution"]);t!=null&&b(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&b(e,["fileData"],vK(s));const o=y(n,["functionCall"]);o!=null&&b(e,["functionCall"],yK(o));const c=y(n,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const u=y(n,["inlineData"]);u!=null&&b(e,["inlineData"],AK(u));const d=y(n,["text"]);d!=null&&b(e,["text"],d);const f=y(n,["thought"]);f!=null&&b(e,["thought"],f);const g=y(n,["thoughtSignature"]);g!=null&&b(e,["thoughtSignature"],g);const m=y(n,["videoMetadata"]);return m!=null&&b(e,["videoMetadata"],m),e}function RK(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&b(e,["functionCallingConfig"],wK(t));const r=y(n,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function LK(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(g=>g)),b(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const o=y(n,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=y(n,["googleMaps"]);c!=null&&b(e,["googleMaps"],EK(c));const u=y(n,["googleSearch"]);u!=null&&b(e,["googleSearch"],NK(u));const d=y(n,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function DK(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(m=>bK(m))),b(e,["functionDeclarations"],g)}const r=y(n,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(n,["codeExecution"]);o!=null&&b(e,["codeExecution"],o);const c=y(n,["enterpriseWebSearch"]);c!=null&&b(e,["enterpriseWebSearch"],c);const u=y(n,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(n,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const f=y(n,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function jK(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),t}function MK(n,e){const t={},r=y(n,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(n,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),t}function PK(n,e){const t={},r=y(e,["name"]);r!=null&&b(t,["_url","name"],iu(n,r));const i=y(e,["config"]);return i!=null&&jK(i,t),t}function OK(n,e){const t={},r=y(e,["name"]);r!=null&&b(t,["_url","name"],iu(n,r));const i=y(e,["config"]);return i!=null&&MK(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QK extends ru{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bh(JA.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(t),t)}async create(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=fK(this.apiClient,e);return c=Vt("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=hK(this.apiClient,e);return c=Vt("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async get(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=CK(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=_K(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async delete(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=gK(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=xK(f),m=new vB;return Object.assign(m,g),m})}else{const d=pK(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=mK(f),m=new vB;return Object.assign(m,g),m})}}async update(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=OK(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>f)}else{const d=PK(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>f)}}async listInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=IK(e);return c=Vt("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=FK(f),m=new yB;return Object.assign(m,g),m})}else{const d=TK(e);return c=Vt("cachedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=kK(f),m=new yB;return Object.assign(m,g),m})}}}function R1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function SB(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function En(n){return this instanceof En?(this.v=n,this):new En(n)}function rc(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(C){return Promise.resolve(C).then(v,g)}}function c(v,C){r[v]&&(i[v]=function(_){return new Promise(function(E,T){s.push([v,_,E,T])>1||u(v,_)})},C&&(i[v]=C(i[v])))}function u(v,C){try{d(r[v](C))}catch(_){m(s[0][3],_)}}function d(v){v.value instanceof En?Promise.resolve(v.value.v).then(f,g):m(s[0][2],v)}function f(v){u("next",v)}function g(v){u("throw",v)}function m(v,C){v(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function ic(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof SB=="function"?SB(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(d){s({value:d,done:c})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HK(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:b6(t)}function b6(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function VK(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function BB(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const i=[];let s=!0;for(;r<t&&n[r].role==="model";)i.push(n[r]),s&&!b6(n[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class zK{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new GK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GK{constructor(e,t,r,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),VK(s)}async sendMessage(e){var t;await this.sendPromise;const r=va(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,o,c;const u=await i,d=(o=(s=u.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,f=u.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let m=[];f!=null&&(m=(c=f.slice(g))!==null&&c!==void 0?c:[]);const v=d?[d]:[];this.recordHistory(r,v,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const r=va(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const t=e?BB(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return rc(this,arguments,function*(){var i,s,o,c,u,d;const f=[];try{for(var g=!0,m=ic(e),v;v=yield En(m.next()),i=v.done,!i;g=!0){c=v.value,g=!1;const C=c;if(HK(C)){const _=(d=(u=C.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield En(C)}}catch(C){s={error:C}}finally{try{!g&&!i&&(o=m.return)&&(yield En(o.call(m)))}finally{if(s)throw s.error}}this.recordHistory(t,f)})}recordHistory(e,t,r){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...BB(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Hv.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KK(n){const e={},t=y(n,["file"]);return t!=null&&b(e,["file"],t),e}function qK(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function $K(n){const e={},t=y(n,["name"]);return t!=null&&b(e,["_url","file"],p6(t)),e}function WK(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function YK(n){const e={},t=y(n,["name"]);return t!=null&&b(e,["_url","file"],p6(t)),e}function XK(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),t}function JK(n){const e={},t=y(n,["config"]);return t!=null&&XK(t,e),e}function ZK(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eq extends ru{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bh(JA.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=JK(e);return s=Vt("files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=ZK(u),f=new iG;return Object.assign(f,d),f})}}async createInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KK(e);return s=Vt("upload/v1beta/files",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=qK(u),f=new sG;return Object.assign(f,d),f})}}async get(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=YK(e);return s=Vt("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=$K(e);return s=Vt("files/{file}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=WK(u),f=new aG;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jx(n){const e={},t=y(n,["data"]);if(t!=null&&b(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function tq(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>mq(s))),b(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&b(e,["role"],r),e}function nq(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&b(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function rq(n){const e={},t=y(n,["id"]);t!=null&&b(e,["id"],t);const r=y(n,["args"]);r!=null&&b(e,["args"],r);const i=y(n,["name"]);if(i!=null&&b(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iq(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&b(e,["description"],t);const r=y(n,["name"]);r!=null&&b(e,["name"],r);const i=y(n,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const o=y(n,["response"]);o!=null&&b(e,["response"],o);const c=y(n,["responseJsonSchema"]);return c!=null&&b(e,["responseJsonSchema"],c),e}function sq(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&b(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const o=y(n,["enableAffectiveDialog"]);o!=null&&b(e,["enableAffectiveDialog"],o);const c=y(n,["frequencyPenalty"]);c!=null&&b(e,["frequencyPenalty"],c);const u=y(n,["logprobs"]);u!=null&&b(e,["logprobs"],u);const d=y(n,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const f=y(n,["mediaResolution"]);f!=null&&b(e,["mediaResolution"],f);const g=y(n,["presencePenalty"]);g!=null&&b(e,["presencePenalty"],g);const m=y(n,["responseLogprobs"]);m!=null&&b(e,["responseLogprobs"],m);const v=y(n,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&b(e,["responseModalities"],C);const _=y(n,["responseSchema"]);_!=null&&b(e,["responseSchema"],_);const E=y(n,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const T=y(n,["seed"]);T!=null&&b(e,["seed"],T);const k=y(n,["speechConfig"]);k!=null&&b(e,["speechConfig"],k);const P=y(n,["stopSequences"]);P!=null&&b(e,["stopSequences"],P);const z=y(n,["temperature"]);z!=null&&b(e,["temperature"],z);const Y=y(n,["thinkingConfig"]);Y!=null&&b(e,["thinkingConfig"],Y);const Z=y(n,["topK"]);Z!=null&&b(e,["topK"],Z);const R=y(n,["topP"]);if(R!=null&&b(e,["topP"],R),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function aq(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&b(e,["enableWidget"],t),e}function oq(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&b(e,["timeRangeFilter"],t),e}function lq(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const o=y(n,["topP"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topP"],o);const c=y(n,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const u=y(n,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(n,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const f=y(n,["seed"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","seed"],f);const g=y(n,["speechConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","speechConfig"],E_(g));const m=y(n,["thinkingConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","thinkingConfig"],m);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&b(e,["setup","systemInstruction"],tq(va(C)));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let Z=R0(_);Array.isArray(Z)&&(Z=Z.map(R=>vq(U0(R)))),b(e,["setup","tools"],Z)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],xq(E));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=y(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const P=y(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&b(e,["setup","realtimeInputConfig"],P);const z=y(n,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const Y=y(n,["proactivity"]);if(e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function cq(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],sq(r));const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const o=y(n,["topP"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topP"],o);const c=y(n,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const u=y(n,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(n,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const f=y(n,["seed"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","seed"],f);const g=y(n,["speechConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","speechConfig"],E_(g));const m=y(n,["thinkingConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","thinkingConfig"],m);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&b(e,["setup","systemInstruction"],va(C));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let R=R0(_);Array.isArray(R)&&(R=R.map(F=>yq(U0(F)))),b(e,["setup","tools"],R)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],E);const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=y(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const P=y(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&b(e,["setup","realtimeInputConfig"],P);const z=y(n,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const Y=y(n,["proactivity"]);e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y);const Z=y(n,["explicitVadSignal"]);return e!==void 0&&Z!=null&&b(e,["setup","explicitVadSignal"],Z),t}function Aq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["setup","model"],lr(n,r));const i=y(e,["config"]);return i!=null&&b(t,["config"],lq(i,t)),t}function uq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["setup","model"],lr(n,r));const i=y(e,["config"]);return i!=null&&b(t,["config"],cq(i,t)),t}function dq(n){const e={},t=y(n,["musicGenerationConfig"]);return t!=null&&b(e,["musicGenerationConfig"],t),e}function hq(n){const e={},t=y(n,["weightedPrompts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function fq(n){const e={},t=y(n,["media"]);if(t!=null){let d=A6(t);Array.isArray(d)&&(d=d.map(f=>Jx(f))),b(e,["mediaChunks"],d)}const r=y(n,["audio"]);r!=null&&b(e,["audio"],Jx(d6(r)));const i=y(n,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&b(e,["video"],Jx(u6(s)));const o=y(n,["text"]);o!=null&&b(e,["text"],o);const c=y(n,["activityStart"]);c!=null&&b(e,["activityStart"],c);const u=y(n,["activityEnd"]);return u!=null&&b(e,["activityEnd"],u),e}function pq(n){const e={},t=y(n,["media"]);if(t!=null){let d=A6(t);Array.isArray(d)&&(d=d.map(f=>f)),b(e,["mediaChunks"],d)}const r=y(n,["audio"]);r!=null&&b(e,["audio"],d6(r));const i=y(n,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const s=y(n,["video"]);s!=null&&b(e,["video"],u6(s));const o=y(n,["text"]);o!=null&&b(e,["text"],o);const c=y(n,["activityStart"]);c!=null&&b(e,["activityStart"],c);const u=y(n,["activityEnd"]);return u!=null&&b(e,["activityEnd"],u),e}function gq(n){const e={},t=y(n,["setupComplete"]);t!=null&&b(e,["setupComplete"],t);const r=y(n,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(n,["toolCall"]);i!=null&&b(e,["toolCall"],i);const s=y(n,["toolCallCancellation"]);s!=null&&b(e,["toolCallCancellation"],s);const o=y(n,["usageMetadata"]);o!=null&&b(e,["usageMetadata"],wq(o));const c=y(n,["goAway"]);c!=null&&b(e,["goAway"],c);const u=y(n,["sessionResumptionUpdate"]);u!=null&&b(e,["sessionResumptionUpdate"],u);const d=y(n,["voiceActivityDetectionSignal"]);return d!=null&&b(e,["voiceActivityDetectionSignal"],d),e}function mq(n){const e={},t=y(n,["mediaResolution"]);t!=null&&b(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&b(e,["fileData"],nq(s));const o=y(n,["functionCall"]);o!=null&&b(e,["functionCall"],rq(o));const c=y(n,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const u=y(n,["inlineData"]);u!=null&&b(e,["inlineData"],Jx(u));const d=y(n,["text"]);d!=null&&b(e,["text"],d);const f=y(n,["thought"]);f!=null&&b(e,["thought"],f);const g=y(n,["thoughtSignature"]);g!=null&&b(e,["thoughtSignature"],g);const m=y(n,["videoMetadata"]);return m!=null&&b(e,["videoMetadata"],m),e}function xq(n){const e={},t=y(n,["handle"]);if(t!=null&&b(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vq(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(g=>g)),b(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const o=y(n,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=y(n,["googleMaps"]);c!=null&&b(e,["googleMaps"],aq(c));const u=y(n,["googleSearch"]);u!=null&&b(e,["googleSearch"],oq(u));const d=y(n,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function yq(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(m=>iq(m))),b(e,["functionDeclarations"],g)}const r=y(n,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(n,["codeExecution"]);o!=null&&b(e,["codeExecution"],o);const c=y(n,["enterpriseWebSearch"]);c!=null&&b(e,["enterpriseWebSearch"],c);const u=y(n,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(n,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const f=y(n,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function wq(n){const e={},t=y(n,["promptTokenCount"]);t!=null&&b(e,["promptTokenCount"],t);const r=y(n,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(n,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const s=y(n,["toolUsePromptTokenCount"]);s!=null&&b(e,["toolUsePromptTokenCount"],s);const o=y(n,["thoughtsTokenCount"]);o!=null&&b(e,["thoughtsTokenCount"],o);const c=y(n,["totalTokenCount"]);c!=null&&b(e,["totalTokenCount"],c);const u=y(n,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(C=>C)),b(e,["promptTokensDetails"],v)}const d=y(n,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),b(e,["cacheTokensDetails"],v)}const f=y(n,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(C=>C)),b(e,["responseTokensDetails"],v)}const g=y(n,["toolUsePromptTokensDetails"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(C=>C)),b(e,["toolUsePromptTokensDetails"],v)}const m=y(n,["trafficType"]);return m!=null&&b(e,["trafficType"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bq(n){const e={},t=y(n,["data"]);if(t!=null&&b(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function _q(n){const e={},t=y(n,["content"]);t!=null&&b(e,["content"],t);const r=y(n,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],Cq(r));const i=y(n,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const s=y(n,["finishReason"]);s!=null&&b(e,["finishReason"],s);const o=y(n,["avgLogprobs"]);o!=null&&b(e,["avgLogprobs"],o);const c=y(n,["groundingMetadata"]);c!=null&&b(e,["groundingMetadata"],c);const u=y(n,["index"]);u!=null&&b(e,["index"],u);const d=y(n,["logprobsResult"]);d!=null&&b(e,["logprobsResult"],d);const f=y(n,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>v)),b(e,["safetyRatings"],m)}const g=y(n,["urlContextMetadata"]);return g!=null&&b(e,["urlContextMetadata"],g),e}function Cq(n){const e={},t=y(n,["citationSources"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function Eq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let s=Cl(i);Array.isArray(s)&&(s=s.map(o=>o)),b(t,["contents"],s)}return t}function Nq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["tokensInfo"],i)}return e}function Sq(n){const e={},t=y(n,["values"]);t!=null&&b(e,["values"],t);const r=y(n,["statistics"]);return r!=null&&b(e,["statistics"],Bq(r)),e}function Bq(n){const e={},t=y(n,["truncated"]);t!=null&&b(e,["truncated"],t);const r=y(n,["token_count"]);return r!=null&&b(e,["tokenCount"],r),e}function Vv(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>j$(s))),b(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&b(e,["role"],r),e}function Tq(n){const e={},t=y(n,["controlType"]);t!=null&&b(e,["controlType"],t);const r=y(n,["enableControlImageComputation"]);return r!=null&&b(e,["computeControl"],r),e}function Iq(n){const e={};if(y(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kq(n,e){const t={},r=y(n,["systemInstruction"]);e!==void 0&&r!=null&&b(e,["systemInstruction"],va(r));const i=y(n,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(c=>N6(c))),b(e,["tools"],o)}const s=y(n,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],b$(s)),t}function Fq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let o=Cl(i);Array.isArray(o)&&(o=o.map(c=>Vv(c))),b(t,["contents"],o)}const s=y(e,["config"]);return s!=null&&Iq(s),t}function Uq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let o=Cl(i);Array.isArray(o)&&(o=o.map(c=>c)),b(t,["contents"],o)}const s=y(e,["config"]);return s!=null&&kq(s,t),t}function Rq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);r!=null&&b(e,["totalTokens"],r);const i=y(n,["cachedContentTokenCount"]);return i!=null&&b(e,["cachedContentTokenCount"],i),e}function Lq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["totalTokens"]);return r!=null&&b(e,["totalTokens"],r),e}function Dq(n,e){const t={},r=y(e,["model"]);return r!=null&&b(t,["_url","name"],lr(n,r)),t}function jq(n,e){const t={},r=y(e,["model"]);return r!=null&&b(t,["_url","name"],lr(n,r)),t}function Mq(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function Pq(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}function Oq(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const o=y(n,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const c=y(n,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const u=y(n,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const d=y(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const g=y(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&b(e,["parameters","includeSafetyAttributes"],g);const m=y(n,["includeRaiReason"]);e!==void 0&&m!=null&&b(e,["parameters","includeRaiReason"],m);const v=y(n,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","mimeType"],C);const _=y(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&b(e,["parameters","addWatermark"],E);const T=y(n,["labels"]);e!==void 0&&T!=null&&b(e,["labels"],T);const k=y(n,["editMode"]);e!==void 0&&k!=null&&b(e,["parameters","editMode"],k);const P=y(n,["baseSteps"]);return e!==void 0&&P!=null&&b(e,["parameters","editConfig","baseSteps"],P),t}function Qq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["prompt"]);i!=null&&b(t,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>V$(u))),b(t,["instances[0]","referenceImages"],c)}const o=y(e,["config"]);return o!=null&&Oq(o,t),t}function Hq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zv(s))),b(e,["generatedImages"],i)}return e}function Vq(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const s=y(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),y(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function zq(n,e){const t={},r=y(n,["taskType"]);e!==void 0&&r!=null&&b(e,["instances[]","task_type"],r);const i=y(n,["title"]);e!==void 0&&i!=null&&b(e,["instances[]","title"],i);const s=y(n,["outputDimensionality"]);e!==void 0&&s!=null&&b(e,["parameters","outputDimensionality"],s);const o=y(n,["mimeType"]);e!==void 0&&o!=null&&b(e,["instances[]","mimeType"],o);const c=y(n,["autoTruncate"]);return e!==void 0&&c!=null&&b(e,["parameters","autoTruncate"],c),t}function Gq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let c=b_(n,i);Array.isArray(c)&&(c=c.map(u=>u)),b(t,["requests[]","content"],c)}const s=y(e,["config"]);s!=null&&Vq(s,t);const o=y(e,["model"]);return o!==void 0&&b(t,["requests[]","model"],lr(n,o)),t}function Kq(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let o=b_(n,i);Array.isArray(o)&&(o=o.map(c=>c)),b(t,["instances[]","content"],o)}const s=y(e,["config"]);return s!=null&&zq(s,t),t}function qq(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function $q(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Sq(o))),b(e,["embeddings"],s)}const i=y(n,["metadata"]);return i!=null&&b(e,["metadata"],i),e}function Wq(n){const e={},t=y(n,["endpoint"]);t!=null&&b(e,["name"],t);const r=y(n,["deployedModelId"]);return r!=null&&b(e,["deployedModelId"],r),e}function Yq(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&b(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Xq(n){const e={},t=y(n,["id"]);t!=null&&b(e,["id"],t);const r=y(n,["args"]);r!=null&&b(e,["args"],r);const i=y(n,["name"]);if(i!=null&&b(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jq(n){const e={},t=y(n,["mode"]);t!=null&&b(e,["mode"],t);const r=y(n,["allowedFunctionNames"]);if(r!=null&&b(e,["allowedFunctionNames"],r),y(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Zq(n){const e={};if(y(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=y(n,["description"]);t!=null&&b(e,["description"],t);const r=y(n,["name"]);r!=null&&b(e,["name"],r);const i=y(n,["parameters"]);i!=null&&b(e,["parameters"],i);const s=y(n,["parametersJsonSchema"]);s!=null&&b(e,["parametersJsonSchema"],s);const o=y(n,["response"]);o!=null&&b(e,["response"],o);const c=y(n,["responseJsonSchema"]);return c!=null&&b(e,["responseJsonSchema"],c),e}function e$(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&b(t,["systemInstruction"],Vv(va(i)));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&b(r,["topP"],o);const c=y(e,["topK"]);c!=null&&b(r,["topK"],c);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const f=y(e,["stopSequences"]);f!=null&&b(r,["stopSequences"],f);const g=y(e,["responseLogprobs"]);g!=null&&b(r,["responseLogprobs"],g);const m=y(e,["logprobs"]);m!=null&&b(r,["logprobs"],m);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&b(r,["frequencyPenalty"],C);const _=y(e,["seed"]);_!=null&&b(r,["seed"],_);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const T=y(e,["responseSchema"]);T!=null&&b(r,["responseSchema"],__(T));const k=y(e,["responseJsonSchema"]);if(k!=null&&b(r,["responseJsonSchema"],k),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=y(e,["safetySettings"]);if(t!==void 0&&P!=null){let j=P;Array.isArray(j)&&(j=j.map(re=>z$(re))),b(t,["safetySettings"],j)}const z=y(e,["tools"]);if(t!==void 0&&z!=null){let j=R0(z);Array.isArray(j)&&(j=j.map(re=>X$(U0(re)))),b(t,["tools"],j)}const Y=y(e,["toolConfig"]);if(t!==void 0&&Y!=null&&b(t,["toolConfig"],Y$(Y)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=y(e,["cachedContent"]);t!==void 0&&Z!=null&&b(t,["cachedContent"],iu(n,Z));const R=y(e,["responseModalities"]);R!=null&&b(r,["responseModalities"],R);const F=y(e,["mediaResolution"]);F!=null&&b(r,["mediaResolution"],F);const M=y(e,["speechConfig"]);if(M!=null&&b(r,["speechConfig"],C_(M)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const G=y(e,["thinkingConfig"]);G!=null&&b(r,["thinkingConfig"],G);const L=y(e,["imageConfig"]);L!=null&&b(r,["imageConfig"],S$(L));const Q=y(e,["enableEnhancedCivicAnswers"]);return Q!=null&&b(r,["enableEnhancedCivicAnswers"],Q),r}function t$(n,e,t){const r={},i=y(e,["systemInstruction"]);t!==void 0&&i!=null&&b(t,["systemInstruction"],va(i));const s=y(e,["temperature"]);s!=null&&b(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&b(r,["topP"],o);const c=y(e,["topK"]);c!=null&&b(r,["topK"],c);const u=y(e,["candidateCount"]);u!=null&&b(r,["candidateCount"],u);const d=y(e,["maxOutputTokens"]);d!=null&&b(r,["maxOutputTokens"],d);const f=y(e,["stopSequences"]);f!=null&&b(r,["stopSequences"],f);const g=y(e,["responseLogprobs"]);g!=null&&b(r,["responseLogprobs"],g);const m=y(e,["logprobs"]);m!=null&&b(r,["logprobs"],m);const v=y(e,["presencePenalty"]);v!=null&&b(r,["presencePenalty"],v);const C=y(e,["frequencyPenalty"]);C!=null&&b(r,["frequencyPenalty"],C);const _=y(e,["seed"]);_!=null&&b(r,["seed"],_);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const T=y(e,["responseSchema"]);T!=null&&b(r,["responseSchema"],__(T));const k=y(e,["responseJsonSchema"]);k!=null&&b(r,["responseJsonSchema"],k);const P=y(e,["routingConfig"]);P!=null&&b(r,["routingConfig"],P);const z=y(e,["modelSelectionConfig"]);z!=null&&b(r,["modelConfig"],z);const Y=y(e,["safetySettings"]);if(t!==void 0&&Y!=null){let ie=Y;Array.isArray(ie)&&(ie=ie.map(Ae=>Ae)),b(t,["safetySettings"],ie)}const Z=y(e,["tools"]);if(t!==void 0&&Z!=null){let ie=R0(Z);Array.isArray(ie)&&(ie=ie.map(Ae=>N6(U0(Ae)))),b(t,["tools"],ie)}const R=y(e,["toolConfig"]);t!==void 0&&R!=null&&b(t,["toolConfig"],R);const F=y(e,["labels"]);t!==void 0&&F!=null&&b(t,["labels"],F);const M=y(e,["cachedContent"]);t!==void 0&&M!=null&&b(t,["cachedContent"],iu(n,M));const G=y(e,["responseModalities"]);G!=null&&b(r,["responseModalities"],G);const L=y(e,["mediaResolution"]);L!=null&&b(r,["mediaResolution"],L);const Q=y(e,["speechConfig"]);Q!=null&&b(r,["speechConfig"],C_(Q));const j=y(e,["audioTimestamp"]);j!=null&&b(r,["audioTimestamp"],j);const re=y(e,["thinkingConfig"]);re!=null&&b(r,["thinkingConfig"],re);const fe=y(e,["imageConfig"]);if(fe!=null&&b(r,["imageConfig"],B$(fe)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function TB(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let o=Cl(i);Array.isArray(o)&&(o=o.map(c=>Vv(c))),b(t,["contents"],o)}const s=y(e,["config"]);return s!=null&&b(t,["generationConfig"],e$(n,s,t)),t}function IB(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["contents"]);if(i!=null){let o=Cl(i);Array.isArray(o)&&(o=o.map(c=>c)),b(t,["contents"],o)}const s=y(e,["config"]);return s!=null&&b(t,["generationConfig"],t$(n,s,t)),t}function kB(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>_q(d))),b(e,["candidates"],u)}const i=y(n,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const s=y(n,["promptFeedback"]);s!=null&&b(e,["promptFeedback"],s);const o=y(n,["responseId"]);o!=null&&b(e,["responseId"],o);const c=y(n,["usageMetadata"]);return c!=null&&b(e,["usageMetadata"],c),e}function FB(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),b(e,["candidates"],d)}const i=y(n,["createTime"]);i!=null&&b(e,["createTime"],i);const s=y(n,["modelVersion"]);s!=null&&b(e,["modelVersion"],s);const o=y(n,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const c=y(n,["responseId"]);c!=null&&b(e,["responseId"],c);const u=y(n,["usageMetadata"]);return u!=null&&b(e,["usageMetadata"],u),e}function n$(n,e){const t={};if(y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(n,["aspectRatio"]);e!==void 0&&i!=null&&b(e,["parameters","aspectRatio"],i);const s=y(n,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(n,["safetyFilterLevel"]);e!==void 0&&o!=null&&b(e,["parameters","safetySetting"],o);const c=y(n,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const u=y(n,["includeSafetyAttributes"]);e!==void 0&&u!=null&&b(e,["parameters","includeSafetyAttributes"],u);const d=y(n,["includeRaiReason"]);e!==void 0&&d!=null&&b(e,["parameters","includeRaiReason"],d);const f=y(n,["language"]);e!==void 0&&f!=null&&b(e,["parameters","language"],f);const g=y(n,["outputMimeType"]);e!==void 0&&g!=null&&b(e,["parameters","outputOptions","mimeType"],g);const m=y(n,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&b(e,["parameters","outputOptions","compressionQuality"],m),y(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=y(n,["imageSize"]);if(e!==void 0&&v!=null&&b(e,["parameters","sampleImageSize"],v),y(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function r$(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(n,["negativePrompt"]);e!==void 0&&i!=null&&b(e,["parameters","negativePrompt"],i);const s=y(n,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const o=y(n,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const c=y(n,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const u=y(n,["seed"]);e!==void 0&&u!=null&&b(e,["parameters","seed"],u);const d=y(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&b(e,["parameters","safetySetting"],d);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const g=y(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&b(e,["parameters","includeSafetyAttributes"],g);const m=y(n,["includeRaiReason"]);e!==void 0&&m!=null&&b(e,["parameters","includeRaiReason"],m);const v=y(n,["language"]);e!==void 0&&v!=null&&b(e,["parameters","language"],v);const C=y(n,["outputMimeType"]);e!==void 0&&C!=null&&b(e,["parameters","outputOptions","mimeType"],C);const _=y(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_);const E=y(n,["addWatermark"]);e!==void 0&&E!=null&&b(e,["parameters","addWatermark"],E);const T=y(n,["labels"]);e!==void 0&&T!=null&&b(e,["labels"],T);const k=y(n,["imageSize"]);e!==void 0&&k!=null&&b(e,["parameters","sampleImageSize"],k);const P=y(n,["enhancePrompt"]);return e!==void 0&&P!=null&&b(e,["parameters","enhancePrompt"],P),t}function i$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["prompt"]);i!=null&&b(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&n$(s,t),t}function s$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["prompt"]);i!=null&&b(t,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&r$(s,t),t}function a$(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>x$(o))),b(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],C6(i)),e}function o$(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>zv(o))),b(e,["generatedImages"],s)}const i=y(n,["positivePromptSafetyAttributes"]);return i!=null&&b(e,["positivePromptSafetyAttributes"],E6(i)),e}function l$(n,e){const t={},r=y(n,["numberOfVideos"]);if(e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r),y(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(n,["durationSeconds"]);if(e!==void 0&&i!=null&&b(e,["parameters","durationSeconds"],i),y(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(n,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const o=y(n,["resolution"]);e!==void 0&&o!=null&&b(e,["parameters","resolution"],o);const c=y(n,["personGeneration"]);if(e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c),y(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=y(n,["negativePrompt"]);e!==void 0&&u!=null&&b(e,["parameters","negativePrompt"],u);const d=y(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&b(e,["parameters","enhancePrompt"],d),y(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=y(n,["lastFrame"]);e!==void 0&&f!=null&&b(e,["instances[0]","lastFrame"],Gv(f));const g=y(n,["referenceImages"]);if(e!==void 0&&g!=null){let m=g;Array.isArray(m)&&(m=m.map(v=>AW(v))),b(e,["instances[0]","referenceImages"],m)}if(y(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function c$(n,e){const t={},r=y(n,["numberOfVideos"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(n,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const s=y(n,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const o=y(n,["durationSeconds"]);e!==void 0&&o!=null&&b(e,["parameters","durationSeconds"],o);const c=y(n,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const u=y(n,["aspectRatio"]);e!==void 0&&u!=null&&b(e,["parameters","aspectRatio"],u);const d=y(n,["resolution"]);e!==void 0&&d!=null&&b(e,["parameters","resolution"],d);const f=y(n,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const g=y(n,["pubsubTopic"]);e!==void 0&&g!=null&&b(e,["parameters","pubsubTopic"],g);const m=y(n,["negativePrompt"]);e!==void 0&&m!=null&&b(e,["parameters","negativePrompt"],m);const v=y(n,["enhancePrompt"]);e!==void 0&&v!=null&&b(e,["parameters","enhancePrompt"],v);const C=y(n,["generateAudio"]);e!==void 0&&C!=null&&b(e,["parameters","generateAudio"],C);const _=y(n,["lastFrame"]);e!==void 0&&_!=null&&b(e,["instances[0]","lastFrame"],lc(_));const E=y(n,["referenceImages"]);if(e!==void 0&&E!=null){let P=E;Array.isArray(P)&&(P=P.map(z=>uW(z))),b(e,["instances[0]","referenceImages"],P)}const T=y(n,["mask"]);e!==void 0&&T!=null&&b(e,["instances[0]","mask"],cW(T));const k=y(n,["compressionQuality"]);return e!==void 0&&k!=null&&b(e,["parameters","compressionQuality"],k),t}function A$(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response","generateVideoResponse"]);return o!=null&&b(e,["response"],f$(o)),e}function u$(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response"]);return o!=null&&b(e,["response"],p$(o)),e}function d$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["prompt"]);i!=null&&b(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&b(t,["instances[0]","image"],Gv(s));const o=y(e,["video"]);o!=null&&b(t,["instances[0]","video"],S6(o));const c=y(e,["source"]);c!=null&&g$(c,t);const u=y(e,["config"]);return u!=null&&l$(u,t),t}function h$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["prompt"]);i!=null&&b(t,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&b(t,["instances[0]","image"],lc(s));const o=y(e,["video"]);o!=null&&b(t,["instances[0]","video"],B6(o));const c=y(e,["source"]);c!=null&&m$(c,t);const u=y(e,["config"]);return u!=null&&c$(u,t),t}function f$(n){const e={},t=y(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>y$(o))),b(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function p$(n){const e={},t=y(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(o=>w$(o))),b(e,["generatedVideos"],s)}const r=y(n,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(n,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function g$(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],Gv(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],S6(s)),t}function m$(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],lc(i));const s=y(n,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],B6(s)),t}function x$(n){const e={},t=y(n,["_self"]);t!=null&&b(e,["image"],T$(t));const r=y(n,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(n,["_self"]);return i!=null&&b(e,["safetyAttributes"],C6(i)),e}function zv(n){const e={},t=y(n,["_self"]);t!=null&&b(e,["image"],_6(t));const r=y(n,["raiFilteredReason"]);r!=null&&b(e,["raiFilteredReason"],r);const i=y(n,["_self"]);i!=null&&b(e,["safetyAttributes"],E6(i));const s=y(n,["prompt"]);return s!=null&&b(e,["enhancedPrompt"],s),e}function v$(n){const e={},t=y(n,["_self"]);t!=null&&b(e,["mask"],_6(t));const r=y(n,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(e,["labels"],i)}return e}function y$(n){const e={},t=y(n,["video"]);return t!=null&&b(e,["video"],oW(t)),e}function w$(n){const e={},t=y(n,["_self"]);return t!=null&&b(e,["video"],lW(t)),e}function b$(n){const e={},t=y(n,["modelSelectionConfig"]);t!=null&&b(e,["modelConfig"],t);const r=y(n,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(n,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const s=y(n,["candidateCount"]);s!=null&&b(e,["candidateCount"],s);const o=y(n,["enableAffectiveDialog"]);o!=null&&b(e,["enableAffectiveDialog"],o);const c=y(n,["frequencyPenalty"]);c!=null&&b(e,["frequencyPenalty"],c);const u=y(n,["logprobs"]);u!=null&&b(e,["logprobs"],u);const d=y(n,["maxOutputTokens"]);d!=null&&b(e,["maxOutputTokens"],d);const f=y(n,["mediaResolution"]);f!=null&&b(e,["mediaResolution"],f);const g=y(n,["presencePenalty"]);g!=null&&b(e,["presencePenalty"],g);const m=y(n,["responseLogprobs"]);m!=null&&b(e,["responseLogprobs"],m);const v=y(n,["responseMimeType"]);v!=null&&b(e,["responseMimeType"],v);const C=y(n,["responseModalities"]);C!=null&&b(e,["responseModalities"],C);const _=y(n,["responseSchema"]);_!=null&&b(e,["responseSchema"],_);const E=y(n,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const T=y(n,["seed"]);T!=null&&b(e,["seed"],T);const k=y(n,["speechConfig"]);k!=null&&b(e,["speechConfig"],k);const P=y(n,["stopSequences"]);P!=null&&b(e,["stopSequences"],P);const z=y(n,["temperature"]);z!=null&&b(e,["temperature"],z);const Y=y(n,["thinkingConfig"]);Y!=null&&b(e,["thinkingConfig"],Y);const Z=y(n,["topK"]);Z!=null&&b(e,["topK"],Z);const R=y(n,["topP"]);if(R!=null&&b(e,["topP"],R),y(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _$(n,e){const t={},r=y(e,["model"]);return r!=null&&b(t,["_url","name"],lr(n,r)),t}function C$(n,e){const t={},r=y(e,["model"]);return r!=null&&b(t,["_url","name"],lr(n,r)),t}function E$(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&b(e,["enableWidget"],t),e}function N$(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&b(e,["timeRangeFilter"],t),e}function S$(n){const e={},t=y(n,["aspectRatio"]);t!=null&&b(e,["aspectRatio"],t);const r=y(n,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function B$(n){const e={},t=y(n,["aspectRatio"]);t!=null&&b(e,["aspectRatio"],t);const r=y(n,["imageSize"]);r!=null&&b(e,["imageSize"],r);const i=y(n,["outputMimeType"]);i!=null&&b(e,["imageOutputOptions","mimeType"],i);const s=y(n,["outputCompressionQuality"]);return s!=null&&b(e,["imageOutputOptions","compressionQuality"],s),e}function T$(n){const e={},t=y(n,["bytesBase64Encoded"]);t!=null&&b(e,["imageBytes"],Ud(t));const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function _6(n){const e={},t=y(n,["gcsUri"]);t!=null&&b(e,["gcsUri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&b(e,["imageBytes"],Ud(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function Gv(n){const e={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=y(n,["imageBytes"]);t!=null&&b(e,["bytesBase64Encoded"],Ud(t));const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function lc(n){const e={},t=y(n,["gcsUri"]);t!=null&&b(e,["gcsUri"],t);const r=y(n,["imageBytes"]);r!=null&&b(e,["bytesBase64Encoded"],Ud(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function I$(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&b(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&b(t,["_query","pageToken"],s);const o=y(e,["filter"]);t!==void 0&&o!=null&&b(t,["_query","filter"],o);const c=y(e,["queryBase"]);return t!==void 0&&c!=null&&b(t,["_url","models_url"],g6(n,c)),r}function k$(n,e,t){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&b(t,["_query","pageSize"],i);const s=y(e,["pageToken"]);t!==void 0&&s!=null&&b(t,["_query","pageToken"],s);const o=y(e,["filter"]);t!==void 0&&o!=null&&b(t,["_query","filter"],o);const c=y(e,["queryBase"]);return t!==void 0&&c!=null&&b(t,["_url","models_url"],g6(n,c)),r}function F$(n,e){const t={},r=y(e,["config"]);return r!=null&&I$(n,r,t),t}function U$(n,e){const t={},r=y(e,["config"]);return r!=null&&k$(n,r,t),t}function R$(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=m6(i);Array.isArray(s)&&(s=s.map(o=>gb(o))),b(e,["models"],s)}return e}function L$(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["_self"]);if(i!=null){let s=m6(i);Array.isArray(s)&&(s=s.map(o=>mb(o))),b(e,["models"],s)}return e}function D$(n){const e={},t=y(n,["maskMode"]);t!=null&&b(e,["maskMode"],t);const r=y(n,["segmentationClasses"]);r!=null&&b(e,["maskClasses"],r);const i=y(n,["maskDilation"]);return i!=null&&b(e,["dilation"],i),e}function gb(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(n,["description"]);i!=null&&b(e,["description"],i);const s=y(n,["version"]);s!=null&&b(e,["version"],s);const o=y(n,["_self"]);o!=null&&b(e,["tunedModelInfo"],J$(o));const c=y(n,["inputTokenLimit"]);c!=null&&b(e,["inputTokenLimit"],c);const u=y(n,["outputTokenLimit"]);u!=null&&b(e,["outputTokenLimit"],u);const d=y(n,["supportedGenerationMethods"]);d!=null&&b(e,["supportedActions"],d);const f=y(n,["temperature"]);f!=null&&b(e,["temperature"],f);const g=y(n,["maxTemperature"]);g!=null&&b(e,["maxTemperature"],g);const m=y(n,["topP"]);m!=null&&b(e,["topP"],m);const v=y(n,["topK"]);v!=null&&b(e,["topK"],v);const C=y(n,["thinking"]);return C!=null&&b(e,["thinking"],C),e}function mb(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(n,["description"]);i!=null&&b(e,["description"],i);const s=y(n,["versionId"]);s!=null&&b(e,["version"],s);const o=y(n,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>Wq(m))),b(e,["endpoints"],g)}const c=y(n,["labels"]);c!=null&&b(e,["labels"],c);const u=y(n,["_self"]);u!=null&&b(e,["tunedModelInfo"],Z$(u));const d=y(n,["defaultCheckpointId"]);d!=null&&b(e,["defaultCheckpointId"],d);const f=y(n,["checkpoints"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),b(e,["checkpoints"],g)}return e}function j$(n){const e={},t=y(n,["mediaResolution"]);t!=null&&b(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&b(e,["fileData"],Yq(s));const o=y(n,["functionCall"]);o!=null&&b(e,["functionCall"],Xq(o));const c=y(n,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const u=y(n,["inlineData"]);u!=null&&b(e,["inlineData"],bq(u));const d=y(n,["text"]);d!=null&&b(e,["text"],d);const f=y(n,["thought"]);f!=null&&b(e,["thought"],f);const g=y(n,["thoughtSignature"]);g!=null&&b(e,["thoughtSignature"],g);const m=y(n,["videoMetadata"]);return m!=null&&b(e,["videoMetadata"],m),e}function M$(n){const e={},t=y(n,["productImage"]);return t!=null&&b(e,["image"],lc(t)),e}function P$(n,e){const t={},r=y(n,["numberOfImages"]);e!==void 0&&r!=null&&b(e,["parameters","sampleCount"],r);const i=y(n,["baseSteps"]);e!==void 0&&i!=null&&b(e,["parameters","baseSteps"],i);const s=y(n,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const o=y(n,["seed"]);e!==void 0&&o!=null&&b(e,["parameters","seed"],o);const c=y(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&b(e,["parameters","safetySetting"],c);const u=y(n,["personGeneration"]);e!==void 0&&u!=null&&b(e,["parameters","personGeneration"],u);const d=y(n,["addWatermark"]);e!==void 0&&d!=null&&b(e,["parameters","addWatermark"],d);const f=y(n,["outputMimeType"]);e!==void 0&&f!=null&&b(e,["parameters","outputOptions","mimeType"],f);const g=y(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&b(e,["parameters","outputOptions","compressionQuality"],g);const m=y(n,["enhancePrompt"]);e!==void 0&&m!=null&&b(e,["parameters","enhancePrompt"],m);const v=y(n,["labels"]);return e!==void 0&&v!=null&&b(e,["labels"],v),t}function O$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["source"]);i!=null&&H$(i,t);const s=y(e,["config"]);return s!=null&&P$(s,t),t}function Q$(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>zv(i))),b(e,["generatedImages"],r)}return e}function H$(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(n,["personImage"]);e!==void 0&&i!=null&&b(e,["instances[0]","personImage","image"],lc(i));const s=y(n,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>M$(c))),b(e,["instances[0]","productImages"],o)}return t}function V$(n){const e={},t=y(n,["referenceImage"]);t!=null&&b(e,["referenceImage"],lc(t));const r=y(n,["referenceId"]);r!=null&&b(e,["referenceId"],r);const i=y(n,["referenceType"]);i!=null&&b(e,["referenceType"],i);const s=y(n,["maskImageConfig"]);s!=null&&b(e,["maskImageConfig"],D$(s));const o=y(n,["controlImageConfig"]);o!=null&&b(e,["controlImageConfig"],Tq(o));const c=y(n,["styleImageConfig"]);c!=null&&b(e,["styleImageConfig"],c);const u=y(n,["subjectImageConfig"]);return u!=null&&b(e,["subjectImageConfig"],u),e}function C6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&b(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function E6(n){const e={},t=y(n,["safetyAttributes","categories"]);t!=null&&b(e,["categories"],t);const r=y(n,["safetyAttributes","scores"]);r!=null&&b(e,["scores"],r);const i=y(n,["contentType"]);return i!=null&&b(e,["contentType"],i),e}function z$(n){const e={},t=y(n,["category"]);if(t!=null&&b(e,["category"],t),y(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(n,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function G$(n){const e={},t=y(n,["image"]);return t!=null&&b(e,["image"],lc(t)),e}function K$(n,e){const t={},r=y(n,["mode"]);e!==void 0&&r!=null&&b(e,["parameters","mode"],r);const i=y(n,["maxPredictions"]);e!==void 0&&i!=null&&b(e,["parameters","maxPredictions"],i);const s=y(n,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const o=y(n,["maskDilation"]);e!==void 0&&o!=null&&b(e,["parameters","maskDilation"],o);const c=y(n,["binaryColorThreshold"]);e!==void 0&&c!=null&&b(e,["parameters","binaryColorThreshold"],c);const u=y(n,["labels"]);return e!==void 0&&u!=null&&b(e,["labels"],u),t}function q$(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["source"]);i!=null&&W$(i,t);const s=y(e,["config"]);return s!=null&&K$(s,t),t}function $$(n){const e={},t=y(n,["predictions"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>v$(i))),b(e,["generatedMasks"],r)}return e}function W$(n,e){const t={},r=y(n,["prompt"]);e!==void 0&&r!=null&&b(e,["instances[0]","prompt"],r);const i=y(n,["image"]);e!==void 0&&i!=null&&b(e,["instances[0]","image"],lc(i));const s=y(n,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],G$(s)),t}function Y$(n){const e={},t=y(n,["functionCallingConfig"]);t!=null&&b(e,["functionCallingConfig"],Jq(t));const r=y(n,["retrievalConfig"]);return r!=null&&b(e,["retrievalConfig"],r),e}function X$(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(g=>g)),b(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const o=y(n,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=y(n,["googleMaps"]);c!=null&&b(e,["googleMaps"],E$(c));const u=y(n,["googleSearch"]);u!=null&&b(e,["googleSearch"],N$(u));const d=y(n,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}function N6(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let g=t;Array.isArray(g)&&(g=g.map(m=>Zq(m))),b(e,["functionDeclarations"],g)}const r=y(n,["retrieval"]);r!=null&&b(e,["retrieval"],r);const i=y(n,["googleSearchRetrieval"]);i!=null&&b(e,["googleSearchRetrieval"],i);const s=y(n,["computerUse"]);if(s!=null&&b(e,["computerUse"],s),y(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(n,["codeExecution"]);o!=null&&b(e,["codeExecution"],o);const c=y(n,["enterpriseWebSearch"]);c!=null&&b(e,["enterpriseWebSearch"],c);const u=y(n,["googleMaps"]);u!=null&&b(e,["googleMaps"],u);const d=y(n,["googleSearch"]);d!=null&&b(e,["googleSearch"],d);const f=y(n,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function J$(n){const e={},t=y(n,["baseModel"]);t!=null&&b(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function Z$(n){const e={},t=y(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&b(e,["baseModel"],t);const r=y(n,["createTime"]);r!=null&&b(e,["createTime"],r);const i=y(n,["updateTime"]);return i!=null&&b(e,["updateTime"],i),e}function eW(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),t}function tW(n,e){const t={},r=y(n,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(n,["description"]);e!==void 0&&i!=null&&b(e,["description"],i);const s=y(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),t}function nW(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","name"],lr(n,r));const i=y(e,["config"]);return i!=null&&eW(i,t),t}function rW(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["config"]);return i!=null&&tW(i,t),t}function iW(n,e){const t={},r=y(n,["outputGcsUri"]);e!==void 0&&r!=null&&b(e,["parameters","storageUri"],r);const i=y(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&b(e,["parameters","safetySetting"],i);const s=y(n,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const o=y(n,["includeRaiReason"]);e!==void 0&&o!=null&&b(e,["parameters","includeRaiReason"],o);const c=y(n,["outputMimeType"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","mimeType"],c);const u=y(n,["outputCompressionQuality"]);e!==void 0&&u!=null&&b(e,["parameters","outputOptions","compressionQuality"],u);const d=y(n,["enhanceInputImage"]);e!==void 0&&d!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=y(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const g=y(n,["labels"]);e!==void 0&&g!=null&&b(e,["labels"],g);const m=y(n,["numberOfImages"]);e!==void 0&&m!=null&&b(e,["parameters","sampleCount"],m);const v=y(n,["mode"]);return e!==void 0&&v!=null&&b(e,["parameters","mode"],v),t}function sW(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["_url","model"],lr(n,r));const i=y(e,["image"]);i!=null&&b(t,["instances[0]","image"],lc(i));const s=y(e,["upscaleFactor"]);s!=null&&b(t,["parameters","upscaleConfig","upscaleFactor"],s);const o=y(e,["config"]);return o!=null&&iW(o,t),t}function aW(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>zv(s))),b(e,["generatedImages"],i)}return e}function oW(n){const e={},t=y(n,["uri"]);t!=null&&b(e,["uri"],t);const r=y(n,["encodedVideo"]);r!=null&&b(e,["videoBytes"],Ud(r));const i=y(n,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function lW(n){const e={},t=y(n,["gcsUri"]);t!=null&&b(e,["uri"],t);const r=y(n,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],Ud(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}function cW(n){const e={},t=y(n,["image"]);t!=null&&b(e,["_self"],lc(t));const r=y(n,["maskMode"]);return r!=null&&b(e,["maskMode"],r),e}function AW(n){const e={},t=y(n,["image"]);t!=null&&b(e,["image"],Gv(t));const r=y(n,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function uW(n){const e={},t=y(n,["image"]);t!=null&&b(e,["image"],lc(t));const r=y(n,["referenceType"]);return r!=null&&b(e,["referenceType"],r),e}function S6(n){const e={},t=y(n,["uri"]);t!=null&&b(e,["uri"],t);const r=y(n,["videoBytes"]);r!=null&&b(e,["encodedVideo"],Ud(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["encoding"],i),e}function B6(n){const e={},t=y(n,["uri"]);t!=null&&b(e,["gcsUri"],t);const r=y(n,["videoBytes"]);r!=null&&b(e,["bytesBase64Encoded"],Ud(r));const i=y(n,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dW(n,e){const t={},r=y(n,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),t}function hW(n){const e={},t=y(n,["config"]);return t!=null&&dW(t,e),e}function fW(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),t}function pW(n){const e={},t=y(n,["name"]);t!=null&&b(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&fW(r,e),e}function gW(n){const e={},t=y(n,["name"]);return t!=null&&b(e,["_url","name"],t),e}function mW(n,e){const t={},r=y(n,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["customMetadata"],s)}const i=y(n,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),t}function xW(n){const e={},t=y(n,["name"]);t!=null&&b(e,["name"],t);const r=y(n,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(n,["done"]);i!=null&&b(e,["done"],i);const s=y(n,["error"]);s!=null&&b(e,["error"],s);const o=y(n,["response"]);return o!=null&&b(e,["response"],yW(o)),e}function vW(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&b(e,["_url","file_search_store_name"],t);const r=y(n,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(n,["config"]);return i!=null&&mW(i,e),e}function yW(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["parent"]);r!=null&&b(e,["parent"],r);const i=y(n,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function wW(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),t}function bW(n){const e={},t=y(n,["config"]);return t!=null&&wW(t,e),e}function _W(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["fileSearchStores"],s)}return e}function T6(n,e){const t={},r=y(n,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(n,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const s=y(n,["customMetadata"]);if(e!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(u=>u)),b(e,["customMetadata"],c)}const o=y(n,["chunkingConfig"]);return e!==void 0&&o!=null&&b(e,["chunkingConfig"],o),t}function CW(n){const e={},t=y(n,["fileSearchStoreName"]);t!=null&&b(e,["_url","file_search_store_name"],t);const r=y(n,["config"]);return r!=null&&T6(r,e),e}function EW(n){const e={},t=y(n,["sdkHttpResponse"]);return t!=null&&b(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NW="Content-Type",SW="X-Server-Timeout",BW="User-Agent",xb="x-goog-api-client",TW="1.34.0",IW=`google-genai-sdk/${TW}`,kW="v1beta1",FW="v1beta";class UW{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:kW,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:FW,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const i=[this.getRequestUrlInternal(t)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[o,c]of Object.entries(e.queryParams))i.searchParams.append(o,String(c));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,r,i){if(t&&t.timeout||i){const s=new AbortController,o=s.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const c=setTimeout(()=>s.abort(),t.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return t&&t.extraBody!==null&&RW(e,t.extraBody),e.headers=await this.getHeadersInternal(t,r),e}async unaryApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await UB(i),new hb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(async i=>(await UB(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return rc(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const c="data:",u=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield En(i.read());if(d){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=s.decode(f,{stream:!0});try{const C=JSON.parse(g);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),E=_.status,T=_.code,k=`got status: ${E}. ${JSON.stringify(C)}`;if(T>=400&&T<600)throw new Hv({message:k,status:T})}}catch(C){if(C.name==="ApiError")throw C}o+=g;let m=-1,v=0;for(;;){m=-1,v=0;for(const E of u){const T=o.indexOf(E);T!==-1&&(m===-1||T<m)&&(m=T,v=E.length)}if(m===-1)break;const C=o.substring(0,m);o=o.substring(m+v);const _=C.trim();if(_.startsWith(c)){const E=_.substring(c.length).trim();try{const T=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield En(new hb(T))}catch(T){throw new Error(`exception parsing stream chunk ${E}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},t=IW+" "+this.clientOptions.userAgentExtra;return e[BW]=t,e[xb]=t,e[NW]="application/json",e}async getHeadersInternal(e,t){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(SW,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,t),r}getFileName(e){var t;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(t=r.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),r}async uploadFile(e,t){var r;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const c=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const u={file:i},d=this.getFileName(e),f=Vt("upload/v1beta/files",u._url),g=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,u,t==null?void 0:t.httpOptions);return s.upload(e,g,this)}async uploadFileToFileSearchStore(e,t,r){var i;const s=this.clientOptions.uploader,o=await s.stat(t),c=String(o.size),u=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),g={};r!=null&&T6(r,g);const m=await this.fetchUploadUrl(d,c,u,f,g,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(t,m,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,r,i,s,o){var c;let u={};o?u=o:u={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:u});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(c=d==null?void 0:d.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function UB(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let r;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await n.json():r={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(r);throw t>=400&&t<600?new Hv({message:i,status:t}):new Error(i)}}function RW(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const c=Object.assign({},s);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=o[u],f=c[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?c[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),c[u]=d)}return c}const i=r(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LW="mcp_used/unknown";let DW=!1;function I6(n){for(const e of n)if(jW(e)||typeof e=="object"&&"inputSchema"in e)return!0;return DW}function k6(n){var e;const t=(e=n[xb])!==null&&e!==void 0?e:"";n[xb]=(t+` ${LW}`).trimStart()}function jW(n){return n!==null&&typeof n=="object"&&n instanceof N_}function MW(n){return rc(this,arguments,function*(t,r=100){let i,s=0;for(;s<r;){const o=yield En(t.listTools({cursor:i}));for(const c of o.tools)yield yield En(c),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class N_{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new N_(e,t)}async initialize(){var e,t,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const f of this.mcpClients)try{for(var c=!0,u=(t=void 0,ic(MW(f))),d;d=await u.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const g=i;o.push(g);const m=g.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=f}}catch(g){t={error:g}}finally{try{!c&&!e&&(r=u.return)&&await r.call(u)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),gG(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);t.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PW(n,e,t){const r=new lG;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(r,i),e(r)}class OW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}async connect(e){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=VW(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const f=new Promise(P=>{d=P}),g=e.callbacks,m=function(){d({})},v=this.apiClient,C={onopen:m,onmessage:P=>{PW(v,g.onmessage,P)},onerror:(t=g==null?void 0:g.onerror)!==null&&t!==void 0?t:function(P){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(P){}},_=this.webSocketFactory.create(u,HW(o),C);_.connect(),await f;const k={setup:{model:lr(this.apiClient,e.model)}};return _.send(JSON.stringify(k)),new QW(_,this.apiClient)}}class QW{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=hq(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=dq(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Hf.PLAY)}pause(){this.sendPlaybackControl(Hf.PAUSE)}stop(){this.sendPlaybackControl(Hf.STOP)}resetContext(){this.sendPlaybackControl(Hf.RESET_CONTEXT)}close(){this.conn.close()}}function HW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function VW(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zW="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function GW(n,e,t){const r=new oG;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const o=gq(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class KW{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new OW(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,r,i,s,o,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&I6(e.config.tools)&&k6(g);const m=YW(g);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const M=this.apiClient.getApiKey();let G="BidiGenerateContent",L="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),G="BidiGenerateContentConstrained",L="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${G}?${L}=${M}`}let v=()=>{};const C=new Promise(M=>{v=M}),_=e.callbacks,E=function(){var M;(M=_==null?void 0:_.onopen)===null||M===void 0||M.call(_),v({})},T=this.apiClient,k={onopen:E,onmessage:M=>{GW(T,_.onmessage,M)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(M){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(M){}},P=this.webSocketFactory.create(f,WW(m),k);P.connect(),await C;let z=lr(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const M=this.apiClient.getProject(),G=this.apiClient.getLocation();z=`projects/${M}/locations/${G}/`+z}let Y={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[k1.AUDIO]}:e.config.responseModalities=[k1.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(c=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[],R=[];for(const M of Z)if(this.isCallableTool(M)){const G=M;R.push(await G.tool())}else R.push(M);R.length>0&&(e.config.tools=R);const F={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=uq(this.apiClient,F):Y=Aq(this.apiClient,F),delete Y.config,P.send(JSON.stringify(Y)),new $W(P,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const qW={turnComplete:!0};class $W{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=Cl(t.turns),e.isVertexAI()||(r=r.map(i=>Vv(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(zW)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},qW),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:pq(e)}:t={realtimeInput:fq(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function WW(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function YW(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RB=10;function LB(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Zf(o)){i=!0;break}if(!i)return!0;const s=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Zf(n){return"callTool"in n&&typeof n.callTool=="function"}function XW(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Zf(i)))!==null&&r!==void 0?r:!1}function DB(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((r,i)=>{if(Zf(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&t.push(i)}),t}function jB(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JW extends ru{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var r,i,s,o,c;const u=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!XW(t)||LB(t.config))return await this.generateContentInternal(u);const d=DB(t);if(d.length>0){const _=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,g;const m=Cl(u.contents),v=(s=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:RB;let C=0;for(;C<v&&(f=await this.generateContentInternal(u),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,E=[];for(const T of(c=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&c!==void 0?c:[])if(Zf(T)){const P=await T.callTool(f.functionCalls);E.push(...P)}C++,g={role:"user",parts:E},u.contents=Cl(u.contents),u.contents.push(_),u.contents.push(g),jB(u.config)&&(m.push(_),m.push(g))}return jB(u.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{var r,i,s,o,c;if(this.maybeMoveToResponseJsonSchem(t),LB(t.config)){const g=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(g)}const u=DB(t);if(u.length>0){const g=u.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(s=(i=(r=t==null?void 0:t.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,f=(c=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:o.push(u);let c;return s?c={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async t=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Bh(JA.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(o),o)},this.editImage=async t=>{const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async t=>{let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var r,i,s,o,c,u;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=t.video)===null||r===void 0)&&r.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((o=(s=t.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((u=(c=t.source)===null||c===void 0?void 0:c.video)===null||u===void 0)&&u.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,r,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const o=await Promise.all(s.map(async u=>Zf(u)?await u.tool():u)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(c.config.tools=o,e.config&&e.config.tools&&I6(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),k6(d),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(e){var t,r,i;const s=new Map;for(const o of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(Zf(o)){const c=o,u=await c.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,c)}}return s}async processAfcStream(e){var t,r,i;const s=(i=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:RB;let o=!1,c=0;const u=await this.initAfcToolsMap(e);return(function(d,f,g){return rc(this,arguments,function*(){for(var m,v,C,_,E,T;c<s;){o&&(c++,o=!1);const Y=yield En(d.processParamsMaybeAddMcpUsage(g)),Z=yield En(d.generateContentStreamInternal(Y)),R=[],F=[];try{for(var k=!0,P=(v=void 0,ic(Z)),z;z=yield En(P.next()),m=z.done,!m;k=!0){_=z.value,k=!1;const M=_;if(yield yield En(M),M.candidates&&(!((E=M.candidates[0])===null||E===void 0)&&E.content)){F.push(M.candidates[0].content);for(const G of(T=M.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(c<s&&G.functionCall){if(!G.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(G.functionCall.name)){const L=yield En(f.get(G.functionCall.name).callTool([G.functionCall]));R.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${G.functionCall.name}`)}}}}catch(M){v={error:M}}finally{try{!k&&!m&&(C=P.return)&&(yield En(C.call(P)))}finally{if(v)throw v.error}}if(R.length>0){o=!0;const M=new _p;M.candidates=[{content:{role:"user",parts:R}}],yield yield En(M);const G=[];G.push(...F),G.push({role:"user",parts:R});const L=Cl(g.contents).concat(G);g.contents=L}else break}})})(this,u,e)}async generateContentInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=IB(this.apiClient,e);return c=Vt("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=FB(f),m=new _p;return Object.assign(m,g),m})}else{const d=TB(this.apiClient,e);return c=Vt("{model}:generateContent",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=kB(f),m=new _p;return Object.assign(m,g),m})}}async generateContentStreamInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=IB(this.apiClient,e);return c=Vt("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return rc(this,arguments,function*(){var m,v,C,_;try{for(var E=!0,T=ic(g),k;k=yield En(T.next()),m=k.done,!m;E=!0){_=k.value,E=!1;const P=_,z=FB(yield En(P.json()));z.sdkHttpResponse={headers:P.headers};const Y=new _p;Object.assign(Y,z),yield yield En(Y)}}catch(P){v={error:P}}finally{try{!E&&!m&&(C=T.return)&&(yield En(C.call(T)))}finally{if(v)throw v.error}}})})}else{const d=TB(this.apiClient,e);return c=Vt("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return rc(this,arguments,function*(){var m,v,C,_;try{for(var E=!0,T=ic(g),k;k=yield En(T.next()),m=k.done,!m;E=!0){_=k.value,E=!1;const P=_,z=kB(yield En(P.json()));z.sdkHttpResponse={headers:P.headers};const Y=new _p;Object.assign(Y,z),yield yield En(Y)}}catch(P){v={error:P}}finally{try{!E&&!m&&(C=T.return)&&(yield En(C.call(T)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=Kq(this.apiClient,e);return c=Vt("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=$q(f),m=new dB;return Object.assign(m,g),m})}else{const d=Gq(this.apiClient,e);return c=Vt("{model}:batchEmbedContents",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=qq(f),m=new dB;return Object.assign(m,g),m})}}async generateImagesInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=s$(this.apiClient,e);return c=Vt("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=o$(f),m=new hB;return Object.assign(m,g),m})}else{const d=i$(this.apiClient,e);return c=Vt("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=a$(f),m=new hB;return Object.assign(m,g),m})}}async editImageInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Qq(this.apiClient,e);return s=Vt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=Hq(u),f=new Yz;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=sW(this.apiClient,e);return s=Vt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=aW(u),f=new Xz;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=O$(this.apiClient,e);return s=Vt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=Q$(u),f=new Jz;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=q$(this.apiClient,e);return s=Vt("{model}:predict",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=$$(u),f=new Zz;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=C$(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>mb(f))}else{const d=_$(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>gb(f))}}async listInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=U$(this.apiClient,e);return c=Vt("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=L$(f),m=new fB;return Object.assign(m,g),m})}else{const d=F$(this.apiClient,e);return c=Vt("{models_url}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=R$(f),m=new fB;return Object.assign(m,g),m})}}async update(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=rW(this.apiClient,e);return c=Vt("{model}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>mb(f))}else{const d=nW(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>gb(f))}}async delete(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=jq(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Pq(f),m=new pB;return Object.assign(m,g),m})}else{const d=Dq(this.apiClient,e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Mq(f),m=new pB;return Object.assign(m,g),m})}}async countTokens(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=Uq(this.apiClient,e);return c=Vt("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Lq(f),m=new gB;return Object.assign(m,g),m})}else{const d=Fq(this.apiClient,e);return c=Vt("{model}:countTokens",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=Rq(f),m=new gB;return Object.assign(m,g),m})}}async computeTokens(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Eq(this.apiClient,e);return s=Vt("{model}:computeTokens",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=Nq(u),f=new eG;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=h$(this.apiClient,e);return c=Vt("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const g=u$(f),m=new F1;return Object.assign(m,g),m})}else{const d=d$(this.apiClient,e);return c=Vt("{model}:predictLongRunning",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>{const g=A$(f),m=new F1;return Object.assign(m,g),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZW extends ru{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:r});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=zz(e);return c=Vt("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else{const d=Vz(e);return c=Vt("{operationName}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o}}async fetchPredictVideosOperationInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=Dz(e);return s=Vt("{resourceName}:fetchPredictOperation",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eY(n){const e={},t=y(n,["data"]);if(t!=null&&b(e,["data"],t),y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function tY(n){const e={},t=y(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>AY(s))),b(e,["parts"],i)}const r=y(n,["role"]);return r!=null&&b(e,["role"],r),e}function nY(n,e,t){const r={},i=y(e,["expireTime"]);t!==void 0&&i!=null&&b(t,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&b(t,["newSessionExpireTime"],s);const o=y(e,["uses"]);t!==void 0&&o!=null&&b(t,["uses"],o);const c=y(e,["liveConnectConstraints"]);t!==void 0&&c!=null&&b(t,["bidiGenerateContentSetup"],cY(n,c));const u=y(e,["lockAdditionalFields"]);return t!==void 0&&u!=null&&b(t,["fieldMask"],u),r}function rY(n,e){const t={},r=y(e,["config"]);return r!=null&&b(t,["config"],nY(n,r,t)),t}function iY(n){const e={};if(y(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=y(n,["fileUri"]);t!=null&&b(e,["fileUri"],t);const r=y(n,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function sY(n){const e={},t=y(n,["id"]);t!=null&&b(e,["id"],t);const r=y(n,["args"]);r!=null&&b(e,["args"],r);const i=y(n,["name"]);if(i!=null&&b(e,["name"],i),y(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aY(n){const e={};if(y(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=y(n,["enableWidget"]);return t!=null&&b(e,["enableWidget"],t),e}function oY(n){const e={};if(y(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=y(n,["timeRangeFilter"]);return t!=null&&b(e,["timeRangeFilter"],t),e}function lY(n,e){const t={},r=y(n,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(n,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const s=y(n,["temperature"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","temperature"],s);const o=y(n,["topP"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","topP"],o);const c=y(n,["topK"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","topK"],c);const u=y(n,["maxOutputTokens"]);e!==void 0&&u!=null&&b(e,["setup","generationConfig","maxOutputTokens"],u);const d=y(n,["mediaResolution"]);e!==void 0&&d!=null&&b(e,["setup","generationConfig","mediaResolution"],d);const f=y(n,["seed"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","seed"],f);const g=y(n,["speechConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","speechConfig"],E_(g));const m=y(n,["thinkingConfig"]);e!==void 0&&m!=null&&b(e,["setup","generationConfig","thinkingConfig"],m);const v=y(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=y(n,["systemInstruction"]);e!==void 0&&C!=null&&b(e,["setup","systemInstruction"],tY(va(C)));const _=y(n,["tools"]);if(e!==void 0&&_!=null){let Z=R0(_);Array.isArray(Z)&&(Z=Z.map(R=>dY(U0(R)))),b(e,["setup","tools"],Z)}const E=y(n,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],uY(E));const T=y(n,["inputAudioTranscription"]);e!==void 0&&T!=null&&b(e,["setup","inputAudioTranscription"],T);const k=y(n,["outputAudioTranscription"]);e!==void 0&&k!=null&&b(e,["setup","outputAudioTranscription"],k);const P=y(n,["realtimeInputConfig"]);e!==void 0&&P!=null&&b(e,["setup","realtimeInputConfig"],P);const z=y(n,["contextWindowCompression"]);e!==void 0&&z!=null&&b(e,["setup","contextWindowCompression"],z);const Y=y(n,["proactivity"]);if(e!==void 0&&Y!=null&&b(e,["setup","proactivity"],Y),y(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function cY(n,e){const t={},r=y(e,["model"]);r!=null&&b(t,["setup","model"],lr(n,r));const i=y(e,["config"]);return i!=null&&b(t,["config"],lY(i,t)),t}function AY(n){const e={},t=y(n,["mediaResolution"]);t!=null&&b(e,["mediaResolution"],t);const r=y(n,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(n,["executableCode"]);i!=null&&b(e,["executableCode"],i);const s=y(n,["fileData"]);s!=null&&b(e,["fileData"],iY(s));const o=y(n,["functionCall"]);o!=null&&b(e,["functionCall"],sY(o));const c=y(n,["functionResponse"]);c!=null&&b(e,["functionResponse"],c);const u=y(n,["inlineData"]);u!=null&&b(e,["inlineData"],eY(u));const d=y(n,["text"]);d!=null&&b(e,["text"],d);const f=y(n,["thought"]);f!=null&&b(e,["thought"],f);const g=y(n,["thoughtSignature"]);g!=null&&b(e,["thoughtSignature"],g);const m=y(n,["videoMetadata"]);return m!=null&&b(e,["videoMetadata"],m),e}function uY(n){const e={},t=y(n,["handle"]);if(t!=null&&b(e,["handle"],t),y(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dY(n){const e={},t=y(n,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(g=>g)),b(e,["functionDeclarations"],f)}if(y(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(n,["googleSearchRetrieval"]);r!=null&&b(e,["googleSearchRetrieval"],r);const i=y(n,["computerUse"]);i!=null&&b(e,["computerUse"],i);const s=y(n,["fileSearch"]);s!=null&&b(e,["fileSearch"],s);const o=y(n,["codeExecution"]);if(o!=null&&b(e,["codeExecution"],o),y(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=y(n,["googleMaps"]);c!=null&&b(e,["googleMaps"],aY(c));const u=y(n,["googleSearch"]);u!=null&&b(e,["googleSearch"],oY(u));const d=y(n,["urlContext"]);return d!=null&&b(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hY(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function fY(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=hY(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const u=[];s&&u.push(s),c.length>0&&u.push(...c),u.length>0?n.fieldMask=u.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class pY extends ru{constructor(e){super(),this.apiClient=e}async create(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=rY(this.apiClient,e);s=Vt("auth_tokens",c._url),o=c._query,delete c.config,delete c._url,delete c._query;const u=fY(c,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gY(n,e){const t={},r=y(n,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),t}function mY(n){const e={},t=y(n,["name"]);t!=null&&b(e,["_url","name"],t);const r=y(n,["config"]);return r!=null&&gY(r,e),e}function xY(n){const e={},t=y(n,["name"]);return t!=null&&b(e,["_url","name"],t),e}function vY(n,e){const t={},r=y(n,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(n,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),t}function yY(n){const e={},t=y(n,["parent"]);t!=null&&b(e,["_url","parent"],t);const r=y(n,["config"]);return r!=null&&vY(r,e),e}function wY(n){const e={},t=y(n,["sdkHttpResponse"]);t!=null&&b(e,["sdkHttpResponse"],t);const r=y(n,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(n,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),b(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bY extends ru{constructor(e){super(),this.apiClient=e,this.list=async t=>new Bh(JA.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:t.parent,config:r.config}),await this.listInternal(t),t)}async get(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=xY(e);return s=Vt("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mY(e);i=Vt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=yY(e);return s=Vt("{parent}/documents",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=wY(u),f=new tG;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _Y extends ru{constructor(e,t=new bY(e)){super(),this.apiClient=e,this.documents=t,this.list=async(r={})=>new Bh(JA.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=hW(e);return s=Vt("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async get(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=gW(e);return s=Vt("{name}",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}async delete(e){var t,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=pW(e);i=Vt("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=bW(e);return s=Vt("fileSearchStores",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=_W(u),f=new nG;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=CW(e);return s=Vt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=EW(u),f=new rG;return Object.assign(f,d),f})}}async importFile(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=vW(e);return s=Vt("{file_search_store_name}:importFile",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=xW(u),f=new y_;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let F6=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return F6=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^t()&15>>+r/4).toString(16))};const CY=()=>F6();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vb(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const yb=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class El extends Error{}class Ka extends El{constructor(e,t,r,i){super(`${Ka.makeMessage(e,t,r)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,r){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,r,i){if(!e||!i)return new Kv({message:r,cause:yb(t)});const s=t;return e===400?new R6(e,s,r,i):e===401?new L6(e,s,r,i):e===403?new D6(e,s,r,i):e===404?new j6(e,s,r,i):e===409?new M6(e,s,r,i):e===422?new P6(e,s,r,i):e===429?new O6(e,s,r,i):e>=500?new Q6(e,s,r,i):new Ka(e,s,r,i)}}class wb extends Ka{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Kv extends Ka{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class U6 extends Kv{constructor({message:e}={}){super({message:e??"Request timed out."})}}class R6 extends Ka{}class L6 extends Ka{}class D6 extends Ka{}class j6 extends Ka{}class M6 extends Ka{}class P6 extends Ka{}class O6 extends Ka{}class Q6 extends Ka{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EY=/^[a-z][a-z0-9+.-]*:/i,NY=n=>EY.test(n);let bb=n=>(bb=Array.isArray,bb(n));const SY=bb;let BY=SY;const MB=BY;function TY(n){if(!n)return!0;for(const e in n)return!1;return!0}function IY(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const kY=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new El(`${n} must be an integer`);if(e<0)throw new El(`${n} must be a positive integer`);return e},FY=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UY=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rf="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RY(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LY=()=>{var n,e,t,r,i;const s=RY();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":OB(Deno.build.os),"X-Stainless-Arch":PB(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":OB((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":PB((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=DY();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rf,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function DY(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const r=t.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const PB=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",OB=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let ex;const jY=()=>ex??(ex=LY());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MY(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function H6(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function PY(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return H6({start(){},async pull(t){const{done:r,value:i}=await e.next();r?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function V6(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OY(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const r=n.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QY=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z6=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Y2(n,e,t){return z6(),new File(n,e??"unknown_file",t)}function HY(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const VY=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G6=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",zY=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&G6(n),GY=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function KY(n,e,t){if(z6(),n=await n,zY(n))return n instanceof File?n:Y2([await n.arrayBuffer()],n.name);if(GY(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Y2(await _b(i),e,t)}const r=await _b(n);if(e||(e=HY(n)),!(t!=null&&t.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return Y2(r,e,t)}async function _b(n){var e,t,r,i,s;let o=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)o.push(n);else if(G6(n))o.push(n instanceof Blob?n:await n.arrayBuffer());else if(VY(n))try{for(var c=!0,u=ic(n),d;d=await u.next(),e=d.done,!e;c=!0){i=d.value,c=!1;const f=i;o.push(...await _b(f))}}catch(f){t={error:f}}finally{try{!c&&!e&&(r=u.return)&&await r.call(u)}finally{if(t)throw t.error}}else{const f=(s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof n}${f?`; constructor: ${f}`:""}${qY(n)}`)}return o}function qY(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K6{constructor(e){this._client=e}}K6._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q6(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const QB=Object.freeze(Object.create(null)),$Y=(n=q6)=>(function(t,...r){if(t.length===1)return t[0];let i=!1;const s=[],o=t.reduce((f,g,m)=>{var v,C,_;/[?#]/.test(g)&&(i=!0);const E=r[m];let T=(i?encodeURIComponent:n)(""+E);return m!==r.length&&(E==null||typeof E=="object"&&E.toString===((_=Object.getPrototypeOf((C=Object.getPrototypeOf((v=E.hasOwnProperty)!==null&&v!==void 0?v:QB))!==null&&C!==void 0?C:QB))===null||_===void 0?void 0:_.toString))&&(T=E+"",s.push({start:f.length+g.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+g+(m===r.length?"":T)},""),c=o.split(/[?#]/,1)[0],u=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=u.exec(c))!==null;)s.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(s.sort((f,g)=>f.start-g.start),s.length>0){let f=0;const g=s.reduce((m,v)=>{const C=" ".repeat(v.start-f),_="^".repeat(v.length);return f=v.start+v.length,m+C+_},"");throw new El(`Path parameters result in path with invalid segments:
${s.map(m=>m.error).join(`
`)}
${o}
${g}`)}return o}),tx=$Y(q6);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $6 extends K6{create(e,t){var r;const{api_version:i=this._client.apiVersion}=e,s=R1(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new El("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new El("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(tx`/${i}/interactions`,Object.assign(Object.assign({body:s},t),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(tx`/${i}/interactions/${e}`,r)}cancel(e,t={},r){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(tx`/${i}/interactions/${e}/cancel`,r)}get(e,t={},r){var i;const s=t??{},{api_version:o=this._client.apiVersion}=s,c=R1(s,["api_version"]);return this._client.get(tx`/${o}/interactions/${e}`,Object.assign(Object.assign({query:c},r),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}$6._key=Object.freeze(["interactions"]);class W6 extends $6{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WY(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let r=0;for(const i of n)t.set(i,r),r+=i.length;return t}let nx;function S_(n){let e;return(nx??(e=new globalThis.TextEncoder,nx=e.encode.bind(e)))(n)}let rx;function HB(n){let e;return(rx??(e=new globalThis.TextDecoder,rx=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qv{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?S_(e):e;this.buffer=WY([this.buffer,t]);const r=[];let i;for(;(i=YY(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(HB(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=HB(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}qv.NEWLINE_CHARS=new Set([`
`,"\r"]);qv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function YY(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function XY(n){for(let r=0;r<n.length-1;r++){if(n[r]===10&&n[r+1]===10||n[r]===13&&n[r+1]===13)return r+2;if(n[r]===13&&n[r+1]===10&&r+3<n.length&&n[r+2]===13&&n[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1={off:0,error:200,warn:300,info:400,debug:500},VB=(n,e,t)=>{if(n){if(IY(L1,n))return n;Ma(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(L1))}`)}};function Mp(){}function ix(n,e,t){return!e||L1[n]>L1[t]?Mp:e[n].bind(e)}const JY={error:Mp,warn:Mp,info:Mp,debug:Mp};let zB=new WeakMap;function Ma(n){var e;const t=n.logger,r=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return JY;const i=zB.get(t);if(i&&i[0]===r)return i[1];const s={error:ix("error",t,r),warn:ix("warn",t,r),info:ix("info",t,r),debug:ix("debug",t,r)};return zB.set(t,[r,s]),s}const eh=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vf{constructor(e,t,r){this.iterator=e,this.controller=t,this.client=r}static fromSSEResponse(e,t,r){let i=!1;const s=r?Ma(r):console;function o(){return rc(this,arguments,function*(){var u,d,f,g;if(i)throw new El("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var v=!0,C=ic(ZY(e,t)),_;_=yield En(C.next()),u=_.done,!u;v=!0){g=_.value,v=!1;const E=g;if(!m)if(E.data.startsWith("[DONE]")){m=!0;continue}else try{yield yield En(JSON.parse(E.data))}catch(T){throw s.error("Could not parse message into JSON:",E.data),s.error("From chunk:",E.raw),T}}}catch(E){d={error:E}}finally{try{!v&&!u&&(f=C.return)&&(yield En(f.call(C)))}finally{if(d)throw d.error}}m=!0}catch(E){if(vb(E))return yield En(void 0);throw E}finally{m||t.abort()}})}return new Vf(o,t,r)}static fromReadableStream(e,t,r){let i=!1;function s(){return rc(this,arguments,function*(){var u,d,f,g;const m=new qv,v=V6(e);try{for(var C=!0,_=ic(v),E;E=yield En(_.next()),u=E.done,!u;C=!0){g=E.value,C=!1;const T=g;for(const k of m.decode(T))yield yield En(k)}}catch(T){d={error:T}}finally{try{!C&&!u&&(f=_.return)&&(yield En(f.call(_)))}finally{if(d)throw d.error}}for(const T of m.flush())yield yield En(T)})}function o(){return rc(this,arguments,function*(){var u,d,f,g;if(i)throw new El("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let m=!1;try{try{for(var v=!0,C=ic(s()),_;_=yield En(C.next()),u=_.done,!u;v=!0){g=_.value,v=!1;const E=g;m||E&&(yield yield En(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!v&&!u&&(f=C.return)&&(yield En(f.call(C)))}finally{if(d)throw d.error}}m=!0}catch(E){if(vb(E))return yield En(void 0);throw E}finally{m||t.abort()}})}return new Vf(o,t,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),t.push(o)}return s.shift()}});return[new Vf(()=>i(e),this.controller,this.client),new Vf(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return H6({async start(){t=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await t.next();if(s)return r.close();const o=S_(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=t.return)===null||r===void 0?void 0:r.call(t))}})}}function ZY(n,e){return rc(this,arguments,function*(){var r,i,s,o;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new El("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new El("Attempted to iterate over a response with no body");const c=new tX,u=new qv,d=V6(n.body);try{for(var f=!0,g=ic(eX(d)),m;m=yield En(g.next()),r=m.done,!r;f=!0){o=m.value,f=!1;const v=o;for(const C of u.decode(v)){const _=c.decode(C);_&&(yield yield En(_))}}}catch(v){i={error:v}}finally{try{!f&&!r&&(s=g.return)&&(yield En(s.call(g)))}finally{if(i)throw i.error}}for(const v of u.flush()){const C=c.decode(v);C&&(yield yield En(C))}})}function eX(n){return rc(this,arguments,function*(){var t,r,i,s;let o=new Uint8Array;try{for(var c=!0,u=ic(n),d;d=yield En(u.next()),t=d.done,!t;c=!0){s=d.value,c=!1;const f=s;if(f==null)continue;const g=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?S_(f):f;let m=new Uint8Array(o.length+g.length);m.set(o),m.set(g,o.length),o=m;let v;for(;(v=XY(o))!==-1;)yield yield En(o.slice(0,v)),o=o.slice(v)}}catch(f){r={error:f}}finally{try{!c&&!t&&(i=u.return)&&(yield En(i.call(u)))}finally{if(r)throw r.error}}o.length>0&&(yield yield En(o))})}class tX{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,r,i]=nX(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function nX(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rX(n,e){const{response:t,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var c;if(e.options.stream)return Ma(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):Vf.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const u=t.headers.get("content-type"),d=(c=u==null?void 0:u.split(";")[0])===null||c===void 0?void 0:c.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await t.json():await t.text()})();return Ma(n).debug(`[${r}] response parsed`,eh({retryOfRequestLogID:i,url:t.url,status:t.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class B_ extends Promise{constructor(e,t,r=rX){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new B_(this.client,this.responsePromise,async(t,r)=>e(await this.parseResponse(t,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Y6=Symbol("brand.privateNullableHeaders");function*iX(n){if(!n)return;if(Y6 in n){const{values:r,nulls:i}=n;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,t;n instanceof Headers?t=n.entries():MB(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let r of t){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=MB(r[1])?r[1]:[r[1]];let o=!1;for(const c of s)c!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,c])}}const Cp=n=>{const e=new Headers,t=new Set;for(const r of n){const i=new Set;for(const[s,o]of iX(r)){const c=s.toLowerCase();i.has(c)||(e.delete(s),i.add(c)),o===null?(e.delete(s),t.add(c)):(e.append(s,o),t.delete(c))}}return{[Y6]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X2=n=>{var e,t,r,i,s,o;if(typeof globalThis.process<"u")return(r=(t=(e=Iz)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,n))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var X6;class $v{constructor(e){var t,r,i,s,o,c,u,{baseURL:d=X2("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(t=X2("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:g="v1beta"}=e,m=R1(e,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:f,apiVersion:g},m),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(r=v.timeout)!==null&&r!==void 0?r:$v.DEFAULT_TIMEOUT,this.logger=(i=v.logger)!==null&&i!==void 0?i:console;const C="warn";this.logLevel=C,this.logLevel=(o=(s=VB(v.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:VB(X2("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:C,this.fetchOptions=v.fetchOptions,this.maxRetries=(c=v.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(u=v.fetch)!==null&&u!==void 0?u:MY(),this.encoder=QY,this._options=v,this.apiKey=f,this.apiVersion=g,this.clientAdapter=v.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=Cp([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return Cp([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Cp([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,r])=>typeof r<"u").map(([t,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(t)}=`;throw new El(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Rf}`}defaultIdempotencyKey(){return`stainless-node-retry-${CY()}`}makeStatusError(e,t,r,i){return Ka.generate(e,t,r,i)}buildURL(e,t,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=NY(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return TY(o)||(t=Object.assign(Object.assign({},o),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(s.search=this.stringifyQuery(t)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:r}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new B_(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,r){var i,s,o;const c=await e,u=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=u),await this.prepareOptions(c);const{req:d,url:f,timeout:g}=await this.buildRequest(c,{retryCount:u-t});await this.prepareRequest(d,{url:f,options:c});const m="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=r===void 0?"":`, retryOf: ${r}`,C=Date.now();if(Ma(this).debug(`[${m}] sending request`,eh({retryOfRequestLogID:r,method:c.method,url:f,options:c,headers:d.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new wb;const _=new AbortController,E=await this.fetchWithTimeout(f,d,g,_).catch(yb),T=Date.now();if(E instanceof globalThis.Error){const P=`retrying, ${t} attempts remaining`;if(!((o=c.signal)===null||o===void 0)&&o.aborted)throw new wb;const z=vb(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(t)return Ma(this).info(`[${m}] connection ${z?"timed out":"failed"} - ${P}`),Ma(this).debug(`[${m}] connection ${z?"timed out":"failed"} (${P})`,eh({retryOfRequestLogID:r,url:f,durationMs:T-C,message:E.message})),this.retryRequest(c,t,r??m);throw Ma(this).info(`[${m}] connection ${z?"timed out":"failed"} - error; no more retries left`),Ma(this).debug(`[${m}] connection ${z?"timed out":"failed"} (error; no more retries left)`,eh({retryOfRequestLogID:r,url:f,durationMs:T-C,message:E.message})),z?new U6:new Kv({cause:E})}const k=`[${m}${v}] ${d.method} ${f} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${T-C}ms`;if(!E.ok){const P=await this.shouldRetry(E);if(t&&P){const M=`retrying, ${t} attempts remaining`;return await OY(E.body),Ma(this).info(`${k} - ${M}`),Ma(this).debug(`[${m}] response error (${M})`,eh({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:T-C})),this.retryRequest(c,t,r??m,E.headers)}const z=P?"error; no more retries left":"error; not retryable";Ma(this).info(`${k} - ${z}`);const Y=await E.text().catch(M=>yb(M).message),Z=FY(Y),R=Z?void 0:Y;throw Ma(this).debug(`[${m}] response error (${z})`,eh({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:R,durationMs:Date.now()-C})),this.makeStatusError(E.status,Z,R,E.headers)}return Ma(this).info(k),Ma(this).debug(`[${m}] response start`,eh({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:T-C})),{response:E,options:c,controller:_,requestLogID:m,retryOfRequestLogID:r,startTime:C}}async fetchWithTimeout(e,t,r,i){const s=t||{},{signal:o,method:c}=s,u=R1(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),r),f=globalThis.ReadableStream&&u.body instanceof globalThis.ReadableStream||typeof u.body=="object"&&u.body!==null&&Symbol.asyncIterator in u.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),u);c&&(g.method=c.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(d)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,r,i){var s;let o;const c=i==null?void 0:i.get("retry-after-ms");if(c){const d=parseFloat(c);Number.isNaN(d)||(o=d)}const u=i==null?void 0:i.get("retry-after");if(u&&!o){const d=parseFloat(u);Number.isNaN(d)?o=Date.parse(u)-Date.now():o=d*1e3}if(!(o&&0<=o&&o<60*1e3)){const d=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,d)}return await UY(o),this.makeRequest(e,t-1,r)}calculateDefaultRetryTimeoutMillis(e,t){const s=t-e,o=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return o*c*1e3}async buildRequest(e,{retryCount:t=0}={}){var r,i,s;const o=Object.assign({},e),{method:c,path:u,query:d,defaultBaseURL:f}=o,g=this.buildURL(u,d,f);"timeout"in o&&kY("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:m,body:v}=this.buildBody({options:o}),C=await this.buildHeaders({options:e,method:c,bodyHeaders:m,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:C},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:g,timeout:o.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let c=Cp([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),jY()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(c),c.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Cp([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:PY(e)}:this.encoder({body:e,headers:r})}}$v.DEFAULT_TIMEOUT=6e4;class Ts extends $v{constructor(){super(...arguments),this.interactions=new W6(this)}}X6=Ts;Ts.GeminiNextGenAPIClient=X6;Ts.GeminiNextGenAPIClientError=El;Ts.APIError=Ka;Ts.APIConnectionError=Kv;Ts.APIConnectionTimeoutError=U6;Ts.APIUserAbortError=wb;Ts.NotFoundError=j6;Ts.ConflictError=M6;Ts.RateLimitError=O6;Ts.BadRequestError=R6;Ts.AuthenticationError=L6;Ts.InternalServerError=Q6;Ts.PermissionDeniedError=D6;Ts.UnprocessableEntityError=P6;Ts.toFile=KY;Ts.Interactions=W6;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sX(n,e){const t={},r=y(n,["name"]);return r!=null&&b(t,["_url","name"],r),t}function aX(n,e){const t={},r=y(n,["name"]);return r!=null&&b(t,["_url","name"],r),t}function oX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&b(t,["sdkHttpResponse"],r),t}function lX(n,e){const t={},r=y(n,["sdkHttpResponse"]);return r!=null&&b(t,["sdkHttpResponse"],r),t}function cX(n,e,t){const r={};if(y(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(n,["epochCount"]);e!==void 0&&s!=null&&b(e,["tuningTask","hyperparameters","epochCount"],s);const o=y(n,["learningRateMultiplier"]);if(o!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),y(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=y(n,["batchSize"]);e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","batchSize"],c);const u=y(n,["learningRate"]);if(e!==void 0&&u!=null&&b(e,["tuningTask","hyperparameters","learningRate"],u),y(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function AX(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec"],GB(v))}else if(i==="PREFERENCE_TUNING"){const v=y(n,["validationDataset"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec"],GB(v))}const s=y(n,["tunedModelDisplayName"]);e!==void 0&&s!=null&&b(e,["tunedModelDisplayName"],s);const o=y(n,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);let c=y(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(c==="PREFERENCE_TUNING"){const v=y(n,["epochCount"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let u=y(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(u==="PREFERENCE_TUNING"){const v=y(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=y(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=y(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=y(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=y(n,["adapterSize"]);e!==void 0&&v!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(y(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(n,["labels"]);e!==void 0&&g!=null&&b(e,["labels"],g);const m=y(n,["beta"]);return e!==void 0&&m!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],m),r}function uX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&b(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&b(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&bX(s);const o=y(n,["config"]);return o!=null&&cX(o,t),t}function dX(n,e){const t={},r=y(n,["baseModel"]);r!=null&&b(t,["baseModel"],r);const i=y(n,["preTunedModel"]);i!=null&&b(t,["preTunedModel"],i);const s=y(n,["trainingDataset"]);s!=null&&_X(s,t,e);const o=y(n,["config"]);return o!=null&&AX(o,t,e),t}function hX(n,e){const t={},r=y(n,["name"]);return r!=null&&b(t,["_url","name"],r),t}function fX(n,e){const t={},r=y(n,["name"]);return r!=null&&b(t,["_url","name"],r),t}function pX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const o=y(n,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),r}function gX(n,e,t){const r={},i=y(n,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const s=y(n,["pageToken"]);e!==void 0&&s!=null&&b(e,["_query","pageToken"],s);const o=y(n,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),r}function mX(n,e){const t={},r=y(n,["config"]);return r!=null&&pX(r,t),t}function xX(n,e){const t={},r=y(n,["config"]);return r!=null&&gX(r,t),t}function vX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&b(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&b(t,["nextPageToken"],i);const s=y(n,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>J6(c))),b(t,["tuningJobs"],o)}return t}function yX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&b(t,["sdkHttpResponse"],r);const i=y(n,["nextPageToken"]);i!=null&&b(t,["nextPageToken"],i);const s=y(n,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(c=>Cb(c))),b(t,["tuningJobs"],o)}return t}function wX(n,e){const t={},r=y(n,["name"]);r!=null&&b(t,["model"],r);const i=y(n,["name"]);return i!=null&&b(t,["endpoint"],i),t}function bX(n,e){const t={};if(y(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(n,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),b(t,["examples","examples"],i)}return t}function _X(n,e,t){const r={};let i=y(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=y(n,["gcsUri"]);e!==void 0&&o!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=y(n,["gcsUri"]);e!==void 0&&o!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=y(t,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=y(n,["vertexDatasetResource"]);e!==void 0&&o!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=y(n,["vertexDatasetResource"]);e!==void 0&&o!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(y(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function J6(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&b(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&b(t,["name"],i);const s=y(n,["state"]);s!=null&&b(t,["state"],f6(s));const o=y(n,["createTime"]);o!=null&&b(t,["createTime"],o);const c=y(n,["tuningTask","startTime"]);c!=null&&b(t,["startTime"],c);const u=y(n,["tuningTask","completeTime"]);u!=null&&b(t,["endTime"],u);const d=y(n,["updateTime"]);d!=null&&b(t,["updateTime"],d);const f=y(n,["description"]);f!=null&&b(t,["description"],f);const g=y(n,["baseModel"]);g!=null&&b(t,["baseModel"],g);const m=y(n,["_self"]);return m!=null&&b(t,["tunedModel"],wX(m)),t}function Cb(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&b(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&b(t,["name"],i);const s=y(n,["state"]);s!=null&&b(t,["state"],f6(s));const o=y(n,["createTime"]);o!=null&&b(t,["createTime"],o);const c=y(n,["startTime"]);c!=null&&b(t,["startTime"],c);const u=y(n,["endTime"]);u!=null&&b(t,["endTime"],u);const d=y(n,["updateTime"]);d!=null&&b(t,["updateTime"],d);const f=y(n,["error"]);f!=null&&b(t,["error"],f);const g=y(n,["description"]);g!=null&&b(t,["description"],g);const m=y(n,["baseModel"]);m!=null&&b(t,["baseModel"],m);const v=y(n,["tunedModel"]);v!=null&&b(t,["tunedModel"],v);const C=y(n,["preTunedModel"]);C!=null&&b(t,["preTunedModel"],C);const _=y(n,["supervisedTuningSpec"]);_!=null&&b(t,["supervisedTuningSpec"],_);const E=y(n,["preferenceOptimizationSpec"]);E!=null&&b(t,["preferenceOptimizationSpec"],E);const T=y(n,["tuningDataStats"]);T!=null&&b(t,["tuningDataStats"],T);const k=y(n,["encryptionSpec"]);k!=null&&b(t,["encryptionSpec"],k);const P=y(n,["partnerModelTuningSpec"]);P!=null&&b(t,["partnerModelTuningSpec"],P);const z=y(n,["customBaseModel"]);z!=null&&b(t,["customBaseModel"],z);const Y=y(n,["experiment"]);Y!=null&&b(t,["experiment"],Y);const Z=y(n,["labels"]);Z!=null&&b(t,["labels"],Z);const R=y(n,["outputUri"]);R!=null&&b(t,["outputUri"],R);const F=y(n,["pipelineJob"]);F!=null&&b(t,["pipelineJob"],F);const M=y(n,["serviceAccount"]);M!=null&&b(t,["serviceAccount"],M);const G=y(n,["tunedModelDisplayName"]);G!=null&&b(t,["tunedModelDisplayName"],G);const L=y(n,["veoTuningSpec"]);return L!=null&&b(t,["veoTuningSpec"],L),t}function CX(n,e){const t={},r=y(n,["sdkHttpResponse"]);r!=null&&b(t,["sdkHttpResponse"],r);const i=y(n,["name"]);i!=null&&b(t,["name"],i);const s=y(n,["metadata"]);s!=null&&b(t,["metadata"],s);const o=y(n,["done"]);o!=null&&b(t,["done"],o);const c=y(n,["error"]);return c!=null&&b(t,["error"],c),t}function GB(n,e){const t={},r=y(n,["gcsUri"]);r!=null&&b(t,["validationDatasetUri"],r);const i=y(n,["vertexDatasetResource"]);return i!=null&&b(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EX extends ru{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bh(JA.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var r;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((r=t.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},t),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:db.JOB_STATE_QUEUED}}}}async getInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=fX(e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>Cb(f))}else{const d=hX(e);return c=Vt("{name}",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>J6(f))}}async listInternal(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=xX(e);return c=Vt("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=yX(f),m=new mB;return Object.assign(m,g),m})}else{const d=mX(e);return c=Vt("tunedModels",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=vX(f),m=new mB;return Object.assign(m,g),m})}}async cancel(e){var t,r,i,s;let o,c="",u={};if(this.apiClient.isVertexAI()){const d=aX(e);return c=Vt("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=lX(f),m=new xB;return Object.assign(m,g),m})}else{const d=sX(e);return c=Vt("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(g=>{const m=g;return m.sdkHttpResponse={headers:f.headers},m})),o.then(f=>{const g=oX(f),m=new xB;return Object.assign(m,g),m})}}async tuneInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const c=dX(e,e);return s=Vt("tuningJobs",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>Cb(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=uX(e);return s=Vt("tunedModels",c._url),o=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>CX(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NX{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const SX=1024*1024*8,BX=3,TX=1e3,IX=2,D1="x-goog-upload-status";async function kX(n,e,t){var r;const i=await Z6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[D1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function FX(n,e,t){var r;const i=await Z6(n,e,t),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[D1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=l6(s),c=new w_;return Object.assign(c,o),c}async function Z6(n,e,t){var r,i;let s=0,o=0,c=new hb(new Response),u="upload";for(s=n.size;o<s;){const d=Math.min(SX,s-o),f=n.slice(o,o+d);o+d>=s&&(u+=", finalize");let g=0,m=TX;for(;g<BX&&(c=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[D1]));)g++,await RX(m),m=m*IX;if(o+=d,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[D1])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function UX(n){return{size:n.size,type:n.type}}function RX(n){return new Promise(e=>setTimeout(e,n))}class LX{async upload(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kX(e,t,r)}async uploadToFileSearchStore(e,t,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FX(e,t,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UX(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DX{create(e,t,r){return new jX(e,t,r)}}class jX{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KB="x-goog-api-key";class MX{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(KB)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(KB,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PX="gl-node/";class OX{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Ts({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=Rz(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new MX(this.apiKey);this.apiClient=new UW({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:PX+"web",uploader:new LX,downloader:new NX}),this.models=new JW(this.apiClient),this.live=new KW(this.apiClient,i,new DX),this.batches=new cK(this.apiClient),this.chats=new zK(this.models,this.apiClient),this.caches=new QK(this.apiClient),this.files=new eq(this.apiClient),this.operations=new ZW(this.apiClient),this.authTokens=new pY(this.apiClient),this.tunings=new EX(this.apiClient),this.fileSearchStores=new _Y(this.apiClient)}}const QX=({isOpen:n,onClose:e,initialQuery:t,onClearQuery:r})=>{const{language:i,isRTL:s,t:o}=Nl(),{systemUser:c}=qr(),{appointments:u,transactions:d,doctorStatus:f,moderators:g,addAppointment:m,addTransaction:v,setDoctorStatus:C}=bi(),[_,E]=se.useState([]),[T,k]=se.useState([]),[P,z]=se.useState(""),[Y,Z]=se.useState(!1),R=se.useRef(null),F=se.useRef(null),M=se.useRef(null),G=new Date().toISOString().split("T")[0];se.useEffect(()=>{c||(E([]),k([]),F.current=null)},[c]),se.useEffect(()=>{M.current&&(M.current.style.height="auto",M.current.style.height=`${Math.min(M.current.scrollHeight,150)}px`)},[P]);const L=[{name:"add_appointment",description:'Adds a new patient booking. User needs "front_desk" access.',parameters:{type:jr.OBJECT,properties:{name:{type:jr.STRING},phone:{type:jr.STRING},age:{type:jr.STRING},residence:{type:jr.STRING},visitType:{type:jr.STRING,enum:["New","Follow-up"]},source:{type:jr.STRING,enum:["Social Media","Phone Call","Clinic Visit","Walk-in","Facebook","Instagram","Whatsapp"]},paid:{type:jr.NUMBER},notes:{type:jr.STRING},date:{type:jr.STRING,description:"YYYY-MM-DD"},time:{type:jr.STRING,description:"HH:mm"}},required:["name","phone","source","date","time"]}},{name:"add_transaction",description:'Records a financial transaction. User needs "accountant" access.',parameters:{type:jr.OBJECT,properties:{description:{type:jr.STRING},amount:{type:jr.NUMBER},type:{type:jr.STRING,enum:["income","expense"]},date:{type:jr.STRING}},required:["description","amount","type","date"]}},{name:"set_doctor_status",description:'Changes doctor availability. User needs "doctor" or "admin" role.',parameters:{type:jr.OBJECT,properties:{status:{type:jr.STRING,enum:["available","resting"]}},required:["status"]}}],Q=async fe=>{const ie=new OX({apiKey:"PLACEHOLDER_API_KEY"}),Ae=new Date,me={today:Ae.toISOString().split("T")[0],currentTime:Ae.toLocaleTimeString(),dayOfWeek:Ae.toLocaleDateString("en-US",{weekday:"long"}),user:{name:c==null?void 0:c.displayName,role:c==null?void 0:c.role,permissions:c==null?void 0:c.permissions}},_e=`
      DOCTOR STATUS: ${f}
      ACTIVE MODERATORS: ${(g||[]).map(we=>we.name).join(", ")}
      TOTAL BOOKINGS: ${(u||[]).length}
      BALANCE: ${(d||[]).reduce((we,ee)=>we+(ee.type==="income"?ee.amount:-ee.amount),0)}
    `;return await ie.models.generateContent({model:"gemini-3-flash-preview",contents:fe,config:{tools:[{functionDeclarations:L}],systemInstruction:`You are 'Aura', the operational AI for AB ClinicOS.
        
        TEMPORAL CONTEXT:
        - Today's Date: ${me.today}
        - Current Time: ${me.currentTime} (${me.dayOfWeek})
        
        USER AUTHORITY:
        - User Name: ${me.user.name}
        - User Role: ${me.user.role}
        - Permissions JSON: ${JSON.stringify(me.user.permissions)}
        
        STRICT SECURITY PROTOCOL:
        1. VALIDATE PERMISSIONS: Before calling a tool, check the "permissions" object. 
           - 'add_appointment' requires 'front_desk' access.
           - 'add_transaction' requires 'accountant' access.
           - 'set_doctor_status' requires 'admin' role or 'doctor' role.
        2. DENIAL: If a user asks for an action they lack permission for, POLITELY inform them that their current account tier does not have authorization for this command.
        3. DATA INTEGRITY: For appointments, always require Name, Phone, Source, Date, and Time.
        4. STYLE: Professional, concise, tech-forward. 
        5. Current Clinic Data: ${_e}`}})},j=async fe=>{var we,ee,U,H,V,J;if(!fe.trim()||Y)return;const Ae={id:Date.now().toString(),role:"user",text:fe},me={role:"user",parts:[{text:fe}]};E(q=>[...q,Ae]),k(q=>[...q,me]),z(""),Z(!0);let _e=[...T,me];try{let q=await Q(_e);if((ee=(we=q.candidates)==null?void 0:we[0])!=null&&ee.content){const te=q.candidates[0].content;if(_e.push(te),q.functionCalls&&q.functionCalls.length>0){const xe=[];let ue="",be=!1;for(const Pe of q.functionCalls){let We="success";const nt=(c==null?void 0:c.permissions)||{},Re=c==null?void 0:c.role;if(Pe.name==="add_appointment"&&!((U=nt.front_desk)!=null&&U.access)&&Re!=="admin")We="ERROR: PERMISSION_DENIED. User lacks front_desk access.",be=!0;else if(Pe.name==="add_transaction"&&!((H=nt.accountant)!=null&&H.access)&&Re!=="admin")We="ERROR: PERMISSION_DENIED. User lacks accountant access.",be=!0;else if(Pe.name==="set_doctor_status"&&Re!=="admin"&&Re!=="doctor")We="ERROR: PERMISSION_DENIED. Only Doctors or Admins can toggle status.",be=!0;else try{Pe.name==="add_appointment"?(await m(Pe.args),ue=o(`Registered: ${Pe.args.name}`,` : ${Pe.args.name}`)):Pe.name==="add_transaction"?(await v(Pe.args),ue=o(`Logged: $${Pe.args.amount}`,` : $${Pe.args.amount}`)):Pe.name==="set_doctor_status"&&(await C(Pe.args.status),ue=o(`Doctor: ${Pe.args.status}`,` : ${Pe.args.status}`))}catch(Ee){We="error: "+Ee.message}xe.push({id:Pe.id,name:Pe.name,response:{result:We}})}const Ve={role:"tool",parts:xe.map(Pe=>({functionResponse:Pe}))};_e.push(Ve),q=await Q(_e),(J=(V=q.candidates)==null?void 0:V[0])!=null&&J.content&&_e.push(q.candidates[0].content),E(Pe=>[...Pe,{id:Date.now().toString(),role:"model",text:q.text||"",actionPerformed:be?void 0:ue,error:be?o("Unauthorized Action Requested","    "):void 0}])}else E(xe=>[...xe,{id:Date.now().toString(),role:"model",text:q.text||""}]);k(_e)}}catch(q){console.error("Aura Error",q);let te=o("Neural link unstable. Retrying connection...","   .  ...");q.message&&q.message.includes("API Key is missing")&&(te="API Configuration Error: Key Missing."),E(xe=>[...xe,{id:Date.now().toString(),role:"model",text:te}])}finally{Z(!1)}},re=fe=>{fe.key==="Enter"&&!fe.shiftKey&&(fe.preventDefault(),j(P))};return se.useEffect(()=>{n&&t&&t!==F.current&&(F.current=t,j(t),r&&r())},[n,t]),se.useEffect(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},[_,Y]),n?a.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/80 backdrop-blur-md animate-fade-in",dir:s?"rtl":"ltr",children:[a.jsx("div",{className:"absolute inset-0",onClick:e}),a.jsxs("div",{className:"w-full max-w-2xl h-[700px] glass-panel rounded-3xl flex flex-col border border-white/10 shadow-[0_0_80px_-20px_rgba(0,243,255,0.3)] relative overflow-hidden animate-slide-up bg-[#070708]/95",children:[a.jsxs("div",{className:"p-6 border-b border-white/5 bg-gradient-to-r from-neon-blue/10 via-transparent to-transparent flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-neon-blue/20 flex items-center justify-center border border-neon-blue/40 shadow-glow-blue animate-glow",children:a.jsx(iH,{size:28,className:"text-neon-blue"})}),a.jsxs("div",{className:s?"text-right":"text-left",children:[a.jsx("h3",{className:"text-xl font-black text-white tracking-tight uppercase",children:o("AURA SYSTEM CORE","  ")}),a.jsxs("p",{className:"text-[9px] text-gray-500 font-bold uppercase tracking-[0.2em] flex items-center gap-1.5 mt-0.5",children:[a.jsx(eA,{size:10,className:"text-neon-blue"})," ",o("ROLE-AWARE AUTHORIZATION ACTIVE","  ")]})]})]}),a.jsx("button",{onClick:e,className:"p-2.5 hover:bg-white/10 rounded-full text-gray-500 hover:text-white transition-all",children:a.jsx(tA,{size:24})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar bg-black/20",ref:R,children:[_.length===0&&a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-40 space-y-6",children:[a.jsx("span",{className:"text-neon-blue animate-pulse-slow",children:a.jsx(Ov,{size:64})}),a.jsxs("div",{className:"max-w-sm",children:[a.jsx("p",{className:"text-2xl font-black text-white",children:o("Directive Mode Active.","  .")}),a.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[o("Greetings, "," ")," ",a.jsx("span",{className:"text-neon-blue font-bold uppercase",children:c==null?void 0:c.displayName}),".",o(" I am synced with your role and today's metrics.","      .")]})]})]}),(_||[]).map(fe=>a.jsxs("div",{className:`flex gap-4 ${fe.role==="user"?"flex-row-reverse":"flex-row"} animate-slide-up`,children:[a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shrink-0 border-2 ${fe.role==="user"?"bg-white/5 border-white/10":"bg-neon-blue/10 border-neon-blue/20"}`,children:fe.role==="user"?a.jsx(yd,{size:20,className:"text-gray-400"}):a.jsx(u_,{size:20,className:"text-neon-blue"})}),a.jsxs("div",{className:"max-w-[85%] space-y-2",children:[a.jsx("div",{className:`p-4 rounded-2xl text-sm leading-relaxed whitespace-pre-wrap shadow-xl border ${fe.role==="user"?"bg-white/5 border-white/10 text-gray-200 rounded-tr-none":"bg-neon-blue/5 border-neon-blue/20 text-gray-100 rounded-tl-none"}`,children:fe.text}),fe.actionPerformed&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-green-500/10 border border-green-500/30 text-green-400 text-[10px] font-black uppercase tracking-widest animate-fade-in",children:[a.jsx(Oo,{size:12})," ",fe.actionPerformed]}),fe.error&&a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-red-500/10 border border-red-500/20 text-red-400 text-[10px] font-black uppercase tracking-widest animate-fade-in",children:[a.jsx(T0,{size:12})," ",fe.error]})]})]},fe.id)),Y&&a.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-neon-blue/10 border-2 border-neon-blue/20 flex items-center justify-center shrink-0",children:a.jsx(xa,{size:20,className:"text-neon-blue animate-spin"})}),a.jsxs("div",{className:"p-4 rounded-2xl bg-neon-blue/5 border border-neon-blue/10 flex items-center justify-center gap-1.5 w-16 h-10",children:[a.jsx("span",{className:"w-1 h-1 bg-neon-blue rounded-full animate-bounce"}),a.jsx("span",{className:"w-1 h-1 bg-neon-blue rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),a.jsx("span",{className:"w-1 h-1 bg-neon-blue rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]})]}),a.jsxs("div",{className:"p-6 border-t border-white/10 bg-black/60 backdrop-blur-xl",children:[a.jsxs("div",{className:"relative flex items-end gap-3",children:[a.jsx("div",{className:"relative flex-1",children:a.jsx("textarea",{ref:M,rows:1,value:P,onChange:fe=>z(fe.target.value),onKeyDown:re,placeholder:o("Issue a command (Enter to send, Shift+Enter for new line)...","  (Enter  Shift+Enter  )..."),className:`w-full bg-white/5 border border-white/10 rounded-2xl py-4 text-sm text-white focus:border-neon-blue/50 focus:bg-white/10 outline-none transition-all placeholder-gray-600 shadow-inner resize-none custom-scrollbar min-h-[56px] max-h-[150px] ${s?"pr-6 pl-14 text-right":"pl-6 pr-14 text-left"}`,autoFocus:!0})}),a.jsx("button",{onClick:()=>j(P),disabled:!P.trim()||Y,className:`mb-1.5 p-3 rounded-xl bg-neon-blue text-black hover:bg-white transition-all disabled:opacity-30 shadow-[0_0_15px_rgba(0,243,255,0.4)] active:scale-95 ${s?"left-2":"right-2"}`,children:a.jsx(n6,{size:20,className:s?"rotate-180":""})})]}),a.jsxs("div",{className:"mt-4 flex justify-between items-center px-2",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("span",{className:"text-[9px] text-gray-600 font-black uppercase tracking-widest flex items-center gap-1.5",children:[a.jsx(eA,{size:10})," ",o("ENCRYPTED","")]}),a.jsxs("span",{className:"text-[9px] text-gray-600 font-black uppercase tracking-widest flex items-center gap-1.5",children:[a.jsx(MF,{size:10})," ",G]})]}),a.jsx("span",{className:"text-[9px] text-gray-600 font-black uppercase tracking-widest",children:o("AURA v3.1"," v3.1")})]})]})]})]}):null},$o=se.createContext({setHeaderHidden:()=>{}}),Mt=({children:n,className:e="",glowColor:t="cyan",noTilt:r=!1})=>{const i=se.useRef(null),[s,o]=se.useState({x:0,y:0}),[c,u]=se.useState({x:50,y:50}),[d,f]=se.useState(!1),g=E=>{if(!i.current||r)return;const k=i.current.getBoundingClientRect(),P=E.clientX-k.left,z=E.clientY-k.top,Y=k.width/2,Z=k.height/2,R=(z-Z)/Z*-3,F=(P-Y)/Y*3;o({x:R,y:F}),u({x:P/k.width*100,y:z/k.height*100})},m=()=>f(!0),v=()=>{f(!1),o({x:0,y:0})};let C="",_="";switch(t){case"purple":C="group-hover:shadow-[0_0_25px_-5px_rgba(157,0,255,0.4)]",_="group-hover:border-neon-purple/40";break;case"green":C="group-hover:shadow-[0_0_25px_-5px_rgba(10,255,96,0.3)]",_="group-hover:border-neon-green/40";break;case"red":C="group-hover:shadow-[0_0_25px_-5px_rgba(255,0,85,0.4)]",_="group-hover:border-neon-red/40";break;default:C="group-hover:shadow-[0_0_25px_-5px_rgba(0,243,255,0.3)]",_="group-hover:border-neon-blue/40"}return a.jsxs("div",{ref:i,onMouseMove:g,onMouseEnter:m,onMouseLeave:v,className:`relative group transition-all duration-500 ease-out transform-gpu glass-panel rounded-2xl border border-white/5 ${C} ${_} ${e}`,style:{transform:r?"none":`perspective(1000px) rotateX(${s.x}deg) rotateY(${s.y}deg) scale3d(1, 1, 1)`},children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`radial-gradient(600px circle at ${c.x}% ${c.y}%, rgba(255,255,255,0.06), transparent 40%)`}}),a.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none border border-white/5 group-hover:border-white/10 transition-colors duration-300"}),n]})},qB=()=>{var Q;const{firebaseUser:n}=qr(),{appointments:e,doctorStatus:t,callingPatientId:r,isBookingPaused:i,toggleBookingPause:s,setDoctorStatus:o}=bi(),{setActiveTab:c}=se.useContext($o),u=new Date().toISOString().split("T")[0],d=(n==null?void 0:n.displayName)||"Clinic",[f,g]=se.useState(0);se.useEffect(()=>{const j=setInterval(()=>{g(re=>(re+1)%5)},4e3);return()=>clearInterval(j)},[]);const m=se.useMemo(()=>{const j=e.filter(H=>H.date===u).length,re=e.filter(H=>H.date===u&&(H.status==="checked-in"||H.status==="in-exam"||H.status==="completed")).length,fe=e.filter(H=>H.status==="checked-in").sort((H,V)=>(H.queueOrder??9999)-(V.queueOrder??9999)||(H.checkInTime||0)-(V.checkInTime||0)),ie=e.filter(H=>H.date===u).reduce((H,V)=>H+(Number(V.paid)||0),0),Ae=e.find(H=>H.status==="in-exam"),me=e.filter(H=>H.date===u&&H.status==="cancelled").length,_e=e.find(H=>H.id===r&&H.status==="checked-in"),we=e.filter(H=>H.visitType==="New").length,ee=e.length||1,U=Math.round((ee-we)/ee*100);return{bookingsToday:j,checkedInToday:re,queuingNow:fe,revenueToday:ie,currentExam:Ae,cancelledToday:me,callingPatient:_e,loyaltyRate:U,total:ee}},[e,u,r]),{bookingsToday:v,checkedInToday:C,queuingNow:_,revenueToday:E,currentExam:T,callingPatient:k,loyaltyRate:P,total:z}=m,Y=se.useMemo(()=>{const j=e.filter(ie=>ie.status==="completed").length/z*100,re=E/(v||1),fe=Array(12).fill(0);return e.filter(ie=>ie.date===u).forEach(ie=>{const Ae=parseInt(ie.time.split(":")[0]);Ae>=8&&Ae<20&&fe[Ae-8]++}),{efficiency:j,avgPaid:re,hourCounts:fe}},[e,v,E,z,u]),Z=se.useMemo(()=>{const j={};let re=0,fe=0,ie=0,Ae=0;e.forEach(we=>{if(we.residence){const ee=we.residence.trim();ee&&(j[ee]=(j[ee]||0)+(Number(we.paid)>0?1:0),ie++)}if(we.age){const ee=parseInt(we.age);isNaN(ee)||(ee<30?re++:fe++,Ae++)}});const me=Object.entries(j).sort((we,ee)=>ee[1]-we[1]).slice(0,2).map(([we,ee])=>({name:we,percent:Math.round(ee/(ie||1)*100)})),_e=Ae>0?{young:Math.round(re/Ae*100),mature:Math.round(fe/Ae*100)}:{young:50,mature:50};return{geo:me,ageSplit:_e}},[e]),R=se.useMemo(()=>{const j=[];return _.length>5&&j.push({type:"alert",text:"Lobby saturation detected. Advise optimizing transition times."}),E>2e3&&j.push({type:"success",text:"Revenue velocity is high. Projections suggest a record-breaking day."}),i&&j.push({type:"warning",text:"Booking engine suspended. Operational capacity reached for current block."}),j.length===0&&j.push({type:"info",text:"Clinic rhythm stabilized. Optimal patient flow maintained."}),j},[_.length,E,i]),F=se.useMemo(()=>[{label:"System Load",val:_.length,max:10,status:_.length>7?"Critical":"Stable",color:"bg-neon-blue"},{label:"Efficiency",val:Math.round(Y.efficiency),max:100,status:"Active",color:"bg-green-500"},{label:"Revenue Pace",val:E,max:5e3,status:"Optimal",color:"bg-neon-purple"},{label:"Patient Loyalty",val:P,max:100,status:"High",color:"bg-cyan-400"},{label:"Booking Sync",val:99,max:100,status:"Real-time",color:"bg-neon-pink"}][f],[f,_.length,Y.efficiency,E,P]),M=Math.max(...Y.hourCounts)||1,G=()=>{const j=`${window.location.origin}${window.location.pathname}?view=live`;window.open(j,"_blank","width=1280,height=720,menubar=no,status=no,toolbar=no,location=no")},L=se.useMemo(()=>t==="resting"?{label:"RESTING",color:"text-red-500",icon:a.jsx(yg,{}),glow:"red"}:T?{label:"IN EXAM",color:"text-orange-500",icon:a.jsx(Ri,{}),glow:"red"}:k?{label:"CALLING",color:"text-neon-blue",icon:a.jsx(Zc,{}),glow:"cyan"}:{label:"AVAILABLE",color:"text-green-500",icon:a.jsx(yo,{}),glow:"green"},[t,T,k]);return a.jsxs("div",{className:"space-y-6 animate-fade-in pb-12",children:[a.jsxs(Mt,{className:"p-1 relative overflow-hidden bg-black/40 border-white/10",noTilt:!0,glowColor:"cyan",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-blue/5 via-transparent to-neon-purple/5 z-0"}),a.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-stretch gap-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-6 lg:border-r border-white/10 lg:pr-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-neon-blue to-neon-purple p-[1px] shadow-[0_0_30px_rgba(0,243,255,0.3)] animate-float",children:a.jsx("div",{className:"w-full h-full bg-black rounded-3xl flex items-center justify-center",children:a.jsx(u_,{size:40,className:"text-white"})})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-4 border-[#0a0a0a] animate-pulse shadow-[0_0_10px_#22c55e]"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white tracking-tighter uppercase",children:"AURA OS CORE"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"px-2 py-0.5 rounded bg-neon-blue/10 border border-neon-blue/20 text-[10px] font-black text-neon-blue uppercase tracking-widest",children:"Active"}),a.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:"STABILITY: 99.9%"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-2 min-h-[60px]",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:[a.jsx(Ov,{size:14,className:"text-neon-blue"})," Intelligent Directives"]}),a.jsx("div",{className:"space-y-1",children:R.map((j,re)=>a.jsxs("div",{className:"flex items-center gap-3 text-sm animate-slide-up",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${j.type==="alert"?"bg-red-500 shadow-[0_0_8px_red]":j.type==="warning"?"bg-orange-500 shadow-[0_0_8px_orange]":"bg-neon-blue shadow-[0_0_8px_#00f3ff]"}`}),a.jsx("p",{className:"text-gray-200 font-medium truncate max-w-lg",children:j.text})]},re))})]}),a.jsxs("div",{className:"min-w-[200px] flex flex-col justify-center bg-white/5 p-4 rounded-2xl border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:F.label}),a.jsx("span",{className:"text-[10px] font-bold text-white bg-white/10 px-1.5 rounded",children:F.status})]}),a.jsx("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden border border-white/5 relative",children:a.jsx("div",{className:`h-full ${F.color} transition-all duration-1000 ease-out shadow-[0_0_10px_currentColor]`,style:{width:`${F.val/F.max*100}%`}})}),a.jsx("div",{className:"flex justify-between items-center mt-2",children:a.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(j=>a.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${j===f?"bg-white scale-125":"bg-gray-700"}`},j))})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"cyan",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Patient Inflow"}),a.jsx("h3",{className:"text-4xl font-black mt-1 text-white",children:v}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("div",{className:"px-2 py-0.5 rounded bg-neon-blue/10 border border-neon-blue/20 text-[10px] font-bold text-neon-blue",children:["+",Math.round(v*.4),"% AVG"]})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-neon-blue/5 flex items-center justify-center text-neon-blue border border-neon-blue/20 group-hover:scale-110 transition-transform",children:a.jsx(Ri,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"purple",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Gross Revenue"}),a.jsxs("h3",{className:"text-4xl font-black mt-1 text-white",children:["$",E.toLocaleString()]}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:["$",Y.avgPaid.toFixed(0)," Avg/Pt"]})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-neon-purple/5 flex items-center justify-center text-neon-purple border border-neon-purple/20 group-hover:scale-110 transition-transform",children:a.jsx(Fd,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"red",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Queue Volume"}),a.jsx("h3",{className:"text-4xl font-black mt-1 text-white",children:_.length}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"text-[10px] text-red-400 font-bold bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20",children:"WAIT: ~15M"})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-500/5 flex items-center justify-center text-red-500 border border-red-500/20 group-hover:scale-110 transition-transform",children:a.jsx(zF,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex flex-col justify-center group overflow-hidden relative pointer-events-none",glowColor:L.glow,children:[a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Room Status"}),a.jsx("h3",{className:`text-2xl font-black mt-1 uppercase ${L.color} ${L.label==="CALLING"?"animate-pulse":""}`,children:L.label})]}),a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border shadow-lg transition-all ${t==="available"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:t==="available"?a.jsx(XA,{size:24}):a.jsx(yg,{size:24})})]}),(T||k)&&a.jsxs("div",{className:`mt-4 p-2 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between ${L.label==="CALLING"?"animate-pulse border-neon-blue/30":""}`,children:[a.jsx("p",{className:"text-[10px] text-white font-bold truncate",children:(Q=T||k)==null?void 0:Q.name}),a.jsx("span",{className:`text-[8px] px-1 rounded uppercase font-black ${L.label==="CALLING"?"bg-neon-blue text-black":"bg-red-500 text-white"}`,children:L.label})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Mt,{className:"lg:col-span-2 p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-3 uppercase tracking-tighter",children:[a.jsx(o6,{size:20,className:"text-neon-blue"})," Traffic Pulse"]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 uppercase font-bold tracking-widest",children:"Today's Patient Density Flow"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-neon-blue shadow-[0_0_8px_#00f3ff] animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Real-time"})]})]}),a.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-2",children:Y.hourCounts.map((j,re)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center group h-full justify-end",children:[a.jsx("div",{className:"w-full bg-gradient-to-t from-neon-blue/5 to-neon-blue/40 rounded-t-xl relative border-t border-x border-neon-blue/20 transition-all duration-700 group-hover:from-neon-blue/30 group-hover:to-neon-blue/60 group-hover:shadow-[0_0_20px_rgba(0,243,255,0.2)]",style:{height:`${j/M*100}%`},children:a.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-[10px] font-black px-2 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-all border border-white/10",children:j})}),a.jsxs("span",{className:"text-[9px] text-gray-600 font-black mt-3 font-mono",children:[re+8,"H"]})]},re))})]}),a.jsxs(Mt,{className:"p-8 border-white/5 flex flex-col",glowColor:"purple",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3 uppercase tracking-tighter",children:[a.jsx(ci,{size:20,className:"text-neon-purple"})," Leads Center"]}),a.jsxs("div",{className:"space-y-6 flex-1",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs font-black text-gray-400 uppercase tracking-widest",children:[a.jsx("span",{children:"Follow-up Rate"}),a.jsxs("span",{className:"text-neon-purple",children:[P,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-neon-purple shadow-[0_0_10px_#9d00ff]",style:{width:`${P}%`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs font-black text-gray-400 uppercase tracking-widest",children:[a.jsx("span",{children:"Conversion Rate"}),a.jsx("span",{className:"text-green-500",children:"92%"})]}),a.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:"92%"}})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] mb-4",children:"Patient Demographics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest",children:"Top Locations"}),Z.geo.length>0?Z.geo.map((j,re)=>a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f_,{size:12,className:"text-neon-purple"}),a.jsx("span",{className:"text-xs text-gray-300 font-medium",children:j.name})]}),a.jsxs("span",{className:"text-[10px] font-bold text-white bg-white/5 px-2 py-0.5 rounded border border-white/5",children:[j.percent,"%"]})]},j.name)):a.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"No location data"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest",children:"Age Group Split"}),a.jsxs("div",{className:"flex gap-1 h-3 rounded-full overflow-hidden bg-gray-800 border border-white/5",children:[a.jsx("div",{className:"h-full bg-neon-blue shadow-[0_0_10px_rgba(0,243,255,0.4)]",style:{width:`${Z.ageSplit.young}%`}}),a.jsx("div",{className:"h-full bg-neon-purple shadow-[0_0_10px_rgba(157,0,255,0.4)]",style:{width:`${Z.ageSplit.mature}%`}})]}),a.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase text-gray-500",children:[a.jsxs("span",{className:"text-neon-blue",children:["Under 30: ",Z.ageSplit.young,"%"]}),a.jsxs("span",{className:"text-neon-purple",children:["30+: ",Z.ageSplit.mature,"%"]})]})]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Mt,{className:"lg:col-span-2 p-0 overflow-hidden border-neon-blue/20",glowColor:"cyan",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-neon-blue/10 via-transparent to-transparent border-b border-white/5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/20 rounded-lg text-neon-blue animate-pulse",children:a.jsx(Zc,{size:18})}),a.jsx("h3",{className:"font-black text-white tracking-widest uppercase text-sm",children:"Clinic Live Monitor"})]}),a.jsxs("button",{onClick:G,className:"flex items-center gap-2 px-4 py-1.5 bg-neon-blue text-black rounded-lg hover:bg-white hover:scale-105 transition-all text-[10px] font-black uppercase tracking-widest shadow-[0_0_15px_rgba(0,243,255,0.4)] border border-neon-blue",children:[a.jsx(PF,{size:14})," CAST"]})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-black/40",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2 flex items-center gap-2",children:["Next in Line ",a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-neon-blue"})]}),_.slice(0,3).map((j,re)=>a.jsxs("div",{className:`flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/5 group hover:border-neon-blue/30 transition-all ${r===j.id?"border-neon-blue bg-neon-blue/10":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold transition-colors text-xs ${r===j.id?"bg-neon-blue text-black":"bg-gray-800 text-gray-400 group-hover:text-neon-blue"}`,children:re+1}),a.jsx("span",{className:`text-sm font-bold transition-colors ${r===j.id?"text-neon-blue":"text-gray-200 group-hover:text-white"}`,children:j.name})]}),a.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:j.time})]},j.id)),_.length===0&&a.jsx("p",{className:"text-xs text-gray-600 italic py-4",children:"Queue is currently clear."})]}),a.jsxs("div",{className:"flex flex-col justify-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${k?"bg-neon-blue/20 text-neon-blue animate-pulse-fast":"bg-gray-800 text-gray-600"}`,children:a.jsx(ci,{size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Now Calling"}),a.jsx("p",{className:`text-lg font-black ${k?"text-neon-blue text-glow animate-pulse":"text-white"}`,children:(k==null?void 0:k.name)||"---"})]})]}),a.jsx("div",{className:"h-px bg-white/10"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Avg Visit"}),a.jsx("p",{className:"text-sm font-bold text-white",children:"12 Minutes"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:"Completion"}),a.jsxs("p",{className:"text-sm font-bold text-green-500",children:[(C/z*100).toFixed(0),"%"]})]})]})]})]})]}),a.jsx("div",{className:"flex flex-col gap-4",children:a.jsxs(Mt,{className:"flex-1 p-6 bg-gradient-to-br from-neon-purple/10 to-transparent border-white/10",noTilt:!0,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-neon-purple/20 flex items-center justify-center text-neon-purple shrink-0",children:a.jsx(F0,{size:24,className:"animate-pulse"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:"Growth Directive"}),a.jsxs("h4",{className:"text-lg font-bold text-white tracking-tight",children:[d," Strategy"]})]})]}),a.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed",children:["With a current patient loyalty of ",a.jsxs("span",{className:"text-neon-purple font-bold",children:[P,"%"]}),", Aura suggests increasing automated follow-ups to recapture inactive leads."]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5 grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Efficiency"}),a.jsxs("p",{className:"text-xl font-black text-white",children:[Math.round(Y.efficiency),"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:"Saturation"}),a.jsx("p",{className:"text-xl font-black text-neon-blue",children:_.length>5?"High":"Low"})]})]})]})})]})]})},HX=()=>{const{appointments:n,transactions:e}=bi(),[t,r]=se.useState("thisMonth"),[i,s]=se.useState(""),[o,c]=se.useState(""),u=se.useMemo(()=>{const T=new Date;let k=new Date,P=new Date;return t==="7days"?k.setDate(T.getDate()-7):t==="30days"?k.setDate(T.getDate()-30):t==="thisMonth"?k=new Date(T.getFullYear(),T.getMonth(),1):t==="custom"&&i&&o&&(k=new Date(i),P=new Date(o),P.setHours(23,59,59,999)),n.filter(z=>{const Y=new Date(z.date);return Y>=k&&Y<=P})},[n,t,i,o]),d=se.useMemo(()=>{const T=new Date;let k=new Date,P=new Date;return t==="7days"?k.setDate(T.getDate()-7):t==="30days"?k.setDate(T.getDate()-30):t==="thisMonth"?k=new Date(T.getFullYear(),T.getMonth(),1):t==="custom"&&i&&o&&(k=new Date(i),P=new Date(o),P.setHours(23,59,59,999)),e.filter(z=>{const Y=new Date(z.date);return Y>=k&&Y<=P})},[e,t,i,o]),f=se.useMemo(()=>{let T=0,k=0,P=0,z=0;const Y={};let Z=0,R=0;const F=new Set;u.forEach(fe=>{F.add(fe.phone);const ie=parseInt(fe.age||"0");if(ie>0&&(ie<=18?T++:ie<=35?k++:ie<=50?P++:z++),fe.residence){const Ae=fe.residence.trim();Ae&&(Y[Ae]=(Y[Ae]||0)+1)}fe.visitType==="Follow-up"?R++:Z++});const M=Object.entries(Y).sort((fe,ie)=>ie[1]-fe[1]).slice(0,5),G=Z+R,L=G>0?Math.round(R/G*100):0,Q=Math.max(T,k,P,z)||1,j=M.length>0?M[0][1]:1,re=F.size>0?(G/F.size).toFixed(1):"0";return{age:{"0-18":T,"19-35":k,"36-50":P,"50+":z,max:Q},locations:M,retention:{new:Z,returning:R,rate:L},maxLoc:j,avgVisits:re}},[u]),g=se.useMemo(()=>{const T=u.reduce((M,G)=>M+(Number(G.paid)||0),0),k=d.filter(M=>M.type==="income").reduce((M,G)=>M+Number(G.amount),0),P=T+k,z=d.filter(M=>M.type==="expense").reduce((M,G)=>M+Number(G.amount),0),Y=P-z,Z=P>0?Math.round(Y/P*100):0,R=u.filter(M=>M.paid>0).length,F=R>0?Math.round(T/R):0;return{totalIncome:P,totalExpense:z,netProfit:Y,profitMargin:Z,atv:F,apptRevenue:T}},[u,d]),m=se.useMemo(()=>{const T=u.length,k=u.filter(L=>L.status==="completed").length,P=u.filter(L=>L.status==="cancelled").length,z=u.filter(L=>L.status==="checked-in").length,Y=u.filter(L=>L.status==="booked").length,Z=T>0?Math.round(P/T*100):0,R=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F=Array(7).fill(0);u.forEach(L=>{const Q=new Date(L.date).getDay();F[Q]++});const M=F.indexOf(Math.max(...F)),G=R[M];return{completed:k,cancelled:P,checkedIn:z,booked:Y,cancellationRate:Z,dayCounts:F,busiestDay:G,days:R,total:T}},[u]),v=se.useMemo(()=>{const T={},k={};u.forEach(Y=>{T[Y.source]=(T[Y.source]||0)+(Number(Y.paid)||0),k[Y.source]=(k[Y.source]||0)+1});const P=Object.entries(T).sort((Y,Z)=>Z[1]-Y[1]),z=P.length>0?P[0][1]:1;return{sourceRev:P,maxSourceRev:z,sourceCount:k}},[u]),C=se.useMemo(()=>{const T={};u.forEach(z=>{if(z.diagnosis&&z.diagnosis.trim()){const Y=z.diagnosis.trim().toUpperCase();T[Y]=(T[Y]||0)+1}});const k=Object.entries(T).sort((z,Y)=>Y[1]-z[1]).slice(0,5),P=k.length>0?k[0][1]:1;return{topDiags:k,maxDiag:P}},[u]),_=se.useMemo(()=>{const T=Array(24).fill(0);return u.forEach(k=>{if(k.time){const P=parseInt(k.time.split(":")[0]);isNaN(P)||T[P]++}}),T.map((k,P)=>({hour:P,count:k})).slice(8,22)},[u]),E=Math.max(..._.map(T=>T.count))||1;return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs(Mt,{className:"p-4 flex flex-wrap gap-4 items-center justify-between border-white/10",noTilt:!0,children:[a.jsx("div",{className:"flex gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5",children:["7days","30days","thisMonth","custom"].map(T=>a.jsx("button",{onClick:()=>r(T),className:`px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all duration-300 ${t===T?"bg-neon-blue text-black shadow-[0_0_15px_-3px_rgba(0,243,255,0.4)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:T==="thisMonth"?"This Month":T.replace("days"," Days")},T))}),a.jsx("div",{className:"flex items-center gap-4",children:t==="custom"&&a.jsxs("div",{className:"flex gap-2 items-center animate-in fade-in slide-in-from-right-2",children:[a.jsx("input",{type:"date",value:i,onChange:T=>s(T.target.value),className:"bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"}),a.jsx("span",{className:"text-gray-500 font-bold",children:"-"}),a.jsx("input",{type:"date",value:o,onChange:T=>c(T.target.value),className:"bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})]})})]}),a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(Fd,{className:"text-green-400",size:20})," Financial Performance"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(Mt,{className:"p-6 border-white/5 group",glowColor:"purple",children:[a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest group-hover:text-neon-purple transition-colors",children:"Total Income"}),a.jsxs("h3",{className:"text-3xl font-black mt-2 text-white group-hover:drop-shadow-[0_0_10px_rgba(157,0,255,0.3)] transition-all",children:["$",g.totalIncome.toLocaleString()]})]}),a.jsxs(Mt,{className:"p-6 border-white/5 group",glowColor:"red",children:[a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest group-hover:text-red-400 transition-colors",children:"Total Expenses"}),a.jsxs("h3",{className:"text-3xl font-black mt-2 text-red-400 group-hover:drop-shadow-[0_0_10px_rgba(239,68,68,0.3)] transition-all",children:["$",g.totalExpense.toLocaleString()]})]}),a.jsxs(Mt,{className:"p-6 border-white/5 group",glowColor:"green",children:[a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest group-hover:text-green-400 transition-colors",children:"Net Profit"}),a.jsxs("h3",{className:"text-3xl font-black mt-2 text-green-400 group-hover:drop-shadow-[0_0_10px_rgba(34,197,94,0.3)] transition-all",children:["$",g.netProfit.toLocaleString()]}),a.jsxs("span",{className:"text-[10px] text-gray-500 font-bold uppercase mt-1 block",children:["Margin: ",g.profitMargin,"%"]})]}),a.jsxs(Mt,{className:"p-6 border-white/5 group",glowColor:"cyan",children:[a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-widest group-hover:text-neon-blue transition-colors",children:"Avg. Transaction"}),a.jsxs("h3",{className:"text-3xl font-black mt-2 text-neon-blue group-hover:drop-shadow-[0_0_10px_rgba(0,243,255,0.3)] transition-all",children:["$",g.atv]}),a.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase mt-1 block",children:"Per Patient"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"purple",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-purple/10 rounded-lg text-neon-purple",children:a.jsx(VF,{size:20})})," Patient Retention"]}),a.jsxs("div",{className:"px-3 py-1 bg-neon-purple/10 border border-neon-purple/30 rounded-lg text-xs font-bold text-neon-purple",children:["Avg Visits: ",f.avgVisits]})]}),a.jsxs("div",{className:"flex gap-4 items-end h-40 mb-6 px-4",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2 group",children:[a.jsx("div",{className:"text-center font-bold text-blue-400 text-lg group-hover:scale-110 transition-transform",children:f.retention.new}),a.jsx("div",{className:"w-full bg-blue-500/20 rounded-t-xl border-t border-x border-blue-500/30 relative h-full group-hover:bg-blue-500/30 transition-colors",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-blue-500 rounded-t-xl opacity-60",style:{height:`${f.retention.new/(m.total||1)*100}%`}})}),a.jsx("div",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"New"})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-2 group",children:[a.jsx("div",{className:"text-center font-bold text-neon-purple text-lg group-hover:scale-110 transition-transform",children:f.retention.returning}),a.jsx("div",{className:"w-full bg-neon-purple/20 rounded-t-xl border-t border-x border-neon-purple/30 relative h-full group-hover:bg-neon-purple/30 transition-colors",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-neon-purple rounded-t-xl opacity-60",style:{height:`${f.retention.returning/(m.total||1)*100}%`}})}),a.jsx("div",{className:"text-center text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Returning"})]})]}),a.jsxs("div",{className:"bg-black/30 rounded-xl p-4 flex items-center justify-between border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(t6,{size:20,className:"text-gray-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase",children:"Loyalty Rate"}),a.jsx("p",{className:"text-white font-medium text-sm",children:"Returning Patients %"})]})]}),a.jsxs("span",{className:"text-2xl font-black text-white",children:[f.retention.rate,"%"]})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(wg,{size:20})})," Appointment Status"]}),a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("div",{className:"relative w-40 h-40 rounded-full flex-shrink-0 animate-spin-slow",style:{background:`conic-gradient(
                                     #22c55e 0% ${m.completed/m.total*100}%, 
                                     #ef4444 ${m.completed/m.total*100}% ${(m.completed+m.cancelled)/m.total*100}%,
                                     #3b82f6 ${(m.completed+m.cancelled)/m.total*100}% 100%
                                 )`},children:a.jsx("div",{className:"absolute inset-2 bg-[#0a0a0a] rounded-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-2xl font-black text-white",children:m.total}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Total"})]})})}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:"Completed"})]}),a.jsx("span",{className:"font-bold text-white",children:m.completed})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:"Cancelled"})]}),a.jsx("span",{className:"font-bold text-white",children:m.cancelled})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:"Pending/Booked"})]}),a.jsx("span",{className:"font-bold text-white",children:m.booked+m.checkedIn})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"red",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-red-500/10 rounded-lg text-red-400",children:a.jsx(g_,{size:20})})," Operations"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"text-3xl font-black text-red-400 mb-1",children:[m.cancellationRate,"%"]}),a.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Cancellation Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-white/5 rounded-2xl border border-white/5",children:[a.jsx("div",{className:"text-3xl font-black text-white mb-1",children:m.busiestDay}),a.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Busiest Day"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-3",children:"Weekly Traffic Distribution"}),a.jsx("div",{className:"flex items-end justify-between h-24 gap-2",children:m.dayCounts.map((T,k)=>{const P=Math.max(...m.dayCounts)||1;return a.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[a.jsx("div",{className:"w-full bg-gray-800 rounded-t-sm relative flex items-end justify-center transition-all duration-300 hover:bg-white/20 h-full",children:a.jsx("div",{className:"w-full bg-white/30 rounded-t-sm group-hover:bg-white/60 transition-all",style:{height:`${T/P*100}%`}})}),a.jsx("span",{className:"text-[9px] text-gray-500 mt-2 font-bold",children:m.days[k]})]},k)})})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(wg,{size:20})})," Top Referral Sources"]}),a.jsxs("div",{className:"space-y-4",children:[v.sourceRev.map(([T,k],P)=>a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium",children:[a.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:T}),a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-gray-500",children:[v.sourceCount[T]," bookings"]}),a.jsxs("span",{className:"text-neon-blue font-mono font-bold",children:["$",k.toLocaleString()]})]})]}),a.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden border border-white/5",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-neon-blue to-cyan-400 shadow-[0_0_10px_rgba(0,243,255,0.4)] relative",style:{width:`${k/v.maxSourceRev*100}%`,transitionDelay:`${P*100}ms`}})})]},T)),v.sourceRev.length===0&&a.jsx("p",{className:"text-gray-500 text-center italic",children:"No financial data by source available."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"purple",children:[a.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-purple/10 rounded-lg text-neon-purple",children:a.jsx(yo,{size:20})})," Clinical Trends"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2",children:"Top Diagnoses"}),C.topDiags.map(([T,k],P)=>a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-3 rounded-xl border border-white/5 hover:bg-white/10 transition-colors",children:[a.jsx("div",{className:"text-neon-purple font-black text-sm w-4",children:P+1}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"font-bold text-white text-sm",children:T}),a.jsxs("span",{className:"text-gray-400 text-xs",children:[k," Cases"]})]}),a.jsx("div",{className:"w-full bg-gray-800 h-1 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-neon-purple",style:{width:`${k/C.maxDiag*100}%`}})})]})]},T)),C.topDiags.length===0&&a.jsx("p",{className:"text-gray-500 text-center italic",children:"No diagnosis data recorded yet."})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"red",children:[a.jsxs("h3",{className:"text-xl font-bold mb-8 flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-orange-500/10 rounded-lg text-orange-400",children:a.jsx(nc,{size:20})})," Peak Hours Traffic"]}),a.jsx("div",{className:"h-56 flex items-end justify-between gap-2 px-2",children:_.map(({hour:T,count:k})=>a.jsxs("div",{className:"flex-1 flex flex-col items-center group relative h-full justify-end",children:[a.jsx("div",{className:"w-full bg-gradient-to-t from-orange-500/20 to-orange-400/40 group-hover:from-orange-500/40 group-hover:to-orange-400/60 transition-all duration-300 rounded-t-lg relative border-t border-x border-orange-500/30",style:{height:`${k/E*100}%`},children:a.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-[10px] py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-all font-bold shadow-lg -translate-y-2 group-hover:translate-y-0",children:k})}),a.jsxs("span",{className:"text-[10px] text-gray-600 group-hover:text-orange-400 mt-3 font-mono font-medium transition-colors",children:[T,":00"]})]},T))})]})]})]})},Wv=({isOpen:n,onClose:e,onConfirm:t,title:r,message:i,confirmText:s="Confirm",cancelText:o="Cancel",isDanger:c=!1})=>n?a.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:e}),a.jsxs("div",{className:"relative w-full max-w-md glass-panel rounded-2xl p-8 border border-white/10 shadow-[0_0_50px_-10px_rgba(0,0,0,0.5)] animate-slide-up transform scale-100 flex flex-col items-center text-center",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-500 hover:text-white transition-colors bg-white/5 p-2 rounded-full hover:bg-white/10",children:a.jsx(tA,{size:18})}),a.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 shadow-[0_0_30px_-5px_currentColor] ${c?"bg-red-500/10 text-red-500 border border-red-500/20":"bg-neon-blue/10 text-neon-blue border border-neon-blue/20"}`,children:a.jsx(s6,{size:40,strokeWidth:1.5})}),a.jsx("h3",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:r}),a.jsx("p",{className:"text-gray-400 text-sm leading-relaxed mb-8 px-2",children:i}),a.jsxs("div",{className:"flex gap-4 w-full",children:[a.jsx("button",{onClick:e,className:"flex-1 py-3.5 rounded-xl font-bold text-gray-400 bg-white/5 border border-white/10 hover:bg-white/10 hover:text-white transition-all uppercase tracking-wider text-xs",children:o}),a.jsxs("button",{onClick:()=>{t(),e()},className:`flex-1 py-3.5 rounded-xl font-bold text-white shadow-lg transition-all transform hover:scale-[1.02] active:scale-[0.98] uppercase tracking-wider text-xs flex items-center justify-center gap-2 ${c?"bg-gradient-to-r from-red-600 to-red-500 shadow-red-500/20":"bg-gradient-to-r from-neon-blue to-cyan-500 shadow-neon-blue/20 text-black"}`,children:[s," ",a.jsx(g0,{size:16})]})]})]})]}):null,VX=()=>{const{appUsers:n,addAppUser:e,updateAppUser:t,deleteAppUser:r}=bi(),[i,s]=se.useState(!1),{setHeaderHidden:o}=se.useContext($o),[c,u]=se.useState(null),[d,f]=se.useState({username:"",password:"",displayName:"",role:"staff",permissions:{}}),[g,m]=se.useState(null);se.useEffect(()=>{o(i)},[i,o]);const v=[{key:"dashboard",label:"Dashboard Access"},{key:"front_desk",label:"Front Desk Access",actions:["add_booking","delete_booking"]},{key:"examination_room",label:"Examination Room Access",actions:["complete_exam"]},{key:"assistant_room",label:"Assistant Room Access"},{key:"social_media",label:"Social Media Access"},{key:"accountant",label:"Accountant Access",actions:["add_transaction"]},{key:"analytics",label:"Analytics Access"},{key:"customize_prints",label:"Customize Prints Access"},{key:"system_control",label:"System Control Access"}],C=P=>{u(P),f({username:P.username,password:P.password,displayName:P.displayName,role:P.role,permissions:P.permissions||{}}),s(!0)},_=P=>{m(P)},E=async()=>{g&&(await r(g),m(null))},T=async P=>{if(P.preventDefault(),!(!d.username||!d.password||!d.displayName)){if(d.role==="assistant_doctor"){const z=n.find(Y=>Y.role==="assistant_doctor");if(z&&z.id!==(c==null?void 0:c.id)){alert("Only one Assistant Doctor can be added.");return}}c?await t(c.id,d):await e(d),s(!1),u(null),f({username:"",password:"",displayName:"",role:"staff",permissions:{}})}},k=(P,z,Y)=>{f(Z=>{const R={...Z.permissions};if(R[P]||(R[P]={access:!1,actions:{}}),z==="access")R[P].access=!R[P].access;else if(z==="action"&&Y){const F={...R[P].actions};F[Y]=!F[Y],R[P].actions=F}return{...Z,permissions:R}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-lg text-neon-blue shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:a.jsx(eA,{size:24})})," User Management"]}),a.jsxs("button",{onClick:()=>{u(null),f({username:"",password:"",displayName:"",role:"staff",permissions:{}}),s(!0)},className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-neon-blue to-cyan-600 rounded-xl text-black font-bold hover:shadow-[0_0_20px_rgba(0,243,255,0.4)] transition-all hover:scale-105 active:scale-95",children:[a.jsx(Sh,{size:18})," Add User"]})]}),a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/20",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Display Name"}),a.jsx("th",{className:"p-4",children:"Username"}),a.jsx("th",{className:"p-4",children:"Role"}),a.jsx("th",{className:"p-4",children:"Password"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[n.map(P=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-4 font-medium text-white group-hover:text-neon-blue transition-colors",children:P.displayName}),a.jsx("td",{className:"p-4",children:P.username}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"bg-white/10 px-3 py-1 rounded-full text-xs uppercase font-bold tracking-wide border border-white/5",children:P.role})}),a.jsx("td",{className:"p-4 font-mono text-xs opacity-50 tracking-widest",children:""}),a.jsxs("td",{className:"p-4 text-right flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>C(P),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg border border-blue-500/20 hover:bg-blue-500/20 hover:border-blue-500/40 transition-all",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>_(P.id),className:"p-2 bg-red-500/10 text-red-400 rounded-lg border border-red-500/20 hover:bg-red-500/20 hover:border-red-500/40 transition-all",children:a.jsx(Ii,{size:16})})]})]},P.id)),n.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-500 italic",children:"No users found in the system."})})]})]})})]}),i&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-w-2xl glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)] flex flex-col max-h-[90vh] animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 shrink-0 pb-4 border-b border-white/10",children:[a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:c?"Edit User & Permissions":"Add New User"}),a.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white transition-colors bg-white/5 p-2 rounded-full hover:bg-white/10",children:a.jsx(Ji,{})})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6 flex-1 overflow-y-auto pr-2 custom-scrollbar",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider ml-1",children:"Username"}),a.jsx("input",{type:"text",required:!0,value:d.username,onChange:P=>f({...d,username:P.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all placeholder-gray-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider ml-1",children:"Password"}),a.jsx("input",{type:"text",required:!0,value:d.password,onChange:P=>f({...d,password:P.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all placeholder-gray-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider ml-1",children:"Display Name"}),a.jsx("input",{type:"text",required:!0,value:d.displayName,onChange:P=>f({...d,displayName:P.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all placeholder-gray-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider ml-1",children:"Role"}),a.jsxs("select",{value:d.role,onChange:P=>f({...d,role:P.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"admin",className:"bg-gray-900",children:"Admin"}),a.jsx("option",{value:"doctor",className:"bg-gray-900",children:"Doctor"}),a.jsx("option",{value:"assistant_doctor",className:"bg-gray-900",children:"Assistant Doctor"}),a.jsx("option",{value:"staff",className:"bg-gray-900",children:"Staff"}),a.jsx("option",{value:"moderator",className:"bg-gray-900",children:"Moderator"})]})]})]}),a.jsxs("div",{className:"border-t border-white/10 pt-6",children:[a.jsxs("h4",{className:"text-sm font-bold text-neon-blue mb-5 flex items-center gap-2 uppercase tracking-widest",children:[a.jsx(KF,{size:16})," Access Permissions"]}),a.jsx("div",{className:"space-y-3",children:v.map(P=>{var z,Y,Z,R;return a.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 hover:border-white/10 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-white text-sm",children:P.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((Y=(z=d.permissions)==null?void 0:z[P.key])==null?void 0:Y.access)||!1,onChange:()=>k(P.key,"access")}),a.jsx("div",{className:"w-11 h-6 bg-gray-800 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-neon-blue peer-checked:shadow-[0_0_10px_#00f3ff]"})]})]}),P.actions&&((R=(Z=d.permissions)==null?void 0:Z[P.key])==null?void 0:R.access)&&a.jsx("div",{className:"mt-4 pl-4 border-l-2 border-white/10 space-y-3 animate-slide-up",children:P.actions.map(F=>{var M,G,L;return a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsx("span",{className:"text-xs text-gray-400 capitalize group-hover:text-white transition-colors",children:F.replace("_"," ")}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((L=(G=(M=d.permissions)==null?void 0:M[P.key])==null?void 0:G.actions)==null?void 0:L[F])||!1,onChange:()=>k(P.key,"action",F)}),a.jsx("div",{className:"w-9 h-5 bg-gray-800 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-neon-purple peer-checked:shadow-[0_0_8px_#9d00ff]"})]})]},F)})})]},P.key)})})]})]}),a.jsx("div",{className:"mt-8 shrink-0",children:a.jsx("button",{onClick:T,className:"w-full py-4 bg-gradient-to-r from-neon-blue to-cyan-600 rounded-xl text-black font-extrabold text-lg hover:opacity-90 transition-all shadow-[0_0_20px_rgba(0,243,255,0.3)] hover:shadow-[0_0_30px_rgba(0,243,255,0.5)] transform hover:-translate-y-1",children:c?"Save User Changes":"Create New User"})})]})}),a.jsx(Wv,{isOpen:!!g,onClose:()=>m(null),onConfirm:E,title:"Delete User",message:"Are you sure you want to permanently delete this user? This action cannot be undone.",confirmText:"Delete User",isDanger:!0})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var j1={};j1.version="0.18.5";var eU=1252,zX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],tU=function(n){zX.indexOf(n)!=-1&&(eU=n)};function GX(){tU(1252)}var _g=function(n){tU(n)};function KX(){_g(1200),GX()}var sx=function(e){return String.fromCharCode(e)},$B=function(e){return String.fromCharCode(e)},M1,Xu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cg(n){for(var e="",t=0,r=0,i=0,s=0,o=0,c=0,u=0,d=0;d<n.length;)t=n.charCodeAt(d++),s=t>>2,r=n.charCodeAt(d++),o=(t&3)<<4|r>>4,i=n.charCodeAt(d++),c=(r&15)<<2|i>>6,u=i&63,isNaN(r)?c=u=64:isNaN(i)&&(u=64),e+=Xu.charAt(s)+Xu.charAt(o)+Xu.charAt(c)+Xu.charAt(u);return e}function ZA(n){var e="",t=0,r=0,i=0,s=0,o=0,c=0,u=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)s=Xu.indexOf(n.charAt(d++)),o=Xu.indexOf(n.charAt(d++)),t=s<<2|o>>4,e+=String.fromCharCode(t),c=Xu.indexOf(n.charAt(d++)),r=(o&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),u=Xu.indexOf(n.charAt(d++)),i=(c&3)<<6|u,u!==64&&(e+=String.fromCharCode(i));return e}var dr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),su=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function wh(n){return dr?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function WB(n){return dr?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Zl=function(e){return dr?su(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Yv(n){if(typeof ArrayBuffer>"u")return Zl(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function Wg(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function qX(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var qs=dr?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:su(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function $X(n){for(var e=[],t=0,r=n.length+250,i=wh(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var c=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|c>>6&15|(o&3)<<4,i[t++]=128|c&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=wh(65535),r=65530)}return e.push(i.slice(0,t)),qs(e)}var Zp=/\u0000/g,ax=/[\u0001-\u0006]/g;function e0(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function tc(n,e){var t=""+n;return t.length>=e?t:xi("0",e-t.length)+t}function T_(n,e){var t=""+n;return t.length>=e?t:xi(" ",e-t.length)+t}function P1(n,e){var t=""+n;return t.length>=e?t:t+xi(" ",e-t.length)}function WX(n,e){var t=""+Math.round(n);return t.length>=e?t:xi("0",e-t.length)+t}function YX(n,e){var t=""+n;return t.length>=e?t:xi("0",e-t.length)+t}var YB=Math.pow(2,32);function xf(n,e){if(n>YB||n<-YB)return WX(n,e);var t=Math.round(n);return YX(t,e)}function O1(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var XB=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],J2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function XX(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var yi={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},JB={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},JX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Q1(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,c=0,u=1,d=0,f=0,g=Math.floor(i);d<e&&(g=Math.floor(i),c=g*o+s,f=g*d+u,!(i-g<5e-8));)i=1/(i-g),s=o,o=c,u=d,d=f;if(f>e&&(d>e?(f=u,c=s):(f=d,c=o)),!t)return[0,r*c,f];var m=Math.floor(r*c/f);return[m,r*c-m*f,f]}function ox(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],c={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),o=[u.getFullYear(),u.getMonth()+1,u.getDate()],s=u.getDay(),r<60&&(s=(s+6)%7),t&&(s=sJ(u,o))}return c.y=o[0],c.m=o[1],c.d=o[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=s,c}var nU=new Date(1899,11,31,0,0,0),ZX=nU.getTime(),eJ=new Date(1900,2,1,0,0,0);function rU(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=eJ&&(t+=1440*60*1e3),(t-(ZX+(n.getTimezoneOffset()-nU.getTimezoneOffset())*6e4))/(1440*60*1e3)}function I_(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tJ(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nJ(n){var e=n<0?12:11,t=I_(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function rJ(n){var e=I_(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function iJ(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=nJ(n):e===10?t=n.toFixed(10).substr(0,12):t=rJ(n),I_(tJ(t.toUpperCase()))}function Eb(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):iJ(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return wd(14,rU(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function sJ(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function aJ(n,e,t,r){var i="",s=0,o=0,c=t.y,u,d=0;switch(n){case 98:c=t.y+543;case 121:switch(e.length){case 1:case 2:u=c%100,d=2;break;default:u=c%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:u=t.m,d=e.length;break;case 3:return J2[t.m-1][1];case 5:return J2[t.m-1][0];default:return J2[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:u=t.d,d=e.length;break;case 3:return XB[t.q][0];default:return XB[t.q][1]}break;case 104:switch(e.length){case 1:case 2:u=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:u=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:u=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?tc(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=tc(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":u=t.D*24+t.H;break;case"[m]":case"[mm]":u=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":u=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:u=c,d=1;break}var f=d>0?tc(u,d):"";return f}function Ju(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var iU=/%/g;function oJ(n,e,t){var r=e.replace(iU,""),i=e.length-r.length;return HA(n,r,t*Math.pow(10,2*i))+xi("%",i)}function lJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return HA(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function sU(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sU(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var aU=/# (\?+)( ?)\/( ?)(\d+)/;function cJ(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,c=r;return t+(s===0?"":""+s)+" "+(o===0?xi(" ",n[1].length+1+n[4].length):T_(o,n[1].length)+n[2]+"/"+n[3]+tc(c,n[4].length))}function AJ(n,e,t){return t+(e===0?"":""+e)+xi(" ",n[1].length+2+n[4].length)}var oU=/^#*0*\.([0#]+)/,lU=/\).*[0#]/,cU=/\(###\) ###\\?-####/;function Qa(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function ZB(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function eT(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function uJ(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function dJ(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function pl(n,e,t){if(n.charCodeAt(0)===40&&!e.match(lU)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?pl("n",r,t):"("+pl("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return lJ(n,e,t);if(e.indexOf("%")!==-1)return oJ(n,e,t);if(e.indexOf("E")!==-1)return sU(e,t);if(e.charCodeAt(0)===36)return"$"+pl(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,c,u=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+xf(u,e.length);if(e.match(/^[#?]+$/))return i=xf(t,0),i==="0"&&(i=""),i.length>e.length?i:Qa(e.substr(0,e.length-i.length))+i;if(s=e.match(aU))return cJ(s,u,d);if(e.match(/^#+0+$/))return d+xf(u,e.length-e.indexOf("0"));if(s=e.match(oU))return i=ZB(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Qa(s[1])).replace(/\.$/,"."+Qa(s[1])).replace(/\.(\d*)$/,function(C,_){return"."+_+xi("0",Qa(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+ZB(u,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Ju(xf(u,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+pl(n,e,-t):Ju(""+(Math.floor(t)+uJ(t,s[1].length)))+"."+tc(eT(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return pl(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=e0(pl(n,e.replace(/[\\-]/g,""),t)),o=0,e0(e0(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(e.match(cU))return i=pl(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=Q1(u,Math.pow(10,o)-1,!1),i=""+d,f=HA("n",s[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=P1(c[2],o),f.length<s[4].length&&(f=Qa(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=Q1(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?T_(c[1],o)+s[2]+"/"+s[3]+P1(c[2],o):xi(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=xf(t,0),e.length<=i.length?i:Qa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,m=e.length-i.length-g;return Qa(e.substr(0,g)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=eT(t,s[1].length),t<0?"-"+pl(n,e,-t):Ju(dJ(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?tc(0,3-C.length):"")+C})+"."+tc(o,s[1].length);switch(e){case"###,##0.00":return pl(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var v=Ju(xf(u,0));return v!=="0"?d+v:"";case"###,###.00":return pl(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return pl(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function hJ(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return HA(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function fJ(n,e,t){var r=e.replace(iU,""),i=e.length-r.length;return HA(n,r,t*Math.pow(10,2*i))+xi("%",i)}function AU(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+AU(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,u,d,f){return u+d+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Pc(n,e,t){if(n.charCodeAt(0)===40&&!e.match(lU)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Pc("n",r,t):"("+Pc("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return hJ(n,e,t);if(e.indexOf("%")!==-1)return fJ(n,e,t);if(e.indexOf("E")!==-1)return AU(e,t);if(e.charCodeAt(0)===36)return"$"+Pc(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,c,u=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+tc(u,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Qa(e.substr(0,e.length-i.length))+i;if(s=e.match(aU))return AJ(s,u,d);if(e.match(/^#+0+$/))return d+tc(u,e.length-e.indexOf("0"));if(s=e.match(oU))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Qa(s[1])).replace(/\.$/,"."+Qa(s[1])),i=i.replace(/\.(\d*)$/,function(C,_){return"."+_+xi("0",Qa(s[1]).length-_.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return d+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return d+Ju(""+u);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Pc(n,e,-t):Ju(""+t)+"."+xi("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Pc(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=e0(Pc(n,e.replace(/[\\-]/g,""),t)),o=0,e0(e0(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return o<i.length?i.charAt(o++):C==="0"?"0":""}));if(e.match(cU))return i=Pc(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),c=Q1(u,Math.pow(10,o)-1,!1),i=""+d,f=HA("n",s[1],c[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=P1(c[2],o),f.length<s[4].length&&(f=Qa(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),c=Q1(u,Math.pow(10,o)-1,!0),d+(c[0]||(c[1]?"":"0"))+" "+(c[1]?T_(c[1],o)+s[2]+"/"+s[3]+P1(c[2],o):xi(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Qa(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,m=e.length-i.length-g;return Qa(e.substr(0,g)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Pc(n,e,-t):Ju(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?tc(0,3-C.length):"")+C})+"."+tc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Ju(""+u);return v!=="0"?d+v:"";default:if(e.match(/\.[0#?]*$/))return Pc(n,e.slice(0,e.lastIndexOf(".")),t)+Qa(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function HA(n,e,t){return(t|0)===t?Pc(n,e,t):pl(n,e,t)}function pJ(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var uU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dU(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":O1(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(uU))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function gJ(n,e,t,r){for(var i=[],s="",o=0,c="",u="t",d,f,g,m="H";o<n.length;)switch(c=n.charAt(o)){case"G":if(!O1(n,o))throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var v=n.charAt(++o),C=v==="("||v===")"?v:"t";i[i.length]={t:C,v},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(d==null&&(d=ox(e,t,n.charAt(o+1)==="2"),d==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},u=c,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=ox(e,t),d==null))return"";for(s=c;++o<n.length&&n.charAt(o).toLowerCase()===c;)s+=c;c==="m"&&u.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=m),i[i.length]={t:c,v:s},u=c;break;case"A":case"a":case"":var _={t:c,v:c};if(d==null&&(d=ox(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(d!=null&&(_.v=d.H>=12?"P":"A"),_.t="T",m="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(d!=null&&(_.v=d.H>=12?"PM":"AM"),_.t="T",o+=5,m="h"):n.substr(o,5).toUpperCase()==="/"?(d!=null&&(_.v=d.H>=12?"":""),_.t="T",o+=5,m="h"):(_.t="t",++o),d==null&&_.t==="T")return"";i[i.length]=_,u=c;break;case"[":for(s=c;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(uU)){if(d==null&&(d=ox(e,t),d==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},u=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",dU(n)||(i[i.length]={t:"t",v:s}));break;case".":if(d!=null){for(s=c;++o<n.length&&(c=n.charAt(o))==="0";)s+=c;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++o<n.length&&"0#?.,E+-%".indexOf(c=n.charAt(o))>-1;)s+=c;i[i.length]={t:"n",v:s};break;case"?":for(s=c;n.charAt(++o)===c;)s+=c;i[i.length]={t:c,v:s},u=c;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:c,v:c},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+n);i[i.length]={t:"t",v:c},++o;break}var E=0,T=0,k;for(o=i.length-1,u="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=m,u="h",E<1&&(E=1);break;case"s":(k=i[o].v.match(/\.0+$/))&&(T=Math.max(T,k[0].length-1)),E<3&&(E=3);case"d":case"y":case"M":case"e":u=i[o].t;break;case"m":u==="s"&&(i[o].t="M",E<2&&(E=2));break;case"X":break;case"Z":E<1&&i[o].v.match(/[Hh]/)&&(E=1),E<2&&i[o].v.match(/[Mm]/)&&(E=2),E<3&&i[o].v.match(/[Ss]/)&&(E=3)}switch(E){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var P="",z;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=aJ(i[o].t.charCodeAt(0),i[o].v,d,T),i[o].t="t";break;case"n":case"?":for(z=o+1;i[z]!=null&&((c=i[z].t)==="?"||c==="D"||(c===" "||c==="t")&&i[z+1]!=null&&(i[z+1].t==="?"||i[z+1].t==="t"&&i[z+1].v==="/")||i[o].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[z].v==="/"||i[z].v===" "&&i[z+1]!=null&&i[z+1].t=="?"));)i[o].v+=i[z].v,i[z]={v:"",t:";"},++z;P+=i[o].v,o=z-1;break;case"G":i[o].t="t",i[o].v=Eb(e,t);break}var Y="",Z,R;if(P.length>0){P.charCodeAt(0)==40?(Z=e<0&&P.charCodeAt(0)===45?-e:e,R=HA("n",P,Z)):(Z=e<0&&r>1?-e:e,R=HA("n",P,Z),Z<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),z=R.length-1;var F=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){F=o;break}var M=i.length;if(F===i.length&&R.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(z>=i[o].v.length-1?(z-=i[o].v.length,i[o].v=R.substr(z+1,i[o].v.length)):z<0?i[o].v="":(i[o].v=R.substr(0,z+1),z=-1),i[o].t="t",M=o);z>=0&&M<i.length&&(i[M].v=R.substr(0,z+1)+i[M].v)}else if(F!==i.length&&R.indexOf("E")===-1){for(z=R.indexOf(".")-1,o=F;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")-1:i[o].v.length-1,Y=i[o].v.substr(f+1);f>=0;--f)z>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(Y=R.charAt(z--)+Y);i[o].v=Y,i[o].t="t",M=o}for(z>=0&&M<i.length&&(i[M].v=R.substr(0,z+1)+i[M].v),z=R.indexOf(".")+1,o=F;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==F)){for(f=i[o].v.indexOf(".")>-1&&o===F?i[o].v.indexOf(".")+1:0,Y=i[o].v.substr(0,f);f<i[o].v.length;++f)z<R.length&&(Y+=R.charAt(z++));i[o].v=Y,i[o].t="t",M=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(Z=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=HA(i[o].t,i[o].v,Z),i[o].t="t");var G="";for(o=0;o!==i.length;++o)i[o]!=null&&(G+=i[o].v);return G}var tT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function nT(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function mJ(n,e){var t=pJ(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(tT),c=t[1].match(tT);return nT(e,o)?[r,t[0]]:nT(e,c)?[r,t[1]]:[r,t[o!=null&&c!=null?2:1]]}return[r,s]}function wd(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:yi)[n],r==null&&(r=t.table&&t.table[JB[n]]||yi[JB[n]]),r==null&&(r=JX[n]||"General");break}if(O1(r,0))return Eb(e,t);e instanceof Date&&(e=rU(e,t.date1904));var i=mJ(r,e);if(O1(i[1]))return Eb(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return gJ(i[1],e,t,i[0])}function hU(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(yi[t]==null){e<0&&(e=t);continue}if(yi[t]==n){e=t;break}}e<0&&(e=391)}return yi[e]=n,e}function Xv(n){for(var e=0;e!=392;++e)n[e]!==void 0&&hU(n[e],e)}function Jv(){yi=XX()}var fU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function xJ(n){var e=typeof n=="number"?yi[n]:n;return e=e.replace(fU,"(\\d+)"),new RegExp("^"+e+"$")}function vJ(n,e,t){var r=-1,i=-1,s=-1,o=-1,c=-1,u=-1;(e.match(fU)||[]).forEach(function(g,m){var v=parseInt(t[m+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=v;break;case"d":s=v;break;case"h":o=v;break;case"s":u=v;break;case"m":o>=0?c=v:i=v;break}}),u>=0&&c==-1&&i>=0&&(c=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return o==-1&&c==-1&&u==-1?d:r==-1&&i==-1&&s==-1?f:d+"T"+f}var yJ=(function(){var n={};n.version="1.2.0";function e(){for(var R=0,F=new Array(256),M=0;M!=256;++M)R=M,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,F[M]=R;return typeof Int32Array<"u"?new Int32Array(F):F}var t=e();function r(R){var F=0,M=0,G=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)L[G]=R[G];for(G=0;G!=256;++G)for(M=R[G],F=256+G;F<4096;F+=256)M=L[F]=M>>>8^R[M&255];var Q=[];for(G=1;G!=16;++G)Q[G-1]=typeof Int32Array<"u"?L.subarray(G*256,G*256+256):L.slice(G*256,G*256+256);return Q}var i=r(t),s=i[0],o=i[1],c=i[2],u=i[3],d=i[4],f=i[5],g=i[6],m=i[7],v=i[8],C=i[9],_=i[10],E=i[11],T=i[12],k=i[13],P=i[14];function z(R,F){for(var M=F^-1,G=0,L=R.length;G<L;)M=M>>>8^t[(M^R.charCodeAt(G++))&255];return~M}function Y(R,F){for(var M=F^-1,G=R.length-15,L=0;L<G;)M=P[R[L++]^M&255]^k[R[L++]^M>>8&255]^T[R[L++]^M>>16&255]^E[R[L++]^M>>>24]^_[R[L++]]^C[R[L++]]^v[R[L++]]^m[R[L++]]^g[R[L++]]^f[R[L++]]^d[R[L++]]^u[R[L++]]^c[R[L++]]^o[R[L++]]^s[R[L++]]^t[R[L++]];for(G+=15;L<G;)M=M>>>8^t[(M^R[L++])&255];return~M}function Z(R,F){for(var M=F^-1,G=0,L=R.length,Q=0,j=0;G<L;)Q=R.charCodeAt(G++),Q<128?M=M>>>8^t[(M^Q)&255]:Q<2048?(M=M>>>8^t[(M^(192|Q>>6&31))&255],M=M>>>8^t[(M^(128|Q&63))&255]):Q>=55296&&Q<57344?(Q=(Q&1023)+64,j=R.charCodeAt(G++)&1023,M=M>>>8^t[(M^(240|Q>>8&7))&255],M=M>>>8^t[(M^(128|Q>>2&63))&255],M=M>>>8^t[(M^(128|j>>6&15|(Q&3)<<4))&255],M=M>>>8^t[(M^(128|j&63))&255]):(M=M>>>8^t[(M^(224|Q>>12&15))&255],M=M>>>8^t[(M^(128|Q>>6&63))&255],M=M>>>8^t[(M^(128|Q&63))&255]);return~M}return n.table=t,n.bstr=z,n.buf=Y,n.str=Z,n})(),kr=(function(){var e={};e.version="1.2.1";function t(le,Be){for(var ve=le.split("/"),ye=Be.split("/"),Ce=0,Te=0,Ge=Math.min(ve.length,ye.length);Ce<Ge;++Ce){if(Te=ve[Ce].length-ye[Ce].length)return Te;if(ve[Ce]!=ye[Ce])return ve[Ce]<ye[Ce]?-1:1}return ve.length-ye.length}function r(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:r(le.slice(0,-1));var Be=le.lastIndexOf("/");return Be===-1?le:le.slice(0,Be+1)}function i(le){if(le.charAt(le.length-1)=="/")return i(le.slice(0,-1));var Be=le.lastIndexOf("/");return Be===-1?le:le.slice(Be+1)}function s(le,Be){typeof Be=="string"&&(Be=new Date(Be));var ve=Be.getHours();ve=ve<<6|Be.getMinutes(),ve=ve<<5|Be.getSeconds()>>>1,le.write_shift(2,ve);var ye=Be.getFullYear()-1980;ye=ye<<4|Be.getMonth()+1,ye=ye<<5|Be.getDate(),le.write_shift(2,ye)}function o(le){var Be=le.read_shift(2)&65535,ve=le.read_shift(2)&65535,ye=new Date,Ce=ve&31;ve>>>=5;var Te=ve&15;ve>>>=4,ye.setMilliseconds(0),ye.setFullYear(ve+1980),ye.setMonth(Te-1),ye.setDate(Ce);var Ge=Be&31;Be>>>=5;var it=Be&63;return Be>>>=6,ye.setHours(Be),ye.setMinutes(it),ye.setSeconds(Ge<<1),ye}function c(le){Vo(le,0);for(var Be={},ve=0;le.l<=le.length-4;){var ye=le.read_shift(2),Ce=le.read_shift(2),Te=le.l+Ce,Ge={};switch(ye){case 21589:ve=le.read_shift(1),ve&1&&(Ge.mtime=le.read_shift(4)),Ce>5&&(ve&2&&(Ge.atime=le.read_shift(4)),ve&4&&(Ge.ctime=le.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}le.l=Te,Be[ye]=Ge}return Be}var u;function d(){return u||(u={})}function f(le,Be){if(le[0]==80&&le[1]==75)return ae(le,Be);if((le[0]|32)==109&&(le[1]|32)==105)return Li(le,Be);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var ve=3,ye=512,Ce=0,Te=0,Ge=0,it=0,Ke=0,Xe=[],Ye=le.slice(0,512);Vo(Ye,0);var bt=g(Ye);switch(ve=bt[0],ve){case 3:ye=512;break;case 4:ye=4096;break;case 0:if(bt[1]==0)return ae(le,Be);default:throw new Error("Major Version: Expected 3 or 4 saw "+ve)}ye!==512&&(Ye=le.slice(0,ye),Vo(Ye,28));var Nt=le.slice(0,ye);m(Ye,ve);var kt=Ye.read_shift(4,"i");if(ve===3&&kt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+kt);Ye.l+=4,Ge=Ye.read_shift(4,"i"),Ye.l+=4,Ye.chk("00100000","Mini Stream Cutoff Size: "),it=Ye.read_shift(4,"i"),Ce=Ye.read_shift(4,"i"),Ke=Ye.read_shift(4,"i"),Te=Ye.read_shift(4,"i");for(var Ct=-1,Ft=0;Ft<109&&(Ct=Ye.read_shift(4,"i"),!(Ct<0));++Ft)Xe[Ft]=Ct;var Yt=v(le,ye);E(Ke,Te,Yt,ye,Xe);var Mn=k(Yt,Ge,Xe,ye);Mn[Ge].name="!Directory",Ce>0&&it!==j&&(Mn[it].name="!MiniFAT"),Mn[Xe[0]].name="!FAT",Mn.fat_addrs=Xe,Mn.ssz=ye;var Wn={},cr=[],di=[],Ca=[];P(Ge,Mn,Yt,cr,Ce,Wn,di,it),C(di,Ca,cr),cr.shift();var Zs={FileIndex:di,FullPaths:Ca};return Be&&Be.raw&&(Zs.raw={header:Nt,sectors:Yt}),Zs}function g(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(re,"Header Signature: "),le.l+=16;var Be=le.read_shift(2,"u");return[le.read_shift(2,"u"),Be]}function m(le,Be){var ve=9;switch(le.l+=2,ve=le.read_shift(2)){case 9:if(Be!=3)throw new Error("Sector Shift: Expected 9 saw "+ve);break;case 12:if(Be!=4)throw new Error("Sector Shift: Expected 12 saw "+ve);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ve)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function v(le,Be){for(var ve=Math.ceil(le.length/Be)-1,ye=[],Ce=1;Ce<ve;++Ce)ye[Ce-1]=le.slice(Ce*Be,(Ce+1)*Be);return ye[ve-1]=le.slice(ve*Be),ye}function C(le,Be,ve){for(var ye=0,Ce=0,Te=0,Ge=0,it=0,Ke=ve.length,Xe=[],Ye=[];ye<Ke;++ye)Xe[ye]=Ye[ye]=ye,Be[ye]=ve[ye];for(;it<Ye.length;++it)ye=Ye[it],Ce=le[ye].L,Te=le[ye].R,Ge=le[ye].C,Xe[ye]===ye&&(Ce!==-1&&Xe[Ce]!==Ce&&(Xe[ye]=Xe[Ce]),Te!==-1&&Xe[Te]!==Te&&(Xe[ye]=Xe[Te])),Ge!==-1&&(Xe[Ge]=ye),Ce!==-1&&ye!=Xe[ye]&&(Xe[Ce]=Xe[ye],Ye.lastIndexOf(Ce)<it&&Ye.push(Ce)),Te!==-1&&ye!=Xe[ye]&&(Xe[Te]=Xe[ye],Ye.lastIndexOf(Te)<it&&Ye.push(Te));for(ye=1;ye<Ke;++ye)Xe[ye]===ye&&(Te!==-1&&Xe[Te]!==Te?Xe[ye]=Xe[Te]:Ce!==-1&&Xe[Ce]!==Ce&&(Xe[ye]=Xe[Ce]));for(ye=1;ye<Ke;++ye)if(le[ye].type!==0){if(it=ye,it!=Xe[it])do it=Xe[it],Be[ye]=Be[it]+"/"+Be[ye];while(it!==0&&Xe[it]!==-1&&it!=Xe[it]);Xe[ye]=-1}for(Be[0]+="/",ye=1;ye<Ke;++ye)le[ye].type!==2&&(Be[ye]+="/")}function _(le,Be,ve){for(var ye=le.start,Ce=le.size,Te=[],Ge=ye;ve&&Ce>0&&Ge>=0;)Te.push(Be.slice(Ge*Q,Ge*Q+Q)),Ce-=Q,Ge=nh(ve,Ge*4);return Te.length===0?ot(0):qs(Te).slice(0,le.size)}function E(le,Be,ve,ye,Ce){var Te=j;if(le===j){if(Be!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ge=ve[le],it=(ye>>>2)-1;if(!Ge)return;for(var Ke=0;Ke<it&&(Te=nh(Ge,Ke*4))!==j;++Ke)Ce.push(Te);E(nh(Ge,ye-4),Be-1,ve,ye,Ce)}}function T(le,Be,ve,ye,Ce){var Te=[],Ge=[];Ce||(Ce=[]);var it=ye-1,Ke=0,Xe=0;for(Ke=Be;Ke>=0;){Ce[Ke]=!0,Te[Te.length]=Ke,Ge.push(le[Ke]);var Ye=ve[Math.floor(Ke*4/ye)];if(Xe=Ke*4&it,ye<4+Xe)throw new Error("FAT boundary crossed: "+Ke+" 4 "+ye);if(!le[Ye])break;Ke=nh(le[Ye],Xe)}return{nodes:Te,data:AT([Ge])}}function k(le,Be,ve,ye){var Ce=le.length,Te=[],Ge=[],it=[],Ke=[],Xe=ye-1,Ye=0,bt=0,Nt=0,kt=0;for(Ye=0;Ye<Ce;++Ye)if(it=[],Nt=Ye+Be,Nt>=Ce&&(Nt-=Ce),!Ge[Nt]){Ke=[];var Ct=[];for(bt=Nt;bt>=0;){Ct[bt]=!0,Ge[bt]=!0,it[it.length]=bt,Ke.push(le[bt]);var Ft=ve[Math.floor(bt*4/ye)];if(kt=bt*4&Xe,ye<4+kt)throw new Error("FAT boundary crossed: "+bt+" 4 "+ye);if(!le[Ft]||(bt=nh(le[Ft],kt),Ct[bt]))break}Te[Nt]={nodes:it,data:AT([Ke])}}return Te}function P(le,Be,ve,ye,Ce,Te,Ge,it){for(var Ke=0,Xe=ye.length?2:0,Ye=Be[le].data,bt=0,Nt=0,kt;bt<Ye.length;bt+=128){var Ct=Ye.slice(bt,bt+128);Vo(Ct,64),Nt=Ct.read_shift(2),kt=L_(Ct,0,Nt-Xe),ye.push(kt);var Ft={name:kt,type:Ct.read_shift(1),color:Ct.read_shift(1),L:Ct.read_shift(4,"i"),R:Ct.read_shift(4,"i"),C:Ct.read_shift(4,"i"),clsid:Ct.read_shift(16),state:Ct.read_shift(4,"i"),start:0,size:0},Yt=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);Yt!==0&&(Ft.ct=z(Ct,Ct.l-8));var Mn=Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2)+Ct.read_shift(2);Mn!==0&&(Ft.mt=z(Ct,Ct.l-8)),Ft.start=Ct.read_shift(4,"i"),Ft.size=Ct.read_shift(4,"i"),Ft.size<0&&Ft.start<0&&(Ft.size=Ft.type=0,Ft.start=j,Ft.name=""),Ft.type===5?(Ke=Ft.start,Ce>0&&Ke!==j&&(Be[Ke].name="!StreamData")):Ft.size>=4096?(Ft.storage="fat",Be[Ft.start]===void 0&&(Be[Ft.start]=T(ve,Ft.start,Be.fat_addrs,Be.ssz)),Be[Ft.start].name=Ft.name,Ft.content=Be[Ft.start].data.slice(0,Ft.size)):(Ft.storage="minifat",Ft.size<0?Ft.size=0:Ke!==j&&Ft.start!==j&&Be[Ke]&&(Ft.content=_(Ft,Be[Ke].data,(Be[it]||{}).data))),Ft.content&&Vo(Ft.content,0),Te[kt]=Ft,Ge.push(Ft)}}function z(le,Be){return new Date((Go(le,Be+4)/1e7*Math.pow(2,32)+Go(le,Be)/1e7-11644473600)*1e3)}function Y(le,Be){return d(),f(u.readFileSync(le),Be)}function Z(le,Be){var ve=Be&&Be.type;switch(ve||dr&&Buffer.isBuffer(le)&&(ve="buffer"),ve||"base64"){case"file":return Y(le,Be);case"base64":return f(Zl(ZA(le)),Be);case"binary":return f(Zl(le),Be)}return f(le,Be)}function R(le,Be){var ve=Be||{},ye=ve.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=ye+"/",le.FileIndex[0]={name:ye,type:5}),ve.CLSID&&(le.FileIndex[0].clsid=ve.CLSID),F(le)}function F(le){var Be="Sh33tJ5";if(!kr.find(le,"/"+Be)){var ve=ot(4);ve[0]=55,ve[1]=ve[3]=50,ve[2]=54,le.FileIndex.push({name:Be,type:2,content:ve,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+Be),M(le)}}function M(le,Be){R(le);for(var ve=!1,ye=!1,Ce=le.FullPaths.length-1;Ce>=0;--Ce){var Te=le.FileIndex[Ce];switch(Te.type){case 0:ye?ve=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:ye=!0,isNaN(Te.R*Te.L*Te.C)&&(ve=!0),Te.R>-1&&Te.L>-1&&Te.R==Te.L&&(ve=!0);break;default:ve=!0;break}}if(!(!ve&&!Be)){var Ge=new Date(1987,1,19),it=0,Ke=Object.create?Object.create(null):{},Xe=[];for(Ce=0;Ce<le.FullPaths.length;++Ce)Ke[le.FullPaths[Ce]]=!0,le.FileIndex[Ce].type!==0&&Xe.push([le.FullPaths[Ce],le.FileIndex[Ce]]);for(Ce=0;Ce<Xe.length;++Ce){var Ye=r(Xe[Ce][0]);ye=Ke[Ye],ye||(Xe.push([Ye,{name:i(Ye).replace("/",""),type:1,clsid:ie,ct:Ge,mt:Ge,content:null}]),Ke[Ye]=!0)}for(Xe.sort(function(kt,Ct){return t(kt[0],Ct[0])}),le.FullPaths=[],le.FileIndex=[],Ce=0;Ce<Xe.length;++Ce)le.FullPaths[Ce]=Xe[Ce][0],le.FileIndex[Ce]=Xe[Ce][1];for(Ce=0;Ce<Xe.length;++Ce){var bt=le.FileIndex[Ce],Nt=le.FullPaths[Ce];if(bt.name=i(Nt).replace("/",""),bt.L=bt.R=bt.C=-(bt.color=1),bt.size=bt.content?bt.content.length:0,bt.start=0,bt.clsid=bt.clsid||ie,Ce===0)bt.C=Xe.length>1?1:-1,bt.size=0,bt.type=5;else if(Nt.slice(-1)=="/"){for(it=Ce+1;it<Xe.length&&r(le.FullPaths[it])!=Nt;++it);for(bt.C=it>=Xe.length?-1:it,it=Ce+1;it<Xe.length&&r(le.FullPaths[it])!=r(Nt);++it);bt.R=it>=Xe.length?-1:it,bt.type=1}else r(le.FullPaths[Ce+1]||"")==r(Nt)&&(bt.R=Ce+1),bt.type=2}}}function G(le,Be){var ve=Be||{};if(ve.fileType=="mad")return cn(le,ve);switch(M(le),ve.fileType){case"zip":return an(le,ve)}var ye=(function(kt){for(var Ct=0,Ft=0,Yt=0;Yt<kt.FileIndex.length;++Yt){var Mn=kt.FileIndex[Yt];if(Mn.content){var Wn=Mn.content.length;Wn>0&&(Wn<4096?Ct+=Wn+63>>6:Ft+=Wn+511>>9)}}for(var cr=kt.FullPaths.length+3>>2,di=Ct+7>>3,Ca=Ct+127>>7,Zs=di+Ft+cr+Ca,Is=Zs+127>>7,Ea=Is<=109?0:Math.ceil((Is-109)/127);Zs+Is+Ea+127>>7>Is;)Ea=++Is<=109?0:Math.ceil((Is-109)/127);var ji=[1,Ea,Is,Ca,cr,Ft,Ct,0];return kt.FileIndex[0].size=Ct<<6,ji[7]=(kt.FileIndex[0].start=ji[0]+ji[1]+ji[2]+ji[3]+ji[4]+ji[5])+(ji[6]+7>>3),ji})(le),Ce=ot(ye[7]<<9),Te=0,Ge=0;{for(Te=0;Te<8;++Te)Ce.write_shift(1,fe[Te]);for(Te=0;Te<8;++Te)Ce.write_shift(2,0);for(Ce.write_shift(2,62),Ce.write_shift(2,3),Ce.write_shift(2,65534),Ce.write_shift(2,9),Ce.write_shift(2,6),Te=0;Te<3;++Te)Ce.write_shift(2,0);for(Ce.write_shift(4,0),Ce.write_shift(4,ye[2]),Ce.write_shift(4,ye[0]+ye[1]+ye[2]+ye[3]-1),Ce.write_shift(4,0),Ce.write_shift(4,4096),Ce.write_shift(4,ye[3]?ye[0]+ye[1]+ye[2]-1:j),Ce.write_shift(4,ye[3]),Ce.write_shift(-4,ye[1]?ye[0]-1:j),Ce.write_shift(4,ye[1]),Te=0;Te<109;++Te)Ce.write_shift(-4,Te<ye[2]?ye[1]+Te:-1)}if(ye[1])for(Ge=0;Ge<ye[1];++Ge){for(;Te<236+Ge*127;++Te)Ce.write_shift(-4,Te<ye[2]?ye[1]+Te:-1);Ce.write_shift(-4,Ge===ye[1]-1?j:Ge+1)}var it=function(kt){for(Ge+=kt;Te<Ge-1;++Te)Ce.write_shift(-4,Te+1);kt&&(++Te,Ce.write_shift(-4,j))};for(Ge=Te=0,Ge+=ye[1];Te<Ge;++Te)Ce.write_shift(-4,Ae.DIFSECT);for(Ge+=ye[2];Te<Ge;++Te)Ce.write_shift(-4,Ae.FATSECT);it(ye[3]),it(ye[4]);for(var Ke=0,Xe=0,Ye=le.FileIndex[0];Ke<le.FileIndex.length;++Ke)Ye=le.FileIndex[Ke],Ye.content&&(Xe=Ye.content.length,!(Xe<4096)&&(Ye.start=Ge,it(Xe+511>>9)));for(it(ye[6]+7>>3);Ce.l&511;)Ce.write_shift(-4,Ae.ENDOFCHAIN);for(Ge=Te=0,Ke=0;Ke<le.FileIndex.length;++Ke)Ye=le.FileIndex[Ke],Ye.content&&(Xe=Ye.content.length,!(!Xe||Xe>=4096)&&(Ye.start=Ge,it(Xe+63>>6)));for(;Ce.l&511;)Ce.write_shift(-4,Ae.ENDOFCHAIN);for(Te=0;Te<ye[4]<<2;++Te){var bt=le.FullPaths[Te];if(!bt||bt.length===0){for(Ke=0;Ke<17;++Ke)Ce.write_shift(4,0);for(Ke=0;Ke<3;++Ke)Ce.write_shift(4,-1);for(Ke=0;Ke<12;++Ke)Ce.write_shift(4,0);continue}Ye=le.FileIndex[Te],Te===0&&(Ye.start=Ye.size?Ye.start-1:j);var Nt=Te===0&&ve.root||Ye.name;if(Xe=2*(Nt.length+1),Ce.write_shift(64,Nt,"utf16le"),Ce.write_shift(2,Xe),Ce.write_shift(1,Ye.type),Ce.write_shift(1,Ye.color),Ce.write_shift(-4,Ye.L),Ce.write_shift(-4,Ye.R),Ce.write_shift(-4,Ye.C),Ye.clsid)Ce.write_shift(16,Ye.clsid,"hex");else for(Ke=0;Ke<4;++Ke)Ce.write_shift(4,0);Ce.write_shift(4,Ye.state||0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,Ye.start),Ce.write_shift(4,Ye.size),Ce.write_shift(4,0)}for(Te=1;Te<le.FileIndex.length;++Te)if(Ye=le.FileIndex[Te],Ye.size>=4096)if(Ce.l=Ye.start+1<<9,dr&&Buffer.isBuffer(Ye.content))Ye.content.copy(Ce,Ce.l,0,Ye.size),Ce.l+=Ye.size+511&-512;else{for(Ke=0;Ke<Ye.size;++Ke)Ce.write_shift(1,Ye.content[Ke]);for(;Ke&511;++Ke)Ce.write_shift(1,0)}for(Te=1;Te<le.FileIndex.length;++Te)if(Ye=le.FileIndex[Te],Ye.size>0&&Ye.size<4096)if(dr&&Buffer.isBuffer(Ye.content))Ye.content.copy(Ce,Ce.l,0,Ye.size),Ce.l+=Ye.size+63&-64;else{for(Ke=0;Ke<Ye.size;++Ke)Ce.write_shift(1,Ye.content[Ke]);for(;Ke&63;++Ke)Ce.write_shift(1,0)}if(dr)Ce.l=Ce.length;else for(;Ce.l<Ce.length;)Ce.write_shift(1,0);return Ce}function L(le,Be){var ve=le.FullPaths.map(function(Ke){return Ke.toUpperCase()}),ye=ve.map(function(Ke){var Xe=Ke.split("/");return Xe[Xe.length-(Ke.slice(-1)=="/"?2:1)]}),Ce=!1;Be.charCodeAt(0)===47?(Ce=!0,Be=ve[0].slice(0,-1)+Be):Ce=Be.indexOf("/")!==-1;var Te=Be.toUpperCase(),Ge=Ce===!0?ve.indexOf(Te):ye.indexOf(Te);if(Ge!==-1)return le.FileIndex[Ge];var it=!Te.match(ax);for(Te=Te.replace(Zp,""),it&&(Te=Te.replace(ax,"!")),Ge=0;Ge<ve.length;++Ge)if((it?ve[Ge].replace(ax,"!"):ve[Ge]).replace(Zp,"")==Te||(it?ye[Ge].replace(ax,"!"):ye[Ge]).replace(Zp,"")==Te)return le.FileIndex[Ge];return null}var Q=64,j=-2,re="d0cf11e0a1b11ae1",fe=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",Ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(le,Be,ve){d();var ye=G(le,ve);u.writeFileSync(Be,ye)}function _e(le){for(var Be=new Array(le.length),ve=0;ve<le.length;++ve)Be[ve]=String.fromCharCode(le[ve]);return Be.join("")}function we(le,Be){var ve=G(le,Be);switch(Be&&Be.type||"buffer"){case"file":return d(),u.writeFileSync(Be.filename,ve),ve;case"binary":return typeof ve=="string"?ve:_e(ve);case"base64":return Cg(typeof ve=="string"?ve:_e(ve));case"buffer":if(dr)return Buffer.isBuffer(ve)?ve:su(ve);case"array":return typeof ve=="string"?Zl(ve):ve}return ve}var ee;function U(le){try{var Be=le.InflateRaw,ve=new Be;if(ve._processChunk(new Uint8Array([3,0]),ve._finishFlushFlag),ve.bytesRead)ee=le;else throw new Error("zlib does not expose bytesRead")}catch(ye){console.error("cannot use native zlib: "+(ye.message||ye))}}function H(le,Be){if(!ee)return ln(le,Be);var ve=ee.InflateRaw,ye=new ve,Ce=ye._processChunk(le.slice(le.l),ye._finishFlushFlag);return le.l+=ye.bytesRead,Ce}function V(le){return ee?ee.deflateRawSync(le):Ue(le)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(le){var Be=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(Be>>16|Be>>8|Be)&255}for(var ue=typeof Uint8Array<"u",be=ue?new Uint8Array(256):[],Ve=0;Ve<256;++Ve)be[Ve]=xe(Ve);function Pe(le,Be){var ve=be[le&255];return Be<=8?ve>>>8-Be:(ve=ve<<8|be[le>>8&255],Be<=16?ve>>>16-Be:(ve=ve<<8|be[le>>16&255],ve>>>24-Be))}function We(le,Be){var ve=Be&7,ye=Be>>>3;return(le[ye]|(ve<=6?0:le[ye+1]<<8))>>>ve&3}function nt(le,Be){var ve=Be&7,ye=Be>>>3;return(le[ye]|(ve<=5?0:le[ye+1]<<8))>>>ve&7}function Re(le,Be){var ve=Be&7,ye=Be>>>3;return(le[ye]|(ve<=4?0:le[ye+1]<<8))>>>ve&15}function Ee(le,Be){var ve=Be&7,ye=Be>>>3;return(le[ye]|(ve<=3?0:le[ye+1]<<8))>>>ve&31}function at(le,Be){var ve=Be&7,ye=Be>>>3;return(le[ye]|(ve<=1?0:le[ye+1]<<8))>>>ve&127}function St(le,Be,ve){var ye=Be&7,Ce=Be>>>3,Te=(1<<ve)-1,Ge=le[Ce]>>>ye;return ve<8-ye||(Ge|=le[Ce+1]<<8-ye,ve<16-ye)||(Ge|=le[Ce+2]<<16-ye,ve<24-ye)||(Ge|=le[Ce+3]<<24-ye),Ge&Te}function tt(le,Be,ve){var ye=Be&7,Ce=Be>>>3;return ye<=5?le[Ce]|=(ve&7)<<ye:(le[Ce]|=ve<<ye&255,le[Ce+1]=(ve&7)>>8-ye),Be+3}function At(le,Be,ve){var ye=Be&7,Ce=Be>>>3;return ve=(ve&1)<<ye,le[Ce]|=ve,Be+1}function Et(le,Be,ve){var ye=Be&7,Ce=Be>>>3;return ve<<=ye,le[Ce]|=ve&255,ve>>>=8,le[Ce+1]=ve,Be+8}function Bt(le,Be,ve){var ye=Be&7,Ce=Be>>>3;return ve<<=ye,le[Ce]|=ve&255,ve>>>=8,le[Ce+1]=ve&255,le[Ce+2]=ve>>>8,Be+16}function Dt(le,Be){var ve=le.length,ye=2*ve>Be?2*ve:Be+5,Ce=0;if(ve>=Be)return le;if(dr){var Te=WB(ye);if(le.copy)le.copy(Te);else for(;Ce<le.length;++Ce)Te[Ce]=le[Ce];return Te}else if(ue){var Ge=new Uint8Array(ye);if(Ge.set)Ge.set(le);else for(;Ce<ve;++Ce)Ge[Ce]=le[Ce];return Ge}return le.length=ye,le}function Ne(le){for(var Be=new Array(le),ve=0;ve<le;++ve)Be[ve]=0;return Be}function ze(le,Be,ve){var ye=1,Ce=0,Te=0,Ge=0,it=0,Ke=le.length,Xe=ue?new Uint16Array(32):Ne(32);for(Te=0;Te<32;++Te)Xe[Te]=0;for(Te=Ke;Te<ve;++Te)le[Te]=0;Ke=le.length;var Ye=ue?new Uint16Array(Ke):Ne(Ke);for(Te=0;Te<Ke;++Te)Xe[Ce=le[Te]]++,ye<Ce&&(ye=Ce),Ye[Te]=0;for(Xe[0]=0,Te=1;Te<=ye;++Te)Xe[Te+16]=it=it+Xe[Te-1]<<1;for(Te=0;Te<Ke;++Te)it=le[Te],it!=0&&(Ye[Te]=Xe[it+16]++);var bt=0;for(Te=0;Te<Ke;++Te)if(bt=le[Te],bt!=0)for(it=Pe(Ye[Te],ye)>>ye-bt,Ge=(1<<ye+4-bt)-1;Ge>=0;--Ge)Be[it|Ge<<bt]=bt&15|Te<<4;return ye}var ft=ue?new Uint16Array(512):Ne(512),ht=ue?new Uint16Array(32):Ne(32);if(!ue){for(var It=0;It<512;++It)ft[It]=0;for(It=0;It<32;++It)ht[It]=0}(function(){for(var le=[],Be=0;Be<32;Be++)le.push(5);ze(le,ht,32);var ve=[];for(Be=0;Be<=143;Be++)ve.push(8);for(;Be<=255;Be++)ve.push(9);for(;Be<=279;Be++)ve.push(7);for(;Be<=287;Be++)ve.push(8);ze(ve,ft,288)})();var Tt=(function(){for(var Be=ue?new Uint8Array(32768):[],ve=0,ye=0;ve<te.length-1;++ve)for(;ye<te[ve+1];++ye)Be[ye]=ve;for(;ye<32768;++ye)Be[ye]=29;var Ce=ue?new Uint8Array(259):[];for(ve=0,ye=0;ve<q.length-1;++ve)for(;ye<q[ve+1];++ye)Ce[ye]=ve;function Te(it,Ke){for(var Xe=0;Xe<it.length;){var Ye=Math.min(65535,it.length-Xe),bt=Xe+Ye==it.length;for(Ke.write_shift(1,+bt),Ke.write_shift(2,Ye),Ke.write_shift(2,~Ye&65535);Ye-- >0;)Ke[Ke.l++]=it[Xe++]}return Ke.l}function Ge(it,Ke){for(var Xe=0,Ye=0,bt=ue?new Uint16Array(32768):[];Ye<it.length;){var Nt=Math.min(65535,it.length-Ye);if(Nt<10){for(Xe=tt(Ke,Xe,+(Ye+Nt==it.length)),Xe&7&&(Xe+=8-(Xe&7)),Ke.l=Xe/8|0,Ke.write_shift(2,Nt),Ke.write_shift(2,~Nt&65535);Nt-- >0;)Ke[Ke.l++]=it[Ye++];Xe=Ke.l*8;continue}Xe=tt(Ke,Xe,+(Ye+Nt==it.length)+2);for(var kt=0;Nt-- >0;){var Ct=it[Ye];kt=(kt<<5^Ct)&32767;var Ft=-1,Yt=0;if((Ft=bt[kt])&&(Ft|=Ye&-32768,Ft>Ye&&(Ft-=32768),Ft<Ye))for(;it[Ft+Yt]==it[Ye+Yt]&&Yt<250;)++Yt;if(Yt>2){Ct=Ce[Yt],Ct<=22?Xe=Et(Ke,Xe,be[Ct+1]>>1)-1:(Et(Ke,Xe,3),Xe+=5,Et(Ke,Xe,be[Ct-23]>>5),Xe+=3);var Mn=Ct<8?0:Ct-4>>2;Mn>0&&(Bt(Ke,Xe,Yt-q[Ct]),Xe+=Mn),Ct=Be[Ye-Ft],Xe=Et(Ke,Xe,be[Ct]>>3),Xe-=3;var Wn=Ct<4?0:Ct-2>>1;Wn>0&&(Bt(Ke,Xe,Ye-Ft-te[Ct]),Xe+=Wn);for(var cr=0;cr<Yt;++cr)bt[kt]=Ye&32767,kt=(kt<<5^it[Ye])&32767,++Ye;Nt-=Yt-1}else Ct<=143?Ct=Ct+48:Xe=At(Ke,Xe,1),Xe=Et(Ke,Xe,be[Ct]),bt[kt]=Ye&32767,++Ye}Xe=Et(Ke,Xe,0)-1}return Ke.l=(Xe+7)/8|0,Ke.l}return function(Ke,Xe){return Ke.length<8?Te(Ke,Xe):Ge(Ke,Xe)}})();function Ue(le){var Be=ot(50+Math.floor(le.length*1.1)),ve=Tt(le,Be);return Be.slice(0,ve)}var ke=ue?new Uint16Array(32768):Ne(32768),Gt=ue?new Uint16Array(32768):Ne(32768),$t=ue?new Uint16Array(128):Ne(128),fn=1,nn=1;function Jt(le,Be){var ve=Ee(le,Be)+257;Be+=5;var ye=Ee(le,Be)+1;Be+=5;var Ce=Re(le,Be)+4;Be+=4;for(var Te=0,Ge=ue?new Uint8Array(19):Ne(19),it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ke=1,Xe=ue?new Uint8Array(8):Ne(8),Ye=ue?new Uint8Array(8):Ne(8),bt=Ge.length,Nt=0;Nt<Ce;++Nt)Ge[J[Nt]]=Te=nt(le,Be),Ke<Te&&(Ke=Te),Xe[Te]++,Be+=3;var kt=0;for(Xe[0]=0,Nt=1;Nt<=Ke;++Nt)Ye[Nt]=kt=kt+Xe[Nt-1]<<1;for(Nt=0;Nt<bt;++Nt)(kt=Ge[Nt])!=0&&(it[Nt]=Ye[kt]++);var Ct=0;for(Nt=0;Nt<bt;++Nt)if(Ct=Ge[Nt],Ct!=0){kt=be[it[Nt]]>>8-Ct;for(var Ft=(1<<7-Ct)-1;Ft>=0;--Ft)$t[kt|Ft<<Ct]=Ct&7|Nt<<3}var Yt=[];for(Ke=1;Yt.length<ve+ye;)switch(kt=$t[at(le,Be)],Be+=kt&7,kt>>>=3){case 16:for(Te=3+We(le,Be),Be+=2,kt=Yt[Yt.length-1];Te-- >0;)Yt.push(kt);break;case 17:for(Te=3+nt(le,Be),Be+=3;Te-- >0;)Yt.push(0);break;case 18:for(Te=11+at(le,Be),Be+=7;Te-- >0;)Yt.push(0);break;default:Yt.push(kt),Ke<kt&&(Ke=kt);break}var Mn=Yt.slice(0,ve),Wn=Yt.slice(ve);for(Nt=ve;Nt<286;++Nt)Mn[Nt]=0;for(Nt=ye;Nt<30;++Nt)Wn[Nt]=0;return fn=ze(Mn,ke,286),nn=ze(Wn,Gt,30),Be}function hr(le,Be){if(le[0]==3&&!(le[1]&3))return[wh(Be),2];for(var ve=0,ye=0,Ce=WB(Be||1<<18),Te=0,Ge=Ce.length>>>0,it=0,Ke=0;(ye&1)==0;){if(ye=nt(le,ve),ve+=3,ye>>>1)ye>>1==1?(it=9,Ke=5):(ve=Jt(le,ve),it=fn,Ke=nn);else{ve&7&&(ve+=8-(ve&7));var Xe=le[ve>>>3]|le[(ve>>>3)+1]<<8;if(ve+=32,Xe>0)for(!Be&&Ge<Te+Xe&&(Ce=Dt(Ce,Te+Xe),Ge=Ce.length);Xe-- >0;)Ce[Te++]=le[ve>>>3],ve+=8;continue}for(;;){!Be&&Ge<Te+32767&&(Ce=Dt(Ce,Te+32767),Ge=Ce.length);var Ye=St(le,ve,it),bt=ye>>>1==1?ft[Ye]:ke[Ye];if(ve+=bt&15,bt>>>=4,(bt>>>8&255)===0)Ce[Te++]=bt;else{if(bt==256)break;bt-=257;var Nt=bt<8?0:bt-4>>2;Nt>5&&(Nt=0);var kt=Te+q[bt];Nt>0&&(kt+=St(le,ve,Nt),ve+=Nt),Ye=St(le,ve,Ke),bt=ye>>>1==1?ht[Ye]:Gt[Ye],ve+=bt&15,bt>>>=4;var Ct=bt<4?0:bt-2>>1,Ft=te[bt];for(Ct>0&&(Ft+=St(le,ve,Ct),ve+=Ct),!Be&&Ge<kt&&(Ce=Dt(Ce,kt+100),Ge=Ce.length);Te<kt;)Ce[Te]=Ce[Te-Ft],++Te}}}return Be?[Ce,ve+7>>>3]:[Ce.slice(0,Te),ve+7>>>3]}function ln(le,Be){var ve=le.slice(le.l||0),ye=hr(ve,Be);return le.l+=ye[1],ye[0]}function _i(le,Be){if(le)typeof console<"u"&&console.error(Be);else throw new Error(Be)}function ae(le,Be){var ve=le;Vo(ve,0);var ye=[],Ce=[],Te={FileIndex:ye,FullPaths:Ce};R(Te,{root:Be.root});for(var Ge=ve.length-4;(ve[Ge]!=80||ve[Ge+1]!=75||ve[Ge+2]!=5||ve[Ge+3]!=6)&&Ge>=0;)--Ge;ve.l=Ge+4,ve.l+=4;var it=ve.read_shift(2);ve.l+=6;var Ke=ve.read_shift(4);for(ve.l=Ke,Ge=0;Ge<it;++Ge){ve.l+=20;var Xe=ve.read_shift(4),Ye=ve.read_shift(4),bt=ve.read_shift(2),Nt=ve.read_shift(2),kt=ve.read_shift(2);ve.l+=8;var Ct=ve.read_shift(4),Ft=c(ve.slice(ve.l+bt,ve.l+bt+Nt));ve.l+=bt+Nt+kt;var Yt=ve.l;ve.l=Ct+4,Kt(ve,Xe,Ye,Te,Ft),ve.l=Yt}return Te}function Kt(le,Be,ve,ye,Ce){le.l+=2;var Te=le.read_shift(2),Ge=le.read_shift(2),it=o(le);if(Te&8257)throw new Error("Unsupported ZIP encryption");for(var Ke=le.read_shift(4),Xe=le.read_shift(4),Ye=le.read_shift(4),bt=le.read_shift(2),Nt=le.read_shift(2),kt="",Ct=0;Ct<bt;++Ct)kt+=String.fromCharCode(le[le.l++]);if(Nt){var Ft=c(le.slice(le.l,le.l+Nt));(Ft[21589]||{}).mt&&(it=Ft[21589].mt),((Ce||{})[21589]||{}).mt&&(it=Ce[21589].mt)}le.l+=Nt;var Yt=le.slice(le.l,le.l+Xe);switch(Ge){case 8:Yt=H(le,Ye);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Mn=!1;Te&8&&(Ke=le.read_shift(4),Ke==134695760&&(Ke=le.read_shift(4),Mn=!0),Xe=le.read_shift(4),Ye=le.read_shift(4)),Xe!=Be&&_i(Mn,"Bad compressed size: "+Be+" != "+Xe),Ye!=ve&&_i(Mn,"Bad uncompressed size: "+ve+" != "+Ye),Di(ye,kt,Yt,{unsafe:!0,mt:it})}function an(le,Be){var ve=Be||{},ye=[],Ce=[],Te=ot(1),Ge=ve.compression?8:0,it=0,Ke=0,Xe=0,Ye=0,bt=0,Nt=le.FullPaths[0],kt=Nt,Ct=le.FileIndex[0],Ft=[],Yt=0;for(Ke=1;Ke<le.FullPaths.length;++Ke)if(kt=le.FullPaths[Ke].slice(Nt.length),Ct=le.FileIndex[Ke],!(!Ct.size||!Ct.content||kt=="Sh33tJ5")){var Mn=Ye,Wn=ot(kt.length);for(Xe=0;Xe<kt.length;++Xe)Wn.write_shift(1,kt.charCodeAt(Xe)&127);Wn=Wn.slice(0,Wn.l),Ft[bt]=yJ.buf(Ct.content,0);var cr=Ct.content;Ge==8&&(cr=V(cr)),Te=ot(30),Te.write_shift(4,67324752),Te.write_shift(2,20),Te.write_shift(2,it),Te.write_shift(2,Ge),Ct.mt?s(Te,Ct.mt):Te.write_shift(4,0),Te.write_shift(-4,Ft[bt]),Te.write_shift(4,cr.length),Te.write_shift(4,Ct.content.length),Te.write_shift(2,Wn.length),Te.write_shift(2,0),Ye+=Te.length,ye.push(Te),Ye+=Wn.length,ye.push(Wn),Ye+=cr.length,ye.push(cr),Te=ot(46),Te.write_shift(4,33639248),Te.write_shift(2,0),Te.write_shift(2,20),Te.write_shift(2,it),Te.write_shift(2,Ge),Te.write_shift(4,0),Te.write_shift(-4,Ft[bt]),Te.write_shift(4,cr.length),Te.write_shift(4,Ct.content.length),Te.write_shift(2,Wn.length),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(4,0),Te.write_shift(4,Mn),Yt+=Te.l,Ce.push(Te),Yt+=Wn.length,Ce.push(Wn),++bt}return Te=ot(22),Te.write_shift(4,101010256),Te.write_shift(2,0),Te.write_shift(2,0),Te.write_shift(2,bt),Te.write_shift(2,bt),Te.write_shift(4,Yt),Te.write_shift(4,Ye),Te.write_shift(2,0),qs([qs(ye),qs(Ce),Te])}var dn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ht(le,Be){if(le.ctype)return le.ctype;var ve=le.name||"",ye=ve.match(/\.([^\.]+)$/);return ye&&dn[ye[1]]||Be&&(ye=(ve=Be).match(/[\.\\]([^\.\\])+$/),ye&&dn[ye[1]])?dn[ye[1]]:"application/octet-stream"}function sn(le){for(var Be=Cg(le),ve=[],ye=0;ye<Be.length;ye+=76)ve.push(Be.slice(ye,ye+76));return ve.join(`\r
`)+`\r
`}function ts(le){var Be=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Xe){var Ye=Xe.charCodeAt(0).toString(16).toUpperCase();return"="+(Ye.length==1?"0"+Ye:Ye)});Be=Be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Be.charAt(0)==`
`&&(Be="=0D"+Be.slice(1)),Be=Be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ve=[],ye=Be.split(`\r
`),Ce=0;Ce<ye.length;++Ce){var Te=ye[Ce];if(Te.length==0){ve.push("");continue}for(var Ge=0;Ge<Te.length;){var it=76,Ke=Te.slice(Ge,Ge+it);Ke.charAt(it-1)=="="?it--:Ke.charAt(it-2)=="="?it-=2:Ke.charAt(it-3)=="="&&(it-=3),Ke=Te.slice(Ge,Ge+it),Ge+=it,Ge<Te.length&&(Ke+="="),ve.push(Ke)}}return ve.join(`\r
`)}function jn(le){for(var Be=[],ve=0;ve<le.length;++ve){for(var ye=le[ve];ve<=le.length&&ye.charAt(ye.length-1)=="=";)ye=ye.slice(0,ye.length-1)+le[++ve];Be.push(ye)}for(var Ce=0;Ce<Be.length;++Ce)Be[Ce]=Be[Ce].replace(/[=][0-9A-Fa-f]{2}/g,function(Te){return String.fromCharCode(parseInt(Te.slice(1),16))});return Zl(Be.join(`\r
`))}function ni(le,Be,ve){for(var ye="",Ce="",Te="",Ge,it=0;it<10;++it){var Ke=Be[it];if(!Ke||Ke.match(/^\s*$/))break;var Xe=Ke.match(/^(.*?):\s*([^\s].*)$/);if(Xe)switch(Xe[1].toLowerCase()){case"content-location":ye=Xe[2].trim();break;case"content-type":Te=Xe[2].trim();break;case"content-transfer-encoding":Ce=Xe[2].trim();break}}switch(++it,Ce.toLowerCase()){case"base64":Ge=Zl(ZA(Be.slice(it).join("")));break;case"quoted-printable":Ge=jn(Be.slice(it));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ce)}var Ye=Di(le,ye.slice(ve.length),Ge,{unsafe:!0});Te&&(Ye.ctype=Te)}function Li(le,Be){if(_e(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ve=Be&&Be.root||"",ye=(dr&&Buffer.isBuffer(le)?le.toString("binary"):_e(le)).split(`\r
`),Ce=0,Te="";for(Ce=0;Ce<ye.length;++Ce)if(Te=ye[Ce],!!/^Content-Location:/i.test(Te)&&(Te=Te.slice(Te.indexOf("file")),ve||(ve=Te.slice(0,Te.lastIndexOf("/")+1)),Te.slice(0,ve.length)!=ve))for(;ve.length>0&&(ve=ve.slice(0,ve.length-1),ve=ve.slice(0,ve.lastIndexOf("/")+1),Te.slice(0,ve.length)!=ve););var Ge=(ye[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var it="--"+(Ge[1]||""),Ke=[],Xe=[],Ye={FileIndex:Ke,FullPaths:Xe};R(Ye);var bt,Nt=0;for(Ce=0;Ce<ye.length;++Ce){var kt=ye[Ce];kt!==it&&kt!==it+"--"||(Nt++&&ni(Ye,ye.slice(bt,Ce),ve),bt=Ce)}return Ye}function cn(le,Be){var ve=Be||{},ye=ve.boundary||"SheetJS";ye="------="+ye;for(var Ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ye.slice(2)+'"',"","",""],Te=le.FullPaths[0],Ge=Te,it=le.FileIndex[0],Ke=1;Ke<le.FullPaths.length;++Ke)if(Ge=le.FullPaths[Ke].slice(Te.length),it=le.FileIndex[Ke],!(!it.size||!it.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var Xe=it.content,Ye=dr&&Buffer.isBuffer(Xe)?Xe.toString("binary"):_e(Xe),bt=0,Nt=Math.min(1024,Ye.length),kt=0,Ct=0;Ct<=Nt;++Ct)(kt=Ye.charCodeAt(Ct))>=32&&kt<128&&++bt;var Ft=bt>=Nt*4/5;Ce.push(ye),Ce.push("Content-Location: "+(ve.root||"file:///C:/SheetJS/")+Ge),Ce.push("Content-Transfer-Encoding: "+(Ft?"quoted-printable":"base64")),Ce.push("Content-Type: "+Ht(it,Ge)),Ce.push(""),Ce.push(Ft?ts(Ye):sn(Ye))}return Ce.push(ye+`--\r
`),Ce.join(`\r
`)}function Ci(le){var Be={};return R(Be,le),Be}function Di(le,Be,ve,ye){var Ce=ye&&ye.unsafe;Ce||R(le);var Te=!Ce&&kr.find(le,Be);if(!Te){var Ge=le.FullPaths[0];Be.slice(0,Ge.length)==Ge?Ge=Be:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Be).replace("//","/")),Te={name:i(Be),type:2},le.FileIndex.push(Te),le.FullPaths.push(Ge),Ce||kr.utils.cfb_gc(le)}return Te.content=ve,Te.size=ve?ve.length:0,ye&&(ye.CLSID&&(Te.clsid=ye.CLSID),ye.mt&&(Te.mt=ye.mt),ye.ct&&(Te.ct=ye.ct)),Te}function ui(le,Be){R(le);var ve=kr.find(le,Be);if(ve){for(var ye=0;ye<le.FileIndex.length;++ye)if(le.FileIndex[ye]==ve)return le.FileIndex.splice(ye,1),le.FullPaths.splice(ye,1),!0}return!1}function gr(le,Be,ve){R(le);var ye=kr.find(le,Be);if(ye){for(var Ce=0;Ce<le.FileIndex.length;++Ce)if(le.FileIndex[Ce]==ye)return le.FileIndex[Ce].name=i(ve),le.FullPaths[Ce]=ve,!0}return!1}function tr(le){M(le,!0)}return e.find=L,e.read=Z,e.parse=f,e.write=we,e.writeFile=me,e.utils={cfb_new:Ci,cfb_add:Di,cfb_del:ui,cfb_mov:gr,cfb_gc:tr,ReadShift:tg,CheckField:FU,prep_blob:Vo,bconcat:qs,use_zlib:U,_deflateRaw:Ue,_inflateRaw:ln,consts:Ae},e})();function wJ(n){return typeof n=="string"?Yv(n):Array.isArray(n)?qX(n):n}function Yg(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Yv(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Ng(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([wJ(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(n);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Wg(e)),c.write(e),c.close(),e}catch(u){if(!u.message||!u.message.match(/onstruct/))throw u}throw new Error("cannot save file "+n)}function Js(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function rT(n,e){for(var t=[],r=Js(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function k_(n){for(var e=[],t=Js(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Zv(n){for(var e=[],t=Js(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function bJ(n){for(var e=[],t=Js(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var H1=new Date(1899,11,30,0,0,0);function wo(n,e){var t=n.getTime(),r=H1.getTime()+(n.getTimezoneOffset()-H1.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var pU=new Date,_J=H1.getTime()+(pU.getTimezoneOffset()-H1.getTimezoneOffset())*6e4,iT=pU.getTimezoneOffset();function gU(n){var e=new Date;return e.setTime(n*24*60*60*1e3+_J),e.getTimezoneOffset()!==iT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-iT)*6e4),e}var sT=new Date("2017-02-19T19:06:09.000Z"),mU=isNaN(sT.getFullYear())?new Date("2/19/17"):sT,CJ=mU.getFullYear()==2017;function Ga(n,e){var t=new Date(n);if(CJ)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(mU.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ey(n,e){if(dr&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function bo(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=bo(n[t]));return e}function xi(n,e){for(var t="";t.length<e;)t+=n;return t}function VA(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var EJ=["january","february","march","april","may","june","july","august","september","october","november","december"];function Eg(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&EJ.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Fn(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return dr?r=su(t):r=$X(t),kr.utils.cfb_add(n,e,r)}kr.utils.cfb_add(n,e,t)}else n.file(e,t)}function F_(){return kr.utils.cfb_new()}var es=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,NJ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},U_=k_(NJ),R_=/[&<>'"]/g,SJ=/[\u0000-\u0008\u000b-\u001f]/g;function br(n){var e=n+"";return e.replace(R_,function(t){return U_[t]}).replace(SJ,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function aT(n){return br(n).replace(/ /g,"_x0020_")}var xU=/[\u0000-\u001f]/g;function BJ(n){var e=n+"";return e.replace(R_,function(t){return U_[t]}).replace(/\n/g,"<br/>").replace(xU,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function TJ(n){var e=n+"";return e.replace(R_,function(t){return U_[t]}).replace(xU,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function IJ(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function kJ(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Z2(n){for(var e="",t=0,r=0,i=0,s=0,o=0,c=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),c=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function oT(n){var e=wh(2*n.length),t,r,i=1,s=0,o=0,c;for(r=0;r<n.length;r+=i)i=1,(c=n.charCodeAt(r))<128?t=c:c<224?(t=(c&31)*64+(n.charCodeAt(r+1)&63),i=2):c<240?(t=(c&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(c&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function lT(n){return su(n,"binary").toString("utf8")}var lx="foo bar baz",eg=dr&&(lT(lx)==Z2(lx)&&lT||oT(lx)==Z2(lx)&&oT)||Z2,Ng=dr?function(n){return su(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},FJ=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),vU=/(^\s|\s$|\n)/;function $s(n,e){return"<"+n+(e.match(vU)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Sg(n){return Js(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Ut(n,e,t){return"<"+n+(t!=null?Sg(t):"")+(e!=null?(e.match(vU)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function Nb(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function UJ(n,e){switch(typeof n){case"string":var t=Ut("vt:lpwstr",br(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Ut((n|0)==n?"vt:i4":"vt:r8",br(String(n)));case"boolean":return Ut("vt:bool",n?"true":"false")}if(n instanceof Date)return Ut("vt:filetime",Nb(n));throw new Error("Unable to serialize "+n)}var Ns={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},D0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],zo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function RJ(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function LJ(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var c=0;c<=5;++c,s/=256)n[t+c]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var cT=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},AT=dr?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:su(e)})):cT(n)}:cT,uT=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Pp(n,i)));return r.join("").replace(Zp,"")},L_=dr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Zp,""):uT(n,e,t)}:uT,dT=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},yU=dr?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):dT(n,e,t)}:dT,hT=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Lf(n,i)));return r.join("")},Xg=dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):hT(e,t,r)}:hT,wU=function(n,e){var t=Go(n,e);return t>0?Xg(n,e+4,e+4+t-1):""},bU=wU,_U=function(n,e){var t=Go(n,e);return t>0?Xg(n,e+4,e+4+t-1):""},CU=_U,EU=function(n,e){var t=2*Go(n,e);return t>0?Xg(n,e+4,e+4+t-1):""},NU=EU,SU=function(e,t){var r=Go(e,t);return r>0?L_(e,t+4,t+4+r):""},BU=SU,TU=function(n,e){var t=Go(n,e);return t>0?Xg(n,e+4,e+4+t):""},IU=TU,kU=function(n,e){return RJ(n,e)},V1=kU,D_=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};dr&&(bU=function(e,t){if(!Buffer.isBuffer(e))return wU(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},CU=function(e,t){if(!Buffer.isBuffer(e))return _U(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},NU=function(e,t){if(!Buffer.isBuffer(e))return EU(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},BU=function(e,t){if(!Buffer.isBuffer(e))return SU(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},IU=function(e,t){if(!Buffer.isBuffer(e))return TU(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},V1=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):kU(e,t)},D_=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Lf=function(n,e){return n[e]},Pp=function(n,e){return n[e+1]*256+n[e]},DJ=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Go=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},nh=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},jJ=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function tg(n,e){var t="",r,i,s=[],o,c,u,d;switch(e){case"dbcs":if(d=this.l,dr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(u=0;u<n;++u)t+=String.fromCharCode(Pp(this,d)),d+=2;n*=2;break;case"utf8":t=Xg(this,this.l,this.l+n);break;case"utf16le":n*=2,t=L_(this,this.l,this.l+n);break;case"wstr":return tg.call(this,n,"dbcs");case"lpstr-ansi":t=bU(this,this.l),n=4+Go(this,this.l);break;case"lpstr-cp":t=CU(this,this.l),n=4+Go(this,this.l);break;case"lpwstr":t=NU(this,this.l),n=4+2*Go(this,this.l);break;case"lpp4":n=4+Go(this,this.l),t=BU(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Go(this,this.l),t=IU(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Lf(this,this.l+n++))!==0;)s.push(sx(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=Pp(this,this.l+n))!==0;)s.push(sx(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",d=this.l,u=0;u<n;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Lf(this,d),this.l=d+1,c=tg.call(this,n-u,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(sx(Pp(this,d))),d+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,u=0;u!=n;++u){if(this.lens&&this.lens.indexOf(d)!==-1)return o=Lf(this,d),this.l=d+1,c=tg.call(this,n-u,o?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(sx(Lf(this,d))),d+=1}t=s.join("");break;default:switch(n){case 1:return r=Lf(this,this.l),this.l++,r;case 2:return r=(e==="i"?DJ:Pp)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?nh:jJ)(this,this.l),this.l+=4,r):(i=Go(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=V1(this,this.l):i=V1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=yU(this,this.l,n);break}}return this.l+=n,t}var MJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},PJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},OJ=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function QJ(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)OJ(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,MJ(this,e,this.l);break;case 8:if(r=8,t==="f"){LJ(this,e,this.l);break}case 16:break;case-4:r=4,PJ(this,e,this.l);break}return this.l+=r,this}function FU(n,e){var t=yU(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Vo(n,e){n.l=e,n.read_shift=tg,n.chk=FU,n.write_shift=QJ}function nA(n,e){n.l+=e}function ot(n){var e=wh(n);return Vo(e,0),e}function vo(){var n=[],e=dr?256:2048,t=function(d){var f=ot(d);return Vo(f,0),f},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(d){return r&&d<r.length-r.l?r:(i(),r=t(Math.max(d+1,e)))},o=function(){return i(),qs(n)},c=function(d){i(),r=d,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:c,end:o,_bufs:n}}function _t(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=Rie[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&D_(t)&&n.push(t)}}function ng(n,e,t){var r=bo(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function fT(n,e,t){var r=bo(n);return r.s=ng(r.s,e.s,t),r.e=ng(r.e,e.s,t),r}function rg(n,e){if(n.cRel&&n.c<0)for(n=bo(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=bo(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Cr(n);return!n.cRel&&n.cRel!=null&&(t=zJ(t)),!n.rRel&&n.rRel!=null&&(t=HJ(t)),t}function ew(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+wa(n.s.c)+":"+(n.e.cRel?"":"$")+wa(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Ys(n.s.r)+":"+(n.e.rRel?"":"$")+Ys(n.e.r):rg(n.s,e.biff)+":"+rg(n.e,e.biff)}function j_(n){return parseInt(VJ(n),10)-1}function Ys(n){return""+(n+1)}function HJ(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function VJ(n){return n.replace(/\$(\d+)$/,"$1")}function M_(n){for(var e=GJ(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function wa(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function zJ(n){return n.replace(/^([A-Z])/,"$$$1")}function GJ(n){return n.replace(/^\$([A-Z])/,"$1")}function KJ(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ss(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Cr(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function qo(n){var e=n.indexOf(":");return e==-1?{s:Ss(n),e:Ss(n)}:{s:Ss(n.slice(0,e)),e:Ss(n.slice(e+1))}}function Zi(n,e){return typeof e>"u"||typeof e=="number"?Zi(n.s,n.e):(typeof n!="string"&&(n=Cr(n)),typeof e!="string"&&(e=Cr(e)),n==e?n:n+":"+e)}function Kr(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function pT(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=wd(n.z,t?wo(e):e)}catch{}try{return n.w=wd((n.XF||{}).numFmtId||(t?14:0),t?wo(e):e)}catch{return""+e}}function eu(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Jg[n.v]||n.v:e==null?pT(n,n.v):pT(n,e))}function Th(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function UU(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),o=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Ss(r.origin):r.origin;o=u.r,c=u.c}s["!ref"]||(s["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=Kr(s["!ref"]);d.s.c=f.s.c,d.s.r=f.s.r,d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),o==-1&&(d.e.r=o=f.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[g].length;++m)if(!(typeof e[g][m]>"u")){var v={v:e[g][m]},C=o+g,_=c+m;if(d.s.r>C&&(d.s.r=C),d.s.c>_&&(d.s.c=_),d.e.r<C&&(d.e.r=C),d.e.c<_&&(d.e.c=_),e[g][m]&&typeof e[g][m]=="object"&&!Array.isArray(e[g][m])&&!(e[g][m]instanceof Date))v=e[g][m];else if(Array.isArray(v.v)&&(v.f=e[g][m][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(r.nullError)v.t="e",v.v=0;else if(r.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=r.dateNF||yi[14],r.cellDates?(v.t="d",v.w=wd(v.z,wo(v.v))):(v.t="n",v.v=wo(v.v),v.w=wd(v.z,v.v))):v.t="s";if(i)s[C]||(s[C]=[]),s[C][_]&&s[C][_].z&&(v.z=s[C][_].z),s[C][_]=v;else{var E=Cr({c:_,r:C});s[E]&&s[E].z&&(v.z=s[E].z),s[E]=v}}}return d.s.c<1e7&&(s["!ref"]=Zi(d)),s}function j0(n,e){return UU(null,n,e)}function qJ(n){return n.read_shift(4,"i")}function sc(n,e){return e||(e=ot(4)),e.write_shift(4,n),e}function ba(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Bs(n,e){var t=!1;return e==null&&(t=!0,e=ot(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function $J(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function WJ(n,e){return e||(e=ot(4)),e.write_shift(2,0),e.write_shift(2,0),e}function P_(n,e){var t=n.l,r=n.read_shift(1),i=ba(n),s=[],o={t:i,h:i};if((r&1)!==0){for(var c=n.read_shift(4),u=0;u!=c;++u)s.push($J(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function YJ(n,e){var t=!1;return e==null&&(t=!0,e=ot(15+4*n.t.length)),e.write_shift(1,0),Bs(n.t,e),t?e.slice(0,e.l):e}var XJ=P_;function JJ(n,e){var t=!1;return e==null&&(t=!0,e=ot(23+4*n.t.length)),e.write_shift(1,1),Bs(n.t,e),e.write_shift(4,1),WJ({},e),t?e.slice(0,e.l):e}function Sl(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Ih(n,e){return e==null&&(e=ot(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function kh(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Fh(n,e){return e==null&&(e=ot(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var ZJ=ba,RU=Bs;function O_(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function z1(n,e){var t=!1;return e==null&&(t=!0,e=ot(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var eZ=ba,Sb=O_,Q_=z1;function LU(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?V1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):nh(e,0)>>2;return t?i/100:i}function DU(n,e){e==null&&(e=ot(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function jU(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function tZ(n,e){return e||(e=ot(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Uh=jU,M0=tZ;function P0(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function bh(n,e){return(e||ot(8)).write_shift(8,n,"f")}function nZ(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),c=n.read_shift(1),u=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=uZ[i];d&&(e.rgb=NT(d));break;case 2:e.rgb=NT([o,c,u]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function G1(n,e){if(e||(e=ot(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function rZ(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function iZ(n,e){e||(e=ot(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var MU=2,Ho=3,cx=11,K1=19,Ax=64,sZ=65,aZ=71,oZ=4108,lZ=4126,Vs=80,gT={1:{n:"CodePage",t:MU},2:{n:"Category",t:Vs},3:{n:"PresentationFormat",t:Vs},4:{n:"ByteCount",t:Ho},5:{n:"LineCount",t:Ho},6:{n:"ParagraphCount",t:Ho},7:{n:"SlideCount",t:Ho},8:{n:"NoteCount",t:Ho},9:{n:"HiddenCount",t:Ho},10:{n:"MultimediaClipCount",t:Ho},11:{n:"ScaleCrop",t:cx},12:{n:"HeadingPairs",t:oZ},13:{n:"TitlesOfParts",t:lZ},14:{n:"Manager",t:Vs},15:{n:"Company",t:Vs},16:{n:"LinksUpToDate",t:cx},17:{n:"CharacterCount",t:Ho},19:{n:"SharedDoc",t:cx},22:{n:"HyperlinksChanged",t:cx},23:{n:"AppVersion",t:Ho,p:"version"},24:{n:"DigSig",t:sZ},26:{n:"ContentType",t:Vs},27:{n:"ContentStatus",t:Vs},28:{n:"Language",t:Vs},29:{n:"Version",t:Vs},255:{},2147483648:{n:"Locale",t:K1},2147483651:{n:"Behavior",t:K1},1919054434:{}},mT={1:{n:"CodePage",t:MU},2:{n:"Title",t:Vs},3:{n:"Subject",t:Vs},4:{n:"Author",t:Vs},5:{n:"Keywords",t:Vs},6:{n:"Comments",t:Vs},7:{n:"Template",t:Vs},8:{n:"LastAuthor",t:Vs},9:{n:"RevNumber",t:Vs},10:{n:"EditTime",t:Ax},11:{n:"LastPrinted",t:Ax},12:{n:"CreatedDate",t:Ax},13:{n:"ModifiedDate",t:Ax},14:{n:"PageCount",t:Ho},15:{n:"WordCount",t:Ho},16:{n:"CharCount",t:Ho},17:{n:"Thumbnail",t:aZ},18:{n:"Application",t:Vs},19:{n:"DocSecurity",t:Ho},255:{},2147483648:{n:"Locale",t:K1},2147483651:{n:"Behavior",t:K1},1919054434:{}};function cZ(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AZ=cZ([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),uZ=bo(AZ),Jg={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dZ={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},ux={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function PU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function OU(n,e){var t=bJ(dZ),r=[],i;r[r.length]=es,r[r.length]=Ut("Types",null,{xmlns:Ns.CT,"xmlns:xsd":Ns.xsd,"xmlns:xsi":Ns.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(u){return Ut("Default",null,{Extension:u[0],ContentType:u[1]})}));var s=function(u){n[u]&&n[u].length>0&&(i=n[u][0],r[r.length]=Ut("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:ux[u][e.bookType]||ux[u].xlsx}))},o=function(u){(n[u]||[]).forEach(function(d){r[r.length]=Ut("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:ux[u][e.bookType]||ux[u].xlsx})})},c=function(u){(n[u]||[]).forEach(function(d){r[r.length]=Ut("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[u][0]})})};return s("workbooks"),o("sheets"),o("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),o("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function QU(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function t0(n){var e=[es,Ut("Relationships",null,{xmlns:Ns.RELS})];return Js(n["!id"]).forEach(function(t){e[e.length]=Ut("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function wr(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[or.HLINK,or.XPATH,or.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function hZ(n){var e=[es];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function xT(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function fZ(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function pZ(n){var e=[es];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(xT(n[t][0],n[t][1])),e.push(fZ("",n[t][0]));return e.push(xT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function HU(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+j1.version+"</meta:generator></office:meta></office:document-meta>"}var ch=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function tw(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=br(e),r[r.length]=t?Ut(n,e,t):$s(n,e))}function VU(n,e){var t=e||{},r=[es,Ut("cp:coreProperties",null,{"xmlns:cp":Ns.CORE_PROPS,"xmlns:dc":Ns.dc,"xmlns:dcterms":Ns.dcterms,"xmlns:dcmitype":Ns.dcmitype,"xmlns:xsi":Ns.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&tw("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:Nb(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&tw("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:Nb(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=ch.length;++s){var o=ch[s],c=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&tw(o[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var n0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],zU=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GU(n){var e=[],t=Ut;return n||(n={}),n.Application="SheetJS",e[e.length]=es,e[e.length]=Ut("Properties",null,{xmlns:Ns.EXT_PROPS,"xmlns:vt":Ns.vt}),n0.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=br(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+br(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function KU(n){var e=[es,Ut("Properties",null,{xmlns:Ns.CUST_PROPS,"xmlns:vt":Ns.vt})];if(!n)return e.join("");var t=1;return Js(n).forEach(function(i){++t,e[e.length]=Ut("property",UJ(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:br(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var vT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gZ(n,e){var t=[];return Js(vT).map(function(r){for(var i=0;i<ch.length;++i)if(ch[i][1]==r)return ch[i];for(i=0;i<n0.length;++i)if(n0[i][1]==r)return n0[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push($s(vT[r[1]]||r[1],i))}}),Ut("DocumentProperties",t.join(""),{xmlns:zo.o})}function mZ(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Js(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<ch.length;++o)if(s==ch[o][1])return;for(o=0;o<n0.length;++o)if(s==n0[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var c=n[s],u="string";typeof c=="number"?(u="float",c=String(c)):c===!0||c===!1?(u="boolean",c=c?"1":"0"):c=String(c),i.push(Ut(aT(s),c,{"dt:dt":u}))}}),e&&Js(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o instanceof Date?(c="dateTime.tz",o=o.toISOString()):o=String(o),i.push(Ut(aT(s),o,{"dt:dt":c}))}}),"<"+r+' xmlns="'+zo.o+'">'+i.join("")+"</"+r+">"}function xZ(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=ot(8);return o.write_shift(4,r),o.write_shift(4,i),o}function yT(n,e){var t=ot(4),r=ot(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=ot(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=xZ(e);break;case 31:case 80:for(r=ot(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return qs([t,r])}var qU=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vZ(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function wT(n,e,t){var r=ot(8),i=[],s=[],o=8,c=0,u=ot(8),d=ot(8);if(u.write_shift(4,2),u.write_shift(4,1200),d.write_shift(4,1),s.push(u),i.push(d),o+=8+u.length,!e){d=ot(8),d.write_shift(4,0),i.unshift(d);var f=[ot(4)];for(f[0].write_shift(4,n.length),c=0;c<n.length;++c){var g=n[c][0];for(u=ot(8+2*(g.length+1)+(g.length%2?0:2)),u.write_shift(4,c+2),u.write_shift(4,g.length+1),u.write_shift(0,g,"dbcs");u.l!=u.length;)u.write_shift(1,0);f.push(u)}u=qs(f),s.unshift(u),o+=8+u.length}for(c=0;c<n.length;++c)if(!(e&&!e[n[c][0]])&&!(qU.indexOf(n[c][0])>-1||zU.indexOf(n[c][0])>-1)&&n[c][1]!=null){var m=n[c][1],v=0;if(e){v=+e[n[c][0]];var C=t[v];if(C.p=="version"&&typeof m=="string"){var _=m.split(".");m=(+_[0]<<16)+(+_[1]||0)}u=yT(C.t,m)}else{var E=vZ(m);E==-1&&(E=31,m=String(m)),u=yT(E,m)}s.push(u),d=ot(8),d.write_shift(4,e?v:2+c),i.push(d),o+=8+u.length}var T=8*(s.length+1);for(c=0;c<s.length;++c)i[c].write_shift(4,T),T+=s[c].length;return r.write_shift(4,o),r.write_shift(4,s.length),qs([r].concat(i).concat(s))}function bT(n,e,t,r,i,s){var o=ot(i?68:48),c=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,kr.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var u=wT(n,t,r);if(c.push(u),i){var d=wT(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+u.length),c.push(d)}return qs(c)}function yZ(n,e){e||(e=ot(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function wZ(n,e){return n.read_shift(e)===1}function Ha(n,e){return e||(e=ot(2)),e.write_shift(2,+!!n),e}function $U(n){return n.read_shift(2,"u")}function ml(n,e){return e||(e=ot(2)),e.write_shift(2,n),e}function WU(n,e,t){return t||(t=ot(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function YU(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var o=r?n.read_shift(r,i):"";return o}function bZ(n){var e=n.t||"",t=ot(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=ot(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return qs(i)}function _Z(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function CZ(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):_Z(n,r,t)}function EZ(n,e,t){if(t.biff>5)return CZ(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function XU(n,e,t){return t||(t=ot(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function _T(n,e){e||(e=ot(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function NZ(n){var e=ot(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),_T(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),t=0;t<c.length;++t)e.write_shift(2,c.charCodeAt(t));e.write_shift(2,0),s&8&&_T(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var u=0;r.slice(u*3,u*3+3)=="../"||r.slice(u*3,u*3+3)=="..\\";)++u;for(e.write_shift(2,u),e.write_shift(4,r.length-3*u+1),t=0;t<r.length-3*u;++t)e.write_shift(1,r.charCodeAt(t+3*u)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function _h(n,e,t,r){return r||(r=ot(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function SZ(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function BZ(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function JU(n,e){return e||(e=ot(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function H_(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ot(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function TZ(n,e){var t=!e||e.biff==8,r=ot(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function IZ(n,e){var t=!e||e.biff>=8?2:1,r=ot(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function kZ(n,e){var t=ot(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=bZ(n[i]);var s=qs([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function FZ(){var n=ot(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function UZ(n){var e=ot(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function RZ(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=ot(i);return s.write_shift(2,n.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function LZ(n,e,t,r){var i=ot(10);return _h(n,e,r,i),i.write_shift(4,t),i}function DZ(n,e,t,r,i){var s=!i||i.biff==8,o=ot(8+ +s+(1+s)*t.length);return _h(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function jZ(n,e,t,r){var i=t&&t.biff==5;r||(r=ot(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function MZ(n,e){var t=e.biff==8||!e.biff?4:2,r=ot(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function CT(n,e,t,r){var i=t&&t.biff==5;r||(r=ot(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function PZ(n){var e=ot(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function OZ(n,e,t,r,i,s){var o=ot(8);return _h(n,e,r,o),WU(t,s,o),o}function QZ(n,e,t,r){var i=ot(14);return _h(n,e,r,i),bh(t,i),i}function HZ(n,e,t){if(t.biff<8)return VZ(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(SZ(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function VZ(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=YU(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function zZ(n){var e=ot(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)JU(n[t],e);return e}function GZ(n){var e=ot(24),t=Ss(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return qs([e,NZ(n[1])])}function KZ(n){var e=n[1].Tooltip,t=ot(10+2*(e.length+1));t.write_shift(2,2048);var r=Ss(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function qZ(n){return n||(n=ot(4)),n.write_shift(2,1),n.write_shift(2,1),n}function $Z(n,e,t){if(!t.cellStyles)return nA(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(r),u=n.read_shift(2);r==2&&(n.l+=2);var d={s:i,e:s,w:o,ixfe:c,flags:u};return(t.biff>=5||!t.biff)&&(d.level=u>>8&7),d}function WZ(n,e){var t=ot(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function YZ(n){for(var e=ot(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function XZ(n,e,t){var r=ot(15);return em(r,n,e),r.write_shift(8,t,"f"),r}function JZ(n,e,t){var r=ot(9);return em(r,n,e),r.write_shift(2,t),r}var ZZ=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=k_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(c,u){var d=[],f=wh(1);switch(u.type){case"base64":f=Zl(ZA(c));break;case"binary":f=Zl(c);break;case"buffer":case"array":f=c;break}Vo(f,0);var g=f.read_shift(1),m=!!(g&136),v=!1,C=!1;switch(g){case 2:break;case 3:break;case 48:v=!0,m=!0;break;case 49:v=!0,m=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var _=0,E=521;g==2&&(_=f.read_shift(2)),f.l+=3,g!=2&&(_=f.read_shift(4)),_>1048576&&(_=1e6),g!=2&&(E=f.read_shift(2));var T=f.read_shift(2),k=u.codepage||1252;g!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(k=n[f[f.l]]),f.l+=1,f.l+=2),C&&(f.l+=36);for(var P=[],z={},Y=Math.min(f.length,g==2?521:E-10-(v?264:0)),Z=C?32:11;f.l<Y&&f[f.l]!=13;)switch(z={},z.name=M1.utils.decode(k,f.slice(f.l,f.l+Z)).replace(/[\u0000\r\n].*$/g,""),f.l+=Z,z.type=String.fromCharCode(f.read_shift(1)),g!=2&&!C&&(z.offset=f.read_shift(4)),z.len=f.read_shift(1),g==2&&(z.offset=f.read_shift(2)),z.dec=f.read_shift(1),z.name.length&&P.push(z),g!=2&&(f.l+=C?13:14),z.type){case"B":(!v||z.len!=8)&&u.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+z.name+":"+z.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+z.type)}if(f[f.l]!==13&&(f.l=E-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=E;var R=0,F=0;for(d[0]=[],F=0;F!=P.length;++F)d[0][F]=P[F].name;for(;_-- >0;){if(f[f.l]===42){f.l+=T;continue}for(++f.l,d[++R]=[],F=0,F=0;F!=P.length;++F){var M=f.slice(f.l,f.l+P[F].len);f.l+=P[F].len,Vo(M,0);var G=M1.utils.decode(k,M);switch(P[F].type){case"C":G.trim().length&&(d[R][F]=G.replace(/\s+$/,""));break;case"D":G.length===8?d[R][F]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):d[R][F]=G;break;case"F":d[R][F]=parseFloat(G.trim());break;case"+":case"I":d[R][F]=C?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":d[R][F]=!0;break;case"N":case"F":d[R][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));d[R][F]="##MEMO##"+(C?parseInt(G.trim(),10):M.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(d[R][F]=+G||0);break;case"@":d[R][F]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":d[R][F]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":d[R][F]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[R][F]=-M.read_shift(-8,"f");break;case"B":if(v&&P[F].len==8){d[R][F]=M.read_shift(8,"f");break}case"G":case"P":M.l+=P[F].len;break;case"0":if(P[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[F].type)}}}if(g!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return u&&u.sheetRows&&(d=d.slice(0,u.sheetRows)),u.DBF=P,d}function r(c,u){var d=u||{};d.dateNF||(d.dateNF="yyyymmdd");var f=j0(t(c,d),d);return f["!cols"]=d.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete d.DBF,f}function i(c,u){try{return Th(r(c,u),u)}catch(d){if(u&&u.WTF)throw d}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(c,u){var d=u||{};if(+d.codepage>=0&&_g(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var f=vo(),g=X1(c,{header:1,raw:!0,cellDates:!0}),m=g[0],v=g.slice(1),C=c["!cols"]||[],_=0,E=0,T=0,k=1;for(_=0;_<m.length;++_){if(((C[_]||{}).DBF||{}).name){m[_]=C[_].DBF.name,++T;continue}if(m[_]!=null){if(++T,typeof m[_]=="number"&&(m[_]=m[_].toString(10)),typeof m[_]!="string")throw new Error("DBF Invalid column name "+m[_]+" |"+typeof m[_]+"|");if(m.indexOf(m[_])!==_){for(E=0;E<1024;++E)if(m.indexOf(m[_]+"_"+E)==-1){m[_]+="_"+E;break}}}}var P=Kr(c["!ref"]),z=[],Y=[],Z=[];for(_=0;_<=P.e.c-P.s.c;++_){var R="",F="",M=0,G=[];for(E=0;E<v.length;++E)v[E][_]!=null&&G.push(v[E][_]);if(G.length==0||m[_]==null){z[_]="?";continue}for(E=0;E<G.length;++E){switch(typeof G[E]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=G[E]instanceof Date?"D":"C";break;default:F="C"}M=Math.max(M,String(G[E]).length),R=R&&R!=F?"C":F}M>250&&(M=250),F=((C[_]||{}).DBF||{}).type,F=="C"&&C[_].DBF.len>M&&(M=C[_].DBF.len),R=="B"&&F=="N"&&(R="N",Z[_]=C[_].DBF.dec,M=C[_].DBF.len),Y[_]=R=="C"||F=="N"?M:s[R]||0,k+=Y[_],z[_]=R}var L=f.next(32);for(L.write_shift(4,318902576),L.write_shift(4,v.length),L.write_shift(2,296+32*T),L.write_shift(2,k),_=0;_<4;++_)L.write_shift(4,0);for(L.write_shift(4,0|(+e[eU]||3)<<8),_=0,E=0;_<m.length;++_)if(m[_]!=null){var Q=f.next(32),j=(m[_].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);Q.write_shift(1,j,"sbcs"),Q.write_shift(1,z[_]=="?"?"C":z[_],"sbcs"),Q.write_shift(4,E),Q.write_shift(1,Y[_]||s[z[_]]||0),Q.write_shift(1,Z[_]||0),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(1,0),Q.write_shift(4,0),Q.write_shift(4,0),E+=Y[_]||s[z[_]]||0}var re=f.next(264);for(re.write_shift(4,13),_=0;_<65;++_)re.write_shift(4,0);for(_=0;_<v.length;++_){var fe=f.next(k);for(fe.write_shift(1,0),E=0;E<m.length;++E)if(m[E]!=null)switch(z[E]){case"L":fe.write_shift(1,v[_][E]==null?63:v[_][E]?84:70);break;case"B":fe.write_shift(8,v[_][E]||0,"f");break;case"N":var ie="0";for(typeof v[_][E]=="number"&&(ie=v[_][E].toFixed(Z[E]||0)),T=0;T<Y[E]-ie.length;++T)fe.write_shift(1,32);fe.write_shift(1,ie,"sbcs");break;case"D":v[_][E]?(fe.write_shift(4,("0000"+v[_][E].getFullYear()).slice(-4),"sbcs"),fe.write_shift(2,("00"+(v[_][E].getMonth()+1)).slice(-2),"sbcs"),fe.write_shift(2,("00"+v[_][E].getDate()).slice(-2),"sbcs")):fe.write_shift(8,"00000000","sbcs");break;case"C":var Ae=String(v[_][E]!=null?v[_][E]:"").slice(0,Y[E]);for(fe.write_shift(1,Ae,"sbcs"),T=0;T<Y[E]-Ae.length;++T)fe.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),eee=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Js(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(m,v){var C=n[v];return typeof C=="number"?$B(C):C},r=function(m,v,C){var _=v.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return _==59?m:$B(_)};n["|"]=254;function i(m,v){switch(v.type){case"base64":return s(ZA(m),v);case"binary":return s(m,v);case"buffer":return s(dr&&Buffer.isBuffer(m)?m.toString("binary"):Wg(m),v);case"array":return s(ey(m),v)}throw new Error("Unrecognized type "+v.type)}function s(m,v){var C=m.split(/[\n\r]+/),_=-1,E=-1,T=0,k=0,P=[],z=[],Y=null,Z={},R=[],F=[],M=[],G=0,L;for(+v.codepage>=0&&_g(+v.codepage);T!==C.length;++T){G=0;var Q=C[T].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),j=Q.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),re=j[0],fe;if(Q.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&z.push(Q.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,Ae=!1,me=!1,_e=!1,we=-1,ee=-1;for(k=1;k<j.length;++k)switch(j[k].charAt(0)){case"A":break;case"X":E=parseInt(j[k].slice(1))-1,Ae=!0;break;case"Y":for(_=parseInt(j[k].slice(1))-1,Ae||(E=0),L=P.length;L<=_;++L)P[L]=[];break;case"K":fe=j[k].slice(1),fe.charAt(0)==='"'?fe=fe.slice(1,fe.length-1):fe==="TRUE"?fe=!0:fe==="FALSE"?fe=!1:isNaN(VA(fe))?isNaN(Eg(fe).getDate())||(fe=Ga(fe)):(fe=VA(fe),Y!==null&&dU(Y)&&(fe=gU(fe))),ie=!0;break;case"E":_e=!0;var U=Jee(j[k].slice(1),{r:_,c:E});P[_][E]=[P[_][E],U];break;case"S":me=!0,P[_][E]=[P[_][E],"S5S"];break;case"G":break;case"R":we=parseInt(j[k].slice(1))-1;break;case"C":ee=parseInt(j[k].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Q)}if(ie&&(P[_][E]&&P[_][E].length==2?P[_][E][0]=fe:P[_][E]=fe,Y=null),me){if(_e)throw new Error("SYLK shared formula cannot have own formula");var H=we>-1&&P[we][ee];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");P[_][E][1]=Zee(H[1],{r:_-we,c:E-ee})}break;case"F":var V=0;for(k=1;k<j.length;++k)switch(j[k].charAt(0)){case"X":E=parseInt(j[k].slice(1))-1,++V;break;case"Y":for(_=parseInt(j[k].slice(1))-1,L=P.length;L<=_;++L)P[L]=[];break;case"M":G=parseInt(j[k].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=z[parseInt(j[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=j[k].slice(1).split(" "),L=parseInt(M[0],10);L<=parseInt(M[1],10);++L)G=parseInt(M[2],10),F[L-1]=G===0?{hidden:!0}:{wch:G},V_(F[L-1]);break;case"C":E=parseInt(j[k].slice(1))-1,F[E]||(F[E]={});break;case"R":_=parseInt(j[k].slice(1))-1,R[_]||(R[_]={}),G>0?(R[_].hpt=G,R[_].hpx=rR(G)):G===0&&(R[_].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Q)}V<1&&(Y=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+Q)}}return R.length>0&&(Z["!rows"]=R),F.length>0&&(Z["!cols"]=F),v&&v.sheetRows&&(P=P.slice(0,v.sheetRows)),[P,Z]}function o(m,v){var C=i(m,v),_=C[0],E=C[1],T=j0(_,v);return Js(E).forEach(function(k){T[k]=E[k]}),T}function c(m,v){return Th(o(m,v),v)}function u(m,v,C,_){var E="C;Y"+(C+1)+";X"+(_+1)+";K";switch(m.t){case"n":E+=m.v||0,m.f&&!m.F&&(E+=";E"+G_(m.f,{r:C,c:_}));break;case"b":E+=m.v?"TRUE":"FALSE";break;case"e":E+=m.w||m.v;break;case"d":E+='"'+(m.w||m.v)+'"';break;case"s":E+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return E}function d(m,v){v.forEach(function(C,_){var E="F;W"+(_+1)+" "+(_+1)+" ";C.hidden?E+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=q1(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=$1(C.wpx)),typeof C.wch=="number"&&(E+=Math.round(C.wch))),E.charAt(E.length-1)!=" "&&m.push(E)})}function f(m,v){v.forEach(function(C,_){var E="F;";C.hidden?E+="M0;":C.hpt?E+="M"+20*C.hpt+";":C.hpx&&(E+="M"+20*W1(C.hpx)+";"),E.length>2&&m.push(E+"R"+(_+1))})}function g(m,v){var C=["ID;PWXL;N;E"],_=[],E=Kr(m["!ref"]),T,k=Array.isArray(m),P=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),m["!cols"]&&d(C,m["!cols"]),m["!rows"]&&f(C,m["!rows"]),C.push("B;Y"+(E.e.r-E.s.r+1)+";X"+(E.e.c-E.s.c+1)+";D"+[E.s.c,E.s.r,E.e.c,E.e.r].join(" "));for(var z=E.s.r;z<=E.e.r;++z)for(var Y=E.s.c;Y<=E.e.c;++Y){var Z=Cr({r:z,c:Y});T=k?(m[z]||[])[Y]:m[Z],!(!T||T.v==null&&(!T.f||T.F))&&_.push(u(T,m,z,Y))}return C.join(P)+P+_.join(P)+P+"E"+P}return{to_workbook:c,to_sheet:o,from_sheet:g}})(),tee=(function(){function n(s,o){switch(o.type){case"base64":return e(ZA(s),o);case"binary":return e(s,o);case"buffer":return e(dr&&Buffer.isBuffer(s)?s.toString("binary"):Wg(s),o);case"array":return e(ey(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var c=s.split(`
`),u=-1,d=-1,f=0,g=[];f!==c.length;++f){if(c[f].trim()==="BOT"){g[++u]=[],d=0;continue}if(!(u<0)){var m=c[f].trim().split(","),v=m[0],C=m[1];++f;for(var _=c[f]||"";(_.match(/["]/g)||[]).length&1&&f<c.length-1;)_+=`
`+c[++f];switch(_=_.trim(),+v){case-1:if(_==="BOT"){g[++u]=[],d=0;continue}else if(_!=="EOD")throw new Error("Unrecognized DIF special command "+_);break;case 0:_==="TRUE"?g[u][d]=!0:_==="FALSE"?g[u][d]=!1:isNaN(VA(C))?isNaN(Eg(C).getDate())?g[u][d]=C:g[u][d]=Ga(C):g[u][d]=VA(C),++d;break;case 1:_=_.slice(1,_.length-1),_=_.replace(/""/g,'"'),_&&_.match(/^=".*"$/)&&(_=_.slice(2,-1)),g[u][d++]=_!==""?_:null;break}if(_==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function t(s,o){return j0(n(s,o),o)}function r(s,o){return Th(t(s,o),o)}var i=(function(){var s=function(u,d,f,g,m){u.push(d),u.push(f+","+g),u.push('"'+m.replace(/"/g,'""')+'"')},o=function(u,d,f,g){u.push(d+","+f),u.push(d==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(u){var d=[],f=Kr(u["!ref"]),g,m=Array.isArray(u);s(d,"TABLE",0,1,"sheetjs"),s(d,"VECTORS",0,f.e.r-f.s.r+1,""),s(d,"TUPLES",0,f.e.c-f.s.c+1,""),s(d,"DATA",0,0,"");for(var v=f.s.r;v<=f.e.r;++v){o(d,-1,0,"BOT");for(var C=f.s.c;C<=f.e.c;++C){var _=Cr({r:v,c:C});if(g=m?(u[v]||[])[C]:u[_],!g){o(d,1,0,"");continue}switch(g.t){case"n":var E=g.w;!E&&g.v!=null&&(E=g.v),E==null?g.f&&!g.F?o(d,1,0,"="+g.f):o(d,1,0,""):o(d,0,E,"V");break;case"b":o(d,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(d,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=wd(g.z||yi[14],wo(Ga(g.v)))),o(d,0,g.w,"V");break;default:o(d,1,0,"")}}}o(d,-1,0,"EOD");var T=`\r
`,k=d.join(T);return k}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),ZU=(function(){function n(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(g,m){for(var v=g.split(`
`),C=-1,_=-1,E=0,T=[];E!==v.length;++E){var k=v[E].trim().split(":");if(k[0]==="cell"){var P=Ss(k[1]);if(T.length<=P.r)for(C=T.length;C<=P.r;++C)T[C]||(T[C]=[]);switch(C=P.r,_=P.c,k[2]){case"t":T[C][_]=n(k[3]);break;case"v":T[C][_]=+k[3];break;case"vtf":var z=k[k.length-1];case"vtc":switch(k[3]){case"nl":T[C][_]=!!+k[4];break;default:T[C][_]=+k[4];break}k[2]=="vtf"&&(T[C][_]=[T[C][_],z])}}}return m&&m.sheetRows&&(T=T.slice(0,m.sheetRows)),T}function r(g,m){return j0(t(g,m),m)}function i(g,m){return Th(r(g,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function d(g){if(!g||!g["!ref"])return"";for(var m=[],v=[],C,_="",E=qo(g["!ref"]),T=Array.isArray(g),k=E.s.r;k<=E.e.r;++k)for(var P=E.s.c;P<=E.e.c;++P)if(_=Cr({r:k,c:P}),C=T?(g[k]||[])[P]:g[_],!(!C||C.v==null||C.t==="z")){switch(v=["cell",_,"t"],C.t){case"s":case"str":v.push(e(C.v));break;case"n":C.f?(v[2]="vtf",v[3]="n",v[4]=C.v,v[5]=e(C.f)):(v[2]="v",v[3]=C.v);break;case"b":v[2]="vt"+(C.f?"f":"c"),v[3]="nl",v[4]=C.v?"1":"0",v[5]=e(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var z=wo(Ga(C.v));v[2]="vtc",v[3]="nd",v[4]=""+z,v[5]=C.w||wd(C.z||yi[14],z);break;case"e":continue}m.push(v.join(":"))}return m.push("sheet:c:"+(E.e.c-E.s.c+1)+":r:"+(E.e.r-E.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(g){return[s,o,c,o,d(g),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}})(),nee=(function(){function n(f,g,m,v,C){C.raw?g[m][v]=f:f===""||(f==="TRUE"?g[m][v]=!0:f==="FALSE"?g[m][v]=!1:isNaN(VA(f))?isNaN(Eg(f).getDate())?g[m][v]=f:g[m][v]=Ga(f):g[m][v]=VA(f))}function e(f,g){var m=g||{},v=[];if(!f||f.length===0)return v;for(var C=f.split(/[\r\n]/),_=C.length-1;_>=0&&C[_].length===0;)--_;for(var E=10,T=0,k=0;k<=_;++k)T=C[k].indexOf(" "),T==-1?T=C[k].length:T++,E=Math.max(E,T);for(k=0;k<=_;++k){v[k]=[];var P=0;for(n(C[k].slice(0,E).trim(),v,k,P,m),P=1;P<=(C[k].length-E)/10+1;++P)n(C[k].slice(E+(P-1)*10,E+P*10).trim(),v,k,P,m)}return m.sheetRows&&(v=v.slice(0,m.sheetRows)),v}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var g={},m=!1,v=0,C=0;v<f.length;++v)(C=f.charCodeAt(v))==34?m=!m:!m&&C in t&&(g[C]=(g[C]||0)+1);C=[];for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&C.push([g[v],v]);if(!C.length){g=r;for(v in g)Object.prototype.hasOwnProperty.call(g,v)&&C.push([g[v],v])}return C.sort(function(_,E){return _[0]-E[0]||r[_[1]]-r[E[1]]}),t[C.pop()[1]]||44}function s(f,g){var m=g||{},v="",C=m.dense?[]:{},_={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(v=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(v=f.charAt(4),f=f.slice(6)):v=i(f.slice(0,1024)):m&&m.FS?v=m.FS:v=i(f.slice(0,1024));var E=0,T=0,k=0,P=0,z=0,Y=v.charCodeAt(0),Z=!1,R=0,F=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var M=m.dateNF!=null?xJ(m.dateNF):null;function G(){var L=f.slice(P,z),Q={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)Q.t="z";else if(m.raw)Q.t="s",Q.v=L;else if(L.trim().length===0)Q.t="s",Q.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(Q.t="s",Q.v=L.slice(2,-1).replace(/""/g,'"')):ete(L)?(Q.t="n",Q.f=L.slice(1)):(Q.t="s",Q.v=L);else if(L=="TRUE")Q.t="b",Q.v=!0;else if(L=="FALSE")Q.t="b",Q.v=!1;else if(!isNaN(k=VA(L)))Q.t="n",m.cellText!==!1&&(Q.w=L),Q.v=k;else if(!isNaN(Eg(L).getDate())||M&&L.match(M)){Q.z=m.dateNF||yi[14];var j=0;M&&L.match(M)&&(L=vJ(L,m.dateNF,L.match(M)||[]),j=1),m.cellDates?(Q.t="d",Q.v=Ga(L,j)):(Q.t="n",Q.v=wo(Ga(L,j))),m.cellText!==!1&&(Q.w=wd(Q.z,Q.v instanceof Date?wo(Q.v):Q.v)),m.cellNF||delete Q.z}else Q.t="s",Q.v=L;if(Q.t=="z"||(m.dense?(C[E]||(C[E]=[]),C[E][T]=Q):C[Cr({c:T,r:E})]=Q),P=z+1,F=f.charCodeAt(P),_.e.c<T&&(_.e.c=T),_.e.r<E&&(_.e.r=E),R==Y)++T;else if(T=0,++E,m.sheetRows&&m.sheetRows<=E)return!0}e:for(;z<f.length;++z)switch(R=f.charCodeAt(z)){case 34:F===34&&(Z=!Z);break;case Y:case 10:case 13:if(!Z&&G())break e;break}return z-P>0&&G(),C["!ref"]=Zi(_),C}function o(f,g){return!(g&&g.PRN)||g.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,g):j0(e(f,g),g)}function c(f,g){var m="",v=g.type=="string"?[0,0,0,0]:fse(f,g);switch(g.type){case"base64":m=ZA(f);break;case"binary":m=f;break;case"buffer":g.codepage==65001?m=f.toString("utf8"):g.codepage&&typeof M1<"u"||(m=dr&&Buffer.isBuffer(f)?f.toString("binary"):Wg(f));break;case"array":m=ey(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+g.type)}return v[0]==239&&v[1]==187&&v[2]==191?m=eg(m.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?m=eg(m):g.type=="binary"&&typeof M1<"u",m.slice(0,19)=="socialcalc:version:"?ZU.to_sheet(g.type=="string"?m:eg(m),g):o(m,g)}function u(f,g){return Th(c(f,g),g)}function d(f){for(var g=[],m=Kr(f["!ref"]),v,C=Array.isArray(f),_=m.s.r;_<=m.e.r;++_){for(var E=[],T=m.s.c;T<=m.e.c;++T){var k=Cr({r:_,c:T});if(v=C?(f[_]||[])[T]:f[k],!v||v.v==null){E.push("          ");continue}for(var P=(v.w||(eu(v),v.w)||"").slice(0,10);P.length<10;)P+=" ";E.push(P+(T===0?" ":""))}g.push(E.join(""))}return g.join(`
`)}return{to_workbook:u,to_sheet:c,from_sheet:d}})(),ET=(function(){function n(U,H,V){if(U){Vo(U,U.l||0);for(var J=V.Enum||we;U.l<U.length;){var q=U.read_shift(2),te=J[q]||J[65535],xe=U.read_shift(2),ue=U.l+xe,be=te.f&&te.f(U,xe,V);if(U.l=ue,H(be,te,q))return}}}function e(U,H){switch(H.type){case"base64":return t(Zl(ZA(U)),H);case"binary":return t(Zl(U),H);case"buffer":case"array":return t(U,H)}throw"Unsupported type "+H.type}function t(U,H){if(!U)return U;var V=H||{},J=V.dense?[]:{},q="Sheet1",te="",xe=0,ue={},be=[],Ve=[],Pe={s:{r:0,c:0},e:{r:0,c:0}},We=V.sheetRows||0;if(U[2]==0&&(U[3]==8||U[3]==9)&&U.length>=16&&U[14]==5&&U[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(U[2]==2)V.Enum=we,n(U,function(at,St,tt){switch(tt){case 0:V.vers=at,at>=4096&&(V.qpro=!0);break;case 6:Pe=at;break;case 204:at&&(te=at);break;case 222:te=at;break;case 15:case 51:V.qpro||(at[1].v=at[1].v.slice(1));case 13:case 14:case 16:tt==14&&(at[2]&112)==112&&(at[2]&15)>1&&(at[2]&15)<15&&(at[1].z=V.dateNF||yi[14],V.cellDates&&(at[1].t="d",at[1].v=gU(at[1].v))),V.qpro&&at[3]>xe&&(J["!ref"]=Zi(Pe),ue[q]=J,be.push(q),J=V.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},xe=at[3],q=te||"Sheet"+(xe+1),te="");var At=V.dense?(J[at[0].r]||[])[at[0].c]:J[Cr(at[0])];if(At){At.t=at[1].t,At.v=at[1].v,at[1].z!=null&&(At.z=at[1].z),at[1].f!=null&&(At.f=at[1].f);break}V.dense?(J[at[0].r]||(J[at[0].r]=[]),J[at[0].r][at[0].c]=at[1]):J[Cr(at[0])]=at[1];break}},V);else if(U[2]==26||U[2]==14)V.Enum=ee,U[2]==14&&(V.qpro=!0,U.l=0),n(U,function(at,St,tt){switch(tt){case 204:q=at;break;case 22:at[1].v=at[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(at[3]>xe&&(J["!ref"]=Zi(Pe),ue[q]=J,be.push(q),J=V.dense?[]:{},Pe={s:{r:0,c:0},e:{r:0,c:0}},xe=at[3],q="Sheet"+(xe+1)),We>0&&at[0].r>=We)break;V.dense?(J[at[0].r]||(J[at[0].r]=[]),J[at[0].r][at[0].c]=at[1]):J[Cr(at[0])]=at[1],Pe.e.c<at[0].c&&(Pe.e.c=at[0].c),Pe.e.r<at[0].r&&(Pe.e.r=at[0].r);break;case 27:at[14e3]&&(Ve[at[14e3][0]]=at[14e3][1]);break;case 1537:Ve[at[0]]=at[1],at[0]==xe&&(q=at[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+U[2]);if(J["!ref"]=Zi(Pe),ue[te||q]=J,be.push(te||q),!Ve.length)return{SheetNames:be,Sheets:ue};for(var nt={},Re=[],Ee=0;Ee<Ve.length;++Ee)ue[be[Ee]]?(Re.push(Ve[Ee]||be[Ee]),nt[Ve[Ee]]=ue[Ve[Ee]]||ue[be[Ee]]):(Re.push(Ve[Ee]),nt[Ve[Ee]]={"!ref":"A1"});return{SheetNames:Re,Sheets:nt}}function r(U,H){var V=H||{};if(+V.codepage>=0&&_g(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var J=vo(),q=Kr(U["!ref"]),te=Array.isArray(U),xe=[];Lt(J,0,s(1030)),Lt(J,6,u(q));for(var ue=Math.min(q.e.r,8191),be=q.s.r;be<=ue;++be)for(var Ve=Ys(be),Pe=q.s.c;Pe<=q.e.c;++Pe){be===q.s.r&&(xe[Pe]=wa(Pe));var We=xe[Pe]+Ve,nt=te?(U[be]||[])[Pe]:U[We];if(!(!nt||nt.t=="z"))if(nt.t=="n")(nt.v|0)==nt.v&&nt.v>=-32768&&nt.v<=32767?Lt(J,13,v(be,Pe,nt.v)):Lt(J,14,_(be,Pe,nt.v));else{var Re=eu(nt);Lt(J,15,g(be,Pe,Re.slice(0,239)))}}return Lt(J,1),J.end()}function i(U,H){var V=H||{};if(+V.codepage>=0&&_g(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var J=vo();Lt(J,0,o(U));for(var q=0,te=0;q<U.SheetNames.length;++q)(U.Sheets[U.SheetNames[q]]||{})["!ref"]&&Lt(J,27,_e(U.SheetNames[q],te++));var xe=0;for(q=0;q<U.SheetNames.length;++q){var ue=U.Sheets[U.SheetNames[q]];if(!(!ue||!ue["!ref"])){for(var be=Kr(ue["!ref"]),Ve=Array.isArray(ue),Pe=[],We=Math.min(be.e.r,8191),nt=be.s.r;nt<=We;++nt)for(var Re=Ys(nt),Ee=be.s.c;Ee<=be.e.c;++Ee){nt===be.s.r&&(Pe[Ee]=wa(Ee));var at=Pe[Ee]+Re,St=Ve?(ue[nt]||[])[Ee]:ue[at];if(!(!St||St.t=="z"))if(St.t=="n")Lt(J,23,G(nt,Ee,xe,St.v));else{var tt=eu(St);Lt(J,22,R(nt,Ee,xe,tt.slice(0,239)))}}++xe}}return Lt(J,1),J.end()}function s(U){var H=ot(2);return H.write_shift(2,U),H}function o(U){var H=ot(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var V=0,J=0,q=0,te=0;te<U.SheetNames.length;++te){var xe=U.SheetNames[te],ue=U.Sheets[xe];if(!(!ue||!ue["!ref"])){++q;var be=qo(ue["!ref"]);V<be.e.r&&(V=be.e.r),J<be.e.c&&(J=be.e.c)}}return V>8191&&(V=8191),H.write_shift(2,V),H.write_shift(1,q),H.write_shift(1,J),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function c(U,H,V){var J={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&V.qpro?(J.s.c=U.read_shift(1),U.l++,J.s.r=U.read_shift(2),J.e.c=U.read_shift(1),U.l++,J.e.r=U.read_shift(2),J):(J.s.c=U.read_shift(2),J.s.r=U.read_shift(2),H==12&&V.qpro&&(U.l+=2),J.e.c=U.read_shift(2),J.e.r=U.read_shift(2),H==12&&V.qpro&&(U.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function u(U){var H=ot(8);return H.write_shift(2,U.s.c),H.write_shift(2,U.s.r),H.write_shift(2,U.e.c),H.write_shift(2,U.e.r),H}function d(U,H,V){var J=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(J[0].c=U.read_shift(1),J[3]=U.read_shift(1),J[0].r=U.read_shift(2),U.l+=2):(J[2]=U.read_shift(1),J[0].c=U.read_shift(2),J[0].r=U.read_shift(2)),J}function f(U,H,V){var J=U.l+H,q=d(U,H,V);if(q[1].t="s",V.vers==20768){U.l++;var te=U.read_shift(1);return q[1].v=U.read_shift(te,"utf8"),q}return V.qpro&&U.l++,q[1].v=U.read_shift(J-U.l,"cstr"),q}function g(U,H,V){var J=ot(7+V.length);J.write_shift(1,255),J.write_shift(2,H),J.write_shift(2,U),J.write_shift(1,39);for(var q=0;q<J.length;++q){var te=V.charCodeAt(q);J.write_shift(1,te>=128?95:te)}return J.write_shift(1,0),J}function m(U,H,V){var J=d(U,H,V);return J[1].v=U.read_shift(2,"i"),J}function v(U,H,V){var J=ot(7);return J.write_shift(1,255),J.write_shift(2,H),J.write_shift(2,U),J.write_shift(2,V,"i"),J}function C(U,H,V){var J=d(U,H,V);return J[1].v=U.read_shift(8,"f"),J}function _(U,H,V){var J=ot(13);return J.write_shift(1,255),J.write_shift(2,H),J.write_shift(2,U),J.write_shift(8,V,"f"),J}function E(U,H,V){var J=U.l+H,q=d(U,H,V);if(q[1].v=U.read_shift(8,"f"),V.qpro)U.l=J;else{var te=U.read_shift(2);z(U.slice(U.l,U.l+te),q),U.l+=te}return q}function T(U,H,V){var J=H&32768;return H&=-32769,H=(J?U:0)+(H>=8192?H-16384:H),(J?"":"$")+(V?wa(H):Ys(H))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function z(U,H){Vo(U,0);for(var V=[],J=0,q="",te="",xe="",ue="";U.l<U.length;){var be=U[U.l++];switch(be){case 0:V.push(U.read_shift(8,"f"));break;case 1:te=T(H[0].c,U.read_shift(2),!0),q=T(H[0].r,U.read_shift(2),!1),V.push(te+q);break;case 2:{var Ve=T(H[0].c,U.read_shift(2),!0),Pe=T(H[0].r,U.read_shift(2),!1);te=T(H[0].c,U.read_shift(2),!0),q=T(H[0].r,U.read_shift(2),!1),V.push(Ve+Pe+":"+te+q)}break;case 3:if(U.l<U.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(U.read_shift(2));break;case 6:{for(var We="";be=U[U.l++];)We+=String.fromCharCode(be);V.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ue=V.pop(),xe=V.pop(),V.push(["AND","OR"][be-20]+"("+xe+","+ue+")");break;default:if(be<32&&P[be])ue=V.pop(),xe=V.pop(),V.push(xe+P[be]+ue);else if(k[be]){if(J=k[be][1],J==69&&(J=U[U.l++]),J>V.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+V.join("|")+"|");return}var nt=V.slice(-J);V.length-=J,V.push(k[be][0]+"("+nt.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}V.length==1?H[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function Y(U){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=U.read_shift(2),H[3]=U[U.l++],H[0].c=U[U.l++],H}function Z(U,H){var V=Y(U);return V[1].t="s",V[1].v=U.read_shift(H-4,"cstr"),V}function R(U,H,V,J){var q=ot(6+J.length);q.write_shift(2,U),q.write_shift(1,V),q.write_shift(1,H),q.write_shift(1,39);for(var te=0;te<J.length;++te){var xe=J.charCodeAt(te);q.write_shift(1,xe>=128?95:xe)}return q.write_shift(1,0),q}function F(U,H){var V=Y(U);V[1].v=U.read_shift(2);var J=V[1].v>>1;if(V[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return V[1].v=J,V}function M(U,H){var V=Y(U),J=U.read_shift(4),q=U.read_shift(4),te=U.read_shift(2);if(te==65535)return J===0&&q===3221225472?(V[1].t="e",V[1].v=15):J===0&&q===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var xe=te&32768;return te=(te&32767)-16446,V[1].v=(1-xe*2)*(q*Math.pow(2,te+32)+J*Math.pow(2,te)),V}function G(U,H,V,J){var q=ot(14);if(q.write_shift(2,U),q.write_shift(1,V),q.write_shift(1,H),J==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var te=0,xe=0,ue=0,be=0;return J<0&&(te=1,J=-J),xe=Math.log2(J)|0,J/=Math.pow(2,xe-31),be=J>>>0,(be&2147483648)==0&&(J/=2,++xe,be=J>>>0),J-=be,be|=2147483648,be>>>=0,J*=Math.pow(2,32),ue=J>>>0,q.write_shift(4,ue),q.write_shift(4,be),xe+=16383+(te?32768:0),q.write_shift(2,xe),q}function L(U,H){var V=M(U);return U.l+=H-14,V}function Q(U,H){var V=Y(U),J=U.read_shift(4);return V[1].v=J>>6,V}function j(U,H){var V=Y(U),J=U.read_shift(8,"f");return V[1].v=J,V}function re(U,H){var V=j(U);return U.l+=H-10,V}function fe(U,H){return U[U.l+H-1]==0?U.read_shift(H,"cstr"):""}function ie(U,H){var V=U[U.l++];V>H-1&&(V=H-1);for(var J="";J.length<V;)J+=String.fromCharCode(U[U.l++]);return J}function Ae(U,H,V){if(!(!V.qpro||H<21)){var J=U.read_shift(1);U.l+=17,U.l+=1,U.l+=2;var q=U.read_shift(H-21,"cstr");return[J,q]}}function me(U,H){for(var V={},J=U.l+H;U.l<J;){var q=U.read_shift(2);if(q==14e3){for(V[q]=[0,""],V[q][0]=U.read_shift(2);U[U.l];)V[q][1]+=String.fromCharCode(U[U.l]),U.l++;U.l++}}return V}function _e(U,H){var V=ot(5+U.length);V.write_shift(2,14e3),V.write_shift(2,H);for(var J=0;J<U.length;++J){var q=U.charCodeAt(J);V[V.l++]=q>127?95:q}return V[V.l++]=0,V}var we={0:{n:"BOF",f:$U},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:C},15:{n:"LABEL",f},16:{n:"FORMULA",f:E},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:fe},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Z},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:Q},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:fe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),ree=/^\s|\s$|[\t\n\r]/;function eR(n,e){if(!e.bookSST)return"";var t=[es];t[t.length]=Ut("sst",null,{xmlns:D0[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(ree)&&(s+=' xml:space="preserve"'),s+=">"+br(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function iee(n){return[n.read_shift(4),n.read_shift(4)]}function see(n,e){return e||(e=ot(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var aee=YJ;function oee(n){var e=vo();_t(e,159,see(n));for(var t=0;t<n.length;++t)_t(e,19,aee(n[t]));return _t(e,160),e.end()}function lee(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function tR(n){var e=0,t,r=lee(n),i=r.length+1,s,o,c,u,d;for(t=wh(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],c=(e&16384)===0?0:1,u=e<<1&32767,d=c|u,e=d^o;return e^52811}var cee=(function(){function n(i,s){switch(s.type){case"base64":return e(ZA(i),s);case"binary":return e(i,s);case"buffer":return e(dr&&Buffer.isBuffer(i)?i.toString("binary"):Wg(i),s);case"array":return e(ey(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},c=o.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(f,g){Array.isArray(c)&&(c[g]=[]);for(var m=/\\\w+\b/g,v=0,C,_=-1;C=m.exec(f);){switch(C[0]){case"\\cell":var E=f.slice(v,m.lastIndex-C[0].length);if(E[0]==" "&&(E=E.slice(1)),++_,E.length){var T={v:E,t:"s"};Array.isArray(c)?c[g][_]=T:c[Cr({r:g,c:_})]=T}break}v=m.lastIndex}_>d.e.c&&(d.e.c=_)}),c["!ref"]=Zi(d),c}function t(i,s){return Th(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=Kr(i["!ref"]),c,u=Array.isArray(i),d=o.s.r;d<=o.e.r;++d){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var g=Cr({r:d,c:f});c=u?(i[d]||[])[f]:i[g],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(eu(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function NT(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var Aee=6,zA=Aee;function q1(n){return Math.floor((n+Math.round(128/zA)/256)*zA)}function $1(n){return Math.floor((n-5)/zA*100+.5)/100}function Bb(n){return Math.round((n*zA+5)/zA*256)/256}function V_(n){n.width?(n.wpx=q1(n.width),n.wch=$1(n.wpx),n.MDW=zA):n.wpx?(n.wch=$1(n.wpx),n.width=Bb(n.wch),n.MDW=zA):typeof n.wch=="number"&&(n.width=Bb(n.wch),n.wpx=q1(n.width),n.MDW=zA),n.customWidth&&delete n.customWidth}var uee=96,nR=uee;function W1(n){return n*96/nR}function rR(n){return n*nR/96}function dee(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Ut("numFmt",null,{numFmtId:r,formatCode:br(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ut("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function hee(n){var e=[];return e[e.length]=Ut("cellXfs",null),n.forEach(function(t){e[e.length]=Ut("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ut("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function iR(n,e){var t=[es,Ut("styleSheet",null,{xmlns:D0[0],"xmlns:vt":Ns.vt})],r;return n.SSF&&(r=dee(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=hee(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function fee(n,e){var t=n.read_shift(2),r=ba(n);return[t,r]}function pee(n,e,t){t||(t=ot(6+4*e.length)),t.write_shift(2,n),Bs(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function gee(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=rZ(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var c=n.read_shift(1);c>0&&(r.family=c);var u=n.read_shift(1);switch(u>0&&(r.charset=u),n.l++,r.color=nZ(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ba(n),r}function mee(n,e){e||(e=ot(153)),e.write_shift(2,n.sz*20),iZ(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),G1(n.color,e);var r=0;return r=2,e.write_shift(1,r),Bs(n.name,e),e.length>e.l?e.slice(0,e.l):e}var xee=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],nw,vee=nA;function ST(n,e){e||(e=ot(84)),nw||(nw=k_(xee));var t=nw[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(G1({auto:1},e),G1({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function yee(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function sR(n,e,t){t||(t=ot(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Ep(n,e){return e||(e=ot(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var wee=nA;function bee(n,e){return e||(e=ot(51)),e.write_shift(1,0),Ep(null,e),Ep(null,e),Ep(null,e),Ep(null,e),Ep(null,e),e.length>e.l?e.slice(0,e.l):e}function _ee(n,e){return e||(e=ot(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),z1(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Cee(n,e,t){var r=ot(2052);return r.write_shift(4,n),z1(e,r),z1(t,r),r.length>r.l?r.slice(0,r.l):r}function Eee(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(_t(n,615,sc(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&_t(n,44,pee(i,e[i]))}),_t(n,616))}}function Nee(n){var e=1;_t(n,611,sc(e)),_t(n,43,mee({sz:12,color:{theme:1},name:"Calibri",family:2})),_t(n,612)}function See(n){var e=2;_t(n,603,sc(e)),_t(n,45,ST({patternType:"none"})),_t(n,45,ST({patternType:"gray125"})),_t(n,604)}function Bee(n){var e=1;_t(n,613,sc(e)),_t(n,46,bee()),_t(n,614)}function Tee(n){var e=1;_t(n,626,sc(e)),_t(n,47,sR({numFmtId:0},65535)),_t(n,627)}function Iee(n,e){_t(n,617,sc(e.length)),e.forEach(function(t){_t(n,47,sR(t,0))}),_t(n,618)}function kee(n){var e=1;_t(n,619,sc(e)),_t(n,48,_ee({xfId:0,name:"Normal"})),_t(n,620)}function Fee(n){var e=0;_t(n,505,sc(e)),_t(n,506)}function Uee(n){var e=0;_t(n,508,Cee(e,"TableStyleMedium9","PivotStyleMedium4")),_t(n,509)}function Ree(n,e){var t=vo();return _t(t,278),Eee(t,n.SSF),Nee(t),See(t),Bee(t),Tee(t),Iee(t,e.cellXfs),kee(t),Fee(t),Uee(t),_t(t,279),t.end()}function aR(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[es];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Lee(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:ba(n)}}function Dee(n){var e=ot(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Bs(n.name,e),e.slice(0,e.l)}function jee(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Mee(n){var e=ot(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function Pee(n,e){var t=ot(8+2*e.length);return t.write_shift(4,n),Bs(e,t),t.slice(0,t.l)}function Oee(n){return n.l+=4,n.read_shift(4)!=0}function Qee(n,e){var t=ot(8);return t.write_shift(4,n),t.write_shift(4,1),t}function Hee(){var n=vo();return _t(n,332),_t(n,334,sc(1)),_t(n,335,Dee({name:"XLDAPR",version:12e4,flags:3496657072})),_t(n,336),_t(n,339,Pee(1,"XLDAPR")),_t(n,52),_t(n,35,sc(514)),_t(n,4096,sc(0)),_t(n,4097,ml(1)),_t(n,36),_t(n,53),_t(n,340),_t(n,337,Qee(1)),_t(n,51,Mee([[1,0]])),_t(n,338),_t(n,333),n.end()}function oR(){var n=[es];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function Vee(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Cr(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var zf=1024;function lR(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Ut("xml",null,{"xmlns:v":zo.v,"xmlns:o":zo.o,"xmlns:x":zo.x,"xmlns:mv":zo.mv}).replace(/\/>/,">"),Ut("o:shapelayout",Ut("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Ut("v:shapetype",[Ut("v:stroke",null,{joinstyle:"miter"}),Ut("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];zf<n*1e3;)zf+=1e3;return e.forEach(function(s){var o=Ss(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var u=c.type=="gradient"?Ut("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Ut("v:fill",u,c),f={on:"t",obscured:"t"};++zf,i=i.concat(["<v:shape"+Sg({id:"_x0000_s"+zf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Ut("v:shadow",null,f),Ut("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$s("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),$s("x:AutoFill","False"),$s("x:Row",String(o.r)),$s("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function cR(n){var e=[es,Ut("comments",null,{xmlns:D0[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=br(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(u){u.a&&(i=t.indexOf(br(u.a))),s.push(u.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push($s("t",br(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)o+=`Reply:
    `+s[c]+`
`;e.push($s("t",br(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function zee(n,e,t){var r=[es,Ut("ThreadedComments",null,{xmlns:Ns.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,c){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var u={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};c==0?s=u.id:u.parentId=s,o.ID=u.id,o.a&&(u.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(Ut("threadedComment",$s("text",o.t||""),u))})}),r.push("</ThreadedComments>"),r.join("")}function Gee(n){var e=[es,Ut("personList",null,{xmlns:Ns.TCMNT,"xmlns:x":D0[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Ut("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Kee(n){var e={};e.iauthor=n.read_shift(4);var t=Uh(n);return e.rfx=t.s,e.ref=Cr(t.s),n.l+=16,e}function qee(n,e){return e==null&&(e=ot(36)),e.write_shift(4,n[1].iauthor),M0(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var $ee=ba;function Wee(n){return Bs(n.slice(0,54))}function Yee(n){var e=vo(),t=[];return _t(e,628),_t(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),_t(e,632,Wee(i.a)))})}),_t(e,631),_t(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:Ss(r[0]),e:Ss(r[0])};_t(e,635,qee([s,i])),i.t&&i.t.length>0&&_t(e,637,JJ(i)),_t(e,636),delete i.iauthor})}),_t(e,634),_t(e,629),e.end()}function Xee(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&kr.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var AR=["xlsb","xlsm","xlam","biff8","xla"],Jee=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var c=!1,u=!1;s.length==0?u=!0:s.charAt(0)=="["&&(u=!0,s=s.slice(1,-1)),o.length==0?c=!0:o.charAt(0)=="["&&(c=!0,o=o.slice(1,-1));var d=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return c?f+=e.c:--f,u?d+=e.r:--d,i+(c?"":"$")+wa(f)+(u?"":"$")+Ys(d)}return function(i,s){return e=s,i.replace(n,t)}})(),z_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,G_=(function(){return function(e,t){return e.replace(z_,function(r,i,s,o,c,u){var d=M_(o)-(s?0:t.c),f=j_(u)-(c?0:t.r),g=f==0?"":c?f+1:"["+f+"]",m=d==0?"":s?d+1:"["+d+"]";return i+"R"+g+"C"+m})}})();function Zee(n,e){return n.replace(z_,function(t,r,i,s,o,c){return r+(i=="$"?i+s:wa(M_(s)+e.c))+(o=="$"?o+c:Ys(j_(c)+e.r))})}function ete(n){return n.length!=1}function Ki(n){n.l+=1}function bd(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function uR(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return dR(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=bd(n),c=bd(n);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function dR(n){var e=bd(n),t=bd(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function tte(n,e,t){if(t.biff<8)return dR(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=bd(n),o=bd(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function hR(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return nte(n);var r=n.read_shift(t&&t.biff==12?4:2),i=bd(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function nte(n){var e=bd(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function rte(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function ite(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return ste(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:c}}function ste(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function ate(n,e,t){var r=(n[n.l++]&96)>>5,i=uR(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function ote(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=uR(n,s,t);return[r,i,o]}function lte(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function cte(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function Ate(n,e,t){var r=(n[n.l++]&96)>>5,i=tte(n,e-1,t);return[r,i]}function ute(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function BT(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function dte(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function hte(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function fte(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function pte(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function gte(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function fR(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function mte(n){return n.read_shift(2),fR(n)}function xte(n){return n.read_shift(2),fR(n)}function vte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=hR(n,0,t);return[r,i]}function yte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=ite(n,0,t);return[r,i]}function wte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=hR(n,0,t);return[r,i,s]}function bte(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[bne[i],mR[i],r]}function _te(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:Cte(n);return[i,(s[0]===0?mR:wne)[s[1]]]}function Cte(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Ete(n,e,t){n.l+=t&&t.biff==2?3:4}function Nte(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Ste(n){return n.l++,Jg[n.read_shift(1)]}function Bte(n){return n.l++,n.read_shift(2)}function Tte(n){return n.l++,n.read_shift(1)!==0}function Ite(n){return n.l++,P0(n)}function kte(n,e,t){return n.l++,YU(n,e-1,t)}function Fte(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=wZ(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Jg[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=P0(n);break;case 2:t[1]=EZ(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Ute(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Uh:BZ)(n));return i}function Rte(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var c=0;c!=i;++c)o[s][c]=Fte(n,t.biff);return o}function Lte(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function Dte(n,e,t){if(t.biff==5)return jte(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function jte(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function Mte(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Pte(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function Ote(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function Qte(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var Hte=nA,Vte=nA,zte=nA;function Zg(n,e,t){return n.l+=2,[rte(n)]}function K_(n){return n.l+=6,[]}var Gte=Zg,Kte=K_,qte=K_,$te=Zg;function pR(n){return n.l+=2,[$U(n),n.read_shift(2)&1]}var Wte=Zg,Yte=pR,Xte=K_,Jte=Zg,Zte=Zg,ene=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tne(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=ene[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function nne(n){return n.l+=2,[n.read_shift(4)]}function rne(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function ine(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function sne(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function ane(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function one(n){return n.l+=4,[0,0]}var TT={1:{n:"PtgExp",f:Nte},2:{n:"PtgTbl",f:zte},3:{n:"PtgAdd",f:Ki},4:{n:"PtgSub",f:Ki},5:{n:"PtgMul",f:Ki},6:{n:"PtgDiv",f:Ki},7:{n:"PtgPower",f:Ki},8:{n:"PtgConcat",f:Ki},9:{n:"PtgLt",f:Ki},10:{n:"PtgLe",f:Ki},11:{n:"PtgEq",f:Ki},12:{n:"PtgGe",f:Ki},13:{n:"PtgGt",f:Ki},14:{n:"PtgNe",f:Ki},15:{n:"PtgIsect",f:Ki},16:{n:"PtgUnion",f:Ki},17:{n:"PtgRange",f:Ki},18:{n:"PtgUplus",f:Ki},19:{n:"PtgUminus",f:Ki},20:{n:"PtgPercent",f:Ki},21:{n:"PtgParen",f:Ki},22:{n:"PtgMissArg",f:Ki},23:{n:"PtgStr",f:kte},26:{n:"PtgSheet",f:rne},27:{n:"PtgEndSheet",f:ine},28:{n:"PtgErr",f:Ste},29:{n:"PtgBool",f:Tte},30:{n:"PtgInt",f:Bte},31:{n:"PtgNum",f:Ite},32:{n:"PtgArray",f:ute},33:{n:"PtgFunc",f:bte},34:{n:"PtgFuncVar",f:_te},35:{n:"PtgName",f:Lte},36:{n:"PtgRef",f:vte},37:{n:"PtgArea",f:ate},38:{n:"PtgMemArea",f:Mte},39:{n:"PtgMemErr",f:Hte},40:{n:"PtgMemNoMem",f:Vte},41:{n:"PtgMemFunc",f:Pte},42:{n:"PtgRefErr",f:Ote},43:{n:"PtgAreaErr",f:lte},44:{n:"PtgRefN",f:yte},45:{n:"PtgAreaN",f:Ate},46:{n:"PtgMemAreaN",f:sne},47:{n:"PtgMemNoMemN",f:ane},57:{n:"PtgNameX",f:Dte},58:{n:"PtgRef3d",f:wte},59:{n:"PtgArea3d",f:ote},60:{n:"PtgRefErr3d",f:Qte},61:{n:"PtgAreaErr3d",f:cte},255:{}},lne={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},cne={1:{n:"PtgElfLel",f:pR},2:{n:"PtgElfRw",f:Jte},3:{n:"PtgElfCol",f:Gte},6:{n:"PtgElfRwV",f:Zte},7:{n:"PtgElfColV",f:$te},10:{n:"PtgElfRadical",f:Wte},11:{n:"PtgElfRadicalS",f:Xte},13:{n:"PtgElfColS",f:Kte},15:{n:"PtgElfColSV",f:qte},16:{n:"PtgElfRadicalLel",f:Yte},25:{n:"PtgList",f:tne},29:{n:"PtgSxName",f:nne},255:{}},Ane={0:{n:"PtgAttrNoop",f:one},1:{n:"PtgAttrSemi",f:gte},2:{n:"PtgAttrIf",f:fte},4:{n:"PtgAttrChoose",f:dte},8:{n:"PtgAttrGoto",f:hte},16:{n:"PtgAttrSum",f:Ete},32:{n:"PtgAttrBaxcel",f:BT},33:{n:"PtgAttrBaxcel",f:BT},64:{n:"PtgAttrSpace",f:mte},65:{n:"PtgAttrSpaceSemi",f:xte},128:{n:"PtgAttrIfError",f:pte},255:{}};function une(n,e,t,r){if(r.biff<8)return nA(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=Rte(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=Ute(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0]}return e=i-n.l,e!==0&&s.push(nA(n,e)),s}function dne(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=TT[s]||TT[lne[s]],(s===24||s===25)&&(i=(s===24?cne:Ane)[n[n.l+1]]),!i||!i.f?nA(n,e):o.push([i.n,i.f(n,e,t)]);return o}function hne(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var fne={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pne(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function gR(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function IT(n,e,t){var r=gR(n,e,t);return r=="#REF"?r:pne(r,t)}function v0(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},c=[],u,d,f,g=0,m=0,v,C="";if(!n[0]||!n[0][0])return"";for(var _=-1,E="",T=0,k=n[0].length;T<k;++T){var P=n[0][T];switch(P[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=c.pop(),d=c.pop(),_>=0){switch(n[0][_][1][0]){case 0:E=xi(" ",n[0][_][1][1]);break;case 1:E=xi("\r",n[0][_][1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][_][1][0])}d=d+E,_=-1}c.push(d+fne[P[0]]+u);break;case"PtgIsect":u=c.pop(),d=c.pop(),c.push(d+" "+u);break;case"PtgUnion":u=c.pop(),d=c.pop(),c.push(d+","+u);break;case"PtgRange":u=c.pop(),d=c.pop(),c.push(d+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=ng(P[1][1],o,i),c.push(rg(f,s));break;case"PtgRefN":f=t?ng(P[1][1],t,i):P[1][1],c.push(rg(f,s));break;case"PtgRef3d":g=P[1][1],f=ng(P[1][2],o,i),C=IT(r,g,i),c.push(C+"!"+rg(f,s));break;case"PtgFunc":case"PtgFuncVar":var z=P[1][0],Y=P[1][1];z||(z=0),z&=127;var Z=z==0?[]:c.slice(-z);c.length-=z,Y==="User"&&(Y=Z.shift()),c.push(Y+"("+Z.join(",")+")");break;case"PtgBool":c.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(P[1]);break;case"PtgNum":c.push(String(P[1]));break;case"PtgStr":c.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(P[1]);break;case"PtgAreaN":v=fT(P[1][1],t?{s:t}:o,i),c.push(ew(v,i));break;case"PtgArea":v=fT(P[1][1],o,i),c.push(ew(v,i));break;case"PtgArea3d":g=P[1][1],v=P[1][2],C=IT(r,g,i),c.push(C+"!"+ew(v,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=P[1][2];var R=(r.names||[])[m-1]||(r[0]||[])[m],F=R?R.Name:"SH33TJSNAME"+String(m);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),c.push(F);break;case"PtgNameX":var M=P[1][1];m=P[1][2];var G;if(i.biff<=5)M<0&&(M=-M),r[M]&&(G=r[M][m]);else{var L="";if(((r[M]||[])[0]||[])[0]==14849||(((r[M]||[])[0]||[])[0]==1025?r[M][m]&&r[M][m].itab>0&&(L=r.SheetNames[r[M][m].itab-1]+"!"):L=r.SheetNames[m-1]+"!"),r[M]&&r[M][m])L+=r[M][m].Name;else if(r[0]&&r[0][m])L+=r[0][m].Name;else{var Q=(gR(r,M,i)||"").split(";;");Q[m-1]?L=Q[m-1]:L+="SH33TJSERRX"}c.push(L);break}G||(G={Name:"SH33TJSERRY"}),c.push(G.Name);break;case"PtgParen":var j="(",re=")";if(_>=0){switch(E="",n[0][_][1][0]){case 2:j=xi(" ",n[0][_][1][1])+j;break;case 3:j=xi("\r",n[0][_][1][1])+j;break;case 4:re=xi(" ",n[0][_][1][1])+re;break;case 5:re=xi("\r",n[0][_][1][1])+re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][_][1][0])}_=-1}c.push(j+c.pop()+re);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":f={c:P[1][1],r:P[1][0]};var fe={c:t.c,r:t.r};if(r.sharedf[Cr(f)]){var ie=r.sharedf[Cr(f)];c.push(v0(ie,o,fe,r,i))}else{var Ae=!1;for(u=0;u!=r.arrayf.length;++u)if(d=r.arrayf[u],!(f.c<d[0].s.c||f.c>d[0].e.c)&&!(f.r<d[0].s.r||f.r>d[0].e.r)){c.push(v0(d[1],o,fe,r,i)),Ae=!0;break}Ae||c.push(P[1])}break;case"PtgArray":c.push("{"+hne(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":_=T;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&_>=0&&me.indexOf(n[0][T][0])==-1){P=n[0][_];var _e=!0;switch(P[1][0]){case 4:_e=!1;case 0:E=xi(" ",P[1][1]);break;case 5:_e=!1;case 1:E=xi("\r",P[1][1]);break;default:if(E="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}c.push((_e?E:"")+c.pop()+(_e?"":E)),_=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function gne(n){if(n==null){var e=ot(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return bh(n);return bh(0)}function mne(n,e,t,r,i){var s=_h(e,t,i),o=gne(n.v),c=ot(6),u=33;c.write_shift(2,u),c.write_shift(4,0);for(var d=ot(n.bf.length),f=0;f<n.bf.length;++f)d[f]=n.bf[f];var g=qs([s,o,c,d]);return g}function ty(n,e,t){var r=n.read_shift(4),i=dne(n,r,t),s=n.read_shift(4),o=s>0?une(n,s,i,t):null;return[i,o]}var xne=ty,ny=ty,vne=ty,yne=ty,wne={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},mR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bne={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function _ne(n){var e="of:="+n.replace(z_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Cne(n){return n.replace(/\./,"!")}var ig=typeof Map<"u";function q_(n,e,t){var r=0,i=n.length;if(t){if(ig?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=ig?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(ig?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function ry(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(zA=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=$1(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Bb(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function xR(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Rd(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){hU(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Ene(n,e,t){if(n&&n["!ref"]){var r=Kr(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function Nne(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Zi(n[t])+'"/>';return e+"</mergeCells>"}function Sne(n,e,t,r,i){var s=!1,o={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var u=e.SheetNames[t];try{e.Workbook&&(u=e.Workbook.Sheets[t].CodeName||u)}catch{}s=!0,o.codeName=Ng(br(u))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),c=(c||"")+Ut("outlinePr",null,d)}!s&&!c||(i[i.length]=Ut("sheetPr",c,o))}var Bne=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Tne=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ine(n){var e={sheet:1};return Bne.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),Tne.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=tR(n.password).toString(16).toUpperCase()),Ut("sheetProtection",null,e)}function kne(n){return xR(n),Ut("pageMargins",null,n)}function Fne(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Ut("col",null,ry(i,r)));return t[t.length]="</cols>",t.join("")}function Une(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Zi(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=qo(i);o.s.r==o.e.r&&(o.e.r=qo(e["!ref"]).e.r,i=Zi(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Ut("autoFilter",null,{ref:i})}function Rne(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ut("sheetViews",Ut("sheetView",null,i),{})}function Lne(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Jg[n.v];break;case"d":r&&r.cellDates?i=Ga(n.v,-1).toISOString():(n=bo(n),n.t="n",i=""+(n.v=wo(Ga(n.v)))),typeof n.z>"u"&&(n.z=yi[14]);break;default:i=n.v;break}var c=$s("v",br(i)),u={r:e},d=Rd(r.cellXfs,n,r);switch(d!==0&&(u.s=d),n.t){case"n":break;case"d":u.t="d";break;case"b":u.t="b";break;case"e":u.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=$s("v",""+q_(r.Strings,n.v,r.revStrings)),u.t="s";break}u.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var f=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;c=Ut("f",br(n.f),f)+(n.v!=null?c:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(u.cm=1),Ut("c",c,u)}function Dne(n,e,t,r){var i=[],s=[],o=Kr(n["!ref"]),c="",u,d="",f=[],g=0,m=0,v=n["!rows"],C=Array.isArray(n),_={r:d},E,T=-1;for(m=o.s.c;m<=o.e.c;++m)f[m]=wa(m);for(g=o.s.r;g<=o.e.r;++g){for(s=[],d=Ys(g),m=o.s.c;m<=o.e.c;++m){u=f[m]+d;var k=C?(n[g]||[])[m]:n[u];k!==void 0&&(c=Lne(k,u,n,e))!=null&&s.push(c)}(s.length>0||v&&v[g])&&(_={r:d},v&&v[g]&&(E=v[g],E.hidden&&(_.hidden=1),T=-1,E.hpx?T=W1(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(_.ht=T,_.customHeight=1),E.level&&(_.outlineLevel=E.level)),i[i.length]=Ut("row",s.join(""),_))}if(v)for(;g<v.length;++g)v&&v[g]&&(_={r:g+1},E=v[g],E.hidden&&(_.hidden=1),T=-1,E.hpx?T=W1(E.hpx):E.hpt&&(T=E.hpt),T>-1&&(_.ht=T,_.customHeight=1),E.level&&(_.outlineLevel=E.level),i[i.length]=Ut("row","",_));return i.join("")}function vR(n,e,t,r){var i=[es,Ut("worksheet",null,{xmlns:D0[0],"xmlns:r":Ns.r})],s=t.SheetNames[n],o=0,c="",u=t.Sheets[s];u==null&&(u={});var d=u["!ref"]||"A1",f=Kr(d);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),d=Zi(f)}r||(r={}),u["!comments"]=[];var g=[];Sne(u,t,n,e,i),i[i.length]=Ut("dimension",null,{ref:d}),i[i.length]=Rne(u,e,n,t),e.sheetFormat&&(i[i.length]=Ut("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),u["!cols"]!=null&&u["!cols"].length>0&&(i[i.length]=Fne(u,u["!cols"])),i[o=i.length]="<sheetData/>",u["!links"]=[],u["!ref"]!=null&&(c=Dne(u,e),c.length>0&&(i[i.length]=c)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),u["!protect"]&&(i[i.length]=Ine(u["!protect"])),u["!autofilter"]!=null&&(i[i.length]=Une(u["!autofilter"],u,t,n)),u["!merges"]!=null&&u["!merges"].length>0&&(i[i.length]=Nne(u["!merges"]));var m=-1,v,C=-1;return u["!links"].length>0&&(i[i.length]="<hyperlinks>",u["!links"].forEach(function(_){_[1].Target&&(v={ref:_[0]},_[1].Target.charAt(0)!="#"&&(C=wr(r,-1,br(_[1].Target).replace(/#.*$/,""),or.HLINK),v["r:id"]="rId"+C),(m=_[1].Target.indexOf("#"))>-1&&(v.location=br(_[1].Target.slice(m+1))),_[1].Tooltip&&(v.tooltip=br(_[1].Tooltip)),i[i.length]=Ut("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete u["!links"],u["!margins"]!=null&&(i[i.length]=kne(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=$s("ignoredErrors",Ut("ignoredError",null,{numberStoredAsText:1,sqref:d}))),g.length>0&&(C=wr(r,-1,"../drawings/drawing"+(n+1)+".xml",or.DRAW),i[i.length]=Ut("drawing",null,{"r:id":"rId"+C}),u["!drawing"]=g),u["!comments"].length>0&&(C=wr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",or.VML),i[i.length]=Ut("legacyDrawing",null,{"r:id":"rId"+C}),u["!legacy"]=C),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function jne(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function Mne(n,e,t){var r=ot(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=W1(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var c=0,u=r.l;r.l+=4;for(var d={r:n,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var g=-1,m=-1,v=f<<10;v<f+1<<10;++v){d.c=v;var C=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Cr(d)];C&&(g<0&&(g=v),m=v)}g<0||(++c,r.write_shift(4,g),r.write_shift(4,m))}var _=r.l;return r.l=u,r.write_shift(4,c),r.l=_,r.length>r.l?r.slice(0,r.l):r}function Pne(n,e,t,r){var i=Mne(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&_t(n,0,i)}var One=Uh,Qne=M0;function Hne(){}function Vne(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=ZJ(n),t}function zne(n,e,t){t==null&&(t=ot(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return G1({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),RU(n,t),t.slice(0,t.l)}function Gne(n){var e=Sl(n);return[e]}function Kne(n,e,t){return t==null&&(t=ot(8)),Ih(e,t)}function qne(n){var e=kh(n);return[e]}function $ne(n,e,t){return t==null&&(t=ot(4)),Fh(e,t)}function Wne(n){var e=Sl(n),t=n.read_shift(1);return[e,t,"b"]}function Yne(n,e,t){return t==null&&(t=ot(9)),Ih(e,t),t.write_shift(1,n.v?1:0),t}function Xne(n){var e=kh(n),t=n.read_shift(1);return[e,t,"b"]}function Jne(n,e,t){return t==null&&(t=ot(5)),Fh(e,t),t.write_shift(1,n.v?1:0),t}function Zne(n){var e=Sl(n),t=n.read_shift(1);return[e,t,"e"]}function ere(n,e,t){return t==null&&(t=ot(9)),Ih(e,t),t.write_shift(1,n.v),t}function tre(n){var e=kh(n),t=n.read_shift(1);return[e,t,"e"]}function nre(n,e,t){return t==null&&(t=ot(8)),Fh(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function rre(n){var e=Sl(n),t=n.read_shift(4);return[e,t,"s"]}function ire(n,e,t){return t==null&&(t=ot(12)),Ih(e,t),t.write_shift(4,e.v),t}function sre(n){var e=kh(n),t=n.read_shift(4);return[e,t,"s"]}function are(n,e,t){return t==null&&(t=ot(8)),Fh(e,t),t.write_shift(4,e.v),t}function ore(n){var e=Sl(n),t=P0(n);return[e,t,"n"]}function lre(n,e,t){return t==null&&(t=ot(16)),Ih(e,t),bh(n.v,t),t}function cre(n){var e=kh(n),t=P0(n);return[e,t,"n"]}function Are(n,e,t){return t==null&&(t=ot(12)),Fh(e,t),bh(n.v,t),t}function ure(n){var e=Sl(n),t=LU(n);return[e,t,"n"]}function dre(n,e,t){return t==null&&(t=ot(12)),Ih(e,t),DU(n.v,t),t}function hre(n){var e=kh(n),t=LU(n);return[e,t,"n"]}function fre(n,e,t){return t==null&&(t=ot(8)),Fh(e,t),DU(n.v,t),t}function pre(n){var e=Sl(n),t=P_(n);return[e,t,"is"]}function gre(n){var e=Sl(n),t=ba(n);return[e,t,"str"]}function mre(n,e,t){return t==null&&(t=ot(12+4*n.v.length)),Ih(e,t),Bs(n.v,t),t.length>t.l?t.slice(0,t.l):t}function xre(n){var e=kh(n),t=ba(n);return[e,t,"str"]}function vre(n,e,t){return t==null&&(t=ot(8+4*n.v.length)),Fh(e,t),Bs(n.v,t),t.length>t.l?t.slice(0,t.l):t}function yre(n,e,t){var r=n.l+e,i=Sl(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var c=ny(n,r-n.l,t);o[3]=v0(c,null,i,t.supbooks,t)}else n.l=r;return o}function wre(n,e,t){var r=n.l+e,i=Sl(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var c=ny(n,r-n.l,t);o[3]=v0(c,null,i,t.supbooks,t)}else n.l=r;return o}function bre(n,e,t){var r=n.l+e,i=Sl(n);i.r=t["!row"];var s=P0(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var c=ny(n,r-n.l,t);o[3]=v0(c,null,i,t.supbooks,t)}else n.l=r;return o}function _re(n,e,t){var r=n.l+e,i=Sl(n);i.r=t["!row"];var s=ba(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var c=ny(n,r-n.l,t);o[3]=v0(c,null,i,t.supbooks,t)}else n.l=r;return o}var Cre=Uh,Ere=M0;function Nre(n,e){return e==null&&(e=ot(4)),e.write_shift(4,n),e}function Sre(n,e){var t=n.l+e,r=Uh(n),i=O_(n),s=ba(n),o=ba(n),c=ba(n);n.l=t;var u={rfx:r,relId:i,loc:s,display:c};return o&&(u.Tooltip=o),u}function Bre(n,e){var t=ot(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));M0({s:Ss(n[0]),e:Ss(n[0])},t),Q_("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Bs(i||"",t),Bs(n[1].Tooltip||"",t),Bs("",t),t.slice(0,t.l)}function Tre(){}function Ire(n,e,t){var r=n.l+e,i=jU(n),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var c=xne(n,r-n.l,t);o[1]=c}else n.l=r;return o}function kre(n,e,t){var r=n.l+e,i=Uh(n),s=[i];if(t.cellFormula){var o=yne(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function Fre(n,e,t){t==null&&(t=ot(18));var r=ry(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var yR=["left","right","top","bottom","header","footer"];function Ure(n){var e={};return yR.forEach(function(t){e[t]=P0(n)}),e}function Rre(n,e){return e==null&&(e=ot(48)),xR(n),yR.forEach(function(t){bh(n[t],e)}),e}function Lre(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function Dre(n,e,t){t==null&&(t=ot(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function jre(n){var e=ot(24);return e.write_shift(4,4),e.write_shift(4,1),M0(n,e),e}function Mre(n,e){return e==null&&(e=ot(66)),e.write_shift(2,n.password?tR(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Pre(){}function Ore(){}function Qre(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=bo(e),e.z=e.z||yi[14],e.v=wo(Ga(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var u={r:t,c:r};switch(u.s=Rd(i.cellXfs,e,i),e.l&&s["!links"].push([Cr(u),e.l]),e.c&&s["!comments"].push([Cr(u),e.c]),e.t){case"s":case"str":return i.bookSST?(c=q_(i.Strings,e.v,i.revStrings),u.t="s",u.v=c,o?_t(n,18,are(e,u)):_t(n,7,ire(e,u))):(u.t="str",o?_t(n,17,vre(e,u)):_t(n,6,mre(e,u))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?_t(n,13,fre(e,u)):_t(n,2,dre(e,u)):o?_t(n,16,Are(e,u)):_t(n,5,lre(e,u)),!0;case"b":return u.t="b",o?_t(n,15,Jne(e,u)):_t(n,4,Yne(e,u)),!0;case"e":return u.t="e",o?_t(n,14,nre(e,u)):_t(n,3,ere(e,u)),!0}return o?_t(n,12,$ne(e,u)):_t(n,1,Kne(e,u)),!0}function Hre(n,e,t,r){var i=Kr(e["!ref"]||"A1"),s,o="",c=[];_t(n,145);var u=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=d;++f){o=Ys(f),Pne(n,e,i,f);var g=!1;if(f<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){f===i.s.r&&(c[m]=wa(m)),s=c[m]+o;var v=u?(e[f]||[])[m]:e[s];if(!v){g=!1;continue}g=Qre(n,v,f,m,r,e,g)}}_t(n,146)}function Vre(n,e){!e||!e["!merges"]||(_t(n,177,Nre(e["!merges"].length)),e["!merges"].forEach(function(t){_t(n,176,Ere(t))}),_t(n,178))}function zre(n,e){!e||!e["!cols"]||(_t(n,390),e["!cols"].forEach(function(t,r){t&&_t(n,60,Fre(r,t))}),_t(n,391))}function Gre(n,e){!e||!e["!ref"]||(_t(n,648),_t(n,649,jre(Kr(e["!ref"]))),_t(n,650))}function Kre(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=wr(t,-1,r[1].Target.replace(/#.*$/,""),or.HLINK);_t(n,494,Bre(r,i))}}),delete e["!links"]}function qre(n,e,t,r){if(e["!comments"].length>0){var i=wr(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",or.VML);_t(n,551,Q_("rId"+i)),e["!legacy"]=i}}function $re(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Zi(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,c=qo(s);c.s.r==c.e.r&&(c.e.r=qo(e["!ref"]).e.r,s=Zi(c));for(var u=0;u<o.length;++u){var d=o[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+s;break}}u==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),_t(n,161,M0(Kr(s))),_t(n,162)}}function Wre(n,e,t){_t(n,133),_t(n,137,Dre(e,t)),_t(n,138),_t(n,134)}function Yre(n,e){e["!protect"]&&_t(n,535,Mre(e["!protect"]))}function Xre(n,e,t,r){var i=vo(),s=t.SheetNames[n],o=t.Sheets[s]||{},c=s;try{t&&t.Workbook&&(c=t.Workbook.Sheets[n].CodeName||c)}catch{}var u=Kr(o["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],_t(i,129),(t.vbaraw||o["!outline"])&&_t(i,147,zne(c,o["!outline"])),_t(i,148,Qne(u)),Wre(i,o,t.Workbook),zre(i,o),Hre(i,o,n,e),Yre(i,o),$re(i,o,t,n),Vre(i,o),Kre(i,o,r),o["!margins"]&&_t(i,476,Rre(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Gre(i,o),qre(i,o,n,r),_t(i,130),i.end()}function Jre(n,e){n.l+=10;var t=ba(n);return{name:t}}var Zre=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function eie(n){return!n.Workbook||!n.Workbook.WBProps?"false":kJ(n.Workbook.WBProps.date1904)?"true":"false"}var tie="][*?/\\".split("");function wR(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return tie.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function nie(n,e,t){n.forEach(function(r,i){wR(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function rie(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];nie(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)Ene(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function bR(n){var e=[es];e[e.length]=Ut("workbook",null,{xmlns:D0[0],"xmlns:r":Ns.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Zre.forEach(function(c){n.Workbook.WBProps[c[0]]!=null&&n.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=n.Workbook.WBProps[c[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ut("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:br(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=Ut("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(c){var u={name:c.Name};c.Comment&&(u.comment=c.Comment),c.Sheet!=null&&(u.localSheetId=""+c.Sheet),c.Hidden&&(u.hidden="1"),c.Ref&&(e[e.length]=Ut("definedName",br(c.Ref),u))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function iie(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Sb(n),t.name=ba(n),t}function sie(n,e){return e||(e=ot(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Q_(n.strRelID,e),Bs(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function aie(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?ba(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function oie(n,e){e||(e=ot(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),RU(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function lie(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=eZ(n),o=vne(n,0,t),c=O_(n);n.l=r;var u={Name:s,Ptg:o};return i<268435455&&(u.Sheet=i),c&&(u.Comment=c),u}function cie(n,e){_t(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};_t(n,156,sie(i))}_t(n,144)}function Aie(n,e){e||(e=ot(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Bs("SheetJS",e),Bs(j1.version,e),Bs(j1.version,e),Bs("7262",e),e.length>e.l?e.slice(0,e.l):e}function uie(n,e){e||(e=ot(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function die(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(_t(n,135),_t(n,158,uie(i)),_t(n,136))}}function hie(n,e){var t=vo();return _t(t,131),_t(t,128,Aie()),_t(t,153,oie(n.Workbook&&n.Workbook.WBProps||null)),die(t,n),cie(t,n),_t(t,132),t.end()}function fie(n,e,t){return(e.slice(-4)===".bin"?hie:bR)(n)}function pie(n,e,t,r,i){return(e.slice(-4)===".bin"?Xre:vR)(n,t,r,i)}function gie(n,e,t){return(e.slice(-4)===".bin"?Ree:iR)(n,t)}function mie(n,e,t){return(e.slice(-4)===".bin"?oee:eR)(n,t)}function xie(n,e,t){return(e.slice(-4)===".bin"?Yee:cR)(n)}function vie(n){return(n.slice(-4)===".bin"?Hee:oR)()}function yie(n,e){var t=[];return n.Props&&t.push(gZ(n.Props,e)),n.Custprops&&t.push(mZ(n.Props,n.Custprops)),t.join("")}function wie(){return""}function bie(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Ut("NumberFormat",null,{"ss:Format":br(yi[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(Ut("Style",s.join(""),o))}),Ut("Styles",t.join(""))}function _R(n){return Ut("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+G_(n.Ref,{r:0,c:0})})}function _ie(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(_R(i)))}return Ut("Names",t.join(""))}function Cie(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var c=i[o];c.Sheet==t&&(c.Name.match(/^_xlfn\./)||s.push(_R(c)))}return s.join("")}function Eie(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Ut("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Ut("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Ut("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Ut("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push($s("ProtectContents","True")),n["!protect"].objects&&i.push($s("ProtectObjects","True")),n["!protect"].scenarios&&i.push($s("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push($s("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push($s("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":Ut("WorksheetOptions",i.join(""),{xmlns:zo.x})}function Nie(n){return n.map(function(e){var t=IJ(e.t||""),r=Ut("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ut("Comment",r,{"ss:Author":e.a})}).join("")}function Sie(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var c={};if(n.f&&(c["ss:Formula"]="="+br(G_(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var u=Ss(n.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(u.r==o.r?"":"["+(u.r-o.r)+"]")+"C"+(u.c==o.c?"":"["+(u.c-o.c)+"]")}if(n.l&&n.l.Target&&(c["ss:HRef"]=br(n.l.Target),n.l.Tooltip&&(c["x:HRefScreenTip"]=br(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],f=0;f!=d.length;++f)d[f].s.c!=o.c||d[f].s.r!=o.r||(d[f].e.c>d[f].s.c&&(c["ss:MergeAcross"]=d[f].e.c-d[f].s.c),d[f].e.r>d[f].s.r&&(c["ss:MergeDown"]=d[f].e.r-d[f].s.r));var g="",m="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":g="Number",m=String(n.v);break;case"b":g="Boolean",m=n.v?"1":"0";break;case"e":g="Error",m=Jg[n.v];break;case"d":g="DateTime",m=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||yi[14]);break;case"s":g="String",m=TJ(n.v||"");break}var v=Rd(r.cellXfs,n,r);c["ss:StyleID"]="s"+(21+v),c["ss:Index"]=o.c+1;var C=n.v!=null?m:"",_=n.t=="z"?"":'<Data ss:Type="'+g+'">'+C+"</Data>";return(n.c||[]).length>0&&(_+=Nie(n.c)),Ut("Cell",_,c)}function Bie(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=rR(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Tie(n,e,t,r){if(!n["!ref"])return"";var i=Kr(n["!ref"]),s=n["!merges"]||[],o=0,c=[];n["!cols"]&&n["!cols"].forEach(function(E,T){V_(E);var k=!!E.width,P=ry(T,E),z={"ss:Index":T+1};k&&(z["ss:Width"]=q1(P.width)),E.hidden&&(z["ss:Hidden"]="1"),c.push(Ut("Column",null,z))});for(var u=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){for(var f=[Bie(d,(n["!rows"]||[])[d])],g=i.s.c;g<=i.e.c;++g){var m=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>g)&&!(s[o].s.r>d)&&!(s[o].e.c<g)&&!(s[o].e.r<d)){(s[o].s.c!=g||s[o].s.r!=d)&&(m=!0);break}if(!m){var v={r:d,c:g},C=Cr(v),_=u?(n[d]||[])[g]:n[C];f.push(Sie(_,C,n,e,t,r,v))}}f.push("</Row>"),f.length>2&&c.push(f.join(""))}return c.join("")}function Iie(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?Cie(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?Tie(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(Eie(s,e,n,t)),r.join("")}function kie(n,e){e||(e={}),n.SSF||(n.SSF=bo(yi)),n.SSF&&(Jv(),Xv(n.SSF),e.revssf=Zv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Rd(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(yie(n,e)),t.push(wie()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Ut("Worksheet",Iie(r,e,n),{"ss:Name":br(n.SheetNames[r])}));return t[2]=bie(n,e),t[3]=_ie(n),es+Ut("Workbook",t.join(""),{xmlns:zo.ss,"xmlns:o":zo.o,"xmlns:x":zo.x,"xmlns:ss":zo.ss,"xmlns:dt":zo.dt,"xmlns:html":zo.html})}var rw={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Fie(n,e){var t=[],r=[],i=[],s=0,o,c=rT(gT,"n"),u=rT(mT,"n");if(n.Props)for(o=Js(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(c,o[s])?t:Object.prototype.hasOwnProperty.call(u,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Js(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(c,o[s])?t:Object.prototype.hasOwnProperty.call(u,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var d=[];for(s=0;s<i.length;++s)qU.indexOf(i[s][0])>-1||zU.indexOf(i[s][0])>-1||i[s][1]!=null&&d.push(i[s]);r.length&&kr.utils.cfb_add(e,"/SummaryInformation",bT(r,rw.SI,u,mT)),(t.length||d.length)&&kr.utils.cfb_add(e,"/DocumentSummaryInformation",bT(t,rw.DSI,c,gT,d.length?d:null,rw.UDI))}function Uie(n,e){var t=e||{},r=kr.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return kr.utils.cfb_add(r,i,CR(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Fie(n,r),t.biff==8&&n.vbaraw&&Xee(r,kr.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Rie={0:{f:jne},1:{f:Gne},2:{f:ure},3:{f:Zne},4:{f:Wne},5:{f:ore},6:{f:gre},7:{f:rre},8:{f:_re},9:{f:bre},10:{f:yre},11:{f:wre},12:{f:qne},13:{f:hre},14:{f:tre},15:{f:Xne},16:{f:cre},17:{f:xre},18:{f:sre},19:{f:P_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:lie},40:{},42:{},43:{f:gee},44:{f:fee},45:{f:vee},46:{f:wee},47:{f:yee},48:{},49:{f:qJ},50:{},51:{f:jee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:$Z},62:{f:pre},63:{f:Vee},64:{f:Pre},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:nA,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Lre},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Vne},148:{f:One,p:16},151:{f:Tre},152:{},153:{f:aie},154:{},155:{},156:{f:iie},157:{},158:{},159:{T:1,f:iee},160:{T:-1},161:{T:1,f:Uh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Cre},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Lee},336:{T:-1},337:{f:Oee,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Sb},357:{},358:{},359:{},360:{T:1},361:{},362:{f:HZ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Ire},427:{f:kre},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ure},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Hne},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sre},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Sb},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$ee},633:{T:1},634:{T:-1},635:{T:1,f:Kee},636:{T:-1},637:{f:XJ},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Jre},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ore},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Lt(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&D_(t)&&n.push(t)}}function Lie(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return Lt(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],c=0,u=0,d=0;d+(o[c]||8224)<=8224;)d+=o[c]||8224,c++;var f=n.next(4);for(f.write_shift(2,s),f.write_shift(2,d),n.push(t.slice(u,u+d)),u+=d;u<i;){for(f=n.next(4),f.write_shift(2,60),d=0;d+(o[c]||8224)<=8224;)d+=o[c]||8224,c++;f.write_shift(2,d),n.push(t.slice(u,u+d)),u+=d}}}function em(n,e,t){return n||(n=ot(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Die(n,e,t,r){var i=ot(9);return em(i,n,e),WU(t,r||"b",i),i}function jie(n,e,t){var r=ot(8+2*t.length);return em(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Mie(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?wo(Ga(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Lt(n,2,JZ(t,r,i)):Lt(n,3,XZ(t,r,i));return;case"b":case"e":Lt(n,5,Die(t,r,e.v,e.t));return;case"s":case"str":Lt(n,4,jie(t,r,(e.v||"").slice(0,255)));return}Lt(n,1,em(null,t,r))}function Pie(n,e,t,r){var i=Array.isArray(e),s=Kr(e["!ref"]||"A1"),o,c="",u=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Zi(s)}for(var d=s.s.r;d<=s.e.r;++d){c=Ys(d);for(var f=s.s.c;f<=s.e.c;++f){d===s.s.r&&(u[f]=wa(f)),o=u[f]+c;var g=i?(e[d]||[])[f]:e[o];g&&Mie(n,g,d,f)}}}function Oie(n,e){for(var t=e||{},r=vo(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Lt(r,t.biff==4?1033:t.biff==3?521:9,H_(n,16,t)),Pie(r,n.Sheets[n.SheetNames[i]],i,t),Lt(r,10),r.end()}function Qie(n,e,t){Lt(n,49,RZ({sz:12,name:"Arial"},t))}function Hie(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Lt(n,1054,jZ(i,e[i],t))})}function Vie(n,e){var t=ot(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Lt(n,2151,t),t=ot(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),JU(Kr(e["!ref"]||"A1"),t),t.write_shift(4,4),Lt(n,2152,t)}function zie(n,e){for(var t=0;t<16;++t)Lt(n,224,CT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Lt(n,224,CT(r,0,e))})}function Gie(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Lt(n,440,GZ(r)),r[1].Tooltip&&Lt(n,2048,KZ(r))}delete e["!links"]}function Kie(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Lt(n,125,WZ(ry(i,r),i))})}}function qie(n,e,t,r,i){var s=16+Rd(i.cellXfs,e,i);if(e.v==null&&!e.bf){Lt(n,513,_h(t,r,s));return}if(e.bf)Lt(n,6,mne(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?wo(Ga(e.v)):e.v;Lt(n,515,QZ(t,r,o,s));break;case"b":case"e":Lt(n,517,OZ(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var c=q_(i.Strings,e.v,i.revStrings);Lt(n,253,LZ(t,r,c,s))}else Lt(n,516,DZ(t,r,(e.v||"").slice(0,255),s,i));break;default:Lt(n,513,_h(t,r,s))}}function $ie(n,e,t){var r=vo(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},c=(o.Sheets||[])[n]||{},u=Array.isArray(s),d=e.biff==8,f,g="",m=[],v=Kr(s["!ref"]||"A1"),C=d?65536:16384;if(v.e.c>255||v.e.r>=C){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,C-1)}Lt(r,2057,H_(t,16,e)),Lt(r,13,ml(1)),Lt(r,12,ml(100)),Lt(r,15,Ha(!0)),Lt(r,17,Ha(!1)),Lt(r,16,bh(.001)),Lt(r,95,Ha(!0)),Lt(r,42,Ha(!1)),Lt(r,43,Ha(!1)),Lt(r,130,ml(1)),Lt(r,128,PZ()),Lt(r,131,Ha(!1)),Lt(r,132,Ha(!1)),d&&Kie(r,s["!cols"]),Lt(r,512,MZ(v,e)),d&&(s["!links"]=[]);for(var _=v.s.r;_<=v.e.r;++_){g=Ys(_);for(var E=v.s.c;E<=v.e.c;++E){_===v.s.r&&(m[E]=wa(E)),f=m[E]+g;var T=u?(s[_]||[])[E]:s[f];T&&(qie(r,T,_,E,e),d&&T.l&&s["!links"].push([f,T.l]))}}var k=c.CodeName||c.name||i;return d&&Lt(r,574,UZ((o.Views||[])[0])),d&&(s["!merges"]||[]).length&&Lt(r,229,zZ(s["!merges"])),d&&Gie(r,s),Lt(r,442,XU(k)),d&&Vie(r,s),Lt(r,10),r.end()}function Wie(n,e,t){var r=vo(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},c=t.biff==8,u=t.biff==5;if(Lt(r,2057,H_(n,5,t)),t.bookType=="xla"&&Lt(r,135),Lt(r,225,c?ml(1200):null),Lt(r,193,yZ(2)),u&&Lt(r,191),u&&Lt(r,192),Lt(r,226),Lt(r,92,TZ("SheetJS",t)),Lt(r,66,ml(c?1200:1252)),c&&Lt(r,353,ml(0)),c&&Lt(r,448),Lt(r,317,YZ(n.SheetNames.length)),c&&n.vbaraw&&Lt(r,211),c&&n.vbaraw){var d=o.CodeName||"ThisWorkbook";Lt(r,442,XU(d))}Lt(r,156,ml(17)),Lt(r,25,Ha(!1)),Lt(r,18,Ha(!1)),Lt(r,19,ml(0)),c&&Lt(r,431,Ha(!1)),c&&Lt(r,444,ml(0)),Lt(r,61,FZ()),Lt(r,64,Ha(!1)),Lt(r,141,ml(0)),Lt(r,34,Ha(eie(n)=="true")),Lt(r,14,Ha(!0)),c&&Lt(r,439,Ha(!1)),Lt(r,218,ml(0)),Qie(r,n,t),Hie(r,n.SSF,t),zie(r,t),c&&Lt(r,352,Ha(!1));var f=r.end(),g=vo();c&&Lt(g,140,qZ()),c&&t.Strings&&Lie(g,252,kZ(t.Strings)),Lt(g,10);var m=g.end(),v=vo(),C=0,_=0;for(_=0;_<n.SheetNames.length;++_)C+=(c?12:11)+(c?2:1)*n.SheetNames[_].length;var E=f.length+C+m.length;for(_=0;_<n.SheetNames.length;++_){var T=s[_]||{};Lt(v,133,IZ({pos:E,hs:T.Hidden||0,dt:0,name:n.SheetNames[_]},t)),E+=e[_].length}var k=v.end();if(C!=k.length)throw new Error("BS8 "+C+" != "+k.length);var P=[];return f.length&&P.push(f),k.length&&P.push(k),m.length&&P.push(m),qs(P)}function Yie(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=bo(yi)),n&&n.SSF&&(Jv(),Xv(n.SSF),t.revssf=Zv(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,$_(t),t.cellXfs=[],Rd(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=$ie(i,t,n);return r.unshift(Wie(n,r,t)),qs(r)}function CR(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=qo(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Yie(n,e);case 4:case 3:case 2:return Oie(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Xie(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var c=0,u=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>o)&&!(i[d].e.r<t||i[d].e.c<o)){if(i[d].s.r<t||i[d].s.c<o){c=-1;break}c=i[d].e.r-i[d].s.r+1,u=i[d].e.c-i[d].s.c+1;break}if(!(c<0)){var f=Cr({r:t,c:o}),g=r.dense?(n[t]||[])[o]:n[f],m=g&&g.v!=null&&(g.h||BJ(g.w||(eu(g),g.w)||""))||"",v={};c>1&&(v.rowspan=c),u>1&&(v.colspan=u),r.editable?m='<span contenteditable="true">'+m+"</span>":g&&(v["data-t"]=g&&g.t||"z",g.v!=null&&(v["data-v"]=g.v),g.z!=null&&(v["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+g.l.Target+'">'+m+"</a>")),v.id=(r.id||"sjs")+"-"+f,s.push(Ut("td",m,v))}}var C="<tr>";return C+s.join("")+"</tr>"}var Jie='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Zie="</body></html>";function ese(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function ER(n,e){var t=e||{},r=t.header!=null?t.header:Jie,i=t.footer!=null?t.footer:Zie,s=[r],o=qo(n["!ref"]);t.dense=Array.isArray(n),s.push(ese(n,o,t));for(var c=o.s.r;c<=o.e.r;++c)s.push(Xie(n,o,c,t));return s.push("</table>"+i),s.join("")}function NR(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Ss(r.origin):r.origin;i=o.r,s=o.c}var c=e.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,c.length),d={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var f=qo(n["!ref"]);d.s.r=Math.min(d.s.r,f.s.r),d.s.c=Math.min(d.s.c,f.s.c),d.e.r=Math.max(d.e.r,f.e.r),d.e.c=Math.max(d.e.c,f.e.c),i==-1&&(d.e.r=i=f.e.r+1)}var g=[],m=0,v=n["!rows"]||(n["!rows"]=[]),C=0,_=0,E=0,T=0,k=0,P=0;for(n["!cols"]||(n["!cols"]=[]);C<c.length&&_<u;++C){var z=c[C];if(kT(z)){if(r.display)continue;v[_]={hidden:!0}}var Y=z.children;for(E=T=0;E<Y.length;++E){var Z=Y[E];if(!(r.display&&kT(Z))){var R=Z.hasAttribute("data-v")?Z.getAttribute("data-v"):Z.hasAttribute("v")?Z.getAttribute("v"):FJ(Z.innerHTML),F=Z.getAttribute("data-z")||Z.getAttribute("z");for(m=0;m<g.length;++m){var M=g[m];M.s.c==T+s&&M.s.r<_+i&&_+i<=M.e.r&&(T=M.e.c+1-s,m=-1)}P=+Z.getAttribute("colspan")||1,((k=+Z.getAttribute("rowspan")||1)>1||P>1)&&g.push({s:{r:_+i,c:T+s},e:{r:_+i+(k||1)-1,c:T+s+(P||1)-1}});var G={t:"s",v:R},L=Z.getAttribute("data-t")||Z.getAttribute("t")||"";R!=null&&(R.length==0?G.t=L||"z":r.raw||R.trim().length==0||L=="s"||(R==="TRUE"?G={t:"b",v:!0}:R==="FALSE"?G={t:"b",v:!1}:isNaN(VA(R))?isNaN(Eg(R).getDate())||(G={t:"d",v:Ga(R)},r.cellDates||(G={t:"n",v:wo(G.v)}),G.z=r.dateNF||yi[14]):G={t:"n",v:VA(R)})),G.z===void 0&&F!=null&&(G.z=F);var Q="",j=Z.getElementsByTagName("A");if(j&&j.length)for(var re=0;re<j.length&&!(j[re].hasAttribute("href")&&(Q=j[re].getAttribute("href"),Q.charAt(0)!="#"));++re);Q&&Q.charAt(0)!="#"&&(G.l={Target:Q}),r.dense?(n[_+i]||(n[_+i]=[]),n[_+i][T+s]=G):n[Cr({c:T+s,r:_+i})]=G,d.e.c<T+s&&(d.e.c=T+s),T+=P}}++_}return g.length&&(n["!merges"]=(n["!merges"]||[]).concat(g)),d.e.r=Math.max(d.e.r,_-1+i),n["!ref"]=Zi(d),_>=u&&(n["!fullref"]=Zi((d.e.r=c.length-C+_-1+i,d))),n}function SR(n,e){var t=e||{},r=t.dense?[]:{};return NR(r,n,e)}function tse(n,e){return Th(SR(n,e),e)}function kT(n){var e="",t=nse(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function nse(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var rse=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Sg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return es+e}})(),FT=(function(){var n=function(s){return br(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,c){var u=[];u.push('      <table:table table:name="'+br(o.SheetNames[c])+`" table:style-name="ta1">
`);var d=0,f=0,g=qo(s["!ref"]||"A1"),m=s["!merges"]||[],v=0,C=Array.isArray(s);if(s["!cols"])for(f=0;f<=g.e.c;++f)u.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var _="",E=s["!rows"]||[];for(d=0;d<g.s.r;++d)_=E[d]?' table:style-name="ro'+E[d].ods+'"':"",u.push("        <table:table-row"+_+`></table:table-row>
`);for(;d<=g.e.r;++d){for(_=E[d]?' table:style-name="ro'+E[d].ods+'"':"",u.push("        <table:table-row"+_+`>
`),f=0;f<g.s.c;++f)u.push(e);for(;f<=g.e.c;++f){var T=!1,k={},P="";for(v=0;v!=m.length;++v)if(!(m[v].s.c>f)&&!(m[v].s.r>d)&&!(m[v].e.c<f)&&!(m[v].e.r<d)){(m[v].s.c!=f||m[v].s.r!=d)&&(T=!0),k["table:number-columns-spanned"]=m[v].e.c-m[v].s.c+1,k["table:number-rows-spanned"]=m[v].e.r-m[v].s.r+1;break}if(T){u.push(t);continue}var z=Cr({r:d,c:f}),Y=C?(s[d]||[])[f]:s[z];if(Y&&Y.f&&(k["table:formula"]=br(_ne(Y.f)),Y.F&&Y.F.slice(0,z.length)==z)){var Z=qo(Y.F);k["table:number-matrix-columns-spanned"]=Z.e.c-Z.s.c+1,k["table:number-matrix-rows-spanned"]=Z.e.r-Z.s.r+1}if(!Y){u.push(e);continue}switch(Y.t){case"b":P=Y.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=Y.v?"true":"false";break;case"n":P=Y.w||String(Y.v||0),k["office:value-type"]="float",k["office:value"]=Y.v||0;break;case"s":case"str":P=Y.v==null?"":Y.v,k["office:value-type"]="string";break;case"d":P=Y.w||Ga(Y.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Ga(Y.v).toISOString(),k["table:style-name"]="ce1";break;default:u.push(e);continue}var R=n(P);if(Y.l&&Y.l.Target){var F=Y.l.Target;F=F.charAt(0)=="#"?"#"+Cne(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),R=Ut("text:a",R,{"xlink:href":F.replace(/&/g,"&amp;")})}u.push("          "+Ut("table:table-cell",Ut("text:p",R,{}),k)+`
`)}u.push(`        </table:table-row>
`)}return u.push(`      </table:table>
`),u.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var f=0;f<d["!cols"].length;++f)if(d["!cols"][f]){var g=d["!cols"][f];if(g.width==null&&g.wpx==null&&g.wch==null)continue;V_(g),g.ods=c;var m=d["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++c}}});var u=0;o.SheetNames.map(function(d){return o.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var f=0;f<d["!rows"].length;++f)if(d["!rows"][f]){d["!rows"][f].ods=u;var g=d["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+u+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),s.push(`  </style:style>
`),++u}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,c){var u=[es],d=Sg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Sg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(u.push("<office:document"+d+f+`>
`),u.push(HU().replace(/office:document-meta/g,"office:meta"))):u.push("<office:document-content"+d+`>
`),i(u,o),u.push(`  <office:body>
`),u.push(`    <office:spreadsheet>
`);for(var g=0;g!=o.SheetNames.length;++g)u.push(r(o.Sheets[o.SheetNames[g]],o,g));return u.push(`    </office:spreadsheet>
`),u.push(`  </office:body>
`),c.bookType=="fods"?u.push("</office:document>"):u.push("</office:document-content>"),u.join("")}})();function BR(n,e){if(e.bookType=="fods")return FT(n,e);var t=F_(),r="",i=[],s=[];return r="mimetype",Fn(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Fn(t,r,FT(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Fn(t,r,rse(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Fn(t,r,es+HU()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Fn(t,r,pZ(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Fn(t,r,hZ(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Y1(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function ise(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Zl(Ng(n))}function sse(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function _d(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function ase(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Bg(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function yr(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function r0(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function hs(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Bg(n,t),s=i&7;i=Math.floor(i/8);var o=0,c;if(i==0)break;switch(s){case 0:{for(var u=t[0];n[t[0]++]>=128;);c=n.slice(u,t[0])}break;case 5:o=4,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=Bg(n,t),c=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var d={data:c,type:s};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Hs(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(yr(r*8+i.type)),i.type==2&&e.push(yr(i.data.length)),e.push(i.data))})}),_d(e)}function $l(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Bg(n,r),s=hs(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:r0(s[1][0].data),messages:[]};s[2].forEach(function(c){var u=hs(c.data),d=r0(u[3][0].data);o.messages.push({meta:u,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=s[3])!=null&&e[0]&&(o.merge=r0(s[3][0].data)>>>0>0),t.push(o)}return t}function vf(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:yr(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:yr(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:yr(o.data.length)}],r[2].push({data:Hs(o.meta),type:2})});var s=Hs(r);e.push(yr(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),_d(e)}function ose(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Bg(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var c=o-59;o=e[t[0]],c>1&&(o|=e[t[0]+1]<<8),c>2&&(o|=e[t[0]+2]<<16),c>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=c}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var u=0,d=0;if(s==1?(d=(e[t[0]]>>2&7)+4,u=(e[t[0]++]&224)<<3,u|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,s==2?(u=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(u=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[_d(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(d>=u)for(i.push(i[0].slice(-u)),d-=u;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-u,-u+d))}}var f=_d(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function Wl(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(ose(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return _d(e)}function yf(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=yr(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return _d(e)}function iw(n,e){var t=new Uint8Array(32),r=Y1(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,ase(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function sw(n,e){var t=new Uint8Array(32),r=Y1(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Ou(n){var e=hs(n);return Bg(e[1][0].data)}function lse(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&r0(n[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var u=0,d=Y1(n[7][0].data),f=0,g=[],m=Y1(n[4][0].data),v=0,C=[],_=0;_<e.length;++_){if(e[_]==null){d.setUint16(_*2,65535,!0),m.setUint16(_*2,65535);continue}d.setUint16(_*2,f,!0),m.setUint16(_*2,v,!0);var E,T;switch(typeof e[_]){case"string":E=iw({t:"s",v:e[_]},t),T=sw({t:"s",v:e[_]},t);break;case"number":E=iw({t:"n",v:e[_]},t),T=sw({t:"n",v:e[_]},t);break;case"boolean":E=iw({t:"b",v:e[_]},t),T=sw({t:"b",v:e[_]},t);break;default:throw new Error("Unsupported value "+e[_])}g.push(E),f+=E.length,C.push(T),v+=T.length,++u}for(n[2][0].data=yr(u);_<n[7][0].data.length/2;++_)d.setUint16(_*2,65535,!0),m.setUint16(_*2,65535,!0);return n[6][0].data=_d(g),n[3][0].data=_d(C),u}function cse(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=qo(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Zi(r)));var s=X1(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(V){typeof V=="string"&&o.push(V)})});var c={},u=[],d=kr.read(e.numbers,{type:"base64"});d.FileIndex.map(function(H,V){return[H,d.FullPaths[V]]}).forEach(function(H){var V=H[0],J=H[1];if(V.type==2&&V.name.match(/\.iwa/)){var q=V.content,te=Wl(q),xe=$l(te);xe.forEach(function(ue){u.push(ue.id),c[ue.id]={deps:[],location:J,type:r0(ue.messages[0].meta[1][0].data)}})}}),u.sort(function(H,V){return H-V});var f=u.filter(function(H){return H>1}).map(function(H){return[H,yr(H)]});d.FileIndex.map(function(H,V){return[H,d.FullPaths[V]]}).forEach(function(H){var V=H[0];if(H[1],!!V.name.match(/\.iwa/)){var J=$l(Wl(V.content));J.forEach(function(q){q.messages.forEach(function(te){f.forEach(function(xe){q.messages.some(function(ue){return r0(ue.meta[1][0].data)!=11006&&sse(ue.data,xe[1])})&&c[xe[0]].deps.push(q.id)})})})}});for(var g=kr.find(d,c[1].location),m=$l(Wl(g.content)),v,C=0;C<m.length;++C){var _=m[C];_.id==1&&(v=_)}var E=Ou(hs(v.messages[0].data)[1][0].data);for(g=kr.find(d,c[E].location),m=$l(Wl(g.content)),C=0;C<m.length;++C)_=m[C],_.id==E&&(v=_);for(E=Ou(hs(v.messages[0].data)[2][0].data),g=kr.find(d,c[E].location),m=$l(Wl(g.content)),C=0;C<m.length;++C)_=m[C],_.id==E&&(v=_);for(E=Ou(hs(v.messages[0].data)[2][0].data),g=kr.find(d,c[E].location),m=$l(Wl(g.content)),C=0;C<m.length;++C)_=m[C],_.id==E&&(v=_);var T=hs(v.messages[0].data);{T[6][0].data=yr(r.e.r+1),T[7][0].data=yr(r.e.c+1);var k=Ou(T[46][0].data),P=kr.find(d,c[k].location),z=$l(Wl(P.content));{for(var Y=0;Y<z.length&&z[Y].id!=k;++Y);if(z[Y].id!=k)throw"Bad ColumnRowUIDMapArchive";var Z=hs(z[Y].messages[0].data);Z[1]=[],Z[2]=[],Z[3]=[];for(var R=0;R<=r.e.c;++R){var F=[];F[1]=F[2]=[{type:0,data:yr(R+420690)}],Z[1].push({type:2,data:Hs(F)}),Z[2].push({type:0,data:yr(R)}),Z[3].push({type:0,data:yr(R)})}Z[4]=[],Z[5]=[],Z[6]=[];for(var M=0;M<=r.e.r;++M)F=[],F[1]=F[2]=[{type:0,data:yr(M+726270)}],Z[4].push({type:2,data:Hs(F)}),Z[5].push({type:0,data:yr(M)}),Z[6].push({type:0,data:yr(M)});z[Y].messages[0].data=Hs(Z)}P.content=yf(vf(z)),P.size=P.content.length,delete T[46];var G=hs(T[4][0].data);{G[7][0].data=yr(r.e.r+1);var L=hs(G[1][0].data),Q=Ou(L[2][0].data);P=kr.find(d,c[Q].location),z=$l(Wl(P.content));{if(z[0].id!=Q)throw"Bad HeaderStorageBucket";var j=hs(z[0].messages[0].data);for(M=0;M<s.length;++M){var re=hs(j[2][0].data);re[1][0].data=yr(M),re[4][0].data=yr(s[M].length),j[2][M]={type:j[2][0].type,data:Hs(re)}}z[0].messages[0].data=Hs(j)}P.content=yf(vf(z)),P.size=P.content.length;var fe=Ou(G[2][0].data);P=kr.find(d,c[fe].location),z=$l(Wl(P.content));{if(z[0].id!=fe)throw"Bad HeaderStorageBucket";for(j=hs(z[0].messages[0].data),R=0;R<=r.e.c;++R)re=hs(j[2][0].data),re[1][0].data=yr(R),re[4][0].data=yr(r.e.r+1),j[2][R]={type:j[2][0].type,data:Hs(re)};z[0].messages[0].data=Hs(j)}P.content=yf(vf(z)),P.size=P.content.length;var ie=Ou(G[4][0].data);(function(){for(var H=kr.find(d,c[ie].location),V=$l(Wl(H.content)),J,q=0;q<V.length;++q){var te=V[q];te.id==ie&&(J=te)}var xe=hs(J.messages[0].data);{xe[3]=[];var ue=[];o.forEach(function(Pe,We){ue[1]=[{type:0,data:yr(We)}],ue[2]=[{type:0,data:yr(1)}],ue[3]=[{type:2,data:ise(Pe)}],xe[3].push({type:2,data:Hs(ue)})})}J.messages[0].data=Hs(xe);var be=vf(V),Ve=yf(be);H.content=Ve,H.size=H.content.length})();var Ae=hs(G[3][0].data);{var me=Ae[1][0];delete Ae[2];var _e=hs(me.data);{var we=Ou(_e[2][0].data);(function(){for(var H=kr.find(d,c[we].location),V=$l(Wl(H.content)),J,q=0;q<V.length;++q){var te=V[q];te.id==we&&(J=te)}var xe=hs(J.messages[0].data);{delete xe[6],delete Ae[7];var ue=new Uint8Array(xe[5][0].data);xe[5]=[];for(var be=0,Ve=0;Ve<=r.e.r;++Ve){var Pe=hs(ue);be+=lse(Pe,s[Ve],o),Pe[1][0].data=yr(Ve),xe[5].push({data:Hs(Pe),type:2})}xe[1]=[{type:0,data:yr(r.e.c+1)}],xe[2]=[{type:0,data:yr(r.e.r+1)}],xe[3]=[{type:0,data:yr(be)}],xe[4]=[{type:0,data:yr(r.e.r+1)}]}J.messages[0].data=Hs(xe);var We=vf(V),nt=yf(We);H.content=nt,H.size=H.content.length})()}me.data=Hs(_e)}G[3][0].data=Hs(Ae)}T[4][0].data=Hs(G)}v.messages[0].data=Hs(T);var ee=vf(m),U=yf(ee);return g.content=U,g.size=g.content.length,d}function Ase(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function $_(n){Ase([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function use(n,e){return e.bookType=="ods"?BR(n,e):e.bookType=="numbers"?cse(n,e):e.bookType=="xlsb"?dse(n,e):hse(n,e)}function dse(n,e){zf=1024,n&&!n.SSF&&(n.SSF=bo(yi)),n&&n.SSF&&(Jv(),Xv(n.SSF),e.revssf=Zv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ig?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=AR.indexOf(e.bookType)>-1,i=PU();$_(e=e||{});var s=F_(),o="",c=0;if(e.cellXfs=[],Rd(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Fn(s,o,VU(n.Props,e)),i.coreprops.push(o),wr(e.rels,2,o,or.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(n.SheetNames[d]);n.Props.SheetNames=u}for(n.Props.Worksheets=n.Props.SheetNames.length,Fn(s,o,GU(n.Props)),i.extprops.push(o),wr(e.rels,3,o,or.EXT_PROPS),n.Custprops!==n.Props&&Js(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Fn(s,o,KU(n.Custprops)),i.custprops.push(o),wr(e.rels,4,o,or.CUST_PROPS)),c=1;c<=n.SheetNames.length;++c){var f={"!id":{}},g=n.Sheets[n.SheetNames[c-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,Fn(s,o,pie(c-1,o,e,n,f)),i.sheets.push(o),wr(e.wbrels,-1,"worksheets/sheet"+c+"."+t,or.WS[0])}if(g){var v=g["!comments"],C=!1,_="";v&&v.length>0&&(_="xl/comments"+c+"."+t,Fn(s,_,xie(v,_)),i.comments.push(_),wr(f,-1,"../comments"+c+"."+t,or.CMNT),C=!0),g["!legacy"]&&C&&Fn(s,"xl/drawings/vmlDrawing"+c+".vml",lR(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&Fn(s,QU(o),t0(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Fn(s,o,mie(e.Strings,o,e)),i.strs.push(o),wr(e.wbrels,-1,"sharedStrings."+t,or.SST)),o="xl/workbook."+t,Fn(s,o,fie(n,o)),i.workbooks.push(o),wr(e.rels,1,o,or.WB),o="xl/theme/theme1.xml",Fn(s,o,aR(n.Themes,e)),i.themes.push(o),wr(e.wbrels,-1,"theme/theme1.xml",or.THEME),o="xl/styles."+t,Fn(s,o,gie(n,o,e)),i.styles.push(o),wr(e.wbrels,-1,"styles."+t,or.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Fn(s,o,n.vbaraw),i.vba.push(o),wr(e.wbrels,-1,"vbaProject.bin",or.VBA)),o="xl/metadata."+t,Fn(s,o,vie(o)),i.metadata.push(o),wr(e.wbrels,-1,"metadata."+t,or.XLMETA),Fn(s,"[Content_Types].xml",OU(i,e)),Fn(s,"_rels/.rels",t0(e.rels)),Fn(s,"xl/_rels/workbook."+t+".rels",t0(e.wbrels)),delete e.revssf,delete e.ssf,s}function hse(n,e){zf=1024,n&&!n.SSF&&(n.SSF=bo(yi)),n&&n.SSF&&(Jv(),Xv(n.SSF),e.revssf=Zv(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ig?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=AR.indexOf(e.bookType)>-1,i=PU();$_(e=e||{});var s=F_(),o="",c=0;if(e.cellXfs=[],Rd(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",Fn(s,o,VU(n.Props,e)),i.coreprops.push(o),wr(e.rels,2,o,or.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var u=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&u.push(n.SheetNames[d]);n.Props.SheetNames=u}n.Props.Worksheets=n.Props.SheetNames.length,Fn(s,o,GU(n.Props)),i.extprops.push(o),wr(e.rels,3,o,or.EXT_PROPS),n.Custprops!==n.Props&&Js(n.Custprops||{}).length>0&&(o="docProps/custom.xml",Fn(s,o,KU(n.Custprops)),i.custprops.push(o),wr(e.rels,4,o,or.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,c=1;c<=n.SheetNames.length;++c){var g={"!id":{}},m=n.Sheets[n.SheetNames[c-1]],v=(m||{})["!type"]||"sheet";switch(v){case"chart":default:o="xl/worksheets/sheet"+c+"."+t,Fn(s,o,vR(c-1,e,n,g)),i.sheets.push(o),wr(e.wbrels,-1,"worksheets/sheet"+c+"."+t,or.WS[0])}if(m){var C=m["!comments"],_=!1,E="";if(C&&C.length>0){var T=!1;C.forEach(function(k){k[1].forEach(function(P){P.T==!0&&(T=!0)})}),T&&(E="xl/threadedComments/threadedComment"+c+"."+t,Fn(s,E,zee(C,f,e)),i.threadedcomments.push(E),wr(g,-1,"../threadedComments/threadedComment"+c+"."+t,or.TCMNT)),E="xl/comments"+c+"."+t,Fn(s,E,cR(C)),i.comments.push(E),wr(g,-1,"../comments"+c+"."+t,or.CMNT),_=!0}m["!legacy"]&&_&&Fn(s,"xl/drawings/vmlDrawing"+c+".vml",lR(c,m["!comments"])),delete m["!comments"],delete m["!legacy"]}g["!id"].rId1&&Fn(s,QU(o),t0(g))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,Fn(s,o,eR(e.Strings,e)),i.strs.push(o),wr(e.wbrels,-1,"sharedStrings."+t,or.SST)),o="xl/workbook."+t,Fn(s,o,bR(n)),i.workbooks.push(o),wr(e.rels,1,o,or.WB),o="xl/theme/theme1.xml",Fn(s,o,aR(n.Themes,e)),i.themes.push(o),wr(e.wbrels,-1,"theme/theme1.xml",or.THEME),o="xl/styles."+t,Fn(s,o,iR(n,e)),i.styles.push(o),wr(e.wbrels,-1,"styles."+t,or.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",Fn(s,o,n.vbaraw),i.vba.push(o),wr(e.wbrels,-1,"vbaProject.bin",or.VBA)),o="xl/metadata."+t,Fn(s,o,oR()),i.metadata.push(o),wr(e.wbrels,-1,"metadata."+t,or.XLMETA),f.length>1&&(o="xl/persons/person.xml",Fn(s,o,Gee(f)),i.people.push(o),wr(e.wbrels,-1,"persons/person.xml",or.PEOPLE)),Fn(s,"[Content_Types].xml",OU(i,e)),Fn(s,"_rels/.rels",t0(e.rels)),Fn(s,"xl/_rels/workbook."+t+".rels",t0(e.wbrels)),delete e.revssf,delete e.ssf,s}function fse(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ZA(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function TR(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Yg(e.file,kr.write(n,{type:dr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kr.write(n,e)}function pse(n,e){var t=bo(e||{}),r=use(n,t);return gse(r,t)}function gse(n,e){var t={},r=dr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?kr.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Yv(i))}return e.password&&typeof encrypt_agile<"u"?TR(encrypt_agile(i,e.password),e):e.type==="file"?Yg(e.file,i):e.type=="string"?eg(i):i}function mse(n,e){var t=e||{},r=Uie(n,t);return TR(r,t)}function Oc(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Cg(Ng(r));case"binary":return Ng(r);case"string":return n;case"file":return Yg(e.file,r,"utf8");case"buffer":return dr?su(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Oc(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function xse(n,e){switch(e.type){case"base64":return Cg(n);case"binary":return n;case"string":return n;case"file":return Yg(e.file,n,"binary");case"buffer":return dr?su(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dx(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Cg(t):e.type=="string"?eg(t):t;case"file":return Yg(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function IR(n,e){KX(),rie(n);var t=bo(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=IR(n,t);return t.type="array",Yv(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Oc(kie(n,t),t);case"slk":case"sylk":return Oc(eee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Oc(ER(n.Sheets[n.SheetNames[i]],t),t);case"txt":return xse(kR(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Oc(W_(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Oc(tee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return dx(ZZ.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Oc(nee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Oc(cee.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Oc(ZU.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Oc(BR(n,t),t);case"wk1":return dx(ET.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return dx(ET.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),dx(CR(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),mse(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return pse(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function vse(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function yse(n,e,t){var r={};return r.type="file",r.file=e,vse(r),IR(n,r)}function wse(n,e,t,r,i,s,o,c){var u=Ys(t),d=c.defval,f=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:t,enumerable:!1})}catch{m.__rowNum__=t}else m.__rowNum__=t;if(!o||n[t])for(var v=e.s.c;v<=e.e.c;++v){var C=o?n[t][v]:n[r[v]+u];if(C===void 0||C.t===void 0){if(d===void 0)continue;s[v]!=null&&(m[s[v]]=d);continue}var _=C.v;switch(C.t){case"z":if(_==null)break;continue;case"e":_=_==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(s[v]!=null){if(_==null)if(C.t=="e"&&_===null)m[s[v]]=null;else if(d!==void 0)m[s[v]]=d;else if(f&&_===null)m[s[v]]=null;else continue;else m[s[v]]=f&&(C.t!=="n"||C.t==="n"&&c.rawNumbers!==!1)?_:eu(C,_,c);_!=null&&(g=!1)}}return{row:m,isempty:g}}function X1(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,c="",u={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},f=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof f){case"string":u=Kr(f);break;case"number":u=Kr(n["!ref"]),u.s.r=f;break;default:u=f}r>0&&(i=0);var g=Ys(u.s.r),m=[],v=[],C=0,_=0,E=Array.isArray(n),T=u.s.r,k=0,P={};E&&!n[T]&&(n[T]=[]);var z=d.skipHidden&&n["!cols"]||[],Y=d.skipHidden&&n["!rows"]||[];for(k=u.s.c;k<=u.e.c;++k)if(!(z[k]||{}).hidden)switch(m[k]=wa(k),t=E?n[T][k]:n[m[k]+g],r){case 1:s[k]=k-u.s.c;break;case 2:s[k]=m[k];break;case 3:s[k]=d.header[k-u.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),c=o=eu(t,null,d),_=P[o]||0,!_)P[o]=1;else{do c=o+"_"+_++;while(P[c]);P[o]=_,P[c]=1}s[k]=c}for(T=u.s.r+i;T<=u.e.r;++T)if(!(Y[T]||{}).hidden){var Z=wse(n,u,T,m,r,s,E,d);(Z.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(v[C++]=Z.row)}return v.length=C,v}var UT=/"/g;function bse(n,e,t,r,i,s,o,c){for(var u=!0,d=[],f="",g=Ys(t),m=e.s.c;m<=e.e.c;++m)if(r[m]){var v=c.dense?(n[t]||[])[m]:n[r[m]+g];if(v==null)f="";else if(v.v!=null){u=!1,f=""+(c.rawNumbers&&v.t=="n"?v.v:eu(v,null,c));for(var C=0,_=0;C!==f.length;++C)if((_=f.charCodeAt(C))===i||_===s||_===34||c.forceQuotes){f='"'+f.replace(UT,'""')+'"';break}f=="ID"&&(f='"ID"')}else v.f!=null&&!v.F?(u=!1,f="="+v.f,f.indexOf(",")>=0&&(f='"'+f.replace(UT,'""')+'"')):f="";d.push(f)}return c.blankrows===!1&&u?null:d.join(o)}function W_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=Kr(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,u=c.charCodeAt(0),d=new RegExp((s=="|"?"\\|":s)+"+$"),f="",g=[];r.dense=Array.isArray(n);for(var m=r.skipHidden&&n["!cols"]||[],v=r.skipHidden&&n["!rows"]||[],C=i.s.c;C<=i.e.c;++C)(m[C]||{}).hidden||(g[C]=wa(C));for(var _=0,E=i.s.r;E<=i.e.r;++E)(v[E]||{}).hidden||(f=bse(n,i,E,g,o,u,s,r),f!=null&&(r.strip&&(f=f.replace(d,"")),(f||r.blankrows!==!1)&&t.push((_++?c:"")+f)));return delete r.dense,t.join("")}function kR(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=W_(n,e);return t}function _se(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=Kr(n["!ref"]),s="",o=[],c,u=[],d=Array.isArray(n);for(c=i.s.c;c<=i.e.c;++c)o[c]=wa(c);for(var f=i.s.r;f<=i.e.r;++f)for(s=Ys(f),c=i.s.c;c<=i.e.c;++c)if(e=o[c]+s,t=d?(n[f]||[])[c]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}u[u.length]=e+"="+r}return u}function FR(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var u=typeof r.origin=="string"?Ss(r.origin):r.origin;o=u.r,c=u.c}var d,f={s:{c:0,r:0},e:{c,r:o+e.length-1+i}};if(s["!ref"]){var g=Kr(s["!ref"]);f.e.c=Math.max(f.e.c,g.e.c),f.e.r=Math.max(f.e.r,g.e.r),o==-1&&(o=g.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var m=r.header||[],v=0;e.forEach(function(_,E){Js(_).forEach(function(T){(v=m.indexOf(T))==-1&&(m[v=m.length]=T);var k=_[T],P="z",z="",Y=Cr({c:c+v,r:o+E+i});d=Tg(s,Y),k&&typeof k=="object"&&!(k instanceof Date)?s[Y]=k:(typeof k=="number"?P="n":typeof k=="boolean"?P="b":typeof k=="string"?P="s":k instanceof Date?(P="d",r.cellDates||(P="n",k=wo(k)),z=r.dateNF||yi[14]):k===null&&r.nullError&&(P="e",k=0),d?(d.t=P,d.v=k,delete d.w,delete d.R,z&&(d.z=z)):s[Y]=d={t:P,v:k},z&&(d.z=z))})}),f.e.c=Math.max(f.e.c,c+m.length-1);var C=Ys(o);if(i)for(v=0;v<m.length;++v)s[wa(v+c)+C]={t:"s",v:m[v]};return s["!ref"]=Zi(f),s}function Cse(n,e){return FR(null,n,e)}function Tg(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Ss(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Tg(n,Cr(e)):Tg(n,Cr({r:e,c:t||0}))}function Ese(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Nse(){return{SheetNames:[],Sheets:{}}}function Sse(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(wR(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Bse(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Ese(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Tse(n,e){return n.z=e,n}function UR(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Ise(n,e,t){return UR(n,"#"+e,t)}function kse(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Fse(n,e,t,r){for(var i=typeof e!="string"?e:Kr(e),s=typeof e=="string"?e:Zi(e),o=i.s.r;o<=i.e.r;++o)for(var c=i.s.c;c<=i.e.c;++c){var u=Tg(n,o,c);u.t="n",u.F=s,delete u.v,o==i.s.r&&c==i.s.c&&(u.f=t,r&&(u.D=!0))}return n}var aw={encode_col:wa,encode_row:Ys,encode_cell:Cr,encode_range:Zi,decode_col:M_,decode_row:j_,split_cell:KJ,decode_cell:Ss,decode_range:qo,format_cell:eu,sheet_add_aoa:UU,sheet_add_json:FR,sheet_add_dom:NR,aoa_to_sheet:j0,json_to_sheet:Cse,table_to_sheet:SR,table_to_book:tse,sheet_to_csv:W_,sheet_to_txt:kR,sheet_to_json:X1,sheet_to_html:ER,sheet_to_formulae:_se,sheet_to_row_object_array:X1,sheet_get_cell:Tg,book_new:Nse,book_append_sheet:Sse,book_set_sheet_visibility:Bse,cell_set_number_format:Tse,cell_set_hyperlink:UR,cell_set_internal_link:Ise,cell_add_comment:kse,sheet_set_array_formula:Fse,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Use="modulepreload",Rse=function(n){return"/"+n},RT={},Tb=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=o(t.map(d=>{if(d=Rse(d),d in RT)return;RT[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":Use,f||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((v,C)=>{m.addEventListener("load",v),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function _r(n){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(n)}var mo=Uint8Array,Va=Uint16Array,Ig=Uint32Array,iy=new mo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sy=new mo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ib=new mo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RR=function(n,e){for(var t=new Va(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Ig(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},LR=RR(iy,2),DR=LR[0],kb=LR[1];DR[28]=258,kb[258]=28;var jR=RR(sy,0),Lse=jR[0],LT=jR[1],Fb=new Va(32768);for(var Gr=0;Gr<32768;++Gr){var Qu=(Gr&43690)>>>1|(Gr&21845)<<1;Qu=(Qu&52428)>>>2|(Qu&13107)<<2,Qu=(Qu&61680)>>>4|(Qu&3855)<<4,Fb[Gr]=((Qu&65280)>>>8|(Qu&255)<<8)>>>1}var Xc=(function(n,e,t){for(var r=n.length,i=0,s=new Va(e);i<r;++i)++s[n[i]-1];var o=new Va(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var c;if(t){c=new Va(1<<e);var u=15-e;for(i=0;i<r;++i)if(n[i])for(var d=i<<4|n[i],f=e-n[i],g=o[n[i]-1]++<<f,m=g|(1<<f)-1;g<=m;++g)c[Fb[g]>>>u]=d}else for(c=new Va(r),i=0;i<r;++i)c[i]=Fb[o[n[i]-1]++]>>>15-n[i];return c}),Cd=new mo(288);for(var Gr=0;Gr<144;++Gr)Cd[Gr]=8;for(var Gr=144;Gr<256;++Gr)Cd[Gr]=9;for(var Gr=256;Gr<280;++Gr)Cd[Gr]=7;for(var Gr=280;Gr<288;++Gr)Cd[Gr]=8;var kg=new mo(32);for(var Gr=0;Gr<32;++Gr)kg[Gr]=5;var Dse=Xc(Cd,9,0),jse=Xc(Cd,9,1),Mse=Xc(kg,5,0),Pse=Xc(kg,5,1),ow=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Yl=function(n,e,t){var r=e/8>>0;return(n[r]|n[r+1]<<8)>>>(e&7)&t},lw=function(n,e){var t=e/8>>0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>>(e&7)},Y_=function(n){return(n/8>>0)+(n&7&&1)},MR=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Va?Va:n instanceof Ig?Ig:mo)(t-e);return r.set(n.subarray(e,t)),r},Ose=function(n,e,t){var r=n.length,i=!e||t,s=!t||t.i;t||(t={}),e||(e=new mo(r*3));var o=function(q){var te=e.length;if(q>te){var xe=new mo(Math.max(te*2,q));xe.set(e),e=xe}},c=t.f||0,u=t.p||0,d=t.b||0,f=t.l,g=t.d,m=t.m,v=t.n,C=r*8;do{if(!f){t.f=c=Yl(n,u,1);var _=Yl(n,u+1,3);if(u+=3,_)if(_==1)f=jse,g=Pse,m=9,v=5;else if(_==2){var P=Yl(n,u,31)+257,z=Yl(n,u+10,15)+4,Y=P+Yl(n,u+5,31)+1;u+=14;for(var Z=new mo(Y),R=new mo(19),F=0;F<z;++F)R[Ib[F]]=Yl(n,u+F*3,7);u+=z*3;var M=ow(R),G=(1<<M)-1;if(!s&&u+Y*(M+7)>C)break;for(var L=Xc(R,M,1),F=0;F<Y;){var Q=L[Yl(n,u,G)];u+=Q&15;var E=Q>>>4;if(E<16)Z[F++]=E;else{var j=0,re=0;for(E==16?(re=3+Yl(n,u,3),u+=2,j=Z[F-1]):E==17?(re=3+Yl(n,u,7),u+=3):E==18&&(re=11+Yl(n,u,127),u+=7);re--;)Z[F++]=j}}var fe=Z.subarray(0,P),ie=Z.subarray(P);m=ow(fe),v=ow(ie),f=Xc(fe,m,1),g=Xc(ie,v,1)}else throw"invalid block type";else{var E=Y_(u)+4,T=n[E-4]|n[E-3]<<8,k=E+T;if(k>r){if(s)throw"unexpected EOF";break}i&&o(d+T),e.set(n.subarray(E,k),d),t.b=d+=T,t.p=u=k*8;continue}if(u>C)throw"unexpected EOF"}i&&o(d+131072);for(var Ae=(1<<m)-1,me=(1<<v)-1,_e=m+v+18;s||u+_e<C;){var j=f[lw(n,u)&Ae],we=j>>>4;if(u+=j&15,u>C)throw"unexpected EOF";if(!j)throw"invalid length/literal";if(we<256)e[d++]=we;else if(we==256){f=null;break}else{var ee=we-254;if(we>264){var F=we-257,U=iy[F];ee=Yl(n,u,(1<<U)-1)+DR[F],u+=U}var H=g[lw(n,u)&me],V=H>>>4;if(!H)throw"invalid distance";u+=H&15;var ie=Lse[V];if(V>3){var U=sy[V];ie+=lw(n,u)&(1<<U)-1,u+=U}if(u>C)throw"unexpected EOF";i&&o(d+131072);for(var J=d+ee;d<J;d+=4)e[d]=e[d-ie],e[d+1]=e[d+1-ie],e[d+2]=e[d+2-ie],e[d+3]=e[d+3-ie];d=J}}t.l=f,t.p=u,t.b=d,f&&(c=1,t.m=m,t.d=g,t.n=v)}while(!c);return d==e.length?e:MR(e,0,d)},RA=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8},Np=function(n,e,t){t<<=e&7;var r=e/8>>0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},cw=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return[new mo(0),0];if(i==1){var o=new mo(t[0].s+1);return o[t[0].s]=1,[o,1]}t.sort(function(Y,Z){return Y.f-Z.f}),t.push({s:-1,f:25001});var c=t[0],u=t[1],d=0,f=1,g=2;for(t[0]={s:-1,f:c.f+u.f,l:c,r:u};f!=i-1;)c=t[t[d].f<t[g].f?d++:g++],u=t[d!=f&&t[d].f<t[g].f?d++:g++],t[f++]={s:-1,f:c.f+u.f,l:c,r:u};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var v=new Va(m+1),C=Ub(t[f-1],v,0);if(C>e){var r=0,_=0,E=C-e,T=1<<E;for(s.sort(function(Z,R){return v[R.s]-v[Z.s]||Z.f-R.f});r<i;++r){var k=s[r].s;if(v[k]>e)_+=T-(1<<C-v[k]),v[k]=e;else break}for(_>>>=E;_>0;){var P=s[r].s;v[P]<e?_-=1<<e-v[P]++-1:++r}for(;r>=0&&_;--r){var z=s[r].s;v[z]==e&&(--v[z],++_)}C=e}return[new mo(v),C]},Ub=function(n,e,t){return n.s==-1?Math.max(Ub(n.l,e,t+1),Ub(n.r,e,t+1)):e[n.s]=t},DT=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Va(++e),r=0,i=n[0],s=1,o=function(u){t[r++]=u},c=1;c<=e;++c)if(n[c]==i&&c!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=n[c]}return[t.subarray(0,r),e]},Sp=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},Rb=function(n,e,t){var r=t.length,i=Y_(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},jT=function(n,e,t,r,i,s,o,c,u,d,f){RA(e,f++,t),++i[256];for(var g=cw(i,15),m=g[0],v=g[1],C=cw(s,15),_=C[0],E=C[1],T=DT(m),k=T[0],P=T[1],z=DT(_),Y=z[0],Z=z[1],R=new Va(19),F=0;F<k.length;++F)R[k[F]&31]++;for(var F=0;F<Y.length;++F)R[Y[F]&31]++;for(var M=cw(R,7),G=M[0],L=M[1],Q=19;Q>4&&!G[Ib[Q-1]];--Q);var j=d+5<<3,re=Sp(i,Cd)+Sp(s,kg)+o,fe=Sp(i,m)+Sp(s,_)+o+14+3*Q+Sp(R,G)+(2*R[16]+3*R[17]+7*R[18]);if(j<=re&&j<=fe)return Rb(e,f,n.subarray(u,u+d));var ie,Ae,me,_e;if(RA(e,f,1+(fe<re)),f+=2,fe<re){ie=Xc(m,v,0),Ae=m,me=Xc(_,E,0),_e=_;var we=Xc(G,L,0);RA(e,f,P-257),RA(e,f+5,Z-1),RA(e,f+10,Q-4),f+=14;for(var F=0;F<Q;++F)RA(e,f+3*F,G[Ib[F]]);f+=3*Q;for(var ee=[k,Y],U=0;U<2;++U)for(var H=ee[U],F=0;F<H.length;++F){var V=H[F]&31;RA(e,f,we[V]),f+=G[V],V>15&&(RA(e,f,H[F]>>>5&127),f+=H[F]>>>12)}}else ie=Dse,Ae=Cd,me=Mse,_e=kg;for(var F=0;F<c;++F)if(r[F]>255){var V=r[F]>>>18&31;Np(e,f,ie[V+257]),f+=Ae[V+257],V>7&&(RA(e,f,r[F]>>>23&31),f+=iy[V]);var J=r[F]&31;Np(e,f,me[J]),f+=_e[J],J>3&&(Np(e,f,r[F]>>>5&8191),f+=sy[J])}else Np(e,f,ie[r[F]]),f+=Ae[r[F]];return Np(e,f,ie[256]),f+Ae[256]},Qse=new Ig([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hse=function(n,e,t,r,i,s){var o=n.length,c=new mo(r+o+5*(1+Math.floor(o/7e3))+i),u=c.subarray(r,c.length-i),d=0;if(!e||o<8)for(var f=0;f<=o;f+=65535){var g=f+65535;g<o?d=Rb(u,d,n.subarray(f,g)):(u[f]=s,d=Rb(u,d,n.subarray(f,o)))}else{for(var m=Qse[e-1],v=m>>>13,C=m&8191,_=(1<<t)-1,E=new Va(32768),T=new Va(_+1),k=Math.ceil(t/3),P=2*k,z=function(nt){return(n[nt]^n[nt+1]<<k^n[nt+2]<<P)&_},Y=new Ig(25e3),Z=new Va(288),R=new Va(32),F=0,M=0,f=0,G=0,L=0,Q=0;f<o;++f){var j=z(f),re=f&32767,fe=T[j];if(E[re]=fe,T[j]=re,L<=f){var ie=o-f;if((F>7e3||G>24576)&&ie>423){d=jT(n,u,0,Y,Z,R,M,G,Q,f-Q,d),G=F=M=0,Q=f;for(var Ae=0;Ae<286;++Ae)Z[Ae]=0;for(var Ae=0;Ae<30;++Ae)R[Ae]=0}var me=2,_e=0,we=C,ee=re-fe&32767;if(ie>2&&j==z(f-ee))for(var U=Math.min(v,ie)-1,H=Math.min(32767,f),V=Math.min(258,ie);ee<=H&&--we&&re!=fe;){if(n[f+me]==n[f+me-ee]){for(var J=0;J<V&&n[f+J]==n[f+J-ee];++J);if(J>me){if(me=J,_e=ee,J>U)break;for(var q=Math.min(ee,J-2),te=0,Ae=0;Ae<q;++Ae){var xe=f-ee+Ae+32768&32767,ue=E[xe],be=xe-ue+32768&32767;be>te&&(te=be,fe=xe)}}}re=fe,fe=E[re],ee+=re-fe+32768&32767}if(_e){Y[G++]=268435456|kb[me]<<18|LT[_e];var Ve=kb[me]&31,Pe=LT[_e]&31;M+=iy[Ve]+sy[Pe],++Z[257+Ve],++R[Pe],L=f+me,++F}else Y[G++]=n[f],++Z[n[f]]}}d=jT(n,u,s,Y,Z,R,M,G,Q,f-Q,d)}return MR(c,0,r+Y_(d)+i)},Vse=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length,o=0;o!=s;){for(var c=Math.min(o+5552,s);o<c;++o)r+=t[o],i+=r;r%=65521,i%=65521}n=r,e=i},d:function(){return(n>>>8<<16|(e&255)<<8|e>>>8)+((n&255)<<23)*2}}},zse=function(n,e,t,r,i){return Hse(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!0)},Gse=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Kse=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},qse=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Lb(n,e){e===void 0&&(e={});var t=Vse();t.p(n);var r=zse(n,e,2,4);return Kse(r,e),Gse(r,r.length-4,t.d()),r}function $se(n,e){return Ose((qse(n),n.subarray(2,-4)),e)}var vn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Aw(){vn.console&&typeof vn.console.log=="function"&&vn.console.log.apply(vn.console,arguments)}var Dr={log:Aw,warn:function(n){vn.console&&(typeof vn.console.warn=="function"?vn.console.warn.apply(vn.console,arguments):Aw.call(null,arguments))},error:function(n){vn.console&&(typeof vn.console.error=="function"?vn.console.error.apply(vn.console,arguments):Aw(n))}};function uw(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){th(r.response,e,t)},r.onerror=function(){Dr.error("could not download file")},r.send()}function MT(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function hx(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var sg,Db,th=vn.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==vn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=vn.URL||vn.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?MT(i.href)?uw(n,e,t):hx(i,i.target="_blank"):hx(i)):(i.href=r.createObjectURL(n),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){hx(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(MT(n))uw(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout((function(){hx(r)}))}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:_r(s)!=="object"&&(Dr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return uw(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(vn.HTMLElement)||vn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},c.readAsDataURL(n)}else{var u=vn.URL||vn.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function PR(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,o=i.exec(n);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+c+u+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dw(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=Aa(t,r,i,s,e[0],7,-680876936),s=Aa(s,t,r,i,e[1],12,-389564586),i=Aa(i,s,t,r,e[2],17,606105819),r=Aa(r,i,s,t,e[3],22,-1044525330),t=Aa(t,r,i,s,e[4],7,-176418897),s=Aa(s,t,r,i,e[5],12,1200080426),i=Aa(i,s,t,r,e[6],17,-1473231341),r=Aa(r,i,s,t,e[7],22,-45705983),t=Aa(t,r,i,s,e[8],7,1770035416),s=Aa(s,t,r,i,e[9],12,-1958414417),i=Aa(i,s,t,r,e[10],17,-42063),r=Aa(r,i,s,t,e[11],22,-1990404162),t=Aa(t,r,i,s,e[12],7,1804603682),s=Aa(s,t,r,i,e[13],12,-40341101),i=Aa(i,s,t,r,e[14],17,-1502002290),t=ua(t,r=Aa(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ua(s,t,r,i,e[6],9,-1069501632),i=ua(i,s,t,r,e[11],14,643717713),r=ua(r,i,s,t,e[0],20,-373897302),t=ua(t,r,i,s,e[5],5,-701558691),s=ua(s,t,r,i,e[10],9,38016083),i=ua(i,s,t,r,e[15],14,-660478335),r=ua(r,i,s,t,e[4],20,-405537848),t=ua(t,r,i,s,e[9],5,568446438),s=ua(s,t,r,i,e[14],9,-1019803690),i=ua(i,s,t,r,e[3],14,-187363961),r=ua(r,i,s,t,e[8],20,1163531501),t=ua(t,r,i,s,e[13],5,-1444681467),s=ua(s,t,r,i,e[2],9,-51403784),i=ua(i,s,t,r,e[7],14,1735328473),t=da(t,r=ua(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=da(s,t,r,i,e[8],11,-2022574463),i=da(i,s,t,r,e[11],16,1839030562),r=da(r,i,s,t,e[14],23,-35309556),t=da(t,r,i,s,e[1],4,-1530992060),s=da(s,t,r,i,e[4],11,1272893353),i=da(i,s,t,r,e[7],16,-155497632),r=da(r,i,s,t,e[10],23,-1094730640),t=da(t,r,i,s,e[13],4,681279174),s=da(s,t,r,i,e[0],11,-358537222),i=da(i,s,t,r,e[3],16,-722521979),r=da(r,i,s,t,e[6],23,76029189),t=da(t,r,i,s,e[9],4,-640364487),s=da(s,t,r,i,e[12],11,-421815835),i=da(i,s,t,r,e[15],16,530742520),t=ha(t,r=da(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ha(s,t,r,i,e[7],10,1126891415),i=ha(i,s,t,r,e[14],15,-1416354905),r=ha(r,i,s,t,e[5],21,-57434055),t=ha(t,r,i,s,e[12],6,1700485571),s=ha(s,t,r,i,e[3],10,-1894986606),i=ha(i,s,t,r,e[10],15,-1051523),r=ha(r,i,s,t,e[1],21,-2054922799),t=ha(t,r,i,s,e[8],6,1873313359),s=ha(s,t,r,i,e[15],10,-30611744),i=ha(i,s,t,r,e[6],15,-1560198380),r=ha(r,i,s,t,e[13],21,1309151649),t=ha(t,r,i,s,e[4],6,-145523070),s=ha(s,t,r,i,e[11],10,-1120210379),i=ha(i,s,t,r,e[2],15,718787259),r=ha(r,i,s,t,e[9],21,-343485551),n[0]=Zu(t,n[0]),n[1]=Zu(r,n[1]),n[2]=Zu(i,n[2]),n[3]=Zu(s,n[3])}function ay(n,e,t,r,i,s){return e=Zu(Zu(e,n),Zu(r,s)),Zu(e<<i|e>>>32-i,t)}function Aa(n,e,t,r,i,s,o){return ay(e&t|~e&r,n,e,i,s,o)}function ua(n,e,t,r,i,s,o){return ay(e&r|t&~r,n,e,i,s,o)}function da(n,e,t,r,i,s,o){return ay(e^t^r,n,e,i,s,o)}function ha(n,e,t,r,i,s,o){return ay(t^(e|~r),n,e,i,s,o)}function OR(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)dw(r,Wse(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(dw(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,dw(r,i),r}function Wse(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}sg=vn.atob.bind(vn),Db=vn.btoa.bind(vn);var PT="0123456789abcdef".split("");function Yse(n){for(var e="",t=0;t<4;t++)e+=PT[n>>8*t+4&15]+PT[n>>8*t&15];return e}function Xse(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jb(n){return OR(n).map(Xse).join("")}var Jse=(function(n){for(var e=0;e<n.length;e++)n[e]=Yse(n[e]);return n.join("")})(OR("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zu(n,e){if(Jse){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Mb(n,e){var t,r,i,s;if(n!==t){for(var o=(i=n,s=1+(256/n.length>>0),new Array(s+1).join(i)),c=[],u=0;u<256;u++)c[u]=u;var d=0;for(u=0;u<256;u++){var f=c[u];d=(d+f+o.charCodeAt(u))%256,c[u]=c[d],c[d]=f}t=n,r=c}else c=r;var g=e.length,m=0,v=0,C="";for(u=0;u<g;u++)v=(v+(f=c[m=(m+1)%256]))%256,c[m]=c[v],c[v]=f,o=c[(c[m]+c[v])%256],C+=String.fromCharCode(e.charCodeAt(u)^o);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OT={print:4,modify:8,copy:16,"annot-forms":32};function Df(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach((function(c){if(OT.perm!==void 0)throw new Error("Invalid permission: "+c);i+=OT[c]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=jb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Mb(this.encryptionKey,this.padding)}function jf(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function QT(n){if(_r(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var o=e[t][s];try{o[0].apply(n,r)}catch(c){vn.console&&Dr.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function J1(n){if(!(this instanceof J1))return new J1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function QR(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function rh(n,e,t,r,i){if(!(this instanceof rh))return new rh(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,QR.call(this,r,i)}function Gf(n,e,t,r,i){if(!(this instanceof Gf))return new Gf(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,QR.call(this,r,i)}function xn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],c=1,u=16,d="S",f=null;_r(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(f=n.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),o=n.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=n.putOnlyUsedFonts||!1,m={},v={internal:{},__private__:{}};v.__private__.PubSub=QT;var C="1.3",_=v.__private__.getPdfVersion=function(){return C};v.__private__.setPdfVersion=function(p){C=p};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return E};var T=v.__private__.getPageFormat=function(p){return E[p]};i=i||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},P=k.COMPAT;function z(){this.saveGraphicsState(),Ee(new cn(ke,0,0,-ke,0,Fo()*ke).toString()+" cm"),this.setFontSize(this.getFontSize()/ke),d="n",P=k.ADVANCED}function Y(){this.restoreGraphicsState(),d="S",P=k.COMPAT}var Z=v.__private__.combineFontStyleAndFontWeight=function(p,N){if(p=="bold"&&N=="normal"||p=="bold"&&N==400||p=="normal"&&N=="italic"||p=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(p=N==400||N==="normal"?p==="italic"?"italic":"normal":N!=700&&N!=="bold"||p!=="normal"?(N==700?"bold":N)+""+p:"bold"),p};v.advancedAPI=function(p){var N=P===k.COMPAT;return N&&z.call(this),typeof p!="function"||(p(this),N&&Y.call(this)),this},v.compatAPI=function(p){var N=P===k.ADVANCED;return N&&Y.call(this),typeof p!="function"||(p(this),N&&z.call(this)),this},v.isAdvancedAPI=function(){return P===k.ADVANCED};var R,F=function(p){if(P!==k.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=v.roundToPrecision=v.__private__.roundToPrecision=function(p,N){var D=e||N;if(isNaN(p)||isNaN(D))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(D).replace(/0+$/,"")};R=v.hpf=v.__private__.hpf=typeof u=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return M(p,u)}:u==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return M(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return M(p,16)};var G=v.f2=v.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return M(p,2)},L=v.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return M(p,3)},Q=v.scale=v.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return P===k.COMPAT?p*ke:P===k.ADVANCED?p:void 0},j=function(p){return P===k.COMPAT?Fo()-p:P===k.ADVANCED?p:void 0},re=function(p){return Q(j(p))};v.__private__.setPrecision=v.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var fe,ie="00000000000000000000000000000000",Ae=v.__private__.getFileId=function(){return ie},me=v.__private__.setFileId=function(p){return ie=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():ie.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),f!==null&&(Er=new Df(f.userPermissions,f.userPassword,f.ownerPassword,ie)),ie};v.setFileId=function(p){return me(p),this},v.getFileId=function(){return Ae()};var _e=v.__private__.convertDateToPDFDate=function(p){var N=p.getTimezoneOffset(),D=N<0?"+":"-",W=Math.floor(Math.abs(N/60)),pe=Math.abs(N%60),Ie=[D,V(W),"'",V(pe),"'"].join("");return["D:",p.getFullYear(),V(p.getMonth()+1),V(p.getDate()),V(p.getHours()),V(p.getMinutes()),V(p.getSeconds()),Ie].join("")},we=v.__private__.convertPDFDateToDate=function(p){var N=parseInt(p.substr(2,4),10),D=parseInt(p.substr(6,2),10)-1,W=parseInt(p.substr(8,2),10),pe=parseInt(p.substr(10,2),10),Ie=parseInt(p.substr(12,2),10),Qe=parseInt(p.substr(14,2),10);return new Date(N,D,W,pe,Ie,Qe,0)},ee=v.__private__.setCreationDate=function(p){var N;if(p===void 0&&(p=new Date),p instanceof Date)N=_e(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=p}return fe=N},U=v.__private__.getCreationDate=function(p){var N=fe;return p==="jsDate"&&(N=we(fe)),N};v.setCreationDate=function(p){return ee(p),this},v.getCreationDate=function(p){return U(p)};var H,V=v.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},J=v.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},q=0,te=[],xe=[],ue=0,be=[],Ve=[],Pe=!1,We=xe,nt=function(){q=0,ue=0,xe=[],te=[],be=[],ve=tr(),ye=tr()};v.__private__.setCustomOutputDestination=function(p){Pe=!0,We=p};var Re=function(p){Pe||(We=p)};v.__private__.resetCustomOutputDestination=function(){Pe=!1,We=xe};var Ee=v.__private__.out=function(p){return p=p.toString(),ue+=p.length+1,We.push(p),We},at=v.__private__.write=function(p){return Ee(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},St=v.__private__.getArrayBuffer=function(p){for(var N=p.length,D=new ArrayBuffer(N),W=new Uint8Array(D);N--;)W[N]=p.charCodeAt(N);return D},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return tt};var At=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(p){return At=P===k.ADVANCED?p/ke:p,this};var Et,Bt=v.__private__.getFontSize=v.getFontSize=function(){return P===k.COMPAT?At:At*ke},Dt=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(p){return Dt=p,this},v.__private__.getR2L=v.getR2L=function(){return Dt};var Ne,ze=v.__private__.setZoomMode=function(p){var N=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))Et=p;else if(isNaN(p)){if(N.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');Et=p}else Et=parseInt(p,10)};v.__private__.getZoomMode=function(){return Et};var ft,ht=v.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');Ne=p};v.__private__.getPageMode=function(){return Ne};var It=v.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');ft=p};v.__private__.getLayoutMode=function(){return ft},v.__private__.setDisplayMode=v.setDisplayMode=function(p,N,D){return ze(p),It(N),ht(D),this};var Tt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(p){if(Object.keys(Tt).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Tt[p]},v.__private__.getDocumentProperties=function(){return Tt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(p){for(var N in Tt)Tt.hasOwnProperty(N)&&p[N]&&(Tt[N]=p[N]);return this},v.__private__.setDocumentProperty=function(p,N){if(Object.keys(Tt).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Tt[p]=N};var Ue,ke,Gt,$t,fn,nn={},Jt={},hr=[],ln={},_i={},ae={},Kt={},an=null,dn=0,Ht=[],sn=new QT(v),ts=n.hotfixes||[],jn={},ni={},Li=[],cn=function p(N,D,W,pe,Ie,Qe){if(!(this instanceof p))return new p(N,D,W,pe,Ie,Qe);isNaN(N)&&(N=1),isNaN(D)&&(D=0),isNaN(W)&&(W=0),isNaN(pe)&&(pe=1),isNaN(Ie)&&(Ie=0),isNaN(Qe)&&(Qe=0),this._matrix=[N,D,W,pe,Ie,Qe]};Object.defineProperty(cn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(cn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(cn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(cn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(cn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(cn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(cn.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(cn.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(cn.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(cn.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(cn.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(cn.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(cn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(cn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(cn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(cn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),cn.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(p)},cn.prototype.multiply=function(p){var N=p.sx*this.sx+p.shy*this.shx,D=p.sx*this.shy+p.shy*this.sy,W=p.shx*this.sx+p.sy*this.shx,pe=p.shx*this.shy+p.sy*this.sy,Ie=p.tx*this.sx+p.ty*this.shx+this.tx,Qe=p.tx*this.shy+p.ty*this.sy+this.ty;return new cn(N,D,W,pe,Ie,Qe)},cn.prototype.decompose=function(){var p=this.sx,N=this.shy,D=this.shx,W=this.sy,pe=this.tx,Ie=this.ty,Qe=Math.sqrt(p*p+N*N),xt=(p/=Qe)*D+(N/=Qe)*W;D-=p*xt,W-=N*xt;var Pt=Math.sqrt(D*D+W*W);return xt/=Pt,p*(W/=Pt)<N*(D/=Pt)&&(p=-p,N=-N,xt=-xt,Qe=-Qe),{scale:new cn(Qe,0,0,Pt,0,0),translate:new cn(1,0,0,1,pe,Ie),rotate:new cn(p,N,-N,p,0,0),skew:new cn(1,0,xt,1,0,0)}},cn.prototype.toString=function(p){return this.join(" ")},cn.prototype.inversed=function(){var p=this.sx,N=this.shy,D=this.shx,W=this.sy,pe=this.tx,Ie=this.ty,Qe=1/(p*W-N*D),xt=W*Qe,Pt=-N*Qe,Qt=-D*Qe,Zt=p*Qe;return new cn(xt,Pt,Qt,Zt,-xt*pe-Qt*Ie,-Pt*pe-Zt*Ie)},cn.prototype.applyToPoint=function(p){var N=p.x*this.sx+p.y*this.shx+this.tx,D=p.x*this.shy+p.y*this.sy+this.ty;return new Rs(N,D)},cn.prototype.applyToRectangle=function(p){var N=this.applyToPoint(p),D=this.applyToPoint(new Rs(p.x+p.w,p.y+p.h));return new mc(N.x,N.y,D.x-N.x,D.y-N.y)},cn.prototype.clone=function(){var p=this.sx,N=this.shy,D=this.shx,W=this.sy,pe=this.tx,Ie=this.ty;return new cn(p,N,D,W,pe,Ie)},v.Matrix=cn;var Ci=v.matrixMult=function(p,N){return N.multiply(p)},Di=new cn(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=Di;var ui=function(p,N){if(!_i[p]){var D=(N instanceof rh?"Sh":"P")+(Object.keys(ln).length+1).toString(10);N.id=D,_i[p]=D,ln[D]=N,sn.publish("addPattern",N)}};v.ShadingPattern=rh,v.TilingPattern=Gf,v.addShadingPattern=function(p,N){return F("addShadingPattern()"),ui(p,N),this},v.beginTilingPattern=function(p){F("beginTilingPattern()"),hA(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},v.endTilingPattern=function(p,N){F("endTilingPattern()"),N.stream=Ve[H].join(`
`),ui(p,N),sn.publish("endTilingPattern",N),Li.pop().restore()};var gr=v.__private__.newObject=function(){var p=tr();return le(p,!0),p},tr=v.__private__.newObjectDeferred=function(){return q++,te[q]=function(){return ue},q},le=function(p,N){return N=typeof N=="boolean"&&N,te[p]=ue,N&&Ee(p+" 0 obj"),p},Be=v.__private__.newAdditionalObject=function(){var p={objId:tr(),content:""};return be.push(p),p},ve=tr(),ye=tr(),Ce=v.__private__.decodeColorString=function(p){var N=p.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length===5&&(N[4]==="k"||N[4]==="K")&&(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var D=parseFloat(N[0]);N=[D,D,D,"r"]}for(var W="#",pe=0;pe<3;pe++)W+=("0"+Math.floor(255*parseFloat(N[pe])).toString(16)).slice(-2);return W},Te=v.__private__.encodeColorString=function(p){var N;typeof p=="string"&&(p={ch1:p});var D=p.ch1,W=p.ch2,pe=p.ch3,Ie=p.ch4,Qe=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof D=="string"&&D.charAt(0)!=="#"){var xt=new PR(D);if(xt.ok)D=xt.toHex();else if(!/^\d*\.?\d*$/.test(D))throw new Error('Invalid color "'+D+'" passed to jsPDF.encodeColorString.')}if(typeof D=="string"&&/^#[0-9A-Fa-f]{3}$/.test(D)&&(D="#"+D[1]+D[1]+D[2]+D[2]+D[3]+D[3]),typeof D=="string"&&/^#[0-9A-Fa-f]{6}$/.test(D)){var Pt=parseInt(D.substr(1),16);D=Pt>>16&255,W=Pt>>8&255,pe=255&Pt}if(W===void 0||Ie===void 0&&D===W&&W===pe)if(typeof D=="string")N=D+" "+Qe[0];else switch(p.precision){case 2:N=G(D/255)+" "+Qe[0];break;case 3:default:N=L(D/255)+" "+Qe[0]}else if(Ie===void 0||_r(Ie)==="object"){if(Ie&&!isNaN(Ie.a)&&Ie.a===0)return N=["1.","1.","1.",Qe[1]].join(" ");if(typeof D=="string")N=[D,W,pe,Qe[1]].join(" ");else switch(p.precision){case 2:N=[G(D/255),G(W/255),G(pe/255),Qe[1]].join(" ");break;default:case 3:N=[L(D/255),L(W/255),L(pe/255),Qe[1]].join(" ")}}else if(typeof D=="string")N=[D,W,pe,Ie,Qe[2]].join(" ");else switch(p.precision){case 2:N=[G(D),G(W),G(pe),G(Ie),Qe[2]].join(" ");break;case 3:default:N=[L(D),L(W),L(pe),L(Ie),Qe[2]].join(" ")}return N},Ge=v.__private__.getFilters=function(){return o},it=v.__private__.putStream=function(p){var N=(p=p||{}).data||"",D=p.filters||Ge(),W=p.alreadyAppliedFilters||[],pe=p.addLength1||!1,Ie=N.length,Qe=p.objectId,xt=function($r){return $r};if(f!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(xt=Er.encryptor(Qe,0));var Pt={};D===!0&&(D=["FlateEncode"]);var Qt=p.additionalKeyValues||[],Zt=(Pt=xn.API.processDataByFilters!==void 0?xn.API.processDataByFilters(N,D):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(W)?W.join(" "):W.toString());if(Pt.data.length!==0&&(Qt.push({key:"Length",value:Pt.data.length}),pe===!0&&Qt.push({key:"Length1",value:Ie})),Zt.length!=0)if(Zt.split("/").length-1==1)Qt.push({key:"Filter",value:Zt});else{Qt.push({key:"Filter",value:"["+Zt+"]"});for(var bn=0;bn<Qt.length;bn+=1)if(Qt[bn].key==="DecodeParms"){for(var Yn=[],Xn=0;Xn<Pt.reverseChain.split("/").length-1;Xn+=1)Yn.push("null");Yn.push(Qt[bn].value),Qt[bn].value="["+Yn.join(" ")+"]"}}Ee("<<");for(var rr=0;rr<Qt.length;rr++)Ee("/"+Qt[rr].key+" "+Qt[rr].value);Ee(">>"),Pt.data.length!==0&&(Ee("stream"),Ee(xt(Pt.data)),Ee("endstream"))},Ke=v.__private__.putPage=function(p){var N=p.number,D=p.data,W=p.objId,pe=p.contentsObjId;le(W,!0),Ee("<</Type /Page"),Ee("/Parent "+p.rootDictionaryObjId+" 0 R"),Ee("/Resources "+p.resourceDictionaryObjId+" 0 R"),Ee("/MediaBox ["+parseFloat(R(p.mediaBox.bottomLeftX))+" "+parseFloat(R(p.mediaBox.bottomLeftY))+" "+R(p.mediaBox.topRightX)+" "+R(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&Ee("/CropBox ["+R(p.cropBox.bottomLeftX)+" "+R(p.cropBox.bottomLeftY)+" "+R(p.cropBox.topRightX)+" "+R(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&Ee("/BleedBox ["+R(p.bleedBox.bottomLeftX)+" "+R(p.bleedBox.bottomLeftY)+" "+R(p.bleedBox.topRightX)+" "+R(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&Ee("/TrimBox ["+R(p.trimBox.bottomLeftX)+" "+R(p.trimBox.bottomLeftY)+" "+R(p.trimBox.topRightX)+" "+R(p.trimBox.topRightY)+"]"),p.artBox!==null&&Ee("/ArtBox ["+R(p.artBox.bottomLeftX)+" "+R(p.artBox.bottomLeftY)+" "+R(p.artBox.topRightX)+" "+R(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&Ee("/UserUnit "+p.userUnit),sn.publish("putPage",{objId:W,pageContext:Ht[N],pageNumber:N,page:D}),Ee("/Contents "+pe+" 0 R"),Ee(">>"),Ee("endobj");var Ie=D.join(`
`);return P===k.ADVANCED&&(Ie+=`
Q`),le(pe,!0),it({data:Ie,filters:Ge(),objectId:pe}),Ee("endobj"),W},Xe=v.__private__.putPages=function(){var p,N,D=[];for(p=1;p<=dn;p++)Ht[p].objId=tr(),Ht[p].contentsObjId=tr();for(p=1;p<=dn;p++)D.push(Ke({number:p,data:Ve[p],objId:Ht[p].objId,contentsObjId:Ht[p].contentsObjId,mediaBox:Ht[p].mediaBox,cropBox:Ht[p].cropBox,bleedBox:Ht[p].bleedBox,trimBox:Ht[p].trimBox,artBox:Ht[p].artBox,userUnit:Ht[p].userUnit,rootDictionaryObjId:ve,resourceDictionaryObjId:ye}));le(ve,!0),Ee("<</Type /Pages");var W="/Kids [";for(N=0;N<dn;N++)W+=D[N]+" 0 R ";Ee(W+"]"),Ee("/Count "+dn),Ee(">>"),Ee("endobj"),sn.publish("postPutPages")},Ye=function(p){sn.publish("putFont",{font:p,out:Ee,newObject:gr,putStream:it}),p.isAlreadyPutted!==!0&&(p.objectNumber=gr(),Ee("<<"),Ee("/Type /Font"),Ee("/BaseFont /"+jf(p.postScriptName)),Ee("/Subtype /Type1"),typeof p.encoding=="string"&&Ee("/Encoding /"+p.encoding),Ee("/FirstChar 32"),Ee("/LastChar 255"),Ee(">>"),Ee("endobj"))},bt=function(){for(var p in nn)nn.hasOwnProperty(p)&&(g===!1||g===!0&&m.hasOwnProperty(p))&&Ye(nn[p])},Nt=function(p){p.objectNumber=gr();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[R(p.x),R(p.y),R(p.x+p.width),R(p.y+p.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var D=p.pages[1].join(`
`);it({data:D,additionalKeyValues:N,objectId:p.objectNumber}),Ee("endobj")},kt=function(){for(var p in jn)jn.hasOwnProperty(p)&&Nt(jn[p])},Ct=function(p,N){var D,W=[],pe=1/(N-1);for(D=0;D<1;D+=pe)W.push(D);if(W.push(1),p[0].offset!=0){var Ie={offset:0,color:p[0].color};p.unshift(Ie)}if(p[p.length-1].offset!=1){var Qe={offset:1,color:p[p.length-1].color};p.push(Qe)}for(var xt="",Pt=0,Qt=0;Qt<W.length;Qt++){for(D=W[Qt];D>p[Pt+1].offset;)Pt++;var Zt=p[Pt].offset,bn=(D-Zt)/(p[Pt+1].offset-Zt),Yn=p[Pt].color,Xn=p[Pt+1].color;xt+=J(Math.round((1-bn)*Yn[0]+bn*Xn[0]).toString(16))+J(Math.round((1-bn)*Yn[1]+bn*Xn[1]).toString(16))+J(Math.round((1-bn)*Yn[2]+bn*Xn[2]).toString(16))}return xt.trim()},Ft=function(p,N){N||(N=21);var D=gr(),W=Ct(p.colors,N),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+N+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:W,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:D}),Ee("endobj"),p.objectNumber=gr(),Ee("<< /ShadingType "+p.type),Ee("/ColorSpace /DeviceRGB");var Ie="/Coords ["+R(parseFloat(p.coords[0]))+" "+R(parseFloat(p.coords[1]))+" ";p.type===2?Ie+=R(parseFloat(p.coords[2]))+" "+R(parseFloat(p.coords[3])):Ie+=R(parseFloat(p.coords[2]))+" "+R(parseFloat(p.coords[3]))+" "+R(parseFloat(p.coords[4]))+" "+R(parseFloat(p.coords[5])),Ee(Ie+="]"),p.matrix&&Ee("/Matrix ["+p.matrix.toString()+"]"),Ee("/Function "+D+" 0 R"),Ee("/Extend [true true]"),Ee(">>"),Ee("endobj")},Yt=function(p,N){var D=tr(),W=gr();N.push({resourcesOid:D,objectOid:W}),p.objectNumber=W;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+p.boundingBox.map(R).join(" ")+"]"}),pe.push({key:"XStep",value:R(p.xStep)}),pe.push({key:"YStep",value:R(p.yStep)}),pe.push({key:"Resources",value:D+" 0 R"}),p.matrix&&pe.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),it({data:p.stream,additionalKeyValues:pe,objectId:p.objectNumber}),Ee("endobj")},Mn=function(p){var N;for(N in ln)ln.hasOwnProperty(N)&&(ln[N]instanceof rh?Ft(ln[N]):ln[N]instanceof Gf&&Yt(ln[N],p))},Wn=function(p){for(var N in p.objectNumber=gr(),Ee("<<"),p)switch(N){case"opacity":Ee("/ca "+G(p[N]));break;case"stroke-opacity":Ee("/CA "+G(p[N]))}Ee(">>"),Ee("endobj")},cr=function(){var p;for(p in ae)ae.hasOwnProperty(p)&&Wn(ae[p])},di=function(){for(var p in Ee("/XObject <<"),jn)jn.hasOwnProperty(p)&&jn[p].objectNumber>=0&&Ee("/"+p+" "+jn[p].objectNumber+" 0 R");sn.publish("putXobjectDict"),Ee(">>")},Ca=function(){Er.oid=gr(),Ee("<<"),Ee("/Filter /Standard"),Ee("/V "+Er.v),Ee("/R "+Er.r),Ee("/U <"+Er.toHexString(Er.U)+">"),Ee("/O <"+Er.toHexString(Er.O)+">"),Ee("/P "+Er.P),Ee(">>"),Ee("endobj")},Zs=function(){for(var p in Ee("/Font <<"),nn)nn.hasOwnProperty(p)&&(g===!1||g===!0&&m.hasOwnProperty(p))&&Ee("/"+p+" "+nn[p].objectNumber+" 0 R");Ee(">>")},Is=function(){if(Object.keys(ln).length>0){for(var p in Ee("/Shading <<"),ln)ln.hasOwnProperty(p)&&ln[p]instanceof rh&&ln[p].objectNumber>=0&&Ee("/"+p+" "+ln[p].objectNumber+" 0 R");sn.publish("putShadingPatternDict"),Ee(">>")}},Ea=function(p){if(Object.keys(ln).length>0){for(var N in Ee("/Pattern <<"),ln)ln.hasOwnProperty(N)&&ln[N]instanceof v.TilingPattern&&ln[N].objectNumber>=0&&ln[N].objectNumber<p&&Ee("/"+N+" "+ln[N].objectNumber+" 0 R");sn.publish("putTilingPatternDict"),Ee(">>")}},ji=function(){if(Object.keys(ae).length>0){var p;for(p in Ee("/ExtGState <<"),ae)ae.hasOwnProperty(p)&&ae[p].objectNumber>=0&&Ee("/"+p+" "+ae[p].objectNumber+" 0 R");sn.publish("putGStateDict"),Ee(">>")}},qn=function(p){le(p.resourcesOid,!0),Ee("<<"),Ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Zs(),Is(),Ea(p.objectOid),ji(),di(),Ee(">>"),Ee("endobj")},Or=function(){var p=[];bt(),cr(),kt(),Mn(p),sn.publish("putResources"),p.forEach(qn),qn({resourcesOid:ye,objectOid:Number.MAX_SAFE_INTEGER}),sn.publish("postPutResources")},ri=function(){sn.publish("putAdditionalObjects");for(var p=0;p<be.length;p++){var N=be[p];le(N.objId,!0),Ee(N.content),Ee("endobj")}sn.publish("postPutAdditionalObjects")},Co=function(p){Jt[p.fontName]=Jt[p.fontName]||{},Jt[p.fontName][p.fontStyle]=p.id},Bl=function(p,N,D,W,pe){var Ie={id:"F"+(Object.keys(nn).length+1).toString(10),postScriptName:p,fontName:N,fontStyle:D,encoding:W,isStandardFont:pe||!1,metadata:{}};return sn.publish("addFont",{font:Ie,instance:this}),nn[Ie.id]=Ie,Co(Ie),Ie.id},er=function(p){for(var N=0,D=tt.length;N<D;N++){var W=Bl.call(this,p[N][0],p[N][1],p[N][2],tt[N][3],!0);g===!1&&(m[W]=!0);var pe=p[N][0].split("-");Co({id:W,fontName:pe[0],fontStyle:pe[1]||""})}sn.publish("addFonts",{fonts:nn,dictionary:Jt})},ns=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(W){var N=W.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var D="Error in function "+N.split(`
`)[0].split("<")[0]+": "+W.message;if(!vn.console)throw new Error(D);vn.console.error(D,W),vn.alert&&alert(D)}},p.foo.bar=p,p.foo},ks=function(p,N){var D,W,pe,Ie,Qe,xt,Pt,Qt,Zt;if(pe=(N=N||{}).sourceEncoding||"Unicode",Qe=N.outputEncoding,(N.autoencode||Qe)&&nn[Ue].metadata&&nn[Ue].metadata[pe]&&nn[Ue].metadata[pe].encoding&&(Ie=nn[Ue].metadata[pe].encoding,!Qe&&nn[Ue].encoding&&(Qe=nn[Ue].encoding),!Qe&&Ie.codePages&&(Qe=Ie.codePages[0]),typeof Qe=="string"&&(Qe=Ie[Qe]),Qe)){for(Pt=!1,xt=[],D=0,W=p.length;D<W;D++)(Qt=Qe[p.charCodeAt(D)])?xt.push(String.fromCharCode(Qt)):xt.push(p[D]),xt[D].charCodeAt(0)>>8&&(Pt=!0);p=xt.join("")}for(D=p.length;Pt===void 0&&D!==0;)p.charCodeAt(D-1)>>8&&(Pt=!0),D--;if(!Pt)return p;for(xt=N.noBOM?[]:[254,255],D=0,W=p.length;D<W;D++){if((Zt=(Qt=p.charCodeAt(D))>>8)>>8)throw new Error("Character at position "+D+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");xt.push(Zt),xt.push(Qt-(Zt<<8))}return String.fromCharCode.apply(void 0,xt)},hi=v.__private__.pdfEscape=v.pdfEscape=function(p,N){return ks(p,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Mi=v.__private__.beginPage=function(p){Ve[++dn]=[],Ht[dn]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},dc(dn),Re(Ve[H])},Tl=function(p,N){var D,W,pe;switch(t=N||t,typeof p=="string"&&(D=T(p.toLowerCase()),Array.isArray(D)&&(W=D[0],pe=D[1])),Array.isArray(p)&&(W=p[0]*ke,pe=p[1]*ke),isNaN(W)&&(W=i[0],pe=i[1]),(W>14400||pe>14400)&&(Dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),W=Math.min(14400,W),pe=Math.min(14400,pe)),i=[W,pe],t.substr(0,1)){case"l":pe>W&&(i=[pe,W]);break;case"p":W>pe&&(i=[pe,W])}Mi(i),Sa(ii),Ee(as),Zo!==0&&Ee(Zo+" J"),gc!==0&&Ee(gc+" j"),sn.publish("addPage",{pageNumber:dn})},au=function(p){p>0&&p<=dn&&(Ve.splice(p,1),Ht.splice(p,1),dn--,H>dn&&(H=dn),this.setPage(H))},dc=function(p){p>0&&p<=dn&&(H=p)},Wo=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ve.length-1},oA=function(p,N,D){var W,pe=void 0;return D=D||{},p=p!==void 0?p:nn[Ue].fontName,N=N!==void 0?N:nn[Ue].fontStyle,W=p.toLowerCase(),Jt[W]!==void 0&&Jt[W][N]!==void 0?pe=Jt[W][N]:Jt[p]!==void 0&&Jt[p][N]!==void 0?pe=Jt[p][N]:D.disableWarning===!1&&Dr.warn("Unable to look up font label for font '"+p+"', '"+N+"'. Refer to getFontList() for available fonts."),pe||D.noFallback||(pe=Jt.times[N])==null&&(pe=Jt.times.normal),pe},Yo=v.__private__.putInfo=function(){var p=gr(),N=function(W){return W};for(var D in f!==null&&(N=Er.encryptor(p,0)),Ee("<<"),Ee("/Producer ("+hi(N("jsPDF "+xn.version))+")"),Tt)Tt.hasOwnProperty(D)&&Tt[D]&&Ee("/"+D.substr(0,1).toUpperCase()+D.substr(1)+" ("+hi(N(Tt[D]))+")");Ee("/CreationDate ("+hi(N(fe))+")"),Ee(">>"),Ee("endobj")},Pi=v.__private__.putCatalog=function(p){var N=(p=p||{}).rootDictionaryObjId||ve;switch(gr(),Ee("<<"),Ee("/Type /Catalog"),Ee("/Pages "+N+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":Ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ee("/OpenAction [3 0 R /Fit]");break;case"original":Ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var D=""+Et;D.substr(D.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&Ee("/OpenAction [3 0 R /XYZ null null "+G(Et)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":Ee("/PageLayout /OneColumn");break;case"single":Ee("/PageLayout /SinglePage");break;case"two":case"twoleft":Ee("/PageLayout /TwoColumnLeft");break;case"tworight":Ee("/PageLayout /TwoColumnRight")}Ne&&Ee("/PageMode /"+Ne),sn.publish("putCatalog"),Ee(">>"),Ee("endobj")},ou=v.__private__.putTrailer=function(){Ee("trailer"),Ee("<<"),Ee("/Size "+(q+1)),Ee("/Root "+q+" 0 R"),Ee("/Info "+(q-1)+" 0 R"),f!==null&&Ee("/Encrypt "+Er.oid+" 0 R"),Ee("/ID [ <"+ie+"> <"+ie+"> ]"),Ee(">>")},lA=v.__private__.putHeader=function(){Ee("%PDF-"+C),Ee("%")},cA=v.__private__.putXRef=function(){var p="0000000000";Ee("xref"),Ee("0 "+(q+1)),Ee("0000000000 65535 f ");for(var N=1;N<=q;N++)typeof te[N]=="function"?Ee((p+te[N]()).slice(-10)+" 00000 n "):te[N]!==void 0?Ee((p+te[N]).slice(-10)+" 00000 n "):Ee("0000000000 00000 n ")},ea=v.__private__.buildDocument=function(){nt(),Re(xe),sn.publish("buildDocument"),lA(),Xe(),ri(),Or(),f!==null&&Ca(),Yo(),Pi();var p=ue;return cA(),ou(),Ee("startxref"),Ee(""+p),Ee("%%EOF"),Re(Ve[H]),xe.join(`
`)},Il=v.__private__.getBlob=function(p){return new Blob([St(p)],{type:"application/pdf"})},Na=v.output=v.__private__.output=ns((function(p,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",p){case void 0:return ea();case"save":v.save(N.filename);break;case"arraybuffer":return St(ea());case"blob":return Il(ea());case"bloburi":case"bloburl":if(vn.URL!==void 0&&typeof vn.URL.createObjectURL=="function")return vn.URL&&vn.URL.createObjectURL(Il(ea()))||void 0;Dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var D="",W=ea();try{D=Db(W)}catch{D=Db(unescape(encodeURIComponent(W)))}return"data:application/pdf;filename="+N.filename+";base64,"+D;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ie=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(pe=N.pdfObjectUrl,Ie="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Ie+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",xt=vn.open();return xt!==null&&xt.document.write(Qe),xt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vn)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',Qt=vn.open();if(Qt!==null){Qt.document.write(Pt);var Zt=this;Qt.document.documentElement.querySelector("#pdfViewer").onload=function(){Qt.document.title=N.filename,Qt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return Qt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',Yn=vn.open();if(Yn!==null&&(Yn.document.write(bn),Yn.document.title=N.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return vn.document.location.href=this.output("datauristring",N);default:return null}})),kl=function(p){return Array.isArray(ts)===!0&&ts.indexOf(p)>-1};switch(r){case"pt":ke=1;break;case"mm":ke=72/25.4;break;case"cm":ke=72/2.54;break;case"in":ke=72;break;case"px":ke=kl("px_scaling")==1?.75:96/72;break;case"pc":case"em":ke=12;break;case"ex":ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ke=r}var Er=null;ee(),me();var AA=function(p){return f!==null?Er.encryptor(p,0):function(N){return N}},Fs=v.__private__.getPageInfo=v.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[p].objId,pageNumber:p,pageContext:Ht[p]}},hn=v.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in Ht)if(Ht[N].objId===p)break;return Fs(N)},qa=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Ht[H].objId,pageNumber:H,pageContext:Ht[H]}};v.addPage=function(){return Tl.apply(this,arguments),this},v.setPage=function(){return dc.apply(this,arguments),Re.call(this,Ve[H]),this},v.insertPage=function(p){return this.addPage(),this.movePage(H,p),this},v.movePage=function(p,N){var D,W;if(p>N){D=Ve[p],W=Ht[p];for(var pe=p;pe>N;pe--)Ve[pe]=Ve[pe-1],Ht[pe]=Ht[pe-1];Ve[N]=D,Ht[N]=W,this.setPage(N)}else if(p<N){D=Ve[p],W=Ht[p];for(var Ie=p;Ie<N;Ie++)Ve[Ie]=Ve[Ie+1],Ht[Ie]=Ht[Ie+1];Ve[N]=D,Ht[N]=W,this.setPage(N)}return this},v.deletePage=function(){return au.apply(this,arguments),this},v.__private__.text=v.text=function(p,N,D,W,pe){var Ie,Qe,xt,Pt,Qt,Zt,bn,Yn,Xn,rr=(W=W||{}).scope||this;if(typeof p=="number"&&typeof N=="number"&&(typeof D=="string"||Array.isArray(D))){var $r=D;D=N,N=p,p=$r}if(arguments[3]instanceof cn?(F("The transform parameter of text() with a Matrix value"),Xn=pe):(xt=arguments[4],Pt=arguments[5],_r(bn=arguments[3])==="object"&&bn!==null||(typeof xt=="string"&&(Pt=xt,xt=null),typeof bn=="string"&&(Pt=bn,bn=null),typeof bn=="number"&&(xt=bn,bn=null),W={flags:bn,angle:xt,align:Pt})),isNaN(N)||isNaN(D)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return rr;var Qr="",gs=!1,Ia=typeof W.lineHeightFactor=="number"?W.lineHeightFactor:is,Rl=rr.internal.scaleFactor;function Lh(Nr){return Nr=Nr.split("	").join(Array(W.TabLen||9).join(" ")),hi(Nr,bn)}function Au(Nr){for(var Sr,ai=Nr.concat(),fi=[],rl=ai.length;rl--;)typeof(Sr=ai.shift())=="string"?fi.push(Sr):Array.isArray(Nr)&&(Sr.length===1||Sr[1]===void 0&&Sr[2]===void 0)?fi.push(Sr[0]):fi.push([Sr[0],Sr[1],Sr[2]]);return fi}function uu(Nr,Sr){var ai;if(typeof Nr=="string")ai=Sr(Nr)[0];else if(Array.isArray(Nr)){for(var fi,rl,il=Nr.concat(),xs=[],pA=il.length;pA--;)typeof(fi=il.shift())=="string"?xs.push(Sr(fi)[0]):Array.isArray(fi)&&typeof fi[0]=="string"&&(rl=Sr(fi[0],fi[1],fi[2]),xs.push([rl[0],rl[1],rl[2]]));ai=xs}return ai}var el=!1,Ll=!0;if(typeof p=="string")el=!0;else if(Array.isArray(p)){var Ld=p.concat();Qe=[];for(var Dl,Ls=Ld.length;Ls--;)(typeof(Dl=Ld.shift())!="string"||Array.isArray(Dl)&&typeof Dl[0]!="string")&&(Ll=!1);el=Ll}if(el===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var fA=At/rr.internal.scaleFactor,yc=fA*(Ia-1);switch(W.baseline){case"bottom":D-=yc;break;case"top":D+=fA-yc;break;case"hanging":D+=fA-2*yc;break;case"middle":D+=fA/2-yc}if((Zt=W.maxWidth||0)>0&&(typeof p=="string"?p=rr.splitTextToSize(p,Zt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce((function(Nr,Sr){return Nr.concat(rr.splitTextToSize(Sr,Zt))}),[]))),Ie={text:p,x:N,y:D,options:W,mutex:{pdfEscape:hi,activeFontKey:Ue,fonts:nn,activeFontSize:At}},sn.publish("preProcessText",Ie),p=Ie.text,xt=(W=Ie.options).angle,!(Xn instanceof cn)&&xt&&typeof xt=="number"){xt*=Math.PI/180,W.rotationDirection===0&&(xt=-xt),P===k.ADVANCED&&(xt=-xt);var wc=Math.cos(xt),du=Math.sin(xt);Xn=new cn(wc,du,-du,wc,0,0)}else xt&&xt instanceof cn&&(Xn=xt);P!==k.ADVANCED||Xn||(Xn=Di),(Qt=W.charSpace||Jo)!==void 0&&(Qr+=R(Q(Qt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=W.horizontalScale)!==void 0&&(Qr+=R(100*Yn)+` Tz
`),W.lang;var Ds=-1,Dh=W.renderingMode!==void 0?W.renderingMode:W.stroke,Dd=rr.internal.getCurrentPageInfo().pageContext;switch(Dh){case 0:case!1:case"fill":Ds=0;break;case 1:case!0:case"stroke":Ds=1;break;case 2:case"fillThenStroke":Ds=2;break;case 3:case"invisible":Ds=3;break;case 4:case"fillAndAddForClipping":Ds=4;break;case 5:case"strokeAndAddPathForClipping":Ds=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ds=6;break;case 7:case"addToPathForClipping":Ds=7}var jh=Dd.usedRenderingMode!==void 0?Dd.usedRenderingMode:-1;Ds!==-1?Qr+=Ds+` Tr
`:jh!==-1&&(Qr+=`0 Tr
`),Ds!==-1&&(Dd.usedRenderingMode=Ds),Pt=W.align||"left";var Uo,jd=At*Ia,H0=rr.internal.pageSize.getWidth(),js=nn[Ue];Qt=W.charSpace||Jo,Zt=W.maxWidth||0,bn=Object.assign({autoencode:!0,noBOM:!0},W.flags);var Ya=[];if(Object.prototype.toString.call(p)==="[object Array]"){var ka;Qe=Au(p),Pt!=="left"&&(Uo=Qe.map((function(Nr){return rr.getStringUnitWidth(Nr,{font:js,charSpace:Qt,fontSize:At,doKerning:!1})*At/Rl})));var Xa,jl=0;if(Pt==="right"){N-=Uo[0],p=[],Ls=Qe.length;for(var Ro=0;Ro<Ls;Ro++)Ro===0?(Xa=ia(N),ka=ss(D)):(Xa=Q(jl-Uo[Ro]),ka=-jd),p.push([Qe[Ro],Xa,ka]),jl=Uo[Ro]}else if(Pt==="center"){N-=Uo[0]/2,p=[],Ls=Qe.length;for(var Lo=0;Lo<Ls;Lo++)Lo===0?(Xa=ia(N),ka=ss(D)):(Xa=Q((jl-Uo[Lo])/2),ka=-jd),p.push([Qe[Lo],Xa,ka]),jl=Uo[Lo]}else if(Pt==="left"){p=[],Ls=Qe.length;for(var hu=0;hu<Ls;hu++)p.push(Qe[hu])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');p=[],Ls=Qe.length,Zt=Zt!==0?Zt:H0;for(var ms=0;ms<Ls;ms++)ka=ms===0?ss(D):-jd,Xa=ms===0?ia(N):0,ms<Ls-1?Ya.push(R(Q((Zt-Uo[ms])/(Qe[ms].split(" ").length-1)))):Ya.push(0),p.push([Qe[ms],Xa,ka])}}var bc=typeof W.R2L=="boolean"?W.R2L:Dt;bc===!0&&(p=uu(p,(function(Nr,Sr,ai){return[Nr.split("").reverse().join(""),Sr,ai]}))),Ie={text:p,x:N,y:D,options:W,mutex:{pdfEscape:hi,activeFontKey:Ue,fonts:nn,activeFontSize:At}},sn.publish("postProcessText",Ie),p=Ie.text,gs=Ie.mutex.isHex||!1;var Ml=nn[Ue].encoding;Ml!=="WinAnsiEncoding"&&Ml!=="StandardEncoding"||(p=uu(p,(function(Nr,Sr,ai){return[Lh(Nr),Sr,ai]}))),Qe=Au(p),p=[];for(var tl,Ja,Ms,Za=0,_c=1,Cc=Array.isArray(Qe[0])?_c:Za,sa="",fu=function(Nr,Sr,ai){var fi="";return ai instanceof cn?(ai=typeof W.angle=="number"?Ci(ai,new cn(1,0,0,1,Nr,Sr)):Ci(new cn(1,0,0,1,Nr,Sr),ai),P===k.ADVANCED&&(ai=Ci(new cn(1,0,0,-1,0,0),ai)),fi=ai.join(" ")+` Tm
`):fi=R(Nr)+" "+R(Sr)+` Td
`,fi},Fa=0;Fa<Qe.length;Fa++){switch(sa="",Cc){case _c:Ms=(gs?"<":"(")+Qe[Fa][0]+(gs?">":")"),tl=parseFloat(Qe[Fa][1]),Ja=parseFloat(Qe[Fa][2]);break;case Za:Ms=(gs?"<":"(")+Qe[Fa]+(gs?">":")"),tl=ia(N),Ja=ss(D)}Ya!==void 0&&Ya[Fa]!==void 0&&(sa=Ya[Fa]+` Tw
`),Fa===0?p.push(sa+fu(tl,Ja,Xn)+Ms):Cc===Za?p.push(sa+Ms):Cc===_c&&p.push(sa+fu(tl,Ja,Xn)+Ms)}p=Cc===Za?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var nl=`BT
/`;return nl+=Ue+" "+At+` Tf
`,nl+=R(At*Ia)+` TL
`,nl+=Xo+`
`,nl+=Qr,nl+=p,Ee(nl+="ET"),m[Ue]=!0,rr};var Fl=v.__private__.clip=v.clip=function(p){return Ee(p==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Fl("evenodd")},v.__private__.discardPath=v.discardPath=function(){return Ee("n"),this};var Us=v.__private__.isValidStyle=function(p){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(N=!0),N};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(p){return Us(p)&&(d=p),this};var Eo=v.__private__.getStyle=v.getStyle=function(p){var N=d;switch(p){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=p}return N},ta=v.close=function(){return Ee("h"),this};v.stroke=function(){return Ee("S"),this},v.fill=function(p){return rs("f",p),this},v.fillEvenOdd=function(p){return rs("f*",p),this},v.fillStroke=function(p){return rs("B",p),this},v.fillStrokeEvenOdd=function(p){return rs("B*",p),this};var rs=function(p,N){_r(N)==="object"?$a(N,p):Ee(p)},No=function(p){p===null||P===k.ADVANCED&&p===void 0||(p=Eo(p),Ee(p))};function nr(p,N,D,W,pe){var Ie=new Gf(N||this.boundingBox,D||this.xStep,W||this.yStep,this.gState,pe||this.matrix);Ie.stream=this.stream;var Qe=p+"$$"+this.cloneIndex+++"$$";return ui(Qe,Ie),Ie}var $a=function(p,N){var D=_i[p.key],W=ln[D];if(W instanceof rh)Ee("q"),Ee(uA(N)),W.gState&&v.setGState(W.gState),Ee(p.matrix.toString()+" cm"),Ee("/"+D+" sh"),Ee("Q");else if(W instanceof Gf){var pe=new cn(1,0,0,-1,0,Fo());p.matrix&&(pe=pe.multiply(p.matrix||Di),D=nr.call(W,p.key,p.boundingBox,p.xStep,p.yStep,pe).id),Ee("q"),Ee("/Pattern cs"),Ee("/"+D+" scn"),W.gState&&v.setGState(W.gState),Ee(N),Ee("Q")}},uA=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},So=v.moveTo=function(p,N){return Ee(R(Q(p))+" "+R(re(N))+" m"),this},Bo=v.lineTo=function(p,N){return Ee(R(Q(p))+" "+R(re(N))+" l"),this},na=v.curveTo=function(p,N,D,W,pe,Ie){return Ee([R(Q(p)),R(re(N)),R(Q(D)),R(re(W)),R(Q(pe)),R(re(Ie)),"c"].join(" ")),this};v.__private__.line=v.line=function(p,N,D,W,pe){if(isNaN(p)||isNaN(N)||isNaN(D)||isNaN(W)||!Us(pe))throw new Error("Invalid arguments passed to jsPDF.line");return P===k.COMPAT?this.lines([[D-p,W-N]],p,N,[1,1],pe||"S"):this.lines([[D-p,W-N]],p,N,[1,1]).stroke()},v.__private__.lines=v.lines=function(p,N,D,W,pe,Ie){var Qe,xt,Pt,Qt,Zt,bn,Yn,Xn,rr,$r,Qr,gs;if(typeof p=="number"&&(gs=D,D=N,N=p,p=gs),W=W||[1,1],Ie=Ie||!1,isNaN(N)||isNaN(D)||!Array.isArray(p)||!Array.isArray(W)||!Us(pe)||typeof Ie!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(So(N,D),Qe=W[0],xt=W[1],Qt=p.length,$r=N,Qr=D,Pt=0;Pt<Qt;Pt++)(Zt=p[Pt]).length===2?($r=Zt[0]*Qe+$r,Qr=Zt[1]*xt+Qr,Bo($r,Qr)):(bn=Zt[0]*Qe+$r,Yn=Zt[1]*xt+Qr,Xn=Zt[2]*Qe+$r,rr=Zt[3]*xt+Qr,$r=Zt[4]*Qe+$r,Qr=Zt[5]*xt+Qr,na(bn,Yn,Xn,rr,$r,Qr));return Ie&&ta(),No(pe),this},v.path=function(p){for(var N=0;N<p.length;N++){var D=p[N],W=D.c;switch(D.op){case"m":So(W[0],W[1]);break;case"l":Bo(W[0],W[1]);break;case"c":na.apply(this,W);break;case"h":ta()}}return this},v.__private__.rect=v.rect=function(p,N,D,W,pe){if(isNaN(p)||isNaN(N)||isNaN(D)||isNaN(W)||!Us(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return P===k.COMPAT&&(W=-W),Ee([R(Q(p)),R(re(N)),R(Q(D)),R(Q(W)),"re"].join(" ")),No(pe),this},v.__private__.triangle=v.triangle=function(p,N,D,W,pe,Ie,Qe){if(isNaN(p)||isNaN(N)||isNaN(D)||isNaN(W)||isNaN(pe)||isNaN(Ie)||!Us(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[D-p,W-N],[pe-D,Ie-W],[p-pe,N-Ie]],p,N,[1,1],Qe,!0),this},v.__private__.roundedRect=v.roundedRect=function(p,N,D,W,pe,Ie,Qe){if(isNaN(p)||isNaN(N)||isNaN(D)||isNaN(W)||isNaN(pe)||isNaN(Ie)||!Us(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xt=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*D),Ie=Math.min(Ie,.5*W),this.lines([[D-2*pe,0],[pe*xt,0,pe,Ie-Ie*xt,pe,Ie],[0,W-2*Ie],[0,Ie*xt,-pe*xt,Ie,-pe,Ie],[2*pe-D,0],[-pe*xt,0,-pe,-Ie*xt,-pe,-Ie],[0,2*Ie-W],[0,-Ie*xt,pe*xt,-Ie,pe,-Ie]],p+pe,N,[1,1],Qe,!0),this},v.__private__.ellipse=v.ellipse=function(p,N,D,W,pe){if(isNaN(p)||isNaN(N)||isNaN(D)||isNaN(W)||!Us(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ie=4/3*(Math.SQRT2-1)*D,Qe=4/3*(Math.SQRT2-1)*W;return So(p+D,N),na(p+D,N-Qe,p+Ie,N-W,p,N-W),na(p-Ie,N-W,p-D,N-Qe,p-D,N),na(p-D,N+Qe,p-Ie,N+W,p,N+W),na(p+Ie,N+W,p+D,N+Qe,p+D,N),No(pe),this},v.__private__.circle=v.circle=function(p,N,D,W){if(isNaN(p)||isNaN(N)||isNaN(D)||!Us(W))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,N,D,D,W)},v.setFont=function(p,N,D){return D&&(N=Z(N,D)),Ue=oA(p,N,{disableWarning:!1}),this};var To=v.__private__.getFont=v.getFont=function(){return nn[oA.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var p,N,D={};for(p in Jt)if(Jt.hasOwnProperty(p))for(N in D[p]=[],Jt[p])Jt[p].hasOwnProperty(N)&&D[p].push(N);return D},v.addFont=function(p,N,D,W,pe){var Ie=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ie.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Ie.indexOf(arguments[3])==-1&&(D=Z(D,W)),pe=pe||"Identity-H",Bl.call(this,p,N,D,pe)};var is,ii=n.lineWidth||.200025,ra=v.__private__.getLineWidth=v.getLineWidth=function(){return ii},Sa=v.__private__.setLineWidth=v.setLineWidth=function(p){return ii=p,Ee(R(Q(p))+" w"),this};v.__private__.setLineDash=xn.API.setLineDash=xn.API.setLineDashPattern=function(p,N){if(p=p||[],N=N||0,isNaN(N)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map((function(D){return R(Q(D))})).join(" "),N=R(Q(N)),Ee("["+p+"] "+N+" d"),this};var Io=v.__private__.getLineHeight=v.getLineHeight=function(){return At*is};v.__private__.getLineHeight=v.getLineHeight=function(){return At*is};var hc=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(is=p),this},ko=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return is};hc(n.lineHeight);var ia=v.__private__.getHorizontalCoordinate=function(p){return Q(p)},ss=v.__private__.getVerticalCoordinate=function(p){return P===k.ADVANCED?p:Ht[H].mediaBox.topRightY-Ht[H].mediaBox.bottomLeftY-Q(p)},fc=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(p){return R(ia(p))},Wa=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(p){return R(ss(p))},as=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Ce(as)},v.__private__.setStrokeColor=v.setDrawColor=function(p,N,D,W){return as=Te({ch1:p,ch2:N,ch3:D,ch4:W,pdfColorType:"draw",precision:2}),Ee(as),this};var pc=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Ce(pc)},v.__private__.setFillColor=v.setFillColor=function(p,N,D,W){return pc=Te({ch1:p,ch2:N,ch3:D,ch4:W,pdfColorType:"fill",precision:2}),Ee(pc),this};var Xo=n.textColor||"0 g",Ul=v.__private__.getTextColor=v.getTextColor=function(){return Ce(Xo)};v.__private__.setTextColor=v.setTextColor=function(p,N,D,W){return Xo=Te({ch1:p,ch2:N,ch3:D,ch4:W,pdfColorType:"text",precision:3}),this};var Jo=n.charSpace,lu=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Jo||0)};v.__private__.setCharSpace=v.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jo=p,this};var Zo=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(p){var N=v.CapJoinStyles[p];if(N===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zo=N,Ee(N+" J"),this};var gc=0;v.__private__.setLineJoin=v.setLineJoin=function(p){var N=v.CapJoinStyles[p];if(N===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gc=N,Ee(N+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ee(R(Q(p))+" M"),this},v.GState=J1,v.setGState=function(p){(p=typeof p=="string"?ae[Kt[p]]:dA(null,p)).equals(an)||(Ee("/"+p.id+" gs"),an=p)};var dA=function(p,N){if(!p||!Kt[p]){var D=!1;for(var W in ae)if(ae.hasOwnProperty(W)&&ae[W].equals(N)){D=!0;break}if(D)N=ae[W];else{var pe="GS"+(Object.keys(ae).length+1).toString(10);ae[pe]=N,N.id=pe}return p&&(Kt[p]=N.id),sn.publish("addGState",N),N}};v.addGState=function(p,N){return dA(p,N),this},v.saveGraphicsState=function(){return Ee("q"),hr.push({key:Ue,size:At,color:Xo}),this},v.restoreGraphicsState=function(){Ee("Q");var p=hr.pop();return Ue=p.key,At=p.size,Xo=p.color,an=null,this},v.setCurrentTransformationMatrix=function(p){return Ee(p.toString()+" cm"),this},v.comment=function(p){return Ee("#"+p),this};var Rs=function(p,N){var D=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return D},set:function(Ie){isNaN(Ie)||(D=parseFloat(Ie))}});var W=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return W},set:function(Ie){isNaN(Ie)||(W=parseFloat(Ie))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Ie){pe=Ie.toString()}}),this},mc=function(p,N,D,W){Rs.call(this,p,N),this.type="rect";var pe=D||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(Qe){isNaN(Qe)||(pe=parseFloat(Qe))}});var Ie=W||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ie},set:function(Qe){isNaN(Qe)||(Ie=parseFloat(Qe))}}),this},xc=function(){this.page=dn,this.currentPage=H,this.pages=Ve.slice(0),this.pagesContext=Ht.slice(0),this.x=Gt,this.y=$t,this.matrix=fn,this.width=si(H),this.height=Fo(H),this.outputDestination=We,this.id="",this.objectNumber=-1};xc.prototype.restore=function(){dn=this.page,H=this.currentPage,Ht=this.pagesContext,Ve=this.pages,Gt=this.x,$t=this.y,fn=this.matrix,vc(H,this.width),Ta(H,this.height),We=this.outputDestination};var hA=function(p,N,D,W,pe){Li.push(new xc),dn=H=0,Ve=[],Gt=p,$t=N,fn=pe,Mi([D,W])},cu=function(p){if(ni[p])Li.pop().restore();else{var N=new xc,D="Xo"+(Object.keys(jn).length+1).toString(10);N.id=D,ni[p]=D,jn[D]=N,sn.publish("addFormObject",N),Li.pop().restore()}};for(var Ba in v.beginFormObject=function(p,N,D,W,pe){return hA(p,N,D,W,pe),this},v.endFormObject=function(p){return cu(p),this},v.doFormObject=function(p,N){var D=jn[ni[p]];return Ee("q"),Ee(N.toString()+" cm"),Ee("/"+D.id+" Do"),Ee("Q"),this},v.getFormObject=function(p){var N=jn[ni[p]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},v.save=function(p,N){return p=p||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(th(Il(ea()),p),typeof th.unload=="function"&&vn.setTimeout&&setTimeout(th.unload,911),this):new Promise((function(D,W){try{var pe=th(Il(ea()),p);typeof th.unload=="function"&&vn.setTimeout&&setTimeout(th.unload,911),D(pe)}catch(Ie){W(Ie.message)}}))},xn.API)xn.API.hasOwnProperty(Ba)&&(Ba==="events"&&xn.API.events.length?(function(p,N){var D,W,pe;for(pe=N.length-1;pe!==-1;pe--)D=N[pe][0],W=N[pe][1],p.subscribe.apply(p,[D].concat(typeof W=="function"?[W]:W))})(sn,xn.API.events):v[Ba]=xn.API[Ba]);var si=v.getPageWidth=function(p){return(Ht[p=p||H].mediaBox.topRightX-Ht[p].mediaBox.bottomLeftX)/ke},vc=v.setPageWidth=function(p,N){Ht[p].mediaBox.topRightX=N*ke+Ht[p].mediaBox.bottomLeftX},Fo=v.getPageHeight=function(p){return(Ht[p=p||H].mediaBox.topRightY-Ht[p].mediaBox.bottomLeftY)/ke},Ta=v.setPageHeight=function(p,N){Ht[p].mediaBox.topRightY=N*ke+Ht[p].mediaBox.bottomLeftY};return v.internal={pdfEscape:hi,getStyle:Eo,getFont:To,getFontSize:Bt,getCharSpace:lu,getTextColor:Ul,getLineHeight:Io,getLineHeightFactor:ko,getLineWidth:ra,write:at,getHorizontalCoordinate:ia,getVerticalCoordinate:ss,getCoordinateString:fc,getVerticalCoordinateString:Wa,collections:{},newObject:gr,newAdditionalObject:Be,newObjectDeferred:tr,newObjectDeferredBegin:le,getFilters:Ge,putStream:it,events:sn,scaleFactor:ke,pageSize:{getWidth:function(){return si(H)},setWidth:function(p){vc(H,p)},getHeight:function(){return Fo(H)},setHeight:function(p){Ta(H,p)}},encryptionOptions:f,encryption:Er,getEncryptor:AA,output:Na,getNumberOfPages:Wo,pages:Ve,out:Ee,f2:G,f3:L,getPageInfo:Fs,getPageInfoByObjId:hn,getCurrentPageInfo:qa,getPDFVersion:_,Point:Rs,Rectangle:mc,Matrix:cn,hasHotfix:kl},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return si(H)},set:function(p){vc(H,p)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return Fo(H)},set:function(p){Ta(H,p)},enumerable:!0,configurable:!0}),er.call(v,tt),Ue="F1",Tl(i,t),sn.publish("initialized"),v}Df.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Df.prototype.toHexString=function(n){return n.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Df.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Df.prototype.processOwnerPassword=function(n,e){return Mb(jb(e).substr(0,5),n)},Df.prototype.encryptor=function(n,e){var t=jb(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Mb(t,r)}},J1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||_r(n)!==_r(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},xn.API={events:[]},xn.version="2.5.1";var mi=xn.API,X_=1,Rh=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wf=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bn=function(n){return n.toFixed(2)},Hu=function(n){return n.toFixed(5)};mi.__acroform__={};var _o=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},HT=function(n){return n*X_},Qc=function(n){var e=new VR,t=tn.internal.getHeight(n)||0,r=tn.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Bn(r)),Number(Bn(t))],e},Zse=mi.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},eae=mi.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},tae=mi.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},ki=mi.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tae(n,e-1)},Fi=mi.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zse(n,e-1)},Ui=mi.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eae(n,e-1)},nae=mi.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],o=n[2],c=n[3],u={};return u.lowerLeft_X=t(i)||0,u.lowerLeft_Y=r(s+c)||0,u.upperRight_X=t(i+o)||0,u.upperRight_Y=r(s)||0,[Number(Bn(u.lowerLeft_X)),Number(Bn(u.lowerLeft_Y)),Number(Bn(u.upperRight_X)),Number(Bn(u.upperRight_Y))]},rae=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Pb(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Bn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Qc(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},Pb=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map((function(L){return L.split(`
`)})):i.map((function(L){return[L]}));var s=t,o=tn.internal.getHeight(n)||0;o=o<0?-o:o;var c=tn.internal.getWidth(n)||0;c=c<0?-c:c;var u=function(L,Q,j){if(L+1<i.length){var re=Q+" "+i[L+1][0];return fx(re,n,j).width<=c-4}return!1};s++;e:for(;s>0;){e="",s--;var d,f,g=fx("3",n,s).height,m=n.multiline?o-s:(o-g)/2,v=m+=2,C=0,_=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+fx(e,n,s=12).width+", FieldWidth:"+c+`
`;break}for(var T="",k=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var z=!1;if(i[P].length!==1&&E!==i[P].length-1){if((g+2)*(k+2)+2>o)continue e;T+=i[P][E],z=!0,_=P,P--}else{T=(T+=i[P][E]+" ").substr(T.length-1)==" "?T.substr(0,T.length-1):T;var Y=parseInt(P),Z=u(Y,T,s),R=P>=i.length-1;if(Z&&!R){T+=" ",E=0;continue}if(Z||R){if(R)_=Y;else if(n.multiline&&(g+2)*(k+2)+2>o)continue e}else{if(!n.multiline||(g+2)*(k+2)+2>o)continue e;_=Y}}for(var F="",M=C;M<=_;M++){var G=i[M];if(n.multiline){if(M===_){F+=G[E]+" ",E=(E+1)%G.length;continue}if(M===C){F+=G[G.length-1]+" ";continue}}F+=G[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=fx(F,n,s).width,n.textAlign){case"right":d=c-f-2;break;case"center":d=(c-f)/2;break;case"left":default:d=2}e+=Bn(d)+" "+Bn(v)+` Td
`,e+="("+Rh(F)+`) Tj
`,e+=-Bn(d)+` 0 Td
`,v=-(s+2),f=0,C=z?_:_+1,k++,T=""}break}return r.text=e,r.fontSize=s,r},fx=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},iae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sae=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find((function(r){return r.type===t.type&&r.object===t.object}))===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},aae=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),_r(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},oae=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(cc.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(iae)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");X_=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new zR,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",(function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)})),n.internal.events.subscribe("buildDocument",(function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&sae(s,t)}})(n)})),n.internal.events.subscribe("putCatalog",(function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)})),n.internal.events.subscribe("postPutPages",(function(t){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var c=r[o],u=[],d=c.Rect;if(c.Rect&&(c.Rect=nae(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=tn.createDefaultAppearanceStream(c),_r(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(u=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=rae(c);u.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var g="";for(var m in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(m)){var v=c.appearanceStreamContent[m];if(g+="/"+m+" ",g+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var o in v)if(v.hasOwnProperty(o)){var C=v[o];typeof C=="function"&&(C=C.call(i,c)),g+="/"+o+" "+C+" ",i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C)}}else typeof(C=v)=="function"&&(C=C.call(i,c)),g+="/"+o+" "+C,i.internal.acroformPlugin.xForms.indexOf(C)>=0||i.internal.acroformPlugin.xForms.push(C);g+=">>"}u.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:c.objId}),i.internal.out("endobj")}s&&aae(i.internal.acroformPlugin.xForms,i)})(t,n)})),n.internal.acroformPlugin.isInitialized=!0}},HR=mi.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(o){return o};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),_r(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Rh(r(n[s].toString()))+")"):i+=n[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hw=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Rh(r(n))+")"},zc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zc.prototype.toString=function(){return this.objId+" 0 R"},zc.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},zc.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter((function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"}));for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:HR(i,this.objId,this.scope)}):i instanceof zc?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var VR=function(){zc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};_o(VR,zc);var zR=function(){zc.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Rh(t(n))+")"}},set:function(t){n=t}})};_o(zR,zc);var cc=function n(){zc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute F supplied.');e=T}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ki(e,3)},set:function(T){T?this.F=Fi(e,3):this.F=Ui(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(T){if(isNaN(T))throw new Error('Invalid value "'+T+'" for attribute Ff supplied.');t=T}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(T){r=T!==void 0?T:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(T){r[0]=T}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(T){r[1]=T}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(T){r[2]=T}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(T){r[3]=T}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(T){switch(T){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=T;break;default:throw new Error('Invalid value "'+T+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Z1)return;s="FieldObject"+n.FieldNum++}var T=function(k){return k};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+Rh(T(s))+")"},set:function(T){s=T.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(T){s=T}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(T){o=T}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(T){c=T}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(T){u=T}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/X_:d},set:function(T){d=T}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(T){f=T}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Z1||this instanceof Ah))return hw(g,this.objId,this.scope)},set:function(T){T=T.toString(),g=T}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Es?m:hw(m,this.objId,this.scope)},set:function(T){T=T.toString(),m=this instanceof Es?T:T.substr(0,1)==="("?wf(T.substr(1,T.length-2)):wf(T)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?wf(m.substr(1,m.length-1)):m},set:function(T){T=T.toString(),m=this instanceof Es?"/"+T:T}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(T){this.V=T}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Es?v:hw(v,this.objId,this.scope)},set:function(T){T=T.toString(),v=this instanceof Es?T:T.substr(0,1)==="("?wf(T.substr(1,T.length-2)):wf(T)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Es?wf(v.substr(1,v.length-1)):v},set:function(T){T=T.toString(),v=this instanceof Es?"/"+T:T}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(T){T=!!T,_=T}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(T){C=T}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,1)},set:function(T){T?this.Ff=Fi(this.Ff,1):this.Ff=Ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,2)},set:function(T){T?this.Ff=Fi(this.Ff,2):this.Ff=Ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,3)},set:function(T){T?this.Ff=Fi(this.Ff,3):this.Ff=Ui(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(T){if([0,1,2].indexOf(T)===-1)throw new Error('Invalid value "'+T+'" for attribute Q supplied.');E=T}}),Object.defineProperty(this,"textAlign",{get:function(){var T;switch(E){case 0:default:T="left";break;case 1:T="center";break;case 2:T="right"}return T},configurable:!0,enumerable:!0,set:function(T){switch(T){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};_o(cc,zc);var i0=function(){cc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return HR(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,o,c){c||(c=1);for(var u,d=[];u=o.exec(s);)d.push(u[c]);return d})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,18)},set:function(t){t?this.Ff=Fi(this.Ff,18):this.Ff=Ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Fi(this.Ff,19):this.Ff=Ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,20)},set:function(t){t?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=Ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,22)},set:function(t){t?this.Ff=Fi(this.Ff,22):this.Ff=Ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(t){t?this.Ff=Fi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,27)},set:function(t){t?this.Ff=Fi(this.Ff,27):this.Ff=Ui(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(i0,cc);var s0=function(){i0.call(this),this.fontName="helvetica",this.combo=!1};_o(s0,i0);var a0=function(){s0.call(this),this.combo=!0};_o(a0,s0);var Zx=function(){a0.call(this),this.edit=!0};_o(Zx,a0);var Es=function(){cc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,15)},set:function(t){t?this.Ff=Fi(this.Ff,15):this.Ff=Ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,16)},set:function(t){t?this.Ff=Fi(this.Ff,16):this.Ff=Ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,17)},set:function(t){t?this.Ff=Fi(this.Ff,17):this.Ff=Ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(t){t?this.Ff=Fi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Rh(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){_r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};_o(Es,cc);var e1=function(){Es.call(this),this.pushButton=!0};_o(e1,Es);var o0=function(){Es.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};_o(o0,Es);var Z1=function(){var n,e;cc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Rh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){_r(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(Z1,cc),o0.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},o0.prototype.createOption=function(n){var e=new Z1;return e.Parent=this,e.optionName=n,this.Kids.push(e),lae.call(this.scope,e),e};var t1=function(){Es.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tn.CheckBox.createAppearanceStream()};_o(t1,Es);var Ah=function(){cc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,13)},set:function(e){e?this.Ff=Fi(this.Ff,13):this.Ff=Ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,21)},set:function(e){e?this.Ff=Fi(this.Ff,21):this.Ff=Ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,24)},set:function(e){e?this.Ff=Fi(this.Ff,24):this.Ff=Ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,25)},set:function(e){e?this.Ff=Fi(this.Ff,25):this.Ff=Ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(Ah,cc);var n1=function(){Ah.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ki(this.Ff,14)},set:function(n){n?this.Ff=Fi(this.Ff,14):this.Ff=Ui(this.Ff,14)}}),this.password=!0};_o(n1,Ah);var tn={CheckBox:{createAppearanceStream:function(){return{N:{On:tn.CheckBox.YesNormal},D:{On:tn.CheckBox.YesPushDown,Off:tn.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=Pb(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Bn(tn.internal.getWidth(n))+" "+Bn(tn.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Bn(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=tn.internal.getHeight(n),o=tn.internal.getWidth(n),c=Pb(n,n.caption);return i.push("1 g"),i.push("0 0 "+Bn(o)+" "+Bn(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Bn(o-1)+" "+Bn(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Bn(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bn(tn.internal.getWidth(n))+" "+Bn(tn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:tn.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=tn.RadioButton.Circle.YesNormal,e.D[n]=tn.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=[],r=tn.internal.getWidth(n)<=tn.internal.getHeight(n)?tn.internal.getWidth(n)/4:tn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=tn.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Hu(tn.internal.getWidth(n)/2)+" "+Hu(tn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],r=tn.internal.getWidth(n)<=tn.internal.getHeight(n)?tn.internal.getWidth(n)/4:tn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tn.internal.Bezier_C).toFixed(5)),o=Number((r*tn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Hu(tn.internal.getWidth(n)/2)+" "+Hu(tn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Hu(tn.internal.getWidth(n)/2)+" "+Hu(tn.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[],r=tn.internal.getWidth(n)<=tn.internal.getHeight(n)?tn.internal.getWidth(n)/4:tn.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tn.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Hu(tn.internal.getWidth(n)/2)+" "+Hu(tn.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:tn.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=tn.RadioButton.Cross.YesNormal,e.D[n]=tn.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Qc(n);e.scope=n.scope;var t=[],r=tn.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Bn(tn.internal.getWidth(n)-2)+" "+Bn(tn.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Bn(r.x1.x)+" "+Bn(r.x1.y)+" m"),t.push(Bn(r.x2.x)+" "+Bn(r.x2.y)+" l"),t.push(Bn(r.x4.x)+" "+Bn(r.x4.y)+" m"),t.push(Bn(r.x3.x)+" "+Bn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=tn.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Bn(tn.internal.getWidth(n))+" "+Bn(tn.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Bn(tn.internal.getWidth(n)-2)+" "+Bn(tn.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Bn(t.x1.x)+" "+Bn(t.x1.y)+" m"),r.push(Bn(t.x2.x)+" "+Bn(t.x2.y)+" l"),r.push(Bn(t.x4.x)+" "+Bn(t.x4.y)+" m"),r.push(Bn(t.x3.x)+" "+Bn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Qc(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Bn(tn.internal.getWidth(n))+" "+Bn(tn.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};tn.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=tn.internal.getWidth(n),t=tn.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},tn.internal.getWidth=function(n){var e=0;return _r(n)==="object"&&(e=HT(n.Rect[2])),e},tn.internal.getHeight=function(n){var e=0;return _r(n)==="object"&&(e=HT(n.Rect[3])),e};var lae=mi.addField=function(n){if(oae(this,n),!(n instanceof cc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};mi.AcroFormChoiceField=i0,mi.AcroFormListBox=s0,mi.AcroFormComboBox=a0,mi.AcroFormEditBox=Zx,mi.AcroFormButton=Es,mi.AcroFormPushButton=e1,mi.AcroFormRadioButton=o0,mi.AcroFormCheckBox=t1,mi.AcroFormTextField=Ah,mi.AcroFormPasswordField=n1,mi.AcroFormAppearance=tn,mi.AcroForm={ChoiceField:i0,ListBox:s0,ComboBox:a0,EditBox:Zx,Button:Es,PushButton:e1,RadioButton:o0,CheckBox:t1,TextField:Ah,PasswordField:n1,Appearance:tn},xn.AcroForm={ChoiceField:i0,ListBox:s0,ComboBox:a0,EditBox:Zx,Button:Es,PushButton:e1,RadioButton:o0,CheckBox:t1,TextField:Ah,PasswordField:n1,Appearance:tn};xn.AcroForm;function GR(n){return n.reduce((function(e,t,r){return e[t]=r,e}),{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(L,Q){var j,re,fe,ie,Ae,me=e;if((Q=Q||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(Z(L))for(Ae in t)for(fe=t[Ae],j=0;j<fe.length;j+=1){for(ie=!0,re=0;re<fe[j].length;re+=1)if(fe[j][re]!==void 0&&fe[j][re]!==L[re]){ie=!1;break}if(ie===!0){me=Ae;break}}else for(Ae in t)for(fe=t[Ae],j=0;j<fe.length;j+=1){for(ie=!0,re=0;re<fe[j].length;re+=1)if(fe[j][re]!==void 0&&fe[j][re]!==L.charCodeAt(re)){ie=!1;break}if(ie===!0){me=Ae;break}}return me===e&&Q!==e&&(me=Q),me},i=function L(Q){for(var j=this.internal.write,re=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);Q.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:Q.width}),ie.push({key:"Height",value:Q.height}),Q.colorSpace===E.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Q.palette.length/3-1)+" "+("sMask"in Q&&Q.sMask!==void 0?Q.objectId+2:Q.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+Q.colorSpace}),Q.colorSpace===E.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:Q.bitsPerComponent}),"decodeParameters"in Q&&Q.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+Q.decodeParameters+">>"}),"transparency"in Q&&Array.isArray(Q.transparency)){for(var Ae="",me=0,_e=Q.transparency.length;me<_e;me++)Ae+=Q.transparency[me]+" "+Q.transparency[me]+" ";ie.push({key:"Mask",value:"["+Ae+"]"})}Q.sMask!==void 0&&ie.push({key:"SMask",value:Q.objectId+1+" 0 R"});var we=Q.filter!==void 0?["/"+Q.filter]:void 0;if(re({data:Q.data,additionalKeyValues:ie,alreadyAppliedFilters:we,objectId:Q.objectId}),j("endobj"),"sMask"in Q&&Q.sMask!==void 0){var ee="/Predictor "+Q.predictor+" /Colors 1 /BitsPerComponent "+Q.bitsPerComponent+" /Columns "+Q.width,U={width:Q.width,height:Q.height,colorSpace:"DeviceGray",bitsPerComponent:Q.bitsPerComponent,decodeParameters:ee,data:Q.sMask};"filter"in Q&&(U.filter=Q.filter),L.call(this,U)}if(Q.colorSpace===E.INDEXED){var H=this.internal.newObject();re({data:F(new Uint8Array(Q.palette)),objectId:H}),j("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var Q in L)i.call(this,L[Q])},o=function(){var L,Q=this.internal.collections.addImage_images,j=this.internal.write;for(var re in Q)j("/I"+(L=Q[re]).index,L.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var L=this.internal.collections.addImage_images;return c.call(this),L},d=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(L){return typeof n["process"+L.toUpperCase()]=="function"},g=function(L){return _r(L)==="object"&&L.nodeType===1},m=function(L,Q){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var j=""+L.getAttribute("src");if(j.indexOf("data:image/")===0)return sg(unescape(j).split("base64,").pop());var re=n.loadFile(j,!0);if(re!==void 0)return re}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var fe;switch(Q){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return sg(L.toDataURL(fe,1).split("base64,").pop())}},v=function(L){var Q=this.internal.collections.addImage_images;if(Q){for(var j in Q)if(L===Q[j].alias)return Q[j]}},C=function(L,Q,j){return L||Q||(L=-96,Q=-96),L<0&&(L=-1*j.width*72/L/this.internal.scaleFactor),Q<0&&(Q=-1*j.height*72/Q/this.internal.scaleFactor),L===0&&(L=Q*j.width/j.height),Q===0&&(Q=L*j.height/j.width),[L,Q]},_=function(L,Q,j,re,fe,ie){var Ae=C.call(this,j,re,fe),me=this.internal.getCoordinateString,_e=this.internal.getVerticalCoordinateString,we=u.call(this);if(j=Ae[0],re=Ae[1],we[fe.index]=fe,ie){ie*=Math.PI/180;var ee=Math.cos(ie),U=Math.sin(ie),H=function(J){return J.toFixed(4)},V=[H(ee),H(U),H(-1*U),H(ee),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,me(L),_e(Q+re),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([me(j),"0","0",me(re),"0","0","cm"].join(" "))):this.internal.write([me(j),"0","0",me(re),me(L),_e(Q+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},E=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var T=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=n.__addimage__.sHashCode=function(L){var Q,j,re=0;if(typeof L=="string")for(j=L.length,Q=0;Q<j;Q++)re=(re<<5)-re+L.charCodeAt(Q),re|=0;else if(Z(L))for(j=L.byteLength/2,Q=0;Q<j;Q++)re=(re<<5)-re+L[Q],re|=0;return re},P=n.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var Q=!0;return L.length===0&&(Q=!1),L.length%4!=0&&(Q=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(Q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(Q=!1),Q},z=n.__addimage__.extractImageFromDataUrl=function(L){var Q=(L=L||"").split("base64,"),j=null;if(Q.length===2){var re=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Q[0]);Array.isArray(re)&&(j={mimeType:re[1],charset:re[2],data:Q[1]})}return j},Y=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(L){return Y()&&L instanceof ArrayBuffer};var Z=n.__addimage__.isArrayBufferView=function(L){return Y()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},R=n.__addimage__.binaryStringToUint8Array=function(L){for(var Q=L.length,j=new Uint8Array(Q),re=0;re<Q;re++)j[re]=L.charCodeAt(re);return j},F=n.__addimage__.arrayBufferToBinaryString=function(L){for(var Q="",j=Z(L)?L:new Uint8Array(L),re=0;re<j.length;re+=8192)Q+=String.fromCharCode.apply(null,j.subarray(re,re+8192));return Q};n.addImage=function(){var L,Q,j,re,fe,ie,Ae,me,_e;if(typeof arguments[1]=="number"?(Q=e,j=arguments[1],re=arguments[2],fe=arguments[3],ie=arguments[4],Ae=arguments[5],me=arguments[6],_e=arguments[7]):(Q=arguments[1],j=arguments[2],re=arguments[3],fe=arguments[4],ie=arguments[5],Ae=arguments[6],me=arguments[7],_e=arguments[8]),_r(L=arguments[0])==="object"&&!g(L)&&"imageData"in L){var we=L;L=we.imageData,Q=we.format||Q||e,j=we.x||j||0,re=we.y||re||0,fe=we.w||we.width||fe,ie=we.h||we.height||ie,Ae=we.alias||Ae,me=we.compression||me,_e=we.rotation||we.angle||_e}var ee=this.internal.getFilters();if(me===void 0&&ee.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(j)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=M.call(this,L,Q,Ae,me);return _.call(this,j,re,fe,ie,U,_e),this};var M=function(L,Q,j,re){var fe,ie,Ae;if(typeof L=="string"&&r(L)===e){L=unescape(L);var me=G(L,!1);(me!==""||(me=n.loadFile(L,!0))!==void 0)&&(L=me)}if(g(L)&&(L=m(L,Q)),Q=r(L,Q),!f(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(((Ae=j)==null||Ae.length===0)&&(j=(function(_e){return typeof _e=="string"||Z(_e)?k(_e):Z(_e.data)?k(_e.data):null})(L)),(fe=v.call(this,j))||(Y()&&(L instanceof Uint8Array||Q==="RGBA"||(ie=L,L=R(L))),fe=this["process"+Q.toUpperCase()](L,d.call(this),j,(function(_e){return _e&&typeof _e=="string"&&(_e=_e.toUpperCase()),_e in n.image_compression?_e:T.NONE})(re),ie)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},G=n.__addimage__.convertBase64ToBinaryString=function(L,Q){var j;Q=typeof Q!="boolean"||Q;var re,fe="";if(typeof L=="string"){re=(j=z(L))!==null?j.data:L;try{fe=sg(re)}catch(ie){if(Q)throw P(re)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};n.getImageProperties=function(L){var Q,j,re="";if(g(L)&&(L=m(L)),typeof L=="string"&&r(L)===e&&((re=G(L,!1))===""&&(re=n.loadFile(L)||""),L=re),j=r(L),!f(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!Y()||L instanceof Uint8Array||(L=R(L)),!(Q=this["process"+j.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return Q.fileType=j,Q}})(xn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};xn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,f=!1,g=0;g<d.length&&!f;g++)switch((r=d[g]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){r=d[m];var v=this.internal.pdfEscape,C=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),T=this.internal.getEncryptor(_.objId),k=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+v(T(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+v(T(k))+") >>",_.content=s;var P=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(_.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var z=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(C(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(C(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Z=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,o){var c=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:u(t),y:d(r),w:u(t+i),h:d(r+s)},options:o,type:"link"})},n.textWithLink=function(t,r,i,s){var o,c,u=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var f=this.splitTextToSize(t,c).length;o=Math.ceil(d*f)}else c=u,o=d;return this.text(t,r,i,s),i+=.2*d,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-d,c,o,s),u},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(xn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=n.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},c=n.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var f=n.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},g=n.__arabicParser__.resolveLigatures=function(_){var E=0,T=t,k="",P=0;for(E=0;E<_.length;E+=1)T[_.charCodeAt(E)]!==void 0?(P++,typeof(T=T[_.charCodeAt(E)])=="number"&&(k+=String.fromCharCode(T),T=t,P=0),E===_.length-1&&(T=t,k+=_.charAt(E-(P-1)),E-=P-1,P=0)):(T=t,k+=_.charAt(E-P),E-=P,P=0);return k};n.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(_,E,T){return o(_)?s(_)===!1?-1:!d(_)||!o(E)&&!o(T)||!o(T)&&c(E)||c(_)&&!o(E)||c(_)&&u(E)||c(_)&&c(E)?0:f(_)&&o(E)&&!c(E)&&o(T)&&d(T)?3:c(_)||!o(T)?1:2:-1},v=function(_){var E=0,T=0,k=0,P="",z="",Y="",Z=(_=_||"").split("\\s+"),R=[];for(E=0;E<Z.length;E+=1){for(R.push(""),T=0;T<Z[E].length;T+=1)P=Z[E][T],z=Z[E][T-1],Y=Z[E][T+1],o(P)?(k=m(P,z,Y),R[E]+=k!==-1?String.fromCharCode(e[P.charCodeAt(0)][k]):P):R[E]+=P;R[E]=g(R[E])}return R.join(" ")},C=n.__arabicParser__.processArabic=n.processArabic=function(){var _,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,T=[];if(Array.isArray(E)){var k=0;for(T=[],k=0;k<E.length;k+=1)Array.isArray(E[k])?T.push([v(E[k][0]),E[k][1],E[k][2]]):T.push([v(E[k])]);_=T}else _=v(E);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};n.events.push(["preProcessText",C])})(xn.API),xn.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(xn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(_){g=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(_){v=_}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(_){C=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,v=0,C=0,_=0,E=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var T=d.maxWidth;T>0?typeof u=="string"?u=this.splitTextToSize(u,T):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce((function(P,z){return P.concat(E.splitTextToSize(z,T))}),[])):u=Array.isArray(u)?u:[u];for(var k=0;k<u.length;k++)v<(_=this.getStringUnitWidth(u[k],{font:g})*f)&&(v=_);return v!==0&&(C=u.length),{w:v/=m,h:Math.max((C*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=g.top,v&&m&&(this.printHeaderRow(u.lineNumber,!0),u.y+=m[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,f,g,m){if(r.call(this),!f)throw new Error("No data for PDF table.");var v,C,_,E,T=[],k=[],P=[],z={},Y={},Z=[],R=[],F=(m=m||{}).autoSize||!1,M=m.printHeaders!==!1,G=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,L=m.margins||Object.assign({width:this.getPageWidth()},e),Q=typeof m.padding=="number"?m.padding:3,j=m.headerBackgroundColor||"#c8c8c8",re=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=Q,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=re,this.setFontSize(G),g==null)k=T=Object.keys(f[0]),P=T.map((function(){return"left"}));else if(Array.isArray(g)&&_r(g[0])==="object")for(T=g.map((function(we){return we.name})),k=g.map((function(we){return we.prompt||we.name||""})),P=g.map((function(we){return we.align||"left"})),v=0;v<g.length;v+=1)Y[g[v].name]=g[v].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(k=T=g,P=T.map((function(){return"left"})));if(F||Array.isArray(g)&&typeof g[0]=="string")for(v=0;v<T.length;v+=1){for(z[E=T[v]]=f.map((function(we){return we[E]})),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(k[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=z[E],this.setFont(void 0,"normal"),_=0;_<C.length;_+=1)Z.push(this.getTextDimensions(C[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[E]=Math.max.apply(null,Z)+Q+Q,Z=[]}if(M){var fe={};for(v=0;v<T.length;v+=1)fe[T[v]]={},fe[T[v]].text=k[v],fe[T[v]].align=P[v];var ie=c.call(this,fe,Y);R=T.map((function(we){return new s(u,d,Y[we],ie,fe[we].text,void 0,fe[we].align)})),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Ae=g.reduce((function(we,ee){return we[ee.name]=ee.align,we}),{});for(v=0;v<f.length;v+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:v,data:f[v]},this);var me=c.call(this,f[v],Y);for(_=0;_<T.length;_+=1){var _e=f[v][T[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:v,col:_,data:_e},this),o.call(this,new s(u,d,Y[T[_]],me,_e,v+2,Ae[T[_]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var c=function(u,d){var f=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(u).map((function(v){var C=u[v];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,d[v]-f-f)}),this).map((function(v){return this.getLineHeightFactor()*v.length*g/m+f+f}),this).reduce((function(v,C){return Math.max(v,C)}),0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){f=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=u;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(C)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),t=!1}})(xn.API);var KR={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qR=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ob=GR(qR),$R=[100,200,300,400,500,600,700,800,900],cae=GR($R);function Qb(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return KR[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}})(n.weight),i=(function(s){return typeof Ob[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function VT(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Aae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function GT(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function uae(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},Aae,t.genericFontFamilies||{}),s=null,o=null,c=0;c<e.length;++c)if(i[(s=Qb(e[c])).family]&&(s.family=i[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[r]))throw new Error("Could not find a font-family for the rule '"+GT(s)+"' and default family '"+r+"'.");if(o=(function(u,d){if(d[u])return d[u];var f=Ob[u],g=f<=Ob.normal?-1:1,m=VT(d,qR,f,g);if(!m)throw new Error("Could not find a matching font-stretch value for "+u);return m})(s.stretch,o),o=(function(u,d){if(d[u])return d[u];for(var f=KR[u],g=0;g<f.length;++g)if(d[f[g]])return d[f[g]];throw new Error("Could not find a matching font-style for "+u)})(s.style,o),!(o=(function(u,d){if(d[u])return d[u];if(u===400&&d[500])return d[500];if(u===500&&d[400])return d[400];var f=cae[u],g=VT(d,$R,f,u<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+u);return g})(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+GT(s)+"'.");return o}function KT(n){return n.trimLeft()}function dae(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function hae(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var px,qT,$T,fw=["times"];(function(n){var e,t,r,i,s,o,c,u,d,f=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new u,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,u=this.internal.Matrix,d=new f}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=U;Object.defineProperty(this,"pdf",{get:function(){return H}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(Re){V=!!Re}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Re){J=!!Re}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(Re){isNaN(Re)||(q=Re)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(Re){isNaN(Re)||(te=Re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Re){var Ee;typeof Re=="number"?Ee=[Re,Re,Re,Re]:((Ee=new Array(4))[0]=Re[0],Ee[1]=Re.length>=2?Re[1]:Ee[0],Ee[2]=Re.length>=3?Re[2]:Ee[0],Ee[3]=Re.length>=4?Re[3]:Ee[1]),d.margin=Ee}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Re){xe=Re}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Re){ue=Re}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Re){be=Re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Re){Re instanceof f&&(d=Re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Re){d.path=Re}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function(Re){Ve=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var Ee;Ee=m(Re),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var Ee=m(Re);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Pe=null;function We(Re,Ee){if(Pe===null){var at=(function(St){var tt=[];return Object.keys(St).forEach((function(At){St[At].forEach((function(Et){var Bt=null;switch(Et){case"bold":Bt={family:At,weight:"bold"};break;case"italic":Bt={family:At,style:"italic"};break;case"bolditalic":Bt={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:At}}Bt!==null&&(Bt.ref={name:At,style:Et},tt.push(Bt))}))})),tt})(Re.getFontList());Pe=(function(St){for(var tt={},At=0;At<St.length;++At){var Et=Qb(St[At]),Bt=Et.family,Dt=Et.stretch,Ne=Et.style,ze=Et.weight;tt[Bt]=tt[Bt]||{},tt[Bt][Dt]=tt[Bt][Dt]||{},tt[Bt][Dt][Ne]=tt[Bt][Dt][Ne]||{},tt[Bt][Dt][Ne][ze]=Et}return tt})(at.concat(Ee))}return Pe}var nt=null;Object.defineProperty(this,"fontFaces",{get:function(){return nt},set:function(Re){Pe=null,nt=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var Ee;if(this.ctx.font=Re,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var at=Ee[1],St=(Ee[2],Ee[3]),tt=Ee[4],At=(Ee[5],Ee[6]),Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(Et==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var Bt=(function(Tt){var Ue,ke,Gt=[],$t=Tt.trim();if($t==="")return fw;if($t in zT)return[zT[$t]];for(;$t!=="";){switch(ke=null,Ue=($t=KT($t)).charAt(0)){case'"':case"'":ke=dae($t.substring(1),Ue);break;default:ke=hae($t)}if(ke===null||(Gt.push(ke[0]),($t=KT(ke[1]))!==""&&$t.charAt(0)!==","))return fw;$t=$t.replace(/^,/,"")}return Gt})(At);if(this.fontFaces){var Dt=uae(We(this.pdf,this.fontFaces),Bt.map((function(Tt){return{family:Tt,stretch:"normal",weight:St,style:at}})));this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var Ne="";(St==="bold"||parseInt(St,10)>=700||at==="bold")&&(Ne="bold"),at==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var ze="",ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Bt.length;ht++){if(this.pdf.internal.getFont(Bt[ht],Ne,{noFallback:!0,disableWarning:!0})!==void 0){ze=Bt[ht];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(Bt[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ze=Bt[ht],Ne="bold";else if(this.pdf.internal.getFont(Bt[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ze=Bt[ht],Ne="normal";break}}if(ze===""){for(var It=0;It<Bt.length;It++)if(ft[Bt[It]]){ze=ft[Bt[It]];break}}ze=ze===""?"Times":ze,this.pdf.setFont(ze,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){z.call(this,"fill",!1)},g.prototype.stroke=function(){z.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,H){if(isNaN(U)||isNaN(H))throw Dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(U,H));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(U,H)},g.prototype.closePath=function(){var U=new o(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&_r(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){U=new o(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},g.prototype.lineTo=function(U,H){if(isNaN(U)||isNaN(H))throw Dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(U,H));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,H,V,J){if(isNaN(V)||isNaN(J)||isNaN(U)||isNaN(H))throw Dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new o(V,J)),te=this.ctx.transform.applyToPoint(new o(U,H));this.path.push({type:"qct",x1:te.x,y1:te.y,x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},g.prototype.bezierCurveTo=function(U,H,V,J,q,te){if(isNaN(q)||isNaN(te)||isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J))throw Dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new o(q,te)),ue=this.ctx.transform.applyToPoint(new o(U,H)),be=this.ctx.transform.applyToPoint(new o(V,J));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:be.x,y2:be.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},g.prototype.arc=function(U,H,V,J,q,te){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J)||isNaN(q))throw Dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new o(U,H));U=xe.x,H=xe.y;var ue=this.ctx.transform.applyToPoint(new o(0,V)),be=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(ue.x-be.x,2)+Math.pow(ue.y-be.y,2))}Math.abs(q-J)>=2*Math.PI&&(J=0,q=2*Math.PI),this.path.push({type:"arc",x:U,y:H,radius:V,startAngle:J,endAngle:q,counterclockwise:te})},g.prototype.arcTo=function(U,H,V,J,q){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,H,V,J){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J))throw Dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,H),this.lineTo(U+V,H),this.lineTo(U+V,H+J),this.lineTo(U,H+J),this.lineTo(U,H),this.lineTo(U+V,H),this.lineTo(U,H)},g.prototype.fillRect=function(U,H,V,J){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J))throw Dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,H,V,J),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},g.prototype.strokeRect=function(U,H,V,J){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J))throw Dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(U,H,V,J),this.stroke())},g.prototype.clearRect=function(U,H,V,J){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J))throw Dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,H,V,J))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(H),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(U){var H,V,J,q;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))H=0,V=0,J=0,q=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(te!==null)H=parseInt(te[1]),V=parseInt(te[2]),J=parseInt(te[3]),q=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)H=parseInt(te[1]),V=parseInt(te[2]),J=parseInt(te[3]),q=parseFloat(te[4]);else{if(q=1,typeof U=="string"&&U.charAt(0)!=="#"){var xe=new PR(U);U=xe.ok?xe.toHex():"#000000"}U.length===4?(H=U.substring(1,2),H+=H,V=U.substring(2,3),V+=V,J=U.substring(3,4),J+=J):(H=U.substring(1,3),V=U.substring(3,5),J=U.substring(5,7)),H=parseInt(H,16),V=parseInt(V,16),J=parseInt(J,16)}}return{r:H,g:V,b:J,a:q,style:U}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,H,V,J){if(isNaN(H)||isNaN(V)||typeof U!="string")throw Dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!v.call(this)){var q=me(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:V,scale:te,angle:q,align:this.textAlign,maxWidth:J})}},g.prototype.strokeText=function(U,H,V,J){if(isNaN(H)||isNaN(V)||typeof U!="string")throw Dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){J=isNaN(J)?void 0:J;var q=me(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;Q.call(this,{text:U,x:H,y:V,scale:te,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:J})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,V=this.pdf.internal.scaleFactor,J=H.internal.getFontSize(),q=H.getStringUnitWidth(U)*J/H.internal.scaleFactor,te=function(xe){var ue=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new te({width:q*=Math.round(96*V/72*1e4)/1e4})},g.prototype.scale=function(U,H){if(isNaN(U)||isNaN(H))throw Dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new u(U,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.rotate=function(U){if(isNaN(U))throw Dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new u(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},g.prototype.translate=function(U,H){if(isNaN(U)||isNaN(H))throw Dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new u(1,0,0,1,U,H);this.ctx.transform=this.ctx.transform.multiply(V)},g.prototype.transform=function(U,H,V,J,q,te){if(isNaN(U)||isNaN(H)||isNaN(V)||isNaN(J)||isNaN(q)||isNaN(te))throw Dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new u(U,H,V,J,q,te);this.ctx.transform=this.ctx.transform.multiply(xe)},g.prototype.setTransform=function(U,H,V,J,q,te){U=isNaN(U)?1:U,H=isNaN(H)?0:H,V=isNaN(V)?0:V,J=isNaN(J)?1:J,q=isNaN(q)?0:q,te=isNaN(te)?0:te,this.ctx.transform=new u(U,H,V,J,q,te)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,H,V,J,q,te,xe,ue,be){var Ve=this.pdf.getImageProperties(U),Pe=1,We=1,nt=1,Re=1;J!==void 0&&ue!==void 0&&(nt=ue/J,Re=be/q,Pe=Ve.width/J*ue/J,We=Ve.height/q*be/q),te===void 0&&(te=H,xe=V,H=0,V=0),J!==void 0&&ue===void 0&&(ue=J,be=q),J===void 0&&ue===void 0&&(ue=Ve.width,be=Ve.height);for(var Ee,at=this.ctx.transform.decompose(),St=me(at.rotate.shx),tt=new u,At=(tt=(tt=(tt=tt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new c(te-H*nt,xe-V*Re,J*Pe,q*We)),Et=E.call(this,At),Bt=[],Dt=0;Dt<Et.length;Dt+=1)Bt.indexOf(Et[Dt])===-1&&Bt.push(Et[Dt]);if(P(Bt),this.autoPaging)for(var Ne=Bt[0],ze=Bt[Bt.length-1],ft=Ne;ft<ze+1;ft++){this.pdf.setPage(ft);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=ft===1?this.posY+this.margin[0]:this.margin[0],Tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ke=ft===1?0:Tt+(ft-2)*Ue;if(this.ctx.clip_path.length!==0){var Gt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Ee,this.posX+this.margin[3],-ke+It+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Gt}var $t=JSON.parse(JSON.stringify(At));$t=k([$t],this.posX+this.margin[3],-ke+It+this.ctx.prevPageLastElemOffset)[0];var fn=(ft>Ne||ft<ze)&&_.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,Ue,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,St),fn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",At.x,At.y,At.w,At.h,null,null,St)};var E=function(U,H,V){var J=[];H=H||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":J.push(Math.floor((U.y+q)/V)+1);break;case"arc":J.push(Math.floor((U.y+q-U.radius)/V)+1),J.push(Math.floor((U.y+q+U.radius)/V)+1);break;case"qct":var te=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);J.push(Math.floor((te.y+q)/V)+1),J.push(Math.floor((te.y+te.h+q)/V)+1);break;case"bct":var xe=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);J.push(Math.floor((xe.y+q)/V)+1),J.push(Math.floor((xe.y+xe.h+q)/V)+1);break;case"rect":J.push(Math.floor((U.y+q)/V)+1),J.push(Math.floor((U.y+U.h+q)/V)+1)}for(var ue=0;ue<J.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<J[ue];)T.call(this);return J},T=function(){var U=this.fillStyle,H=this.strokeStyle,V=this.font,J=this.lineCap,q=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=H,this.font=V,this.lineCap=J,this.lineWidth=q,this.lineJoin=te},k=function(U,H,V){for(var J=0;J<U.length;J++)switch(U[J].type){case"bct":U[J].x2+=H,U[J].y2+=V;case"qct":U[J].x1+=H,U[J].y1+=V;case"mt":case"lt":case"arc":default:U[J].x+=H,U[J].y+=V}return U},P=function(U){return U.sort((function(H,V){return H-V}))},z=function(U,H){for(var V,J,q=this.fillStyle,te=this.strokeStyle,xe=this.lineCap,ue=this.lineWidth,be=Math.abs(ue*this.ctx.transform.scaleX),Ve=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),nt=[],Re=0;Re<We.length;Re++)if(We[Re].x!==void 0)for(var Ee=E.call(this,We[Re]),at=0;at<Ee.length;at+=1)nt.indexOf(Ee[at])===-1&&nt.push(Ee[at]);for(var St=0;St<nt.length;St++)for(;this.pdf.internal.getNumberOfPages()<nt[St];)T.call(this);if(P(nt),this.autoPaging)for(var tt=nt[0],At=nt[nt.length-1],Et=tt;Et<At+1;Et++){this.pdf.setPage(Et),this.fillStyle=q,this.strokeStyle=te,this.lineCap=xe,this.lineWidth=be,this.lineJoin=Ve;var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Dt=Et===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ft=Et===1?0:Ne+(Et-2)*ze;if(this.ctx.clip_path.length!==0){var ht=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(V,this.posX+this.margin[3],-ft+Dt+this.ctx.prevPageLastElemOffset),Y.call(this,U,!0),this.path=ht}if(J=JSON.parse(JSON.stringify(Pe)),this.path=k(J,this.posX+this.margin[3],-ft+Dt+this.ctx.prevPageLastElemOffset),H===!1||Et===0){var It=(Et>tt||Et<At)&&_.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,ze,null).clip().discardPath()),Y.call(this,U,H),It&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=be,Y.call(this,U,H),this.lineWidth=ue;this.path=Pe},Y=function(U,H){if((U!=="stroke"||H||!C.call(this))&&(U==="stroke"||H||!v.call(this))){for(var V,J,q=[],te=this.path,xe=0;xe<te.length;xe++){var ue=te[xe];switch(ue.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ue,deltas:[],abs:[]});break;case"lt":var be=q.length;if(te[xe-1]&&!isNaN(te[xe-1].x)&&(V=[ue.x-te[xe-1].x,ue.y-te[xe-1].y],be>0)){for(;be>=0;be--)if(q[be-1].close!==!0&&q[be-1].begin!==!0){q[be-1].deltas.push(V),q[be-1].abs.push(ue);break}}break;case"bct":V=[ue.x1-te[xe-1].x,ue.y1-te[xe-1].y,ue.x2-te[xe-1].x,ue.y2-te[xe-1].y,ue.x-te[xe-1].x,ue.y-te[xe-1].y],q[q.length-1].deltas.push(V);break;case"qct":var Ve=te[xe-1].x+2/3*(ue.x1-te[xe-1].x),Pe=te[xe-1].y+2/3*(ue.y1-te[xe-1].y),We=ue.x+2/3*(ue.x1-ue.x),nt=ue.y+2/3*(ue.y1-ue.y),Re=ue.x,Ee=ue.y;V=[Ve-te[xe-1].x,Pe-te[xe-1].y,We-te[xe-1].x,nt-te[xe-1].y,Re-te[xe-1].x,Ee-te[xe-1].y],q[q.length-1].deltas.push(V);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ue)}}J=H?null:U==="stroke"?"stroke":"fill";for(var at=!1,St=0;St<q.length;St++)if(q[St].arc)for(var tt=q[St].abs,At=0;At<tt.length;At++){var Et=tt[At];Et.type==="arc"?F.call(this,Et.x,Et.y,Et.radius,Et.startAngle,Et.endAngle,Et.counterclockwise,void 0,H,!at):j.call(this,Et.x,Et.y),at=!0}else if(q[St].close===!0)this.pdf.internal.out("h"),at=!1;else if(q[St].begin!==!0){var Bt=q[St].start.x,Dt=q[St].start.y;re.call(this,q[St].deltas,Bt,Dt),at=!0}J&&M.call(this,J),H&&G.call(this)}},Z=function(U){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-V;case"top":return U+H-V;case"hanging":return U+H-2*V;case"middle":return U+H/2-V;case"ideographic":return U;case"alphabetic":default:return U}},R=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(H,V){this.colorStops.push([H,V])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(U,H,V,J,q,te,xe,ue,be){for(var Ve=ie.call(this,V,J,q,te),Pe=0;Pe<Ve.length;Pe++){var We=Ve[Pe];Pe===0&&(be?L.call(this,We.x1+U,We.y1+H):j.call(this,We.x1+U,We.y1+H)),fe.call(this,U,H,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}ue?G.call(this):M.call(this,xe)},M=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(U,H){this.pdf.internal.out(t(U)+" "+r(H)+" m")},Q=function(U){var H;switch(U.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var V=this.pdf.getTextDimensions(U.text),J=Z.call(this,U.y),q=R.call(this,J)-V.h,te=this.ctx.transform.applyToPoint(new o(U.x,J)),xe=this.ctx.transform.decompose(),ue=new u;ue=(ue=(ue=ue.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var be,Ve,Pe,We=this.ctx.transform.applyToRectangle(new c(U.x,J,V.w,V.h)),nt=ue.applyToRectangle(new c(U.x,q,V.w,V.h)),Re=E.call(this,nt),Ee=[],at=0;at<Re.length;at+=1)Ee.indexOf(Re[at])===-1&&Ee.push(Re[at]);if(P(Ee),this.autoPaging)for(var St=Ee[0],tt=Ee[Ee.length-1],At=St;At<tt+1;At++){this.pdf.setPage(At);var Et=At===1?this.posY+this.margin[0]:this.margin[0],Bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Dt=this.pdf.internal.pageSize.height-this.margin[2],Ne=Dt-this.margin[0],ze=this.pdf.internal.pageSize.width-this.margin[1],ft=ze-this.margin[3],ht=At===1?0:Bt+(At-2)*Ne;if(this.ctx.clip_path.length!==0){var It=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(be,this.posX+this.margin[3],-1*ht+Et),Y.call(this,"fill",!0),this.path=It}var Tt=k([JSON.parse(JSON.stringify(nt))],this.posX+this.margin[3],-ht+Et+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*U.scale),Pe=this.lineWidth,this.lineWidth=Pe*U.scale);var Ue=this.autoPaging!=="text";if(Ue||Tt.y+Tt.h<=Dt){if(Ue||Tt.y>=Et&&Tt.x<=ze){var ke=Ue?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||ze-Tt.x)[0],Gt=k([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-ht+Et+this.ctx.prevPageLastElemOffset)[0],$t=Ue&&(At>St||At<tt)&&_.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ft,Ne,null).clip().discardPath()),this.pdf.text(ke,Gt.x,Gt.y,{angle:U.angle,align:H,renderingMode:U.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else Tt.y<Dt&&(this.ctx.prevPageLastElemOffset+=Dt-Tt.y);U.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Pe)}else U.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*U.scale),Pe=this.lineWidth,this.lineWidth=Pe*U.scale),this.pdf.text(U.text,te.x+this.posX,te.y+this.posY,{angle:U.angle,align:H,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Pe)},j=function(U,H,V,J){V=V||0,J=J||0,this.pdf.internal.out(t(U+V)+" "+r(H+J)+" l")},re=function(U,H,V){return this.pdf.lines(U,H,V,null,null)},fe=function(U,H,V,J,q,te,xe,ue){this.pdf.internal.out([e(i(V+U)),e(s(J+H)),e(i(q+U)),e(s(te+H)),e(i(xe+U)),e(s(ue+H)),"c"].join(" "))},ie=function(U,H,V,J){for(var q=2*Math.PI,te=Math.PI/2;H>V;)H-=q;var xe=Math.abs(V-H);xe<q&&J&&(xe=q-xe);for(var ue=[],be=J?-1:1,Ve=H;xe>1e-5;){var Pe=Ve+be*Math.min(xe,te);ue.push(Ae.call(this,U,Ve,Pe)),xe-=Math.abs(Pe-Ve),Ve=Pe}return ue},Ae=function(U,H,V){var J=(V-H)/2,q=U*Math.cos(J),te=U*Math.sin(J),xe=q,ue=-te,be=xe*xe+ue*ue,Ve=be+xe*q+ue*te,Pe=4/3*(Math.sqrt(2*be*Ve)-Ve)/(xe*te-ue*q),We=xe-Pe*ue,nt=ue+Pe*xe,Re=We,Ee=-nt,at=J+H,St=Math.cos(at),tt=Math.sin(at);return{x1:U*Math.cos(H),y1:U*Math.sin(H),x2:We*St-nt*tt,y2:We*tt+nt*St,x3:Re*St-Ee*tt,y3:Re*tt+Ee*St,x4:U*Math.cos(V),y4:U*Math.sin(V)}},me=function(U){return 180*U/Math.PI},_e=function(U,H,V,J,q,te){var xe=U+.5*(V-U),ue=H+.5*(J-H),be=q+.5*(V-q),Ve=te+.5*(J-te),Pe=Math.min(U,q,xe,be),We=Math.max(U,q,xe,be),nt=Math.min(H,te,ue,Ve),Re=Math.max(H,te,ue,Ve);return new c(Pe,nt,We-Pe,Re-nt)},we=function(U,H,V,J,q,te,xe,ue){var be,Ve,Pe,We,nt,Re,Ee,at,St,tt,At,Et,Bt,Dt,Ne=V-U,ze=J-H,ft=q-V,ht=te-J,It=xe-q,Tt=ue-te;for(Ve=0;Ve<41;Ve++)St=(Ee=(Pe=U+(be=Ve/40)*Ne)+be*((nt=V+be*ft)-Pe))+be*(nt+be*(q+be*It-nt)-Ee),tt=(at=(We=H+be*ze)+be*((Re=J+be*ht)-We))+be*(Re+be*(te+be*Tt-Re)-at),Ve==0?(At=St,Et=tt,Bt=St,Dt=tt):(At=Math.min(At,St),Et=Math.min(Et,tt),Bt=Math.max(Bt,St),Dt=Math.max(Dt,tt));return new c(Math.round(At),Math.round(Et),Math.round(Bt-At),Math.round(Dt-Et))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,H,V=(U=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:H}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(xn.API),(function(n){var e=function(s){var o,c,u,d,f,g,m,v,C,_;for(c=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(g=(f=((f=((f=((f=(f-(_=f%85))/85)-(C=f%85))/85)-(v=f%85))/85)-(m=f%85))/85)%85,c.push(g+33,m+33,v+33,C+33,_+33)):c.push(122);return(function(E,T){for(var k=T;k>0;k--)E.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(s){var o,c,u,d,f,g=String,m="length",v=255,C="charCodeAt",_="slice",E="replace";for(s[_](-2),s=s[_](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[_](s[m]%5||5))[m];f>d;d+=5)c=52200625*(s[C](d)-33)+614125*(s[C](d+1)-33)+7225*(s[C](d+2)-33)+85*(s[C](d+3)-33)+(s[C](d+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(T,k){for(var P=k;P>0;P--)T.pop()})(u,o[m]),g.fromCharCode.apply(g,u)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},i=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Lb(o)).reduce((function(u,d){return u+String.fromCharCode(d)}),"")};n.processDataByFilters=function(s,o){var c=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=t(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map((function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(xn.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=(function(u,d,f){var g=new XMLHttpRequest,m=0,v=function(C){var _=C.length,E=[],T=String.fromCharCode;for(m=0;m<_;m+=1)E.push(T(255&C.charCodeAt(m)));return E.join("")};if(g.open("GET",u,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?f(v(this.responseText)):f(void 0)}),g.send(null),d&&g.status===200)return v(g.responseText)})(i,s,o)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(xn.API),(function(n){function e(){return(vn.html2canvas?Promise.resolve(vn.html2canvas):Tb(()=>Promise.resolve().then(()=>tde),void 0)).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function t(){return(vn.DOMPurify?Promise.resolve(vn.DOMPurify):Tb(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var r=function(o){var c=_r(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return d=(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then((function(){switch(c=c||(function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(t).then((function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=(function u(d,f){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||g.appendChild(u(m,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",(function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft}),!0)),g})(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)})).then((function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var v=d[m],C=v.src.find((function(_){return _.format==="truetype"}));C&&u.addFont(C.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)})).then((function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)}))},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,c)}))},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},s.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map((function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}}),this);return this.then((function(){return this.thenList(c)}))},s.prototype.get=function(o,c){return this.then((function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u}))},s.prototype.setMargin=function(o){return this.then((function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then((function(){(o=o||xn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},s.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,(function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(g){return u.updateProgress(null,d),g})).then(d,f).then((function(g){return u.updateProgress(1),g}))}))},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),f=u.call(d,o,c);return s.convert(f,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach((function(u){c=c.thenCore(u)})),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,xn.getPageSize=function(o,c,u){if(_r(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,C=0,_=0;if(m.hasOwnProperty(g))C=m[g][1]/f,_=m[g][0]/f;else try{C=u[1],_=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",_>C&&(v=_,_=C,C=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",C>_&&(v=_,_=C,C=v)}return{width:_,height:C,unit:c,k:f,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Qb):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}})(xn.API),xn.API.addJS=function(n){return $T=n,this.internal.events.subscribe("postPutResources",(function(){px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(px+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$T+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){px!==void 0&&qT!==void 0&&this.internal.out("/Names <</JavaScript "+px+" 0 R>>")})),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],c=r.exec(o);if(c!=null){var u=c[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(s=0;s<d;s++){var g=t.internal.newObject();f.push(g);var m=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<f.length;s++)t.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var u=t.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(xn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,o,c){var u,d=this.decode.DCT_DECODE,f=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=o||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(u=(function(g){for(var m,v=256*g.charCodeAt(4)+g.charCodeAt(5),C=g.length,_={width:0,height:0,numcomponents:1},E=4;E<C;E+=2){if(E+=v,e.indexOf(g.charCodeAt(E+1))!==-1){m=256*g.charCodeAt(E+5)+g.charCodeAt(E+6),_={width:256*g.charCodeAt(E+7)+g.charCodeAt(E+8),height:m,numcomponents:g.charCodeAt(E+9)};break}v=256*g.charCodeAt(E+2)+g.charCodeAt(E+3)}return _})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:t,width:u.width,height:u.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:i}}return f}})(xn.API);var bf,gx,WT,YT,XT,fae=(function(){var n,e,t;function r(s){var o,c,u,d,f,g,m,v,C,_,E,T,k,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(o=this.readUInt32(),C=(function(){var z,Y;for(Y=[],z=0;z<4;++z)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*f/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(C==="fdAT"&&(this.pos+=4,o-=4),s=(g!=null?g.data:void 0)||this.imgData,T=0;0<=o?T<o:T>o;0<=o?++T:--T)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((_=u-this.transparency.indexed.length)>0)for(k=0;0<=_?k<_:k>_;0<=_?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(E=this.read(o)).indexOf(0),v=String.fromCharCode.apply(String,E.slice(0,m)),this.text[v]=String.fromCharCode.apply(String,E.slice(m+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),u=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function f(g,m,v,C){var _,E,T,k,P,z,Y,Z,R,F,M,G,L,Q,j,re,fe,ie,Ae,me,_e,we=Math.ceil((d.width-g)/v),ee=Math.ceil((d.height-m)/C),U=d.width==we&&d.height==ee;for(Q=o*we,G=U?c:new Uint8Array(Q*ee),z=s.length,L=0,E=0;L<ee&&u<z;){switch(s[u++]){case 0:for(k=fe=0;fe<Q;k=fe+=1)G[E++]=s[u++];break;case 1:for(k=ie=0;ie<Q;k=ie+=1)_=s[u++],P=k<o?0:G[E-o],G[E++]=(_+P)%256;break;case 2:for(k=Ae=0;Ae<Q;k=Ae+=1)_=s[u++],T=(k-k%o)/o,j=L&&G[(L-1)*Q+T*o+k%o],G[E++]=(j+_)%256;break;case 3:for(k=me=0;me<Q;k=me+=1)_=s[u++],T=(k-k%o)/o,P=k<o?0:G[E-o],j=L&&G[(L-1)*Q+T*o+k%o],G[E++]=(_+Math.floor((P+j)/2))%256;break;case 4:for(k=_e=0;_e<Q;k=_e+=1)_=s[u++],T=(k-k%o)/o,P=k<o?0:G[E-o],L===0?j=re=0:(j=G[(L-1)*Q+T*o+k%o],re=T&&G[(L-1)*Q+(T-1)*o+k%o]),Y=P+j-re,Z=Math.abs(Y-P),F=Math.abs(Y-j),M=Math.abs(Y-re),R=Z<=F&&Z<=M?P:F<=M?j:re,G[E++]=(_+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!U){var H=((m+L*C)*d.width+g)*o,V=L*Q;for(k=0;k<we;k+=1){for(var J=0;J<o;J+=1)c[H++]=G[V++];H+=(v-1)*o}}L++}}return s=$se(s),d.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),c},r.prototype.decodePalette=function(){var s,o,c,u,d,f,g,m,v;for(c=this.palette,f=this.transparency.indexed||[],d=new Uint8Array((f.length||0)+c.length),u=0,s=0,o=g=0,m=c.length;g<m;o=g+=3)d[u++]=c[o],d[u++]=c[o+1],d[u++]=c[o+2],d[u++]=(v=f[s++])!=null?v:255;return d},r.prototype.copyToImageData=function(s,o){var c,u,d,f,g,m,v,C,_,E,T;if(u=this.colors,_=null,c=this.hasAlphaChannel,this.palette.length&&(_=(T=this._decodedPalette)!=null?T:this._decodedPalette=this.decodePalette(),u=4,c=!0),C=(d=s.data||s).length,g=_||o,f=m=0,u===1)for(;f<C;)v=_?4*o[f/4]:m,E=g[v++],d[f++]=E,d[f++]=E,d[f++]=E,d[f++]=c?g[v++]:255,m=v;else for(;f<C;)v=_?4*o[f/4]:m,d[f++]=g[v++],d[f++]=g[v++],d[f++]=g[v++],d[f++]=c?g[v++]:255,m=v},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(vn)==="[object Window]"){try{e=vn.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(s){var o;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,c,u,d,f,g,m,v;if(this.animation){for(v=[],c=f=0,g=(m=this.animation.frames).length;f<g;c=++f)o=m[c],u=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(u,d),o.imageData=u,v.push(o.image=n(u));return v}},r.prototype.renderFrame=function(s,o){var c,u,d;return c=(u=this.animation.frames)[o],d=u[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},r.prototype.animate=function(s){var o,c,u,d,f,g,m=this;return c=0,g=this.animation,d=g.numFrames,u=g.frames,f=g.numPlays,(o=function(){var v,C;if(v=c++%d,C=u[v],m.renderFrame(s,v),d>1&&c/d<f)return m.animation._timeout=setTimeout(o,C.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},r})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pae(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,o=1<<(7&i)+1;n[e++],n[e++];var c=null,u=null;s&&(c=e,u=o,e+=3*o);var d=!0,f=[],g=0,m=null,v=0,C=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,C=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=n[e++];g=n[e++]|n[e++]<<8,m=n[e++],(1&_)==0&&(m=null),v=_>>2&7,e++;break;case 254:for(;;){if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var E=n[e++]|n[e++]<<8,T=n[e++]|n[e++]<<8,k=n[e++]|n[e++]<<8,P=n[e++]|n[e++]<<8,z=n[e++],Y=z>>6&1,Z=1<<(7&z)+1,R=c,F=u,M=!1;z>>7&&(M=!0,R=e,F=Z,e+=3*Z);var G=e;for(e++;;){var L;if(!((L=n[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}f.push({x:E,y:T,width:k,height:P,has_local_palette:M,palette_offset:R,palette_size:F,data_offset:G,data_length:e-G,transparent_index:m,interlaced:!!Y,delay:g,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return C},this.frameInfo=function(Q){if(Q<0||Q>=f.length)throw new Error("Frame index out of range.");return f[Q]},this.decodeAndBlitFrameBGRA=function(Q,j){var re=this.frameInfo(Q),fe=re.width*re.height,ie=new Uint8Array(fe);JT(n,re.data_offset,ie,fe);var Ae=re.palette_offset,me=re.transparent_index;me===null&&(me=256);var _e=re.width,we=t-_e,ee=_e,U=4*(re.y*t+re.x),H=4*((re.y+re.height)*t+re.x),V=U,J=4*we;re.interlaced===!0&&(J+=4*t*7);for(var q=8,te=0,xe=ie.length;te<xe;++te){var ue=ie[te];if(ee===0&&(ee=_e,(V+=J)>=H&&(J=4*we+4*t*(q-1),V=U+(_e+we)*(q<<1),q>>=1)),ue===me)V+=4;else{var be=n[Ae+3*ue],Ve=n[Ae+3*ue+1],Pe=n[Ae+3*ue+2];j[V++]=Pe,j[V++]=Ve,j[V++]=be,j[V++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(Q,j){var re=this.frameInfo(Q),fe=re.width*re.height,ie=new Uint8Array(fe);JT(n,re.data_offset,ie,fe);var Ae=re.palette_offset,me=re.transparent_index;me===null&&(me=256);var _e=re.width,we=t-_e,ee=_e,U=4*(re.y*t+re.x),H=4*((re.y+re.height)*t+re.x),V=U,J=4*we;re.interlaced===!0&&(J+=4*t*7);for(var q=8,te=0,xe=ie.length;te<xe;++te){var ue=ie[te];if(ee===0&&(ee=_e,(V+=J)>=H&&(J=4*we+4*t*(q-1),V=U+(_e+we)*(q<<1),q>>=1)),ue===me)V+=4;else{var be=n[Ae+3*ue],Ve=n[Ae+3*ue+1],Pe=n[Ae+3*ue+2];j[V++]=be,j[V++]=Ve,j[V++]=Pe,j[V++]=255}--ee}}}function JT(n,e,t,r){for(var i=n[e++],s=1<<i,o=s+1,c=o+1,u=i+1,d=(1<<u)-1,f=0,g=0,m=0,v=n[e++],C=new Int32Array(4096),_=null;;){for(;f<16&&v!==0;)g|=n[e++]<<f,f+=8,v===1?v=n[e++]:--v;if(f<u)break;var E=g&d;if(g>>=u,f-=u,E!==s){if(E===o)break;for(var T=E<c?E:_,k=0,P=T;P>s;)P=C[P]>>8,++k;var z=P;if(m+k+(T!==E?1:0)>r)return void Dr.log("Warning, gif stream longer than expected.");t[m++]=z;var Y=m+=k;for(T!==E&&(t[m++]=z),P=T;k--;)P=C[P],t[--Y]=255&P,P>>=8;_!==null&&c<4096&&(C[c++]=_<<8|z,c>=d+1&&u<12&&(++u,d=d<<1|1)),_=E}else c=o+1,d=(1<<(u=i+1))-1,_=null}return m!==r&&Dr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function pw(n){var e,t,r,i,s,o=Math.floor,c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(64),g=new Array(65535),m=new Array(65535),v=new Array(64),C=new Array(64),_=[],E=0,T=7,k=new Array(64),P=new Array(64),z=new Array(64),Y=new Array(256),Z=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(U,H){for(var V=0,J=0,q=new Array,te=1;te<=16;te++){for(var xe=1;xe<=U[te];xe++)q[H[J]]=[],q[H[J]][0]=V,q[H[J]][1]=te,J++,V++;V*=2}return q}function Ae(U){for(var H=U[0],V=U[1]-1;V>=0;)H&1<<V&&(E|=1<<T),V--,--T<0&&(E==255?(me(255),me(0)):me(E),T=7,E=0)}function me(U){_.push(U)}function _e(U){me(U>>8&255),me(255&U)}function we(U,H,V,J,q){for(var te,xe=q[0],ue=q[240],be=(function(tt,At){var Et,Bt,Dt,Ne,ze,ft,ht,It,Tt,Ue,ke=0;for(Tt=0;Tt<8;++Tt){Et=tt[ke],Bt=tt[ke+1],Dt=tt[ke+2],Ne=tt[ke+3],ze=tt[ke+4],ft=tt[ke+5],ht=tt[ke+6];var Gt=Et+(It=tt[ke+7]),$t=Et-It,fn=Bt+ht,nn=Bt-ht,Jt=Dt+ft,hr=Dt-ft,ln=Ne+ze,_i=Ne-ze,ae=Gt+ln,Kt=Gt-ln,an=fn+Jt,dn=fn-Jt;tt[ke]=ae+an,tt[ke+4]=ae-an;var Ht=.707106781*(dn+Kt);tt[ke+2]=Kt+Ht,tt[ke+6]=Kt-Ht;var sn=.382683433*((ae=_i+hr)-(dn=nn+$t)),ts=.5411961*ae+sn,jn=1.306562965*dn+sn,ni=.707106781*(an=hr+nn),Li=$t+ni,cn=$t-ni;tt[ke+5]=cn+ts,tt[ke+3]=cn-ts,tt[ke+1]=Li+jn,tt[ke+7]=Li-jn,ke+=8}for(ke=0,Tt=0;Tt<8;++Tt){Et=tt[ke],Bt=tt[ke+8],Dt=tt[ke+16],Ne=tt[ke+24],ze=tt[ke+32],ft=tt[ke+40],ht=tt[ke+48];var Ci=Et+(It=tt[ke+56]),Di=Et-It,ui=Bt+ht,gr=Bt-ht,tr=Dt+ft,le=Dt-ft,Be=Ne+ze,ve=Ne-ze,ye=Ci+Be,Ce=Ci-Be,Te=ui+tr,Ge=ui-tr;tt[ke]=ye+Te,tt[ke+32]=ye-Te;var it=.707106781*(Ge+Ce);tt[ke+16]=Ce+it,tt[ke+48]=Ce-it;var Ke=.382683433*((ye=ve+le)-(Ge=gr+Di)),Xe=.5411961*ye+Ke,Ye=1.306562965*Ge+Ke,bt=.707106781*(Te=le+gr),Nt=Di+bt,kt=Di-bt;tt[ke+40]=kt+Xe,tt[ke+24]=kt-Xe,tt[ke+8]=Nt+Ye,tt[ke+56]=Nt-Ye,ke++}for(Tt=0;Tt<64;++Tt)Ue=tt[Tt]*At[Tt],v[Tt]=Ue>0?Ue+.5|0:Ue-.5|0;return v})(U,H),Ve=0;Ve<64;++Ve)C[R[Ve]]=be[Ve];var Pe=C[0]-V;V=C[0],Pe==0?Ae(J[0]):(Ae(J[m[te=32767+Pe]]),Ae(g[te]));for(var We=63;We>0&&C[We]==0;)We--;if(We==0)return Ae(xe),V;for(var nt,Re=1;Re<=We;){for(var Ee=Re;C[Re]==0&&Re<=We;)++Re;var at=Re-Ee;if(at>=16){nt=at>>4;for(var St=1;St<=nt;++St)Ae(ue);at&=15}te=32767+C[Re],Ae(q[(at<<4)+m[te]]),Ae(g[te]),Re++}return We!=63&&Ae(xe),V}function ee(U){U=Math.min(Math.max(U,1),100),s!=U&&((function(H){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var q=o((V[J]*H+50)/100);q=Math.min(Math.max(q,1),255),c[R[J]]=q}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var ue=o((te[xe]*H+50)/100);ue=Math.min(Math.max(ue,1),255),u[R[xe]]=ue}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Pe=0;Pe<8;Pe++)for(var We=0;We<8;We++)d[Ve]=1/(c[R[Ve]]*be[Pe]*be[We]*8),f[Ve]=1/(u[R[Ve]]*be[Pe]*be[We]*8),Ve++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,H){H&&ee(H),_=new Array,E=0,T=7,_e(65496),_e(65504),_e(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),_e(1),_e(1),me(0),me(0),(function(){_e(65499),_e(132),me(0);for(var Bt=0;Bt<64;Bt++)me(c[Bt]);me(1);for(var Dt=0;Dt<64;Dt++)me(u[Dt])})(),(function(Bt,Dt){_e(65472),_e(17),me(8),_e(Dt),_e(Bt),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)})(U.width,U.height),(function(){_e(65476),_e(418),me(0);for(var Bt=0;Bt<16;Bt++)me(F[Bt+1]);for(var Dt=0;Dt<=11;Dt++)me(M[Dt]);me(16);for(var Ne=0;Ne<16;Ne++)me(G[Ne+1]);for(var ze=0;ze<=161;ze++)me(L[ze]);me(1);for(var ft=0;ft<16;ft++)me(Q[ft+1]);for(var ht=0;ht<=11;ht++)me(j[ht]);me(17);for(var It=0;It<16;It++)me(re[It+1]);for(var Tt=0;Tt<=161;Tt++)me(fe[Tt])})(),_e(65498),_e(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var V=0,J=0,q=0;E=0,T=7,this.encode.displayName="_encode_";for(var te,xe,ue,be,Ve,Pe,We,nt,Re,Ee=U.data,at=U.width,St=U.height,tt=4*at,At=0;At<St;){for(te=0;te<tt;){for(Ve=tt*At+te,We=-1,nt=0,Re=0;Re<64;Re++)Pe=Ve+(nt=Re>>3)*tt+(We=4*(7&Re)),At+nt>=St&&(Pe-=tt*(At+1+nt-St)),te+We>=tt&&(Pe-=te+We-tt+4),xe=Ee[Pe++],ue=Ee[Pe++],be=Ee[Pe++],k[Re]=(Z[xe]+Z[ue+256>>0]+Z[be+512>>0]>>16)-128,P[Re]=(Z[xe+768>>0]+Z[ue+1024>>0]+Z[be+1280>>0]>>16)-128,z[Re]=(Z[xe+1280>>0]+Z[ue+1536>>0]+Z[be+1792>>0]>>16)-128;V=we(k,d,V,e,r),J=we(P,f,J,t,i),q=we(z,f,q,t,i),te+=32}At+=8}if(T>=0){var Et=[];Et[1]=T+1,Et[0]=(1<<T+1)-1,Ae(Et)}return _e(65497),new Uint8Array(_)},n=n||50,(function(){for(var U=String.fromCharCode,H=0;H<256;H++)Y[H]=U(H)})(),e=ie(F,M),t=ie(Q,j),r=ie(G,L),i=ie(re,fe),(function(){for(var U=1,H=2,V=1;V<=15;V++){for(var J=U;J<H;J++)m[32767+J]=V,g[32767+J]=[],g[32767+J][1]=V,g[32767+J][0]=J;for(var q=-(H-1);q<=-U;q++)m[32767+q]=V,g[32767+q]=[],g[32767+q][1]=V,g[32767+q][0]=H-1+q;U<<=1,H<<=1}})(),(function(){for(var U=0;U<256;U++)Z[U]=19595*U,Z[U+256>>0]=38470*U,Z[U+512>>0]=7471*U+32768,Z[U+768>>0]=-11059*U,Z[U+1024>>0]=-21709*U,Z[U+1280>>0]=32768*U+8421375,Z[U+1536>>0]=-27439*U,Z[U+1792>>0]=-5329*U})(),ee(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xl(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ZT(n){function e(F){if(!F)throw Error("assert :P")}function t(F,M,G){for(var L=0;4>L;L++)if(F[M+L]!=G.charCodeAt(L))return!0;return!1}function r(F,M,G,L,Q){for(var j=0;j<Q;j++)F[M+j]=G[L+j]}function i(F,M,G,L){for(var Q=0;Q<L;Q++)F[M+Q]=G}function s(F){return new Int32Array(F)}function o(F,M){for(var G=[],L=0;L<F;L++)G.push(new M);return G}function c(F,M){var G=[];return(function L(Q,j,re){for(var fe=re[j],ie=0;ie<fe&&(Q.push(re.length>j+1?[]:new M),!(re.length<j+1));ie++)L(Q[ie],j+1,re)})(G,0,F),G}var u=function(){var F=this;function M(w,B){for(var O=1<<B-1>>>0;w&O;)O>>>=1;return O?(w&O-1)+O:w}function G(w,B,O,K,ne){e(!(K%O));do w[B+(K-=O)]=ne;while(0<K)}function L(w,B,O,K,ne){if(e(2328>=ne),512>=ne)var oe=s(512);else if((oe=s(ne))==null)return 0;return(function(ce,de,ge,Se,Le,$e){var qe,Oe,pt=de,st=1<<ge,De=s(16),Me=s(16);for(e(Le!=0),e(Se!=null),e(ce!=null),e(0<ge),Oe=0;Oe<Le;++Oe){if(15<Se[Oe])return 0;++De[Se[Oe]]}if(De[0]==Le)return 0;for(Me[1]=0,qe=1;15>qe;++qe){if(De[qe]>1<<qe)return 0;Me[qe+1]=Me[qe]+De[qe]}for(Oe=0;Oe<Le;++Oe)qe=Se[Oe],0<Se[Oe]&&($e[Me[qe]++]=Oe);if(Me[15]==1)return(Se=new Q).g=0,Se.value=$e[0],G(ce,pt,1,st,Se),st;var ut,yt=-1,ct=st-1,Ot=0,Rt=1,on=1,jt=1<<ge;for(Oe=0,qe=1,Le=2;qe<=ge;++qe,Le<<=1){if(Rt+=on<<=1,0>(on-=De[qe]))return 0;for(;0<De[qe];--De[qe])(Se=new Q).g=qe,Se.value=$e[Oe++],G(ce,pt+Ot,Le,jt,Se),Ot=M(Ot,qe)}for(qe=ge+1,Le=2;15>=qe;++qe,Le<<=1){if(Rt+=on<<=1,0>(on-=De[qe]))return 0;for(;0<De[qe];--De[qe]){if(Se=new Q,(Ot&ct)!=yt){for(pt+=jt,ut=1<<(yt=qe)-ge;15>yt&&!(0>=(ut-=De[yt]));)++yt,ut<<=1;st+=jt=1<<(ut=yt-ge),ce[de+(yt=Ot&ct)].g=ut+ge,ce[de+yt].value=pt-de-yt}Se.g=qe-ge,Se.value=$e[Oe++],G(ce,pt+(Ot>>ge),Le,jt,Se),Ot=M(Ot,qe)}}return Rt!=2*Me[15]-1?0:st})(w,B,O,K,ne,oe)}function Q(){this.value=this.g=0}function j(){this.value=this.g=0}function re(){this.G=o(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ls,j)}function fe(w,B,O,K){e(w!=null),e(B!=null),e(2147483648>K),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=B,w.pa=O,w.Jd=B,w.Yc=O+K,w.Zc=4<=K?O+K-4+1:O,te(w)}function ie(w,B){for(var O=0;0<B--;)O|=ue(w,128)<<B;return O}function Ae(w,B){var O=ie(w,B);return xe(w)?-O:O}function me(w,B,O,K){var ne,oe=0;for(e(w!=null),e(B!=null),e(4294967288>K),w.Sb=K,w.Ra=0,w.u=0,w.h=0,4<K&&(K=4),ne=0;ne<K;++ne)oe+=B[O+ne]<<8*ne;w.Ra=oe,w.bb=K,w.oa=B,w.pa=O}function _e(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<wc-8>>>0,++w.bb,w.u-=8;V(w)&&(w.h=1,w.u=0)}function we(w,B){if(e(0<=B),!w.h&&B<=yc){var O=H(w)&fA[B];return w.u+=B,_e(w),O}return w.h=1,w.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(w){return w.Ra>>>(w.u&wc-1)>>>0}function V(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>wc}function J(w,B){w.u=B,w.h=V(w)}function q(w){w.u>=du&&(e(w.u>=du),_e(w))}function te(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function xe(w){return ie(w,1)}function ue(w,B){var O=w.Ca;0>w.b&&te(w);var K=w.b,ne=O*B>>>8,oe=(w.I>>>K>ne)+0;for(oe?(O-=ne,w.I-=ne+1<<K>>>0):O=ne+1,K=O,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+Ds[K],w.b-=K,w.Ca=(O<<K)-1,oe}function be(w,B,O){w[B+0]=O>>24&255,w[B+1]=O>>16&255,w[B+2]=O>>8&255,w[B+3]=O>>0&255}function Ve(w,B){return w[B+0]<<0|w[B+1]<<8}function Pe(w,B){return Ve(w,B)|w[B+2]<<16}function We(w,B){return Ve(w,B)|Ve(w,B+2)<<16}function nt(w,B){var O=1<<B;return e(w!=null),e(0<B),w.X=s(O),w.X==null?0:(w.Mb=32-B,w.Xa=B,1)}function Re(w,B){e(w!=null),e(B!=null),e(w.Xa==B.Xa),r(B.X,0,w.X,0,1<<B.Xa)}function Ee(){this.X=[],this.Xa=this.Mb=0}function at(w,B,O,K){e(O!=null),e(K!=null);var ne=O[0],oe=K[0];return ne==0&&(ne=(w*oe+B/2)/B),oe==0&&(oe=(B*ne+w/2)/w),0>=ne||0>=oe?0:(O[0]=ne,K[0]=oe,1)}function St(w,B){return w+(1<<B)-1>>>B}function tt(w,B){return((4278255360&w)+(4278255360&B)>>>0&4278255360)+((16711935&w)+(16711935&B)>>>0&16711935)>>>0}function At(w,B){F[B]=function(O,K,ne,oe,ce,de,ge){var Se;for(Se=0;Se<ce;++Se){var Le=F[w](de[ge+Se-1],ne,oe+Se);de[ge+Se]=tt(O[K+Se],Le)}}}function Et(){this.ud=this.hd=this.jd=0}function Bt(w,B){return((4278124286&(w^B))>>>1)+(w&B)>>>0}function Dt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Ne(w,B){return Dt(w+(w-B+.5>>1))}function ze(w,B,O){return Math.abs(B-O)-Math.abs(w-O)}function ft(w,B,O,K,ne,oe,ce){for(K=oe[ce-1],O=0;O<ne;++O)oe[ce+O]=K=tt(w[B+O],K)}function ht(w,B,O,K,ne){var oe;for(oe=0;oe<O;++oe){var ce=w[B+oe],de=ce>>8&255,ge=16711935&(ge=(ge=16711935&ce)+((de<<16)+de));K[ne+oe]=(4278255360&ce)+ge>>>0}}function It(w,B){B.jd=w>>0&255,B.hd=w>>8&255,B.ud=w>>16&255}function Tt(w,B,O,K,ne,oe){var ce;for(ce=0;ce<K;++ce){var de=B[O+ce],ge=de>>>8,Se=de,Le=255&(Le=(Le=de>>>16)+((w.jd<<24>>24)*(ge<<24>>24)>>>5));Se=255&(Se=(Se=Se+((w.hd<<24>>24)*(ge<<24>>24)>>>5))+((w.ud<<24>>24)*(Le<<24>>24)>>>5)),ne[oe+ce]=(4278255360&de)+(Le<<16)+Se}}function Ue(w,B,O,K,ne){F[B]=function(oe,ce,de,ge,Se,Le,$e,qe,Oe){for(ge=$e;ge<qe;++ge)for($e=0;$e<Oe;++$e)Se[Le++]=ne(de[K(oe[ce++])])},F[w]=function(oe,ce,de,ge,Se,Le,$e){var qe=8>>oe.b,Oe=oe.Ea,pt=oe.K[0],st=oe.w;if(8>qe)for(oe=(1<<oe.b)-1,st=(1<<qe)-1;ce<de;++ce){var De,Me=0;for(De=0;De<Oe;++De)De&oe||(Me=K(ge[Se++])),Le[$e++]=ne(pt[Me&st]),Me>>=qe}else F["VP8LMapColor"+O](ge,Se,pt,st,Le,$e,ce,de,Oe)}}function ke(w,B,O,K,ne){for(O=B+O;B<O;){var oe=w[B++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255}}function Gt(w,B,O,K,ne){for(O=B+O;B<O;){var oe=w[B++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=oe>>0&255,K[ne++]=oe>>24&255}}function $t(w,B,O,K,ne){for(O=B+O;B<O;){var oe=(ce=w[B++])>>16&240|ce>>12&15,ce=ce>>0&240|ce>>28&15;K[ne++]=oe,K[ne++]=ce}}function fn(w,B,O,K,ne){for(O=B+O;B<O;){var oe=(ce=w[B++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;K[ne++]=oe,K[ne++]=ce}}function nn(w,B,O,K,ne){for(O=B+O;B<O;){var oe=w[B++];K[ne++]=oe>>0&255,K[ne++]=oe>>8&255,K[ne++]=oe>>16&255}}function Jt(w,B,O,K,ne,oe){if(oe==0)for(O=B+O;B<O;)be(K,((oe=w[B++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else r(K,ne,w,B,O)}function hr(w,B){F[B][0]=F[w+"0"],F[B][1]=F[w+"1"],F[B][2]=F[w+"2"],F[B][3]=F[w+"3"],F[B][4]=F[w+"4"],F[B][5]=F[w+"5"],F[B][6]=F[w+"6"],F[B][7]=F[w+"7"],F[B][8]=F[w+"8"],F[B][9]=F[w+"9"],F[B][10]=F[w+"10"],F[B][11]=F[w+"11"],F[B][12]=F[w+"12"],F[B][13]=F[w+"13"],F[B][14]=F[w+"0"],F[B][15]=F[w+"0"]}function ln(w){return w==Hd||w==Hh||w==gu||w==Vh}function _i(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _i,this.f.kb=new ae,this.sd=null}function an(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function dn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function sn(w,B){var O=w.T,K=B.ba.f.RGBA,ne=K.eb,oe=K.fb+w.ka*K.A,ce=cs[B.ba.S],de=w.y,ge=w.O,Se=w.f,Le=w.N,$e=w.ea,qe=w.W,Oe=B.cc,pt=B.dc,st=B.Mc,De=B.Nc,Me=w.ka,ut=w.ka+w.T,yt=w.U,ct=yt+1>>1;for(Me==0?ce(de,ge,null,null,Se,Le,$e,qe,Se,Le,$e,qe,ne,oe,null,null,yt):(ce(B.ec,B.fc,de,ge,Oe,pt,st,De,Se,Le,$e,qe,ne,oe-K.A,ne,oe,yt),++O);Me+2<ut;Me+=2)Oe=Se,pt=Le,st=$e,De=qe,Le+=w.Rc,qe+=w.Rc,oe+=2*K.A,ce(de,(ge+=2*w.fa)-w.fa,de,ge,Oe,pt,st,De,Se,Le,$e,qe,ne,oe-K.A,ne,oe,yt);return ge+=w.fa,w.j+ut<w.o?(r(B.ec,B.fc,de,ge,yt),r(B.cc,B.dc,Se,Le,ct),r(B.Mc,B.Nc,$e,qe,ct),O--):1&ut||ce(de,ge,null,null,Se,Le,$e,qe,Se,Le,$e,qe,ne,oe+K.A,null,null,yt),O}function ts(w,B,O){var K=w.F,ne=[w.J];if(K!=null){var oe=w.U,ce=B.ba.S,de=ce==Qd||ce==gu;B=B.ba.f.RGBA;var ge=[0],Se=w.ka;ge[0]=w.T,w.Kb&&(Se==0?--ge[0]:(--Se,ne[0]-=w.width),w.j+w.ka+w.T==w.o&&(ge[0]=w.o-w.j-Se));var Le=B.eb;Se=B.fb+Se*B.A,w=pA(K,ne[0],w.width,oe,ge,Le,Se+(de?0:3),B.A),e(O==ge),w&&ln(ce)&&il(Le,Se,de,oe,ge,B.A)}return 0}function jn(w){var B=w.ma,O=B.ba.S,K=11>O,ne=O==ys||O==eo||O==Qd||O==pu||O==12||ln(O);if(B.memory=null,B.Ib=null,B.Jb=null,B.Nd=null,!Ll(B.Oa,w,ne?11:12))return 0;if(ne&&ln(O)&&Qe(),w.da)alert("todo:use_scaling");else{if(K){if(B.Ib=Ht,w.Kb){if(O=w.U+1>>1,B.memory=s(w.U+2*O),B.memory==null)return 0;B.ec=B.memory,B.fc=0,B.cc=B.ec,B.dc=B.fc+w.U,B.Mc=B.cc,B.Nc=B.dc+O,B.Ib=sn,Qe()}}else alert("todo:EmitYUV");ne&&(B.Jb=ts,K&&pe())}if(K&&!kc){for(w=0;256>w;++w)As[w]=89858*(w-128)+vu>>ao,my[w]=-22014*(w-128)+vu,am[w]=-45773*(w-128),$h[w]=113618*(w-128)+vu>>ao;for(w=vA;w<Ic;++w)B=76283*(w-16)+vu>>ao,xy[w-vA]=Ia(B,255),vy[w-vA]=Ia(B+8>>4,15);kc=1}return 1}function ni(w){var B=w.ma,O=w.U,K=w.T;return e(!(1&w.ka)),0>=O||0>=K?0:(O=B.Ib(w,B),B.Jb!=null&&B.Jb(w,B,O),B.Dc+=O,1)}function Li(w){w.ma.memory=null}function cn(w,B,O,K){return we(w,8)!=47?0:(B[0]=we(w,14)+1,O[0]=we(w,14)+1,K[0]=we(w,1),we(w,3)!=0?0:!w.h)}function Ci(w,B){if(4>w)return w+1;var O=w-2>>1;return(2+(1&w)<<O)+we(B,O)+1}function Di(w,B){return 120<B?B-120:1<=(O=((O=no[B-1])>>4)*w+(8-(15&O)))?O:1;var O}function ui(w,B,O){var K=H(O),ne=w[B+=255&K].g-8;return 0<ne&&(J(O,O.u+8),K=H(O),B+=w[B].value,B+=K&(1<<ne)-1),J(O,O.u+w[B].g),w[B].value}function gr(w,B,O){return O.g+=w.g,O.value+=w.value<<B>>>0,e(8>=O.g),w.g}function tr(w,B,O){var K=w.xc;return e((B=K==0?0:w.vc[w.md*(O>>K)+(B>>K)])<w.Wb),w.Ya[B]}function le(w,B,O,K){var ne=w.ab,oe=w.c*B,ce=w.C;B=ce+B;var de=O,ge=K;for(K=w.Ta,O=w.Ua;0<ne--;){var Se=w.gc[ne],Le=ce,$e=B,qe=de,Oe=ge,pt=(ge=K,de=O,Se.Ea);switch(e(Le<$e),e($e<=Se.nc),Se.hc){case 2:jh(qe,Oe,($e-Le)*pt,ge,de);break;case 0:var st=Le,De=$e,Me=ge,ut=de,yt=(jt=Se).Ea;st==0&&(Dh(qe,Oe,null,null,1,Me,ut),ft(qe,Oe+1,0,0,yt-1,Me,ut+1),Oe+=yt,ut+=yt,++st);for(var ct=1<<jt.b,Ot=ct-1,Rt=St(yt,jt.b),on=jt.K,jt=jt.w+(st>>jt.b)*Rt;st<De;){var Jn=on,Rn=jt,Pn=1;for(Dd(qe,Oe,Me,ut-yt,1,Me,ut);Pn<yt;){var Cn=(Pn&~Ot)+ct;Cn>yt&&(Cn=yt),(0,Ya[Jn[Rn++]>>8&15])(qe,Oe+ +Pn,Me,ut+Pn-yt,Cn-Pn,Me,ut+Pn),Pn=Cn}Oe+=yt,ut+=yt,++st&Ot||(jt+=Rt)}$e!=Se.nc&&r(ge,de-pt,ge,de+($e-Le-1)*pt,pt);break;case 1:for(pt=qe,De=Oe,yt=(qe=Se.Ea)-(ut=qe&~(Me=(Oe=1<<Se.b)-1)),st=St(qe,Se.b),ct=Se.K,Se=Se.w+(Le>>Se.b)*st;Le<$e;){for(Ot=ct,Rt=Se,on=new Et,jt=De+ut,Jn=De+qe;De<jt;)It(Ot[Rt++],on),ka(on,pt,De,Oe,ge,de),De+=Oe,de+=Oe;De<Jn&&(It(Ot[Rt++],on),ka(on,pt,De,yt,ge,de),De+=yt,de+=yt),++Le&Me||(Se+=st)}break;case 3:if(qe==ge&&Oe==de&&0<Se.b){for(De=ge,qe=pt=de+($e-Le)*pt-(ut=($e-Le)*St(Se.Ea,Se.b)),Oe=ge,Me=de,st=[],ut=(yt=ut)-1;0<=ut;--ut)st[ut]=Oe[Me+ut];for(ut=yt-1;0<=ut;--ut)De[qe+ut]=st[ut];Uo(Se,Le,$e,ge,pt,ge,de)}else Uo(Se,Le,$e,qe,Oe,ge,de)}de=K,ge=O}ge!=O&&r(K,O,de,ge,oe)}function Be(w,B){var O=w.V,K=w.Ba+w.c*w.C,ne=B-w.C;if(e(B<=w.l.o),e(16>=ne),0<ne){var oe=w.l,ce=w.Ta,de=w.Ua,ge=oe.width;if(le(w,ne,O,K),ne=de=[de],e((O=w.C)<(K=B)),e(oe.v<oe.va),K>oe.o&&(K=oe.o),O<oe.j){var Se=oe.j-O;O=oe.j,ne[0]+=Se*ge}if(O>=K?O=0:(ne[0]+=4*oe.v,oe.ka=O-oe.j,oe.U=oe.va-oe.v,oe.T=K-O,O=1),O){if(de=de[0],11>(O=w.ca).S){var Le=O.f.RGBA,$e=(K=O.S,ne=oe.U,oe=oe.T,Se=Le.eb,Le.A),qe=oe;for(Le=Le.fb+w.Ma*Le.A;0<qe--;){var Oe=ce,pt=de,st=ne,De=Se,Me=Le;switch(K){case Oh:Xa(Oe,pt,st,De,Me);break;case ys:jl(Oe,pt,st,De,Me);break;case Hd:jl(Oe,pt,st,De,Me),il(De,Me,0,st,1,0);break;case Qh:hu(Oe,pt,st,De,Me);break;case eo:Jt(Oe,pt,st,De,Me,1);break;case Hh:Jt(Oe,pt,st,De,Me,1),il(De,Me,0,st,1,0);break;case Qd:Jt(Oe,pt,st,De,Me,0);break;case gu:Jt(Oe,pt,st,De,Me,0),il(De,Me,1,st,1,0);break;case pu:Ro(Oe,pt,st,De,Me);break;case Vh:Ro(Oe,pt,st,De,Me),xs(De,Me,st,1,0);break;case Ec:Lo(Oe,pt,st,De,Me);break;default:e(0)}de+=ge,Le+=$e}w.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=O.height)}}w.C=B,e(w.C<=w.i)}function ve(w){var B;if(0<w.ua)return 0;for(B=0;B<w.Wb;++B){var O=w.Ya[B].G,K=w.Ya[B].H;if(0<O[1][K[1]+0].g||0<O[2][K[2]+0].g||0<O[3][K[3]+0].g)return 0}return 1}function ye(w,B,O,K,ne,oe){if(w.Z!=0){var ce=w.qd,de=w.rd;for(e(Ol[w.Z]!=null);B<O;++B)Ol[w.Z](ce,de,K,ne,K,ne,oe),ce=K,de=ne,ne+=oe;w.qd=ce,w.rd=de}}function Ce(w,B){var O=w.l.ma,K=O.Z==0||O.Z==1?w.l.j:w.C;if(K=w.C<K?K:w.C,e(B<=w.l.o),B>K){var ne=w.l.width,oe=O.ca,ce=O.tb+ne*K,de=w.V,ge=w.Ba+w.c*K,Se=w.gc;e(w.ab==1),e(Se[0].hc==3),H0(Se[0],K,B,de,ge,oe,ce),ye(O,K,B,oe,ce,ne)}w.C=w.Ma=B}function Te(w,B,O,K,ne,oe,ce){var de=w.$/K,ge=w.$%K,Se=w.m,Le=w.s,$e=O+w.$,qe=$e;ne=O+K*ne;var Oe=O+K*oe,pt=280+Le.ua,st=w.Pb?de:16777216,De=0<Le.ua?Le.Wa:null,Me=Le.wc,ut=$e<Oe?tr(Le,ge,de):null;e(w.C<oe),e(Oe<=ne);var yt=!1;e:for(;;){for(;yt||$e<Oe;){var ct=0;if(de>=st){var Ot=$e-O;e((st=w).Pb),st.wd=st.m,st.xd=Ot,0<st.s.ua&&Re(st.s.Wa,st.s.vb),st=de+Nc}if(ge&Me||(ut=tr(Le,ge,de)),e(ut!=null),ut.Qb&&(B[$e]=ut.qb,yt=!0),!yt)if(q(Se),ut.jc){ct=Se,Ot=B;var Rt=$e,on=ut.pd[H(ct)&Ls-1];e(ut.jc),256>on.g?(J(ct,ct.u+on.g),Ot[Rt]=on.value,ct=0):(J(ct,ct.u+on.g-256),e(256<=on.value),ct=on.value),ct==0&&(yt=!0)}else ct=ui(ut.G[0],ut.H[0],Se);if(Se.h)break;if(yt||256>ct){if(!yt)if(ut.nd)B[$e]=(ut.qb|ct<<8)>>>0;else{if(q(Se),yt=ui(ut.G[1],ut.H[1],Se),q(Se),Ot=ui(ut.G[2],ut.H[2],Se),Rt=ui(ut.G[3],ut.H[3],Se),Se.h)break;B[$e]=(Rt<<24|yt<<16|ct<<8|Ot)>>>0}if(yt=!1,++$e,++ge>=K&&(ge=0,++de,ce!=null&&de<=oe&&!(de%16)&&ce(w,de),De!=null))for(;qe<$e;)ct=B[qe++],De.X[(506832829*ct&4294967295)>>>De.Mb]=ct}else if(280>ct){if(ct=Ci(ct-256,Se),Ot=ui(ut.G[4],ut.H[4],Se),q(Se),Ot=Di(K,Ot=Ci(Ot,Se)),Se.h)break;if($e-O<Ot||ne-$e<ct)break e;for(Rt=0;Rt<ct;++Rt)B[$e+Rt]=B[$e+Rt-Ot];for($e+=ct,ge+=ct;ge>=K;)ge-=K,++de,ce!=null&&de<=oe&&!(de%16)&&ce(w,de);if(e($e<=ne),ge&Me&&(ut=tr(Le,ge,de)),De!=null)for(;qe<$e;)ct=B[qe++],De.X[(506832829*ct&4294967295)>>>De.Mb]=ct}else{if(!(ct<pt))break e;for(yt=ct-280,e(De!=null);qe<$e;)ct=B[qe++],De.X[(506832829*ct&4294967295)>>>De.Mb]=ct;ct=$e,e(!(yt>>>(Ot=De).Xa)),B[ct]=Ot.X[yt],yt=!0}yt||e(Se.h==V(Se))}if(w.Pb&&Se.h&&$e<ne)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&Re(w.s.vb,w.s.Wa);else{if(Se.h)break e;ce!=null&&ce(w,de>oe?oe:de),w.a=0,w.$=$e-O}return 1}return w.a=3,0}function Ge(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var B=w.Wa;B!=null&&(B.X=null),w.vb=null,e(w!=null)}function it(){var w=new cu;return w==null?null:(w.a=0,w.xb=z0,hr("Predictor","VP8LPredictors"),hr("Predictor","VP8LPredictors_C"),hr("PredictorAdd","VP8LPredictorsAdd"),hr("PredictorAdd","VP8LPredictorsAdd_C"),jh=ht,ka=Tt,Xa=ke,jl=Gt,Ro=$t,Lo=fn,hu=nn,F.VP8LMapColor32b=jd,F.VP8LMapColor8b=js,w)}function Ke(w,B,O,K,ne){var oe=1,ce=[w],de=[B],ge=K.m,Se=K.s,Le=null,$e=0;e:for(;;){if(O)for(;oe&&we(ge,1);){var qe=ce,Oe=de,pt=K,st=1,De=pt.m,Me=pt.gc[pt.ab],ut=we(De,2);if(pt.Oc&1<<ut)oe=0;else{switch(pt.Oc|=1<<ut,Me.hc=ut,Me.Ea=qe[0],Me.nc=Oe[0],Me.K=[null],++pt.ab,e(4>=pt.ab),ut){case 0:case 1:Me.b=we(De,3)+2,st=Ke(St(Me.Ea,Me.b),St(Me.nc,Me.b),0,pt,Me.K),Me.K=Me.K[0];break;case 3:var yt,ct=we(De,8)+1,Ot=16<ct?0:4<ct?1:2<ct?2:3;if(qe[0]=St(Me.Ea,Ot),Me.b=Ot,yt=st=Ke(ct,1,0,pt,Me.K)){var Rt,on=ct,jt=Me,Jn=1<<(8>>jt.b),Rn=s(Jn);if(Rn==null)yt=0;else{var Pn=jt.K[0],Cn=jt.w;for(Rn[0]=jt.K[0][0],Rt=1;Rt<1*on;++Rt)Rn[Rt]=tt(Pn[Cn+Rt],Rn[Rt-1]);for(;Rt<4*Jn;++Rt)Rn[Rt]=0;jt.K[0]=null,jt.K[0]=Rn,yt=1}}st=yt;break;case 2:break;default:e(0)}oe=st}}if(ce=ce[0],de=de[0],oe&&we(ge,1)&&!(oe=1<=($e=we(ge,4))&&11>=$e)){K.a=3;break e}var Ar;if(Ar=oe)t:{var ir,pn,mr,Oi=K,Yr=ce,ws=de,$n=$e,us=O,aa=Oi.m,Ei=Oi.s,Xr=[null],Qi=1,La=0,oo=ro[$n];n:for(;;){if(us&&we(aa,1)){var pi=we(aa,3)+2,li=St(Yr,pi),Hi=St(ws,pi),Da=li*Hi;if(!Ke(li,Hi,0,Oi,Xr))break n;for(Xr=Xr[0],Ei.xc=pi,ir=0;ir<Da;++ir){var al=Xr[ir]>>8&65535;Xr[ir]=al,al>=Qi&&(Qi=al+1)}}if(aa.h)break n;for(pn=0;5>pn;++pn){var Hr=mA[pn];!pn&&0<$n&&(Hr+=1<<$n),La<Hr&&(La=Hr)}var ol=o(Qi*oo,Q),oa=Qi,Jr=o(oa,re);if(Jr==null)var yA=null;else e(65536>=oa),yA=Jr;var ja=s(La);if(yA==null||ja==null||ol==null){Oi.a=1;break n}var _n=ol;for(ir=mr=0;ir<Qi;++ir){var kn=yA[ir],Rr=kn.G,Ql=kn.H,wA=0,ll=1,Kd=0;for(pn=0;5>pn;++pn){Hr=mA[pn],Rr[pn]=_n,Ql[pn]=mr,!pn&&0<$n&&(Hr+=1<<$n);i:{var Fc,Uc=Hr,Yh=Oi,Br=ja,K0=_n,q0=mr,Xh=0,Hl=Yh.m,yy=we(Hl,1);if(i(Br,0,0,Uc),yy){var $0=we(Hl,1)+1,W0=we(Hl,1),Jh=we(Hl,W0==0?1:8);Br[Jh]=1,$0==2&&(Br[Jh=we(Hl,8)]=1);var Vi=1}else{var Zr=s(19),qd=we(Hl,4)+4;if(19<qd){Yh.a=3;var Rc=0;break i}for(Fc=0;Fc<qd;++Fc)Zr[Vd[Fc]]=we(Hl,3);var wu=void 0,bA=void 0,cl=Yh,Zh=Zr,bu=Uc,ef=Br,tf=0,Vl=cl.m,Y0=8,X0=o(128,Q);r:for(;L(X0,0,7,Zh,19);){if(we(Vl,1)){var om=2+2*we(Vl,3);if((wu=2+we(Vl,om))>bu)break r}else wu=bu;for(bA=0;bA<bu&&wu--;){q(Vl);var J0=X0[0+(127&H(Vl))];J(Vl,Vl.u+J0.g);var Lc=J0.value;if(16>Lc)ef[bA++]=Lc,Lc!=0&&(Y0=Lc);else{var lm=Lc==16,cm=Lc-16,Am=mu[cm],Z0=we(Vl,to[cm])+Am;if(bA+Z0>bu)break r;for(var um=lm?Y0:0;0<Z0--;)ef[bA++]=um}}tf=1;break r}tf||(cl.a=3),Vi=tf}(Vi=Vi&&!Hl.h)&&(Xh=L(K0,q0,8,Br,Uc)),Vi&&Xh!=0?Rc=Xh:(Yh.a=3,Rc=0)}if(Rc==0)break n;if(ll&&zh[pn]==1&&(ll=_n[mr].g==0),wA+=_n[mr].g,mr+=Rc,3>=pn){var _A,nf=ja[0];for(_A=1;_A<Hr;++_A)ja[_A]>nf&&(nf=ja[_A]);Kd+=nf}}if(kn.nd=ll,kn.Qb=0,ll&&(kn.qb=(Rr[3][Ql[3]+0].value<<24|Rr[1][Ql[1]+0].value<<16|Rr[2][Ql[2]+0].value)>>>0,wA==0&&256>Rr[0][Ql[0]+0].value&&(kn.Qb=1,kn.qb+=Rr[0][Ql[0]+0].value<<8)),kn.jc=!kn.Qb&&6>Kd,kn.jc){var $d,Al=kn;for($d=0;$d<Ls;++$d){var zl=$d,Gl=Al.pd[zl],rf=Al.G[0][Al.H[0]+zl];256<=rf.value?(Gl.g=rf.g+256,Gl.value=rf.value):(Gl.g=0,Gl.value=0,zl>>=gr(rf,8,Gl),zl>>=gr(Al.G[1][Al.H[1]+zl],16,Gl),zl>>=gr(Al.G[2][Al.H[2]+zl],0,Gl),gr(Al.G[3][Al.H[3]+zl],24,Gl))}}}Ei.vc=Xr,Ei.Wb=Qi,Ei.Ya=yA,Ei.yc=ol,Ar=1;break t}Ar=0}if(!(oe=Ar)){K.a=3;break e}if(0<$e){if(Se.ua=1<<$e,!nt(Se.Wa,$e)){K.a=1,oe=0;break e}}else Se.ua=0;var sf=K,CA=ce,dm=de,_u=sf.s,Cu=_u.xc;if(sf.c=CA,sf.i=dm,_u.md=St(CA,Cu),_u.wc=Cu==0?-1:(1<<Cu)-1,O){K.xb=Sc;break e}if((Le=s(ce*de))==null){K.a=1,oe=0;break e}oe=(oe=Te(K,Le,0,ce,de,de,null))&&!ge.h;break e}return oe?(ne!=null?ne[0]=Le:(e(Le==null),e(O)),K.$=0,O||Ge(Se)):Ge(Se),oe}function Xe(w,B){var O=w.c*w.i,K=O+B+16*B;return e(w.c<=B),w.V=s(K),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+O+B,1)}function Ye(w,B){var O=w.C,K=B-O,ne=w.V,oe=w.Ba+w.c*O;for(e(B<=w.l.o);0<K;){var ce=16<K?16:K,de=w.l.ma,ge=w.l.width,Se=ge*ce,Le=de.ca,$e=de.tb+ge*O,qe=w.Ta,Oe=w.Ua;le(w,ce,ne,oe),Ua(qe,Oe,Le,$e,Se),ye(de,O,O+ce,Le,$e,ge),K-=ce,ne+=ce*w.c,O+=ce}e(O==B),w.C=w.Ma=B}function bt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ct(){this.Yb=(function(){var w=[];return(function B(O,K,ne){for(var oe=ne[K],ce=0;ce<oe&&(O.push(ne.length>K+1?[]:0),!(ne.length<K+1));ce++)B(O[ce],K+1,ne)})(w,0,[3,11]),w})()}function Ft(){this.jb=s(3),this.Wc=c([4,8],Ct),this.Xc=c([4,17],Ct)}function Yt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Mn(){this.ld=this.La=this.dd=this.tc=0}function Wn(){this.Na=this.la=0}function cr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function di(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ca(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mn),this.Y=0,this.ya=Array(new di),this.aa=0,this.l=new Ea}function Zs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Is(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new bt,this.Kc=new Nt,this.ed=new Yt,this.Qa=new kt,this.Ic=this.$c=this.Aa=0,this.D=new Ca,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ee),this.ia=0,this.pb=o(4,cr),this.Pa=new Ft,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Zs),this.Hd=0,this.rb=Array(new Wn),this.sb=0,this.wa=Array(new Mn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new di),this.L=this.aa=0,this.gd=c([4,2],Mn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ea(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ji(){var w=new Is;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Ra||(Ra=Co)),w}function qn(w,B,O){return w.a==0&&(w.a=B,w.sc=O,w.cb=0),0}function Or(w,B,O){return 3<=O&&w[B+0]==157&&w[B+1]==1&&w[B+2]==42}function ri(w,B){if(w==null)return 0;if(w.a=0,w.sc="OK",B==null)return qn(w,2,"null VP8Io passed to VP8GetHeaders()");var O=B.data,K=B.w,ne=B.ha;if(4>ne)return qn(w,7,"Truncated header.");var oe=O[K+0]|O[K+1]<<8|O[K+2]<<16,ce=w.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return qn(w,3,"Incorrect keyframe parameters.");if(!ce.yd)return qn(w,4,"Frame not displayable.");K+=3,ne-=3;var de=w.Kc;if(ce.Rb){if(7>ne)return qn(w,7,"cannot parse picture header");if(!Or(O,K,ne))return qn(w,3,"Bad code word");de.c=16383&(O[K+4]<<8|O[K+3]),de.Td=O[K+4]>>6,de.i=16383&(O[K+6]<<8|O[K+5]),de.Ud=O[K+6]>>6,K+=7,ne-=7,w.za=de.c+15>>4,w.Ub=de.i+15>>4,B.width=de.c,B.height=de.i,B.Da=0,B.j=0,B.v=0,B.va=B.width,B.o=B.height,B.da=0,B.ib=B.width,B.hb=B.height,B.U=B.width,B.T=B.height,i((oe=w.Pa).jb,0,255,oe.jb.length),e((oe=w.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(ce.ub>ne)return qn(w,7,"bad partition length");fe(oe=w.m,O,K,ce.ub),K+=ce.ub,ne-=ce.ub,ce.Rb&&(de.Ld=xe(oe),de.Kd=xe(oe)),de=w.Qa;var ge,Se=w.Pa;if(e(oe!=null),e(de!=null),de.Cb=xe(oe),de.Cb){if(de.Bb=xe(oe),xe(oe)){for(de.Fb=xe(oe),ge=0;4>ge;++ge)de.Zb[ge]=xe(oe)?Ae(oe,7):0;for(ge=0;4>ge;++ge)de.Lb[ge]=xe(oe)?Ae(oe,6):0}if(de.Bb)for(ge=0;3>ge;++ge)Se.jb[ge]=xe(oe)?ie(oe,8):255}else de.Bb=0;if(oe.Ka)return qn(w,3,"cannot parse segment header");if((de=w.ed).zd=xe(oe),de.Tb=ie(oe,6),de.wb=ie(oe,3),de.Pc=xe(oe),de.Pc&&xe(oe)){for(Se=0;4>Se;++Se)xe(oe)&&(de.vd[Se]=Ae(oe,6));for(Se=0;4>Se;++Se)xe(oe)&&(de.od[Se]=Ae(oe,6))}if(w.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return qn(w,3,"cannot parse filter header");var Le=ne;if(ne=ge=K,K=ge+Le,de=Le,w.Xb=(1<<ie(w.m,2))-1,Le<3*(Se=w.Xb))O=7;else{for(ge+=3*Se,de-=3*Se,Le=0;Le<Se;++Le){var $e=O[ne+0]|O[ne+1]<<8|O[ne+2]<<16;$e>de&&($e=de),fe(w.Jc[+Le],O,ge,$e),ge+=$e,de-=$e,ne+=3}fe(w.Jc[+Se],O,ge,de),O=ge<K?0:5}if(O!=0)return qn(w,O,"cannot parse partitions");for(O=ie(ge=w.m,7),ne=xe(ge)?Ae(ge,4):0,K=xe(ge)?Ae(ge,4):0,de=xe(ge)?Ae(ge,4):0,Se=xe(ge)?Ae(ge,4):0,ge=xe(ge)?Ae(ge,4):0,Le=w.Qa,$e=0;4>$e;++$e){if(Le.Cb){var qe=Le.Zb[$e];Le.Fb||(qe+=O)}else{if(0<$e){w.pb[$e]=w.pb[0];continue}qe=O}var Oe=w.pb[$e];Oe.Sc[0]=io[Ia(qe+ne,127)],Oe.Sc[1]=so[Ia(qe+0,127)],Oe.Eb[0]=2*io[Ia(qe+K,127)],Oe.Eb[1]=101581*so[Ia(qe+de,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=io[Ia(qe+Se,117)],Oe.Qc[1]=so[Ia(qe+ge,127)],Oe.lc=qe+ge}if(!ce.Rb)return qn(w,4,"Not a key frame.");for(xe(oe),ce=w.Pa,O=0;4>O;++O){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(de=0;11>de;++de)Se=ue(oe,Ur[O][ne][K][de])?ie(oe,8):sm[O][ne][K][de],ce.Wc[O][ne].Yb[K][de]=Se;for(ne=0;17>ne;++ne)ce.Xc[O][ne]=ce.Wc[O][Un[ne]]}return w.kc=xe(oe),w.kc&&(w.Bd=ie(oe,8)),w.cb=1}function Co(w,B,O,K,ne,oe,ce){var de=B[ne].Yb[O];for(O=0;16>ne;++ne){if(!ue(w,de[O+0]))return ne;for(;!ue(w,de[O+1]);)if(de=B[++ne].Yb[0],O=0,ne==16)return 16;var ge=B[ne+1].Yb;if(ue(w,de[O+2])){var Se=w,Le=0;if(ue(Se,(qe=de)[($e=O)+3]))if(ue(Se,qe[$e+6])){for(de=0,$e=2*(Le=ue(Se,qe[$e+8]))+(qe=ue(Se,qe[$e+9+Le])),Le=0,qe=im[$e];qe[de];++de)Le+=Le+ue(Se,qe[de]);Le+=3+(8<<$e)}else ue(Se,qe[$e+7])?(Le=7+2*ue(Se,165),Le+=ue(Se,145)):Le=5+ue(Se,159);else Le=ue(Se,qe[$e+4])?3+ue(Se,qe[$e+5]):2;de=ge[2]}else Le=1,de=ge[1];ge=ce+V0[ne],0>(Se=w).b&&te(Se);var $e,qe=Se.b,Oe=($e=Se.Ca>>1)-(Se.I>>qe)>>31;--Se.b,Se.Ca+=Oe,Se.Ca|=1,Se.I-=($e+1&Oe)<<qe,oe[ge]=((Le^Oe)-Oe)*K[(0<ne)+0]}return 16}function Bl(w){var B=w.rb[w.sb-1];B.la=0,B.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function er(w,B){if(w==null)return 0;if(B==null)return qn(w,2,"NULL VP8Io parameter in VP8Decode().");if(!w.cb&&!ri(w,B))return 0;if(e(w.cb),B.ac==null||B.ac(B)){B.ob&&(w.L=0);var O=yu[w.L];if(w.L==2?(w.yb=0,w.zb=0):(w.yb=B.v-O>>4,w.zb=B.j-O>>4,0>w.yb&&(w.yb=0),0>w.zb&&(w.zb=0)),w.Va=B.o+15+O>>4,w.Hb=B.va+15+O>>4,w.Hb>w.za&&(w.Hb=w.za),w.Va>w.Ub&&(w.Va=w.Ub),0<w.L){var K=w.ed;for(O=0;4>O;++O){var ne;if(w.Qa.Cb){var oe=w.Qa.Lb[O];w.Qa.Fb||(oe+=K.Tb)}else oe=K.Tb;for(ne=0;1>=ne;++ne){var ce=w.gd[O][ne],de=oe;if(K.Pc&&(de+=K.vd[0],ne&&(de+=K.od[0])),0<(de=0>de?0:63<de?63:de)){var ge=de;0<K.wb&&(ge=4<K.wb?ge>>2:ge>>1)>9-K.wb&&(ge=9-K.wb),1>ge&&(ge=1),ce.dd=ge,ce.tc=2*de+ge,ce.ld=40<=de?2:15<=de?1:0}else ce.tc=0;ce.La=ne}}}O=0}else qn(w,6,"Frame setup failed"),O=w.a;if(O=O==0){if(O){w.$c=0,0<w.Aa||(w.Ic=Gd);e:{O=w.Ic,K=4*(ge=w.za);var Se=32*ge,Le=ge+1,$e=0<w.L?ge*(0<w.Aa?2:1):0,qe=(w.Aa==2?2:1)*ge;if((ce=K+832+(ne=3*(16*O+yu[w.L])/2*Se)+(oe=w.Fa!=null&&0<w.Fa.length?w.Kc.c*w.Kc.i:0))!=ce)O=0;else{if(ce>w.Vb){if(w.Vb=0,w.Ec=s(ce),w.Fc=0,w.Ec==null){O=qn(w,1,"no memory during frame initialization.");break e}w.Vb=ce}ce=w.Ec,de=w.Fc,w.Ac=ce,w.Bc=de,de+=K,w.Gd=o(Se,Zs),w.Hd=0,w.rb=o(Le+1,Wn),w.sb=1,w.wa=$e?o($e,Mn):null,w.Y=0,w.D.Nb=0,w.D.wa=w.wa,w.D.Y=w.Y,0<w.Aa&&(w.D.Y+=ge),e(!0),w.oc=ce,w.pc=de,de+=832,w.ya=o(qe,di),w.aa=0,w.D.ya=w.ya,w.D.aa=w.aa,w.Aa==2&&(w.D.aa+=ge),w.R=16*ge,w.B=8*ge,ge=(Se=yu[w.L])*w.R,Se=Se/2*w.B,w.sa=ce,w.ta=de+ge,w.qa=w.sa,w.ra=w.ta+16*O*w.R+Se,w.Ha=w.qa,w.Ia=w.ra+8*O*w.B+Se,w.$c=0,de+=ne,w.mb=oe?ce:null,w.nb=oe?de:null,e(de+oe<=w.Fc+w.Vb),Bl(w),i(w.Ac,w.Bc,0,K),O=1}}if(O){if(B.ka=0,B.y=w.sa,B.O=w.ta,B.f=w.qa,B.N=w.ra,B.ea=w.Ha,B.Vd=w.Ia,B.fa=w.R,B.Rc=w.B,B.F=null,B.J=0,!Ph){for(O=-255;255>=O;++O)gA[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)Mh[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Md[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)Pd[255+O]=0>O?0:255<O?255:O;Ph=1}ms=Yo,bc=au,tl=dc,Ja=Wo,Ms=oA,Ml=Tl,Za=pc,_c=Xo,Cc=lu,sa=Zo,fu=Ul,Fa=Jo,nl=gc,Nr=dA,Sr=ko,ai=ia,fi=ss,rl=fc,Wr[0]=Us,Wr[1]=ou,Wr[2]=qa,Wr[3]=Fl,Wr[4]=Eo,Wr[5]=rs,Wr[6]=ta,Wr[7]=No,Wr[8]=$a,Wr[9]=nr,Ps[0]=kl,Ps[1]=cA,Ps[2]=ea,Ps[3]=Il,Ps[4]=Er,Ps[5]=AA,Ps[6]=Fs,Do[0]=na,Do[1]=lA,Do[2]=uA,Do[3]=So,Do[4]=is,Do[5]=To,Do[6]=ii,O=1}else O=0}O&&(O=(function(Oe,pt){for(Oe.M=0;Oe.M<Oe.Va;++Oe.M){var st,De=Oe.Jc[Oe.M&Oe.Xb],Me=Oe.m,ut=Oe;for(st=0;st<ut.za;++st){var yt=Me,ct=ut,Ot=ct.Ac,Rt=ct.Bc+4*st,on=ct.zc,jt=ct.ya[ct.aa+st];if(ct.Qa.Bb?jt.$b=ue(yt,ct.Pa.jb[0])?2+ue(yt,ct.Pa.jb[2]):ue(yt,ct.Pa.jb[1]):jt.$b=0,ct.kc&&(jt.Ad=ue(yt,ct.Bd)),jt.Za=!ue(yt,145)+0,jt.Za){var Jn=jt.Ob,Rn=0;for(ct=0;4>ct;++ct){var Pn,Cn=on[0+ct];for(Pn=0;4>Pn;++Pn){Cn=ls[Ot[Rt+Pn]][Cn];for(var Ar=Gh[ue(yt,Cn[0])];0<Ar;)Ar=Gh[2*Ar+ue(yt,Cn[Ar])];Cn=-Ar,Ot[Rt+Pn]=Cn}r(Jn,Rn,Ot,Rt,4),Rn+=4,on[0+ct]=Cn}}else Cn=ue(yt,156)?ue(yt,128)?1:3:ue(yt,163)?2:0,jt.Ob[0]=Cn,i(Ot,Rt,Cn,4),i(on,0,Cn,4);jt.Dd=ue(yt,142)?ue(yt,114)?ue(yt,183)?1:3:2:0}if(ut.m.Ka)return qn(Oe,7,"Premature end-of-partition0 encountered.");for(;Oe.ja<Oe.za;++Oe.ja){if(ut=De,yt=(Me=Oe).rb[Me.sb-1],Ot=Me.rb[Me.sb+Me.ja],st=Me.ya[Me.aa+Me.ja],Rt=Me.kc?st.Ad:0)yt.la=Ot.la=0,st.Za||(yt.Na=Ot.Na=0),st.Hc=0,st.Gc=0,st.ia=0;else{var ir,pn;if(yt=Ot,Ot=ut,Rt=Me.Pa.Xc,on=Me.ya[Me.aa+Me.ja],jt=Me.pb[on.$b],ct=on.ad,Jn=0,Rn=Me.rb[Me.sb-1],Cn=Pn=0,i(ct,Jn,0,384),on.Za)var mr=0,Oi=Rt[3];else{Ar=s(16);var Yr=yt.Na+Rn.Na;if(Yr=Ra(Ot,Rt[1],Yr,jt.Eb,0,Ar,0),yt.Na=Rn.Na=(0<Yr)+0,1<Yr)ms(Ar,0,ct,Jn);else{var ws=Ar[0]+3>>3;for(Ar=0;256>Ar;Ar+=16)ct[Jn+Ar]=ws}mr=1,Oi=Rt[0]}var $n=15&yt.la,us=15&Rn.la;for(Ar=0;4>Ar;++Ar){var aa=1&us;for(ws=pn=0;4>ws;++ws)$n=$n>>1|(aa=(Yr=Ra(Ot,Oi,Yr=aa+(1&$n),jt.Sc,mr,ct,Jn))>mr)<<7,pn=pn<<2|(3<Yr?3:1<Yr?2:ct[Jn+0]!=0),Jn+=16;$n>>=4,us=us>>1|aa<<7,Pn=(Pn<<8|pn)>>>0}for(Oi=$n,mr=us>>4,ir=0;4>ir;ir+=2){for(pn=0,$n=yt.la>>4+ir,us=Rn.la>>4+ir,Ar=0;2>Ar;++Ar){for(aa=1&us,ws=0;2>ws;++ws)Yr=aa+(1&$n),$n=$n>>1|(aa=0<(Yr=Ra(Ot,Rt[2],Yr,jt.Qc,0,ct,Jn)))<<3,pn=pn<<2|(3<Yr?3:1<Yr?2:ct[Jn+0]!=0),Jn+=16;$n>>=2,us=us>>1|aa<<5}Cn|=pn<<4*ir,Oi|=$n<<4<<ir,mr|=(240&us)<<ir}yt.la=Oi,Rn.la=mr,on.Hc=Pn,on.Gc=Cn,on.ia=43690&Cn?0:jt.ia,Rt=!(Pn|Cn)}if(0<Me.L&&(Me.wa[Me.Y+Me.ja]=Me.gd[st.$b][st.Za],Me.wa[Me.Y+Me.ja].La|=!Rt),ut.Ka)return qn(Oe,7,"Premature end-of-file encountered.")}if(Bl(Oe),Me=pt,ut=1,st=(De=Oe).D,yt=0<De.L&&De.M>=De.zb&&De.M<=De.Va,De.Aa==0)e:{if(st.M=De.M,st.uc=yt,uu(De,st),ut=1,st=(pn=De.D).Nb,yt=(Cn=yu[De.L])*De.R,Ot=Cn/2*De.B,Ar=16*st*De.R,ws=8*st*De.B,Rt=De.sa,on=De.ta-yt+Ar,jt=De.qa,ct=De.ra-Ot+ws,Jn=De.Ha,Rn=De.Ia-Ot+ws,us=($n=pn.M)==0,Pn=$n>=De.Va-1,De.Aa==2&&uu(De,pn),pn.uc)for(aa=(Yr=De).D.M,e(Yr.D.uc),pn=Yr.yb;pn<Yr.Hb;++pn){mr=pn,Oi=aa;var Ei=(Xr=(Hr=Yr).D).Nb;ir=Hr.R;var Xr=Xr.wa[Xr.Y+mr],Qi=Hr.sa,La=Hr.ta+16*Ei*ir+16*mr,oo=Xr.dd,pi=Xr.tc;if(pi!=0)if(e(3<=pi),Hr.L==1)0<mr&&ai(Qi,La,ir,pi+4),Xr.La&&rl(Qi,La,ir,pi),0<Oi&&Sr(Qi,La,ir,pi+4),Xr.La&&fi(Qi,La,ir,pi);else{var li=Hr.B,Hi=Hr.qa,Da=Hr.ra+8*Ei*li+8*mr,al=Hr.Ha,Hr=Hr.Ia+8*Ei*li+8*mr;Ei=Xr.ld,0<mr&&(_c(Qi,La,ir,pi+4,oo,Ei),sa(Hi,Da,al,Hr,li,pi+4,oo,Ei)),Xr.La&&(Fa(Qi,La,ir,pi,oo,Ei),Nr(Hi,Da,al,Hr,li,pi,oo,Ei)),0<Oi&&(Za(Qi,La,ir,pi+4,oo,Ei),Cc(Hi,Da,al,Hr,li,pi+4,oo,Ei)),Xr.La&&(fu(Qi,La,ir,pi,oo,Ei),nl(Hi,Da,al,Hr,li,pi,oo,Ei))}}if(De.ia&&alert("todo:DitherRow"),Me.put!=null){if(pn=16*$n,$n=16*($n+1),us?(Me.y=De.sa,Me.O=De.ta+Ar,Me.f=De.qa,Me.N=De.ra+ws,Me.ea=De.Ha,Me.W=De.Ia+ws):(pn-=Cn,Me.y=Rt,Me.O=on,Me.f=jt,Me.N=ct,Me.ea=Jn,Me.W=Rn),Pn||($n-=Cn),$n>Me.o&&($n=Me.o),Me.F=null,Me.J=null,De.Fa!=null&&0<De.Fa.length&&pn<$n&&(Me.J=Ta(De,Me,pn,$n-pn),Me.F=De.mb,Me.F==null&&Me.F.length==0)){ut=qn(De,3,"Could not decode alpha data.");break e}pn<Me.j&&(Cn=Me.j-pn,pn=Me.j,e(!(1&Cn)),Me.O+=De.R*Cn,Me.N+=De.B*(Cn>>1),Me.W+=De.B*(Cn>>1),Me.F!=null&&(Me.J+=Me.width*Cn)),pn<$n&&(Me.O+=Me.v,Me.N+=Me.v>>1,Me.W+=Me.v>>1,Me.F!=null&&(Me.J+=Me.v),Me.ka=pn-Me.j,Me.U=Me.va-Me.v,Me.T=$n-pn,ut=Me.put(Me))}st+1!=De.Ic||Pn||(r(De.sa,De.ta-yt,Rt,on+16*De.R,yt),r(De.qa,De.ra-Ot,jt,ct+8*De.B,Ot),r(De.Ha,De.Ia-Ot,Jn,Rn+8*De.B,Ot))}if(!ut)return qn(Oe,6,"Output aborted.")}return 1})(w,B)),B.bc!=null&&B.bc(B),O&=1}return O?(w.cb=0,O):0}function ns(w,B,O,K,ne){ne=w[B+O+32*K]+(ne>>3),w[B+O+32*K]=-256&ne?0>ne?0:255:ne}function ks(w,B,O,K,ne,oe){ns(w,B,0,O,K+ne),ns(w,B,1,O,K+oe),ns(w,B,2,O,K-oe),ns(w,B,3,O,K-ne)}function hi(w){return(20091*w>>16)+w}function Mi(w,B,O,K){var ne,oe=0,ce=s(16);for(ne=0;4>ne;++ne){var de=w[B+0]+w[B+8],ge=w[B+0]-w[B+8],Se=(35468*w[B+4]>>16)-hi(w[B+12]),Le=hi(w[B+4])+(35468*w[B+12]>>16);ce[oe+0]=de+Le,ce[oe+1]=ge+Se,ce[oe+2]=ge-Se,ce[oe+3]=de-Le,oe+=4,B++}for(ne=oe=0;4>ne;++ne)de=(w=ce[oe+0]+4)+ce[oe+8],ge=w-ce[oe+8],Se=(35468*ce[oe+4]>>16)-hi(ce[oe+12]),ns(O,K,0,0,de+(Le=hi(ce[oe+4])+(35468*ce[oe+12]>>16))),ns(O,K,1,0,ge+Se),ns(O,K,2,0,ge-Se),ns(O,K,3,0,de-Le),oe++,K+=32}function Tl(w,B,O,K){var ne=w[B+0]+4,oe=35468*w[B+4]>>16,ce=hi(w[B+4]),de=35468*w[B+1]>>16;ks(O,K,0,ne+ce,w=hi(w[B+1]),de),ks(O,K,1,ne+oe,w,de),ks(O,K,2,ne-oe,w,de),ks(O,K,3,ne-ce,w,de)}function au(w,B,O,K,ne){Mi(w,B,O,K),ne&&Mi(w,B+16,O,K+4)}function dc(w,B,O,K){bc(w,B+0,O,K,1),bc(w,B+32,O,K+128,1)}function Wo(w,B,O,K){var ne;for(w=w[B+0]+4,ne=0;4>ne;++ne)for(B=0;4>B;++B)ns(O,K,B,ne,w)}function oA(w,B,O,K){w[B+0]&&Ja(w,B+0,O,K),w[B+16]&&Ja(w,B+16,O,K+4),w[B+32]&&Ja(w,B+32,O,K+128),w[B+48]&&Ja(w,B+48,O,K+128+4)}function Yo(w,B,O,K){var ne,oe=s(16);for(ne=0;4>ne;++ne){var ce=w[B+0+ne]+w[B+12+ne],de=w[B+4+ne]+w[B+8+ne],ge=w[B+4+ne]-w[B+8+ne],Se=w[B+0+ne]-w[B+12+ne];oe[0+ne]=ce+de,oe[8+ne]=ce-de,oe[4+ne]=Se+ge,oe[12+ne]=Se-ge}for(ne=0;4>ne;++ne)ce=(w=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],ge=oe[1+4*ne]-oe[2+4*ne],Se=w-oe[3+4*ne],O[K+0]=ce+de>>3,O[K+16]=Se+ge>>3,O[K+32]=ce-de>>3,O[K+48]=Se-ge>>3,K+=64}function Pi(w,B,O){var K,ne=B-32,oe=vs,ce=255-w[ne-1];for(K=0;K<O;++K){var de,ge=oe,Se=ce+w[B-1];for(de=0;de<O;++de)w[B+de]=ge[Se+w[ne+de]];B+=32}}function ou(w,B){Pi(w,B,4)}function lA(w,B){Pi(w,B,8)}function cA(w,B){Pi(w,B,16)}function ea(w,B){var O;for(O=0;16>O;++O)r(w,B+32*O,w,B-32,16)}function Il(w,B){var O;for(O=16;0<O;--O)i(w,B,w[B-1],16),B+=32}function Na(w,B,O){var K;for(K=0;16>K;++K)i(B,O+32*K,w,16)}function kl(w,B){var O,K=16;for(O=0;16>O;++O)K+=w[B-1+32*O]+w[B+O-32];Na(K>>5,w,B)}function Er(w,B){var O,K=8;for(O=0;16>O;++O)K+=w[B-1+32*O];Na(K>>4,w,B)}function AA(w,B){var O,K=8;for(O=0;16>O;++O)K+=w[B+O-32];Na(K>>4,w,B)}function Fs(w,B){Na(128,w,B)}function hn(w,B,O){return w+2*B+O+2>>2}function qa(w,B){var O,K=B-32;for(K=new Uint8Array([hn(w[K-1],w[K+0],w[K+1]),hn(w[K+0],w[K+1],w[K+2]),hn(w[K+1],w[K+2],w[K+3]),hn(w[K+2],w[K+3],w[K+4])]),O=0;4>O;++O)r(w,B+32*O,K,0,K.length)}function Fl(w,B){var O=w[B-1],K=w[B-1+32],ne=w[B-1+64],oe=w[B-1+96];be(w,B+0,16843009*hn(w[B-1-32],O,K)),be(w,B+32,16843009*hn(O,K,ne)),be(w,B+64,16843009*hn(K,ne,oe)),be(w,B+96,16843009*hn(ne,oe,oe))}function Us(w,B){var O,K=4;for(O=0;4>O;++O)K+=w[B+O-32]+w[B-1+32*O];for(K>>=3,O=0;4>O;++O)i(w,B+32*O,K,4)}function Eo(w,B){var O=w[B-1+0],K=w[B-1+32],ne=w[B-1+64],oe=w[B-1-32],ce=w[B+0-32],de=w[B+1-32],ge=w[B+2-32],Se=w[B+3-32];w[B+0+96]=hn(K,ne,w[B-1+96]),w[B+1+96]=w[B+0+64]=hn(O,K,ne),w[B+2+96]=w[B+1+64]=w[B+0+32]=hn(oe,O,K),w[B+3+96]=w[B+2+64]=w[B+1+32]=w[B+0+0]=hn(ce,oe,O),w[B+3+64]=w[B+2+32]=w[B+1+0]=hn(de,ce,oe),w[B+3+32]=w[B+2+0]=hn(ge,de,ce),w[B+3+0]=hn(Se,ge,de)}function ta(w,B){var O=w[B+1-32],K=w[B+2-32],ne=w[B+3-32],oe=w[B+4-32],ce=w[B+5-32],de=w[B+6-32],ge=w[B+7-32];w[B+0+0]=hn(w[B+0-32],O,K),w[B+1+0]=w[B+0+32]=hn(O,K,ne),w[B+2+0]=w[B+1+32]=w[B+0+64]=hn(K,ne,oe),w[B+3+0]=w[B+2+32]=w[B+1+64]=w[B+0+96]=hn(ne,oe,ce),w[B+3+32]=w[B+2+64]=w[B+1+96]=hn(oe,ce,de),w[B+3+64]=w[B+2+96]=hn(ce,de,ge),w[B+3+96]=hn(de,ge,ge)}function rs(w,B){var O=w[B-1+0],K=w[B-1+32],ne=w[B-1+64],oe=w[B-1-32],ce=w[B+0-32],de=w[B+1-32],ge=w[B+2-32],Se=w[B+3-32];w[B+0+0]=w[B+1+64]=oe+ce+1>>1,w[B+1+0]=w[B+2+64]=ce+de+1>>1,w[B+2+0]=w[B+3+64]=de+ge+1>>1,w[B+3+0]=ge+Se+1>>1,w[B+0+96]=hn(ne,K,O),w[B+0+64]=hn(K,O,oe),w[B+0+32]=w[B+1+96]=hn(O,oe,ce),w[B+1+32]=w[B+2+96]=hn(oe,ce,de),w[B+2+32]=w[B+3+96]=hn(ce,de,ge),w[B+3+32]=hn(de,ge,Se)}function No(w,B){var O=w[B+0-32],K=w[B+1-32],ne=w[B+2-32],oe=w[B+3-32],ce=w[B+4-32],de=w[B+5-32],ge=w[B+6-32],Se=w[B+7-32];w[B+0+0]=O+K+1>>1,w[B+1+0]=w[B+0+64]=K+ne+1>>1,w[B+2+0]=w[B+1+64]=ne+oe+1>>1,w[B+3+0]=w[B+2+64]=oe+ce+1>>1,w[B+0+32]=hn(O,K,ne),w[B+1+32]=w[B+0+96]=hn(K,ne,oe),w[B+2+32]=w[B+1+96]=hn(ne,oe,ce),w[B+3+32]=w[B+2+96]=hn(oe,ce,de),w[B+3+64]=hn(ce,de,ge),w[B+3+96]=hn(de,ge,Se)}function nr(w,B){var O=w[B-1+0],K=w[B-1+32],ne=w[B-1+64],oe=w[B-1+96];w[B+0+0]=O+K+1>>1,w[B+2+0]=w[B+0+32]=K+ne+1>>1,w[B+2+32]=w[B+0+64]=ne+oe+1>>1,w[B+1+0]=hn(O,K,ne),w[B+3+0]=w[B+1+32]=hn(K,ne,oe),w[B+3+32]=w[B+1+64]=hn(ne,oe,oe),w[B+3+64]=w[B+2+64]=w[B+0+96]=w[B+1+96]=w[B+2+96]=w[B+3+96]=oe}function $a(w,B){var O=w[B-1+0],K=w[B-1+32],ne=w[B-1+64],oe=w[B-1+96],ce=w[B-1-32],de=w[B+0-32],ge=w[B+1-32],Se=w[B+2-32];w[B+0+0]=w[B+2+32]=O+ce+1>>1,w[B+0+32]=w[B+2+64]=K+O+1>>1,w[B+0+64]=w[B+2+96]=ne+K+1>>1,w[B+0+96]=oe+ne+1>>1,w[B+3+0]=hn(de,ge,Se),w[B+2+0]=hn(ce,de,ge),w[B+1+0]=w[B+3+32]=hn(O,ce,de),w[B+1+32]=w[B+3+64]=hn(K,O,ce),w[B+1+64]=w[B+3+96]=hn(ne,K,O),w[B+1+96]=hn(oe,ne,K)}function uA(w,B){var O;for(O=0;8>O;++O)r(w,B+32*O,w,B-32,8)}function So(w,B){var O;for(O=0;8>O;++O)i(w,B,w[B-1],8),B+=32}function Bo(w,B,O){var K;for(K=0;8>K;++K)i(B,O+32*K,w,8)}function na(w,B){var O,K=8;for(O=0;8>O;++O)K+=w[B+O-32]+w[B-1+32*O];Bo(K>>4,w,B)}function To(w,B){var O,K=4;for(O=0;8>O;++O)K+=w[B+O-32];Bo(K>>3,w,B)}function is(w,B){var O,K=4;for(O=0;8>O;++O)K+=w[B-1+32*O];Bo(K>>3,w,B)}function ii(w,B){Bo(128,w,B)}function ra(w,B,O){var K=w[B-O],ne=w[B+0],oe=3*(ne-K)+Pl[1020+w[B-2*O]-w[B+O]],ce=Od[112+(oe+4>>3)];w[B-O]=vs[255+K+Od[112+(oe+3>>3)]],w[B+0]=vs[255+ne-ce]}function Sa(w,B,O,K){var ne=w[B+0],oe=w[B+O];return os[255+w[B-2*O]-w[B-O]]>K||os[255+oe-ne]>K}function Io(w,B,O,K){return 4*os[255+w[B-O]-w[B+0]]+os[255+w[B-2*O]-w[B+O]]<=K}function hc(w,B,O,K,ne){var oe=w[B-3*O],ce=w[B-2*O],de=w[B-O],ge=w[B+0],Se=w[B+O],Le=w[B+2*O],$e=w[B+3*O];return 4*os[255+de-ge]+os[255+ce-Se]>K?0:os[255+w[B-4*O]-oe]<=ne&&os[255+oe-ce]<=ne&&os[255+ce-de]<=ne&&os[255+$e-Le]<=ne&&os[255+Le-Se]<=ne&&os[255+Se-ge]<=ne}function ko(w,B,O,K){var ne=2*K+1;for(K=0;16>K;++K)Io(w,B+K,O,ne)&&ra(w,B+K,O)}function ia(w,B,O,K){var ne=2*K+1;for(K=0;16>K;++K)Io(w,B+K*O,1,ne)&&ra(w,B+K*O,1)}function ss(w,B,O,K){var ne;for(ne=3;0<ne;--ne)ko(w,B+=4*O,O,K)}function fc(w,B,O,K){var ne;for(ne=3;0<ne;--ne)ia(w,B+=4,O,K)}function Wa(w,B,O,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(hc(w,B,O,oe,ce))if(Sa(w,B,O,de))ra(w,B,O);else{var ge=w,Se=B,Le=O,$e=ge[Se-2*Le],qe=ge[Se-Le],Oe=ge[Se+0],pt=ge[Se+Le],st=ge[Se+2*Le],De=27*(ut=Pl[1020+3*(Oe-qe)+Pl[1020+$e-pt]])+63>>7,Me=18*ut+63>>7,ut=9*ut+63>>7;ge[Se-3*Le]=vs[255+ge[Se-3*Le]+ut],ge[Se-2*Le]=vs[255+$e+Me],ge[Se-Le]=vs[255+qe+De],ge[Se+0]=vs[255+Oe-De],ge[Se+Le]=vs[255+pt-Me],ge[Se+2*Le]=vs[255+st-ut]}B+=K}}function as(w,B,O,K,ne,oe,ce,de){for(oe=2*oe+1;0<ne--;){if(hc(w,B,O,oe,ce))if(Sa(w,B,O,de))ra(w,B,O);else{var ge=w,Se=B,Le=O,$e=ge[Se-Le],qe=ge[Se+0],Oe=ge[Se+Le],pt=Od[112+((st=3*(qe-$e))+4>>3)],st=Od[112+(st+3>>3)],De=pt+1>>1;ge[Se-2*Le]=vs[255+ge[Se-2*Le]+De],ge[Se-Le]=vs[255+$e+st],ge[Se+0]=vs[255+qe-pt],ge[Se+Le]=vs[255+Oe-De]}B+=K}}function pc(w,B,O,K,ne,oe){Wa(w,B,O,1,16,K,ne,oe)}function Xo(w,B,O,K,ne,oe){Wa(w,B,1,O,16,K,ne,oe)}function Ul(w,B,O,K,ne,oe){var ce;for(ce=3;0<ce;--ce)as(w,B+=4*O,O,1,16,K,ne,oe)}function Jo(w,B,O,K,ne,oe){var ce;for(ce=3;0<ce;--ce)as(w,B+=4,1,O,16,K,ne,oe)}function lu(w,B,O,K,ne,oe,ce,de){Wa(w,B,ne,1,8,oe,ce,de),Wa(O,K,ne,1,8,oe,ce,de)}function Zo(w,B,O,K,ne,oe,ce,de){Wa(w,B,1,ne,8,oe,ce,de),Wa(O,K,1,ne,8,oe,ce,de)}function gc(w,B,O,K,ne,oe,ce,de){as(w,B+4*ne,ne,1,8,oe,ce,de),as(O,K+4*ne,ne,1,8,oe,ce,de)}function dA(w,B,O,K,ne,oe,ce,de){as(w,B+4,1,ne,8,oe,ce,de),as(O,K+4,1,ne,8,oe,ce,de)}function Rs(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new dn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function mc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hA(){this.ua=0,this.Wa=new Ee,this.vb=new Ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new Q}function cu(){this.xb=this.a=0,this.l=new Ea,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hA,this.ab=0,this.gc=o(4,xc),this.Oc=0}function Ba(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ea,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function si(w,B,O,K,ne,oe,ce){for(w=w==null?0:w[B+0],B=0;B<ce;++B)ne[oe+B]=w+O[K+B]&255,w=ne[oe+B]}function vc(w,B,O,K,ne,oe,ce){var de;if(w==null)si(null,null,O,K,ne,oe,ce);else for(de=0;de<ce;++de)ne[oe+de]=w[B+de]+O[K+de]&255}function Fo(w,B,O,K,ne,oe,ce){if(w==null)si(null,null,O,K,ne,oe,ce);else{var de,ge=w[B+0],Se=ge,Le=ge;for(de=0;de<ce;++de)Se=Le+(ge=w[B+de])-Se,Le=O[K+de]+(-256&Se?0>Se?0:255:Se)&255,Se=ge,ne[oe+de]=Le}}function Ta(w,B,O,K){var ne=B.width,oe=B.o;if(e(w!=null&&B!=null),0>O||0>=K||O+K>oe)return null;if(!w.Cc){if(w.ga==null){var ce;if(w.ga=new Ba,(ce=w.ga==null)||(ce=B.width*B.o,e(w.Gb.length==0),w.Gb=s(ce),w.Uc=0,w.Gb==null?ce=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ce=1),ce=!ce),!ce){ce=w.ga;var de=w.Fa,ge=w.P,Se=w.qc,Le=w.mb,$e=w.nb,qe=ge+1,Oe=Se-1,pt=ce.l;if(e(de!=null&&Le!=null&&B!=null),Ol[0]=null,Ol[1]=si,Ol[2]=vc,Ol[3]=Fo,ce.ca=Le,ce.tb=$e,ce.c=B.width,ce.i=B.height,e(0<ce.c&&0<ce.i),1>=Se)B=0;else if(ce.$a=de[ge+0]>>0&3,ce.Z=de[ge+0]>>2&3,ce.Lc=de[ge+0]>>4&3,ge=de[ge+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ge)B=0;else if(pt.put=ni,pt.ac=jn,pt.bc=Li,pt.ma=ce,pt.width=B.width,pt.height=B.height,pt.Da=B.Da,pt.v=B.v,pt.va=B.va,pt.j=B.j,pt.o=B.o,ce.$a)e:{e(ce.$a==1),B=it();t:for(;;){if(B==null){B=0;break e}if(e(ce!=null),ce.mc=B,B.c=ce.c,B.i=ce.i,B.l=ce.l,B.l.ma=ce,B.l.width=ce.c,B.l.height=ce.i,B.a=0,me(B.m,de,qe,Oe),!Ke(ce.c,ce.i,1,B,null)||(B.ab==1&&B.gc[0].hc==3&&ve(B.s)?(ce.ic=1,de=B.c*B.i,B.Ta=null,B.Ua=0,B.V=s(de),B.Ba=0,B.V==null?(B.a=1,B=0):B=1):(ce.ic=0,B=Xe(B,ce.c)),!B))break t;B=1;break e}ce.mc=null,B=0}else B=Oe>=ce.c*ce.i;ce=!B}if(ce)return null;w.ga.Lc!=1?w.Ga=0:K=oe-O}e(w.ga!=null),e(O+K<=oe);e:{if(B=(de=w.ga).c,oe=de.l.o,de.$a==0){if(qe=w.rc,Oe=w.Vc,pt=w.Fa,ge=w.P+1+O*B,Se=w.mb,Le=w.nb+O*B,e(ge<=w.P+w.qc),de.Z!=0)for(e(Ol[de.Z]!=null),ce=0;ce<K;++ce)Ol[de.Z](qe,Oe,pt,ge,Se,Le,B),qe=Se,Oe=Le,Le+=B,ge+=B;else for(ce=0;ce<K;++ce)r(Se,Le,pt,ge,B),qe=Se,Oe=Le,Le+=B,ge+=B;w.rc=qe,w.Vc=Oe}else{if(e(de.mc!=null),B=O+K,e((ce=de.mc)!=null),e(B<=ce.i),ce.C>=B)B=1;else if(de.ic||pe(),de.ic){de=ce.V,qe=ce.Ba,Oe=ce.c;var st=ce.i,De=(pt=1,ge=ce.$/Oe,Se=ce.$%Oe,Le=ce.m,$e=ce.s,ce.$),Me=Oe*st,ut=Oe*B,yt=$e.wc,ct=De<ut?tr($e,Se,ge):null;e(De<=Me),e(B<=st),e(ve($e));t:for(;;){for(;!Le.h&&De<ut;){if(Se&yt||(ct=tr($e,Se,ge)),e(ct!=null),q(Le),256>(st=ui(ct.G[0],ct.H[0],Le)))de[qe+De]=st,++De,++Se>=Oe&&(Se=0,++ge<=B&&!(ge%16)&&Ce(ce,ge));else{if(!(280>st)){pt=0;break t}st=Ci(st-256,Le);var Ot,Rt=ui(ct.G[4],ct.H[4],Le);if(q(Le),!(De>=(Rt=Di(Oe,Rt=Ci(Rt,Le)))&&Me-De>=st)){pt=0;break t}for(Ot=0;Ot<st;++Ot)de[qe+De+Ot]=de[qe+De+Ot-Rt];for(De+=st,Se+=st;Se>=Oe;)Se-=Oe,++ge<=B&&!(ge%16)&&Ce(ce,ge);De<ut&&Se&yt&&(ct=tr($e,Se,ge))}e(Le.h==V(Le))}Ce(ce,ge>B?B:ge);break t}!pt||Le.h&&De<Me?(pt=0,ce.a=Le.h?5:3):ce.$=De,B=pt}else B=Te(ce,ce.V,ce.Ba,ce.c,ce.i,B,Ye);if(!B){K=0;break e}}O+K>=oe&&(w.Cc=1),K=1}if(!K)return null;if(w.Cc&&((K=w.ga)!=null&&(K.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+O*ne}function p(w,B,O,K,ne,oe){for(;0<ne--;){var ce,de=w,ge=B+(O?1:0),Se=w,Le=B+(O?0:3);for(ce=0;ce<K;++ce){var $e=Se[Le+4*ce];$e!=255&&($e*=32897,de[ge+4*ce+0]=de[ge+4*ce+0]*$e>>23,de[ge+4*ce+1]=de[ge+4*ce+1]*$e>>23,de[ge+4*ce+2]=de[ge+4*ce+2]*$e>>23)}B+=oe}}function N(w,B,O,K,ne){for(;0<K--;){var oe;for(oe=0;oe<O;++oe){var ce=w[B+2*oe+0],de=15&(Se=w[B+2*oe+1]),ge=4369*de,Se=(240&Se|Se>>4)*ge>>16;w[B+2*oe+0]=(240&ce|ce>>4)*ge>>16&240|(15&ce|ce<<4)*ge>>16>>4&15,w[B+2*oe+1]=240&Se|de}B+=ne}}function D(w,B,O,K,ne,oe,ce,de){var ge,Se,Le=255;for(Se=0;Se<ne;++Se){for(ge=0;ge<K;++ge){var $e=w[B+ge];oe[ce+4*ge]=$e,Le&=$e}B+=O,ce+=de}return Le!=255}function W(w,B,O,K,ne){var oe;for(oe=0;oe<ne;++oe)O[K+oe]=w[B+oe]>>8}function pe(){il=p,xs=N,pA=D,Ua=W}function Ie(w,B,O){F[w]=function(K,ne,oe,ce,de,ge,Se,Le,$e,qe,Oe,pt,st,De,Me,ut,yt){var ct,Ot=yt-1>>1,Rt=de[ge+0]|Se[Le+0]<<16,on=$e[qe+0]|Oe[pt+0]<<16;e(K!=null);var jt=3*Rt+on+131074>>2;for(B(K[ne+0],255&jt,jt>>16,st,De),oe!=null&&(jt=3*on+Rt+131074>>2,B(oe[ce+0],255&jt,jt>>16,Me,ut)),ct=1;ct<=Ot;++ct){var Jn=de[ge+ct]|Se[Le+ct]<<16,Rn=$e[qe+ct]|Oe[pt+ct]<<16,Pn=Rt+Jn+on+Rn+524296,Cn=Pn+2*(Jn+on)>>3;jt=Cn+Rt>>1,Rt=(Pn=Pn+2*(Rt+Rn)>>3)+Jn>>1,B(K[ne+2*ct-1],255&jt,jt>>16,st,De+(2*ct-1)*O),B(K[ne+2*ct-0],255&Rt,Rt>>16,st,De+(2*ct-0)*O),oe!=null&&(jt=Pn+on>>1,Rt=Cn+Rn>>1,B(oe[ce+2*ct-1],255&jt,jt>>16,Me,ut+(2*ct-1)*O),B(oe[ce+2*ct+0],255&Rt,Rt>>16,Me,ut+(2*ct+0)*O)),Rt=Jn,on=Rn}1&yt||(jt=3*Rt+on+131074>>2,B(K[ne+yt-1],255&jt,jt>>16,st,De+(yt-1)*O),oe!=null&&(jt=3*on+Rt+131074>>2,B(oe[ce+yt-1],255&jt,jt>>16,Me,ut+(yt-1)*O)))}}function Qe(){cs[Oh]=xA,cs[ys]=xu,cs[Qh]=G0,cs[eo]=Kh,cs[Qd]=Bc,cs[pu]=sl,cs[Ec]=Tc,cs[Hd]=xu,cs[Hh]=Kh,cs[gu]=Bc,cs[Vh]=sl}function xt(w){return w&-16384?0>w?0:255:w>>qh}function Pt(w,B){return xt((19077*w>>8)+(26149*B>>8)-14234)}function Qt(w,B,O){return xt((19077*w>>8)-(6419*B>>8)-(13320*O>>8)+8708)}function Zt(w,B){return xt((19077*w>>8)+(33050*B>>8)-17685)}function bn(w,B,O,K,ne){K[ne+0]=Pt(w,O),K[ne+1]=Qt(w,B,O),K[ne+2]=Zt(w,B)}function Yn(w,B,O,K,ne){K[ne+0]=Zt(w,B),K[ne+1]=Qt(w,B,O),K[ne+2]=Pt(w,O)}function Xn(w,B,O,K,ne){var oe=Qt(w,B,O);B=oe<<3&224|Zt(w,B)>>3,K[ne+0]=248&Pt(w,O)|oe>>5,K[ne+1]=B}function rr(w,B,O,K,ne){var oe=240&Zt(w,B)|15;K[ne+0]=240&Pt(w,O)|Qt(w,B,O)>>4,K[ne+1]=oe}function $r(w,B,O,K,ne){K[ne+0]=255,bn(w,B,O,K,ne+1)}function Qr(w,B,O,K,ne){Yn(w,B,O,K,ne),K[ne+3]=255}function gs(w,B,O,K,ne){bn(w,B,O,K,ne),K[ne+3]=255}function Ia(w,B){return 0>w?0:w>B?B:w}function Rl(w,B,O){F[w]=function(K,ne,oe,ce,de,ge,Se,Le,$e){for(var qe=Le+(-2&$e)*O;Le!=qe;)B(K[ne+0],oe[ce+0],de[ge+0],Se,Le),B(K[ne+1],oe[ce+0],de[ge+0],Se,Le+O),ne+=2,++ce,++ge,Le+=2*O;1&$e&&B(K[ne+0],oe[ce+0],de[ge+0],Se,Le)}}function Lh(w,B,O){return O==0?w==0?B==0?6:5:B==0?4:0:O}function Au(w,B,O,K,ne){switch(w>>>30){case 3:bc(B,O,K,ne,0);break;case 2:Ml(B,O,K,ne);break;case 1:Ja(B,O,K,ne)}}function uu(w,B){var O,K,ne=B.M,oe=B.Nb,ce=w.oc,de=w.pc+40,ge=w.oc,Se=w.pc+584,Le=w.oc,$e=w.pc+600;for(O=0;16>O;++O)ce[de+32*O-1]=129;for(O=0;8>O;++O)ge[Se+32*O-1]=129,Le[$e+32*O-1]=129;for(0<ne?ce[de-1-32]=ge[Se-1-32]=Le[$e-1-32]=129:(i(ce,de-32-1,127,21),i(ge,Se-32-1,127,9),i(Le,$e-32-1,127,9)),K=0;K<w.za;++K){var qe=B.ya[B.aa+K];if(0<K){for(O=-1;16>O;++O)r(ce,de+32*O-4,ce,de+32*O+12,4);for(O=-1;8>O;++O)r(ge,Se+32*O-4,ge,Se+32*O+4,4),r(Le,$e+32*O-4,Le,$e+32*O+4,4)}var Oe=w.Gd,pt=w.Hd+K,st=qe.ad,De=qe.Hc;if(0<ne&&(r(ce,de-32,Oe[pt].y,0,16),r(ge,Se-32,Oe[pt].f,0,8),r(Le,$e-32,Oe[pt].ea,0,8)),qe.Za){var Me=ce,ut=de-32+16;for(0<ne&&(K>=w.za-1?i(Me,ut,Oe[pt].y[15],4):r(Me,ut,Oe[pt+1].y,0,4)),O=0;4>O;O++)Me[ut+128+O]=Me[ut+256+O]=Me[ut+384+O]=Me[ut+0+O];for(O=0;16>O;++O,De<<=2)Me=ce,ut=de+oi[O],Wr[qe.Ob[O]](Me,ut),Au(De,st,16*+O,Me,ut)}else if(Me=Lh(K,ne,qe.Ob[0]),Ps[Me](ce,de),De!=0)for(O=0;16>O;++O,De<<=2)Au(De,st,16*+O,ce,de+oi[O]);for(O=qe.Gc,Me=Lh(K,ne,qe.Dd),Do[Me](ge,Se),Do[Me](Le,$e),De=st,Me=ge,ut=Se,255&(qe=O>>0)&&(170&qe?tl(De,256,Me,ut):Ms(De,256,Me,ut)),qe=Le,De=$e,255&(O>>=8)&&(170&O?tl(st,320,qe,De):Ms(st,320,qe,De)),ne<w.Ub-1&&(r(Oe[pt].y,0,ce,de+480,16),r(Oe[pt].f,0,ge,Se+224,8),r(Oe[pt].ea,0,Le,$e+224,8)),O=8*oe*w.B,Oe=w.sa,pt=w.ta+16*K+16*oe*w.R,st=w.qa,qe=w.ra+8*K+O,De=w.Ha,Me=w.Ia+8*K+O,O=0;16>O;++O)r(Oe,pt+O*w.R,ce,de+32*O,16);for(O=0;8>O;++O)r(st,qe+O*w.B,ge,Se+32*O,8),r(De,Me+O*w.B,Le,$e+32*O,8)}}function el(w,B,O,K,ne,oe,ce,de,ge){var Se=[0],Le=[0],$e=0,qe=ge!=null?ge.kd:0,Oe=ge??new mc;if(w==null||12>O)return 7;Oe.data=w,Oe.w=B,Oe.ha=O,B=[B],O=[O],Oe.gb=[Oe.gb];e:{var pt=B,st=O,De=Oe.gb;if(e(w!=null),e(st!=null),e(De!=null),De[0]=0,12<=st[0]&&!t(w,pt[0],"RIFF")){if(t(w,pt[0]+8,"WEBP")){De=3;break e}var Me=We(w,pt[0]+4);if(12>Me||4294967286<Me){De=3;break e}if(qe&&Me>st[0]-8){De=7;break e}De[0]=Me,pt[0]+=12,st[0]-=12}De=0}if(De!=0)return De;for(Me=0<Oe.gb[0],O=O[0];;){e:{var ut=w;st=B,De=O;var yt=Se,ct=Le,Ot=pt=[0];if((jt=$e=[$e])[0]=0,8>De[0])De=7;else{if(!t(ut,st[0],"VP8X")){if(We(ut,st[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Rt=We(ut,st[0]+8),on=1+Pe(ut,st[0]+12);if(2147483648<=on*(ut=1+Pe(ut,st[0]+15))){De=3;break e}Ot!=null&&(Ot[0]=Rt),yt!=null&&(yt[0]=on),ct!=null&&(ct[0]=ut),st[0]+=18,De[0]-=18,jt[0]=1}De=0}}if($e=$e[0],pt=pt[0],De!=0)return De;if(st=!!(2&pt),!Me&&$e)return 3;if(oe!=null&&(oe[0]=!!(16&pt)),ce!=null&&(ce[0]=st),de!=null&&(de[0]=0),ce=Se[0],pt=Le[0],$e&&st&&ge==null){De=0;break}if(4>O){De=7;break}if(Me&&$e||!Me&&!$e&&!t(w,B[0],"ALPH")){O=[O],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Rt=w,De=B,Me=O;var jt=Oe.gb;yt=Oe.na,ct=Oe.P,Ot=Oe.Sa,on=22,e(Rt!=null),e(Me!=null),ut=De[0];var Jn=Me[0];for(e(yt!=null),e(Ot!=null),yt[0]=null,ct[0]=null,Ot[0]=0;;){if(De[0]=ut,Me[0]=Jn,8>Jn){De=7;break e}var Rn=We(Rt,ut+4);if(4294967286<Rn){De=3;break e}var Pn=8+Rn+1&-2;if(on+=Pn,0<jt&&on>jt){De=3;break e}if(!t(Rt,ut,"VP8 ")||!t(Rt,ut,"VP8L")){De=0;break e}if(Jn[0]<Pn){De=7;break e}t(Rt,ut,"ALPH")||(yt[0]=Rt,ct[0]=ut+8,Ot[0]=Rn),ut+=Pn,Jn-=Pn}}if(O=O[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],De!=0)break}O=[O],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(jt=w,De=B,Me=O,yt=Oe.gb[0],ct=Oe.Ja,Ot=Oe.xa,Rt=De[0],ut=!t(jt,Rt,"VP8 "),on=!t(jt,Rt,"VP8L"),e(jt!=null),e(Me!=null),e(ct!=null),e(Ot!=null),8>Me[0])De=7;else{if(ut||on){if(jt=We(jt,Rt+4),12<=yt&&jt>yt-12){De=3;break e}if(qe&&jt>Me[0]-8){De=7;break e}ct[0]=jt,De[0]+=8,Me[0]-=8,Ot[0]=on}else Ot[0]=5<=Me[0]&&jt[Rt+0]==47&&!(jt[Rt+4]>>5),ct[0]=Me[0];De=0}if(O=O[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],B=B[0],De!=0)break;if(4294967286<Oe.Ja)return 3;if(de==null||st||(de[0]=Oe.xa?2:1),ce=[ce],pt=[pt],Oe.xa){if(5>O){De=7;break}de=ce,qe=pt,st=oe,w==null||5>O?w=0:5<=O&&w[B+0]==47&&!(w[B+4]>>5)?(Me=[0],jt=[0],yt=[0],me(ct=new U,w,B,O),cn(ct,Me,jt,yt)?(de!=null&&(de[0]=Me[0]),qe!=null&&(qe[0]=jt[0]),st!=null&&(st[0]=yt[0]),w=1):w=0):w=0}else{if(10>O){De=7;break}de=pt,w==null||10>O||!Or(w,B+3,O-3)?w=0:(qe=w[B+0]|w[B+1]<<8|w[B+2]<<16,st=16383&(w[B+7]<<8|w[B+6]),w=16383&(w[B+9]<<8|w[B+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Oe.Ja||!st||!w?w=0:(ce&&(ce[0]=st),de&&(de[0]=w),w=1))}if(!w||(ce=ce[0],pt=pt[0],$e&&(Se[0]!=ce||Le[0]!=pt)))return 3;ge!=null&&(ge[0]=Oe,ge.offset=B-ge.w,e(4294967286>B-ge.w),e(ge.offset==ge.ha-O));break}return De==0||De==7&&$e&&ge==null?(oe!=null&&(oe[0]|=Oe.na!=null&&0<Oe.na.length),K!=null&&(K[0]=ce),ne!=null&&(ne[0]=pt),0):De}function Ll(w,B,O){var K=B.width,ne=B.height,oe=0,ce=0,de=K,ge=ne;if(B.Da=w!=null&&0<w.Da,B.Da&&(de=w.cd,ge=w.bd,oe=w.v,ce=w.j,11>O||(oe&=-2,ce&=-2),0>oe||0>ce||0>=de||0>=ge||oe+de>K||ce+ge>ne))return 0;if(B.v=oe,B.j=ce,B.va=oe+de,B.o=ce+ge,B.U=de,B.T=ge,B.da=w!=null&&0<w.da,B.da){if(!at(de,ge,O=[w.ib],oe=[w.hb]))return 0;B.ib=O[0],B.hb=oe[0]}return B.ob=w!=null&&w.ob,B.Kb=w==null||!w.Sd,B.da&&(B.ob=B.ib<3*K/4&&B.hb<3*ne/4,B.Kb=0),1}function Ld(w){if(w==null)return 2;if(11>w.S){var B=w.f.RGBA;B.fb+=(w.height-1)*B.A,B.A=-B.A}else B=w.f.kb,w=w.height,B.O+=(w-1)*B.fa,B.fa=-B.fa,B.N+=(w-1>>1)*B.Ab,B.Ab=-B.Ab,B.W+=(w-1>>1)*B.Db,B.Db=-B.Db,B.F!=null&&(B.J+=(w-1)*B.lb,B.lb=-B.lb);return 0}function Dl(w,B,O,K){if(K==null||0>=w||0>=B)return 2;if(O!=null){if(O.Da){var ne=O.cd,oe=O.bd,ce=-2&O.v,de=-2&O.j;if(0>ce||0>de||0>=ne||0>=oe||ce+ne>w||de+oe>B)return 2;w=ne,B=oe}if(O.da){if(!at(w,B,ne=[O.ib],oe=[O.hb]))return 2;w=ne[0],B=oe[0]}}K.width=w,K.height=B;e:{var ge=K.width,Se=K.height;if(w=K.S,0>=ge||0>=Se||!(w>=Oh&&13>w))w=2;else{if(0>=K.Rd&&K.sd==null){ce=oe=ne=B=0;var Le=(de=ge*Wh[w])*Se;if(11>w||(oe=(Se+1)/2*(B=(ge+1)/2),w==12&&(ce=(ne=ge)*Se)),(Se=s(Le+2*oe+ce))==null){w=1;break e}K.sd=Se,11>w?((ge=K.f.RGBA).eb=Se,ge.fb=0,ge.A=de,ge.size=Le):((ge=K.f.kb).y=Se,ge.O=0,ge.fa=de,ge.Fd=Le,ge.f=Se,ge.N=0+Le,ge.Ab=B,ge.Cd=oe,ge.ea=Se,ge.W=0+Le+oe,ge.Db=B,ge.Ed=oe,w==12&&(ge.F=Se,ge.J=0+Le+2*oe),ge.Tc=ce,ge.lb=ne)}if(B=1,ne=K.S,oe=K.width,ce=K.height,ne>=Oh&&13>ne)if(11>ne)w=K.f.RGBA,B&=(de=Math.abs(w.A))*(ce-1)+oe<=w.size,B&=de>=oe*Wh[ne],B&=w.eb!=null;else{w=K.f.kb,de=(oe+1)/2,Le=(ce+1)/2,ge=Math.abs(w.fa),Se=Math.abs(w.Ab);var $e=Math.abs(w.Db),qe=Math.abs(w.lb),Oe=qe*(ce-1)+oe;B&=ge*(ce-1)+oe<=w.Fd,B&=Se*(Le-1)+de<=w.Cd,B=(B&=$e*(Le-1)+de<=w.Ed)&ge>=oe&Se>=de&$e>=de,B&=w.y!=null,B&=w.f!=null,B&=w.ea!=null,ne==12&&(B&=qe>=oe,B&=Oe<=w.Tc,B&=w.F!=null)}else B=0;w=B?0:2}}return w!=0||O!=null&&O.fd&&(w=Ld(K)),w}var Ls=64,fA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yc=24,wc=32,du=8,Ds=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(w){return w},F.Predictor2=function(w,B,O){return B[O+0]},F.Predictor3=function(w,B,O){return B[O+1]},F.Predictor4=function(w,B,O){return B[O-1]},F.Predictor5=function(w,B,O){return Bt(Bt(w,B[O+1]),B[O+0])},F.Predictor6=function(w,B,O){return Bt(w,B[O-1])},F.Predictor7=function(w,B,O){return Bt(w,B[O+0])},F.Predictor8=function(w,B,O){return Bt(B[O-1],B[O+0])},F.Predictor9=function(w,B,O){return Bt(B[O+0],B[O+1])},F.Predictor10=function(w,B,O){return Bt(Bt(w,B[O-1]),Bt(B[O+0],B[O+1]))},F.Predictor11=function(w,B,O){var K=B[O+0];return 0>=ze(K>>24&255,w>>24&255,(B=B[O-1])>>24&255)+ze(K>>16&255,w>>16&255,B>>16&255)+ze(K>>8&255,w>>8&255,B>>8&255)+ze(255&K,255&w,255&B)?K:w},F.Predictor12=function(w,B,O){var K=B[O+0];return(Dt((w>>24&255)+(K>>24&255)-((B=B[O-1])>>24&255))<<24|Dt((w>>16&255)+(K>>16&255)-(B>>16&255))<<16|Dt((w>>8&255)+(K>>8&255)-(B>>8&255))<<8|Dt((255&w)+(255&K)-(255&B)))>>>0},F.Predictor13=function(w,B,O){var K=B[O-1];return(Ne((w=Bt(w,B[O+0]))>>24&255,K>>24&255)<<24|Ne(w>>16&255,K>>16&255)<<16|Ne(w>>8&255,K>>8&255)<<8|Ne(w>>0&255,K>>0&255))>>>0};var Dh=F.PredictorAdd0;F.PredictorAdd1=ft,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var Dd=F.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",(function(w){return w>>8&255}),(function(w){return w})),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(w){return w}),(function(w){return w>>8&255}));var jh,Uo=F.ColorIndexInverseTransform,jd=F.MapARGB,H0=F.VP8LColorIndexInverseTransformAlpha,js=F.MapAlpha,Ya=F.VP8LPredictorsAdd=[];Ya.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ka,Xa,jl,Ro,Lo,hu,ms,bc,Ml,tl,Ja,Ms,Za,_c,Cc,sa,fu,Fa,nl,Nr,Sr,ai,fi,rl,il,xs,pA,Ua,gA=s(511),Mh=s(2041),Md=s(225),Pd=s(767),Ph=0,Pl=Mh,Od=Md,vs=Pd,os=gA,Oh=0,ys=1,Qh=2,eo=3,Qd=4,pu=5,Ec=6,Hd=7,Hh=8,gu=9,Vh=10,to=[2,3,7],mu=[3,3,11],mA=[280,256,256,256,40],zh=[0,1,1,1,0],Vd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],no=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ro=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Nc=8,io=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],so=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ra=null,im=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sm=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ls=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ur=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Un=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ps=[],Wr=[],Do=[],Sc=1,z0=2,Ol=[],cs=[];Ie("UpsampleRgbLinePair",bn,3),Ie("UpsampleBgrLinePair",Yn,3),Ie("UpsampleRgbaLinePair",gs,4),Ie("UpsampleBgraLinePair",Qr,4),Ie("UpsampleArgbLinePair",$r,4),Ie("UpsampleRgba4444LinePair",rr,2),Ie("UpsampleRgb565LinePair",Xn,2);var xA=F.UpsampleRgbLinePair,G0=F.UpsampleBgrLinePair,xu=F.UpsampleRgbaLinePair,Kh=F.UpsampleBgraLinePair,Bc=F.UpsampleArgbLinePair,sl=F.UpsampleRgba4444LinePair,Tc=F.UpsampleRgb565LinePair,ao=16,vu=1<<ao-1,vA=-227,Ic=482,qh=6,kc=0,As=s(256),$h=s(256),am=s(256),my=s(256),xy=s(Ic-vA),vy=s(Ic-vA);Rl("YuvToRgbRow",bn,3),Rl("YuvToBgrRow",Yn,3),Rl("YuvToRgbaRow",gs,4),Rl("YuvToBgraRow",Qr,4),Rl("YuvToArgbRow",$r,4),Rl("YuvToRgba4444Row",rr,2),Rl("YuvToRgb565Row",Xn,2);var oi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yu=[0,2,8],zd=[8,7,6,4,4,2,2,2,1,1,1,1],Gd=1;this.WebPDecodeRGBA=function(w,B,O,K,ne){var oe=ys,ce=new Rs,de=new Kt;ce.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var ge=de.width,Se=de.height,Le=new an;if(Le==null||w==null)var $e=2;else e(Le!=null),$e=el(w,B,O,Le.width,Le.height,Le.Pd,Le.Qd,Le.format,null);if($e!=0?ge=0:(ge!=null&&(ge[0]=Le.width[0]),Se!=null&&(Se[0]=Le.height[0]),ge=1),ge){de.width=de.width[0],de.height=de.height[0],K!=null&&(K[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(K=new Ea,(ne=new mc).data=w,ne.w=B,ne.ha=O,ne.kd=1,B=[0],e(ne!=null),((w=el(ne.data,ne.w,ne.ha,null,null,null,B,null,ne))==0||w==7)&&B[0]&&(w=4),(B=w)==0){if(e(ce!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=ni,K.ac=jn,K.bc=Li,K.ma=ce,ne.xa){if((w=it())==null){ce=1;break e}if((function(qe,Oe){var pt=[0],st=[0],De=[0];t:for(;;){if(qe==null)return 0;if(Oe==null)return qe.a=2,0;if(qe.l=Oe,qe.a=0,me(qe.m,Oe.data,Oe.w,Oe.ha),!cn(qe.m,pt,st,De)){qe.a=3;break t}if(qe.xb=z0,Oe.width=pt[0],Oe.height=st[0],!Ke(pt[0],st[0],1,qe,null))break t;return 1}return e(qe.a!=0),0})(w,K)){if(K=(B=Dl(K.width,K.height,ce.Oa,ce.ba))==0){t:{K=w;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((O=K.l)!=null),e((ne=O.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,e(K.ca!=null),!Ll(ne.Oa,O,eo)){K.a=2;break n}if(!Xe(K,O.width)||O.da)break n;if((O.da||ln(K.ca.S))&&pe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&pe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!nt(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!Te(K,K.V,K.Ba,K.c,K.i,O.o,Be))break n;ne.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(B=w.a)}else B=w.a}else{if((w=new ji)==null){ce=1;break e}if(w.Fa=ne.na,w.P=ne.P,w.qc=ne.Sa,ri(w,K)){if((B=Dl(K.width,K.height,ce.Oa,ce.ba))==0){if(w.Aa=0,O=ce.Oa,e((ne=w)!=null),O!=null){if(0<(ge=0>(ge=O.Md)?0:100<ge?255:255*ge/100)){for(Se=Le=0;4>Se;++Se)12>($e=ne.pb[Se]).lc&&($e.ia=ge*zd[0>$e.lc?0:$e.lc]>>3),Le|=$e.ia;Le&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=O.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}er(w,K)||(B=w.a)}}else B=w.a}B==0&&ce.Oa!=null&&ce.Oa.fd&&(B=Ld(ce.ba))}ce=B}oe=ce!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var Wh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(F,M){for(var G="",L=0;L<4;L++)G+=String.fromCharCode(F[M++]);return G}function f(F,M){return(F[M+0]<<0|F[M+1]<<8|F[M+2]<<16)>>>0}function g(F,M){return(F[M+0]<<0|F[M+1]<<8|F[M+2]<<16|F[M+3]<<24)>>>0}new u;var m=[0],v=[0],C=[],_=new u,E=n,T=(function(F,M){var G={},L=0,Q=!1,j=0,re=0;if(G.frames=[],!(function(H,V,J,q){for(var te=0;te<q;te++)if(H[V+te]!=J.charCodeAt(te))return!0;return!1})(F,M,"RIFF",4)){var fe,ie;for(g(F,M+=4),M+=8;M<F.length;){var Ae=d(F,M),me=g(F,M+=4);M+=4;var _e=me+(1&me);switch(Ae){case"VP8 ":case"VP8L":G.frames[L]===void 0&&(G.frames[L]={}),(U=G.frames[L]).src_off=Q?re:M-8,U.src_size=j+me+8,L++,Q&&(Q=!1,j=0,re=0);break;case"VP8X":(U=G.header={}).feature_flags=F[M];var we=M+4;U.canvas_width=1+f(F,we),we+=3,U.canvas_height=1+f(F,we),we+=3;break;case"ALPH":Q=!0,j=_e+8,re=M-8;break;case"ANIM":(U=G.header).bgcolor=g(F,M),we=M+4,U.loop_count=(fe=F)[(ie=we)+0]<<0|fe[ie+1]<<8,we+=2;break;case"ANMF":var ee,U;(U=G.frames[L]={}).offset_x=2*f(F,M),M+=3,U.offset_y=2*f(F,M),M+=3,U.width=1+f(F,M),M+=3,U.height=1+f(F,M),M+=3,U.duration=f(F,M),M+=3,ee=F[M++],U.dispose=1&ee,U.blend=ee>>1&1}Ae!="ANMF"&&(M+=_e)}return G}})(E,0);T.response=E,T.rgbaoutput=!0,T.dataurl=!1;var k=T.header?T.header:null,P=T.frames?T.frames:null;if(k){k.loop_counter=k.loop_count,m=[k.canvas_height],v=[k.canvas_width];for(var z=0;z<P.length&&P[z].blend!=0;z++);}var Y=P[0],Z=_.WebPDecodeRGBA(E,Y.src_off,Y.src_size,v,m);Y.rgba=Z,Y.imgwidth=v[0],Y.imgheight=m[0];for(var R=0;R<v[0]*m[0]*4;R++)C[R]=Z[R];return this.width=v,this.height=m,this.data=C,this}(function(n){var e=function(){return typeof Lb=="function"},t=function(m,v,C,_){var E=4,T=o;switch(_){case n.image_compression.FAST:E=1,T=s;break;case n.image_compression.MEDIUM:E=6,T=c;break;case n.image_compression.SLOW:E=9,T=u}m=r(m,v,C,T);var k=Lb(m,{level:E});return n.__addimage__.arrayBufferToBinaryString(k)},r=function(m,v,C,_){for(var E,T,k,P=m.length/v,z=new Uint8Array(m.length+P),Y=f(),Z=0;Z<P;Z+=1){if(k=Z*v,E=m.subarray(k,k+v),_)z.set(_(E,C,T),k+Z);else{for(var R,F=Y.length,M=[];R<F;R+=1)M[R]=Y[R](E,C,T);var G=g(M.concat());z.set(M[G],k+Z)}T=E}return z},i=function(m){var v=Array.apply([],m);return v.unshift(0),v},s=function(m,v){var C,_=[],E=m.length;_[0]=1;for(var T=0;T<E;T+=1)C=m[T-v]||0,_[T+1]=m[T]-C+256&255;return _},o=function(m,v,C){var _,E=[],T=m.length;E[0]=2;for(var k=0;k<T;k+=1)_=C&&C[k]||0,E[k+1]=m[k]-_+256&255;return E},c=function(m,v,C){var _,E,T=[],k=m.length;T[0]=3;for(var P=0;P<k;P+=1)_=m[P-v]||0,E=C&&C[P]||0,T[P+1]=m[P]+256-(_+E>>>1)&255;return T},u=function(m,v,C){var _,E,T,k,P=[],z=m.length;P[0]=4;for(var Y=0;Y<z;Y+=1)_=m[Y-v]||0,E=C&&C[Y]||0,T=C&&C[Y-v]||0,k=d(_,E,T),P[Y+1]=m[Y]-k+256&255;return P},d=function(m,v,C){if(m===v&&v===C)return m;var _=Math.abs(v-C),E=Math.abs(m-C),T=Math.abs(m+v-C-C);return _<=E&&_<=T?m:E<=T?v:C},f=function(){return[i,s,o,c,u]},g=function(m){var v=m.map((function(C){return C.reduce((function(_,E){return _+Math.abs(E)}),0)}));return v.indexOf(Math.min.apply(null,v))};n.processPNG=function(m,v,C,_){var E,T,k,P,z,Y,Z,R,F,M,G,L,Q,j,re,fe=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(k=new fae(m)).imgData,T=k.bits,E=k.colorSpace,z=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){F=(R=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,G=new Uint8Array(F*k.colors),M=new Uint8Array(F);var Ae,me=k.pixelBitlength-k.bits;for(j=0,re=0;j<F;j++){for(Q=R[j],Ae=0;Ae<me;)G[re++]=Q>>>Ae&255,Ae+=k.bits;M[j]=Q>>>Ae&255}}if(k.bits===16){F=(R=new Uint32Array(k.decodePixels().buffer)).length,G=new Uint8Array(F*(32/k.pixelBitlength)*k.colors),M=new Uint8Array(F*(32/k.pixelBitlength)),L=k.colors>1,j=0,re=0;for(var _e=0;j<F;)Q=R[j++],G[re++]=Q>>>0&255,L&&(G[re++]=Q>>>16&255,Q=R[j++],G[re++]=Q>>>0&255),M[_e++]=Q>>>16&255;T=8}_!==n.image_compression.NONE&&e()?(m=t(G,k.width*k.colors,k.colors,_),Z=t(M,k.width,1,_)):(m=G,Z=M,fe=void 0)}if(k.colorType===3&&(E=this.color_spaces.INDEXED,Y=k.palette,k.transparency.indexed)){var we=k.transparency.indexed,ee=0;for(j=0,F=we.length;j<F;++j)ee+=we[j];if((ee/=255)===F-1&&we.indexOf(0)!==-1)P=[we.indexOf(0)];else if(ee!==F){for(R=k.decodePixels(),M=new Uint8Array(R.length),j=0,F=R.length;j<F;j++)M[j]=we[R[j]];Z=t(M,k.width,1)}}var U=(function(H){var V;switch(H){case n.image_compression.FAST:V=11;break;case n.image_compression.MEDIUM:V=13;break;case n.image_compression.SLOW:V=14;break;default:V=12}return V})(_);return fe===this.decode.FLATE_DECODE&&(ie="/Predictor "+U+" "),ie+="/Colors "+z+" /BitsPerComponent "+T+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:C,data:m,index:v,filter:fe,decodeParameters:ie,transparency:P,palette:Y,sMask:Z,predictor:U,width:k.width,height:k.height,bitsPerComponent:T,colorSpace:E}}}})(xn.API),(function(n){n.processGIF89A=function(e,t,r,i){var s=new pae(e),o=s.width,c=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:o,height:c},f=new pw(100).encode(d,100);return n.processJPEG.call(this,f,t,r,i)},n.processGIF87A=n.processGIF89A})(xn.API),Xl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xl.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Dr.log("bit decode error:"+t)}},Xl.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var u=this.palette[s>>7-c&1];this.data[o+4*c]=u.blue,this.data[o+4*c+1]=u.green,this.data[o+4*c+2]=u.red,this.data[o+4*c+3]=255}t!==0&&(this.pos+=4-t)}},Xl.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,c=s>>4,u=15&s,d=this.palette[c];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[u],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Xl.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Xl.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,d=s>>15?255:0,f=r*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=d}this.pos+=n}},Xl.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&t)/t*255|0,d=(o>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=d,this.data[f+1]=u,this.data[f+2]=c,this.data[f+3]=255}this.pos+=n}},Xl.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Xl.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=s,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=o}},Xl.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new Xl(e,!1),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new pw(100).encode(u,100);return n.processJPEG.call(this,d,t,r,i)}})(xn.API),ZT.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new ZT(e),o=s.width,c=s.height,u={data:s.getData(),width:o,height:c},d=new pw(100).encode(u,100);return n.processJPEG.call(this,d,t,r,i)}})(xn.API),xn.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,u=0,d=0;d<i;d+=4){var f=r[d],g=r[d+1],m=r[d+2],v=r[d+3];s[c++]=f,s[c++]=g,s[c++]=m,o[u++]=v}var C=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:C,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},xn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},bf=xn.API,gx=bf.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,u=c.fof?c.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=d.fof?d.fof:1,g=e.doKerning!==!1,m=0,v=n.length,C=0,_=c[0]||u,E=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=g&&_r(d[r])==="object"&&!isNaN(parseInt(d[r][C],10))?d[r][C]/f:0,E.push((c[r]||_)/u+m)),C=r;return E},WT=bf.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return bf.processArabic&&(n=bf.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:gx.apply(this,arguments).reduce((function(s,o){return s+o}),0)},YT=function(n,e,t,r){for(var i=[],s=0,o=n.length,c=0;s!==o&&c+e[s]<t;)c+=e[s],s++;i.push(n.slice(0,s));var u=s;for(c=0;s!==o;)c+e[s]>r&&(i.push(n.slice(u,s)),c=0,u=s),c+=e[s],s++;return u!==s&&i.push(n.slice(u,s)),i},XT=function(n,e,t){t||(t={});var r,i,s,o,c,u,d,f=[],g=[f],m=t.textIndent||0,v=0,C=0,_=n.split(" "),E=gx.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?_[0].length+2:t.lineIndent||0){var T=Array(u).join(" "),k=[];_.map((function(z){(z=z.split(/\s*\n/)).length>1?k=k.concat(z.map((function(Y,Z){return(Z&&Y.length?`
`:"")+Y}))):k.push(z[0])})),_=k,u=WT.apply(this,[T,t])}for(s=0,o=_.length;s<o;s++){var P=0;if(r=_[s],u&&r[0]==`
`&&(r=r.substr(1),P=1),m+v+(C=(i=gx.apply(this,[r,t])).reduce((function(z,Y){return z+Y}),0))>e||P){if(C>e){for(c=YT.apply(this,[r,i,e-(m+v),e]),f.push(c.shift()),f=[c.pop()];c.length;)g.push([c.shift()]);C=i.slice(r.length-(f[0]?f[0].length:0)).reduce((function(z,Y){return z+Y}),0)}else f=[r];g.push(f),m=C+u,v=E}else f.push(r),m+=v+C,v=E}return d=u?function(z,Y){return(Y?T:"")+z.join(" ")}:function(z){return z.join(" ")},g.map(d)},bf.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var g=this.internal.getFont(f.fontName,f.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var c,u,d=[];for(c=0,u=r.length;c<u;c++)d=d.concat(XT.apply(this,[r[c],o,s]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=n.__fontmetrics__.compress=function(g){var m,v,C,_,E=["{"];for(var T in g){if(m=g[T],isNaN(parseInt(T,10))?v="'"+T+"'":(T=parseInt(T,10),v=(v=s(T).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof m=="number")m<0?(C=s(m).slice(3),_="-"):(C=s(m).slice(2),_=""),C=_+C.slice(0,-1)+r[C.slice(-1)];else{if(_r(m)!=="object")throw new Error("Don't know what to do with value type "+_r(m)+".");C=o(m)}E.push(v+C)}return E.push("}"),E.join("")},c=n.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,v,C,_,E={},T=1,k=E,P=[],z="",Y="",Z=g.length-1,R=1;R<Z;R+=1)(_=g[R])=="'"?m?(C=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(P.push([k,C]),k={},C=void 0):_=="}"?((v=P.pop())[0][v[1]]=k,C=void 0,k=v[0]):_=="-"?T=-1:C===void 0?t.hasOwnProperty(_)?(z+=t[_],C=parseInt(z,16)*T,T=1,z=""):z+=_:t.hasOwnProperty(_)?(Y+=t[_],k[C]=parseInt(Y,16)*T,T=1,C=void 0,Y=""):Y+=_;return E},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(g){var m=g.font,v=f.Unicode[m.postScriptName];v&&(m.metadata.Unicode={},m.metadata.Unicode.widths=v.widths,m.metadata.Unicode.kerning=v.kerning);var C=d.Unicode[m.postScriptName];C&&(m.metadata.Unicode.encoding=C,m.encoding=C.codePages[0])}])})(xn.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(sg(c)),o.metadata=n.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(xn),(function(n){function e(){return(vn.canvg?Promise.resolve(vn.canvg):Tb(()=>import("./index.es-gUJwkByu.js"),[])).catch((function(t){return Promise.reject(new Error("Could not load canvg: "+t))})).then((function(t){return t.default?t.default:t}))}xn.API.addSvgAsImage=function(t,r,i,s,o,c,u,d){if(isNaN(r)||isNaN(i))throw Dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=s,f.height=o;var g=f.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then((function(C){return C.fromString(g,t,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(C){return C.render(m)})).then((function(){v.addImage(f.toDataURL("image/jpeg",1),r,i,s,o,u,d)}))}})(),xn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},xn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),u=[],d=0,f=0,g=0;function m(C,_){var E,T=!1;for(E=0;E<C.length;E+=1)C[E]===_&&(T=!0);return T}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=c.length;for(g=0;g<v;g+=1)t[c[g]].value=t[c[g]].defaultValue,t[c[g]].explicitSet=!1}if(_r(n)==="object"){for(i in n)if(s=n[i],m(c,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&m(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")u.push(String(s[d]-1));else if(s[d].length>1){for(f=0;f<s[d].length;f+=1)typeof s[d][f]!="number"&&(r=!1);r===!0&&u.push([s[d][0]-1,s[d][1]-1].join(" "))}t[i].value="["+u.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var C,_=[];for(C in t)t[C].explicitSet===!0&&(t[C].type==="name"?_.push("/"+C+" /"+t[C].value):_.push("/"+C+" "+t[C].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+c.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+c+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(xn.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,o){for(var c,u=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],g=0,m=s.length;g<m;++g){if(c=o.metadata.characterToGlyph(s.charCodeAt(g)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(g),u.indexOf(c)==-1&&(u.push(c),u.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(d[4-c.length],c)}return f.join("")},r=function(s){var o,c,u,d,f,g,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],g=0,m=(c=Object.keys(s).sort((function(v,C){return v-C}))).length;g<m;g++)o=c[g],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+d+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var g=c.metadata.Unicode.widths,m=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",C=0;C<m.length;C++)v+=String.fromCharCode(m[C]);var _=d();f({data:v,addLength1:!0,objectId:_}),u("endobj");var E=d();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var T=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+jf(c.fontName)),u("/FontFile2 "+_+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/Flags "+c.metadata.flags),u("/StemV "+c.metadata.stemV),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u(">>"),u("endobj");var k=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+jf(c.fontName)),u("/FontDescriptor "+T+" 0 R"),u("/W "+n.API.PDFObject.convert(g)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+c.encoding+")"),u(">>"),u(">>"),u("endobj"),c.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+E+" 0 R"),u("/BaseFont /"+jf(c.fontName)),u("/Encoding /"+c.encoding),u("/DescendantFonts ["+k+" 0 R]"),u(">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var c=o.font,u=o.out,d=o.newObject,f=o.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var g=c.metadata.rawData,m="",v=0;v<g.length;v++)m+=String.fromCharCode(g[v]);var C=d();f({data:m,addLength1:!0,objectId:C}),u("endobj");var _=d();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:_}),u("endobj");var E=d();u("<<"),u("/Descent "+c.metadata.decender),u("/CapHeight "+c.metadata.capHeight),u("/StemV "+c.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+C+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),u("/FontName /"+jf(c.fontName)),u("/ItalicAngle "+c.metadata.italicAngle),u("/Ascent "+c.metadata.ascender),u(">>"),u("endobj"),c.objectNumber=d();for(var T=0;T<c.metadata.hmtx.widths.length;T++)c.metadata.hmtx.widths[T]=parseInt(c.metadata.hmtx.widths[T]*(1e3/c.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+jf(c.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),u("endobj"),c.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,c=s.text||"",u=s.x,d=s.y,f=s.options||{},g=s.mutex||{},m=g.pdfEscape,v=g.activeFontKey,C=g.fonts,_=v,E="",T=0,k="",P=C[_].encoding;if(C[_].encoding!=="Identity-H")return{text:c,x:u,y:d,options:f,mutex:g};for(k=c,_=v,Array.isArray(c)&&(k=c[0]),T=0;T<k.length;T+=1)C[_].metadata.hasOwnProperty("cmap")&&(o=C[_].metadata.cmap.unicode.codeMap[k[T].charCodeAt(0)]),o||k[T].charCodeAt(0)<256&&C[_].metadata.hasOwnProperty("Unicode")?E+=k[T]:E+="";var z="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?z=m(E,_).split("").map((function(Y){return Y.charCodeAt(0).toString(16)})).join(""):P==="Identity-H"&&(z=t(E,C[_])),g.isHex=!0,{text:z,x:u,y:d,options:f,mutex:g}};e.events.push(["postProcessText",function(s){var o=s.text||"",c=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?c.push([i(Object.assign({},u,{text:o[d][0]})).text,o[d][1],o[d][2]]):c.push(i(Object.assign({},u,{text:o[d]})).text);s.text=c}else s.text=i(Object.assign({},u,{text:o})).text}])})(xn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(xn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,o,c,u,d,f,g=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],T=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,P=0;this.__bidiEngine__={};var z=function(L){var Q=L.charCodeAt(),j=Q>>8,re=_[j];return re!==void 0?g[256*re+(255&Q)]:j===252||j===253?"AL":T.test(j)?"L":j===8?"R":"N"},Y=function(L){for(var Q,j=0;j<L.length;j++){if((Q=z(L.charAt(j)))==="L")return!1;if(Q==="R")return!0}return!1},Z=function(L,Q,j,re){var fe,ie,Ae,me,_e=Q[re];switch(_e){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(_e="AN");break;case"AL":k=!0,_e="R";break;case"WS":_e="N";break;case"CS":re<1||re+1>=Q.length||(fe=j[re-1])!=="EN"&&fe!=="AN"||(ie=Q[re+1])!=="EN"&&ie!=="AN"?_e="N":k&&(ie="AN"),_e=ie===fe?ie:"N";break;case"ES":_e=(fe=re>0?j[re-1]:"B")==="EN"&&re+1<Q.length&&Q[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&j[re-1]==="EN"){_e="EN";break}if(k){_e="N";break}for(Ae=re+1,me=Q.length;Ae<me&&Q[Ae]==="ET";)Ae++;_e=Ae<me&&Q[Ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(me=Q.length,Ae=re+1;Ae<me&&Q[Ae]==="NSM";)Ae++;if(Ae<me){var we=L[re],ee=we>=1425&&we<=2303||we===64286;if(fe=Q[Ae],ee&&(fe==="R"||fe==="AL")){_e="R";break}}}_e=re<1||(fe=Q[re-1])==="B"?"N":j[re-1];break;case"B":k=!1,i=!0,_e=P;break;case"S":s=!0,_e="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":_e="N"}return _e},R=function(L,Q,j){var re=L.split("");return j&&F(re,j,{hiLevel:P}),re.reverse(),Q&&Q.reverse(),re.join("")},F=function(L,Q,j){var re,fe,ie,Ae,me,_e=-1,we=L.length,ee=0,U=[],H=P?v:m,V=[];for(k=!1,i=!1,s=!1,fe=0;fe<we;fe++)V[fe]=z(L[fe]);for(ie=0;ie<we;ie++){if(me=ee,U[ie]=Z(L,V,U,ie),re=240&(ee=H[me][C[U[ie]]]),ee&=15,Q[ie]=Ae=H[ee][5],re>0)if(re===16){for(fe=_e;fe<ie;fe++)Q[fe]=1;_e=-1}else _e=-1;if(H[ee][6])_e===-1&&(_e=ie);else if(_e>-1){for(fe=_e;fe<ie;fe++)Q[fe]=Ae;_e=-1}V[ie]==="B"&&(Q[ie]=0),j.hiLevel|=Ae}s&&(function(J,q,te){for(var xe=0;xe<te;xe++)if(J[xe]==="S"){q[xe]=P;for(var ue=xe-1;ue>=0&&J[ue]==="WS";ue--)q[ue]=P}})(V,Q,we)},M=function(L,Q,j,re,fe){if(!(fe.hiLevel<L)){if(L===1&&P===1&&!i)return Q.reverse(),void(j&&j.reverse());for(var ie,Ae,me,_e,we=Q.length,ee=0;ee<we;){if(re[ee]>=L){for(me=ee+1;me<we&&re[me]>=L;)me++;for(_e=ee,Ae=me-1;_e<Ae;_e++,Ae--)ie=Q[_e],Q[_e]=Q[Ae],Q[Ae]=ie,j&&(ie=j[_e],j[_e]=j[Ae],j[Ae]=ie);ee=me}ee++}}},G=function(L,Q,j){var re=L.split(""),fe={hiLevel:P};return j||(j=[]),F(re,j,fe),(function(ie,Ae,me){if(me.hiLevel!==0&&f)for(var _e,we=0;we<ie.length;we++)Ae[we]===1&&(_e=E.indexOf(ie[we]))>=0&&(ie[we]=E[_e+1])})(re,j,fe),M(2,re,Q,j,fe),M(1,re,Q,j,fe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(L,Q,j){if((function(fe,ie){if(ie)for(var Ae=0;Ae<fe.length;Ae++)ie[Ae]=Ae;c===void 0&&(c=Y(fe)),d===void 0&&(d=Y(fe))})(L,Q),o||!u||d)if(o&&u&&c^d)P=c?1:0,L=R(L,Q,j);else if(!o&&u&&d)P=c?1:0,L=G(L,Q,j),L=R(L,Q);else if(!o||c||u||d){if(o&&!u&&c^d)L=R(L,Q),c?(P=0,L=G(L,Q,j)):(P=1,L=G(L,Q,j),L=R(L,Q));else if(o&&c&&!u&&d)P=1,L=G(L,Q,j),L=R(L,Q);else if(!o&&!u&&c^d){var re=f;c?(P=1,L=G(L,Q,j),P=0,f=!1,L=G(L,Q,j),f=re):(P=0,L=G(L,Q,j),L=R(L,Q),P=1,f=!1,L=G(L,Q,j),f=re,L=R(L,Q))}}else P=0,L=G(L,Q,j);else P=c?1:0,L=G(L,Q,j);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,u=L.isOutputVisual,c=L.isInputRtl,d=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(o=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?o.push([t.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([t.doBidiReorder(i[c])]);r.text=o}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(xn),xn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Ed(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Iae(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new gae(this.contents),this.head=new xae(this),this.name=new _ae(this),this.cmap=new WR(this),this.toUnicode={},this.hhea=new vae(this),this.maxp=new Cae(this),this.hmtx=new Eae(this),this.post=new wae(this),this.os2=new yae(this),this.loca=new Tae(this),this.glyf=new Nae(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,u,d;for(d=[],o=0,c=(u=this.bbox).length;o<c;o++)e=u[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,o,c;for(o=0,s=0,c=(e=""+e).length;0<=c?s<c:s>c;s=0<=c?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return o*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Ac,Ed=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,o,c,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*o+256*c+u},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),gae=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,o,c,u,d,f,g,m,v,C,_;for(_ in v=Object.keys(t).length,u=Math.log(2),g=16*Math.floor(Math.log(v)/u),o=Math.floor(g/u),f=16*v-g,(i=new Ed).writeInt(this.scalarType),i.writeShort(v),i.writeShort(g),i.writeShort(o),i.writeShort(f),s=16*v,d=i.pos+s,c=null,C=[],t)for(m=t[_],i.writeString(_),i.writeInt(n(m)),i.writeInt(d),i.writeInt(m.length),C=C.concat(m),_==="head"&&(c=d),d+=m.length;d%4;)C.push(0),d++;return i.write(C),r=2981146554-n(i.data),i.pos=c+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,o;for(t=YR.call(t);t.length%4;)t.push(0);for(s=new Ed(t),i=0,r=0,o=t.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),mae={}.hasOwnProperty,iA=function(n,e){for(var t in e)mae.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Ac=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var xae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ed).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),e3=(function(){function n(e,t){var r,i,s,o,c,u,d,f,g,m,v,C,_,E,T,k,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(v=e.readUInt16(),m=v/2,e.pos+=6,s=(function(){var z,Y;for(Y=[],u=z=0;0<=m?z<m:z>m;u=0<=m?++z:--z)Y.push(e.readUInt16());return Y})(),e.pos+=2,_=(function(){var z,Y;for(Y=[],u=z=0;0<=m?z<m:z>m;u=0<=m?++z:--z)Y.push(e.readUInt16());return Y})(),d=(function(){var z,Y;for(Y=[],u=z=0;0<=m?z<m:z>m;u=0<=m?++z:--z)Y.push(e.readUInt16());return Y})(),f=(function(){var z,Y;for(Y=[],u=z=0;0<=m?z<m:z>m;u=0<=m?++z:--z)Y.push(e.readUInt16());return Y})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var z,Y;for(Y=[],u=z=0;0<=i?z<i:z>i;u=0<=i?++z:--z)Y.push(e.readUInt16());return Y})(),u=T=0,P=s.length;T<P;u=++T)for(E=s[u],r=k=C=_[u];C<=E?k<=E:k>=E;r=C<=E?++k:--k)f[u]===0?o=r+d[u]:(o=c[f[u]/2+(r-C)-(m-u)]||0)!==0&&(o+=d[u]),this.codeMap[r]=65535&o}e.pos=g}return n.encode=function(e,t){var r,i,s,o,c,u,d,f,g,m,v,C,_,E,T,k,P,z,Y,Z,R,F,M,G,L,Q,j,re,fe,ie,Ae,me,_e,we,ee,U,H,V,J,q,te,xe,ue,be,Ve,Pe;switch(re=new Ed,o=Object.keys(e).sort((function(We,nt){return We-nt})),t){case"macroman":for(_=0,E=(function(){var We=[];for(C=0;C<256;++C)We.push(0);return We})(),k={0:0},s={},fe=0,_e=o.length;fe<_e;fe++)k[ue=e[i=o[fe]]]==null&&(k[ue]=++_),s[i]={old:e[i],new:k[e[i]]},E[i]=k[e[i]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(E),{charMap:s,subtable:re.data,maxGlyphID:_+1};case"unicode":for(Q=[],g=[],P=0,k={},r={},T=d=null,ie=0,we=o.length;ie<we;ie++)k[Y=e[i=o[ie]]]==null&&(k[Y]=++P),r[i]={old:Y,new:k[Y]},c=k[Y]-i,T!=null&&c===d||(T&&g.push(T),Q.push(i),d=c),T=i;for(T&&g.push(T),g.push(65535),Q.push(65535),G=2*(M=Q.length),F=2*Math.pow(Math.log(M)/Math.LN2,2),m=Math.log(F/2)/Math.LN2,R=2*M-F,u=[],Z=[],v=[],C=Ae=0,ee=Q.length;Ae<ee;C=++Ae){if(L=Q[C],f=g[C],L===65535){u.push(0),Z.push(0);break}if(L-(j=r[L].new)>=32768)for(u.push(0),Z.push(2*(v.length+M-C)),i=me=L;L<=f?me<=f:me>=f;i=L<=f?++me:--me)v.push(r[i].new);else u.push(j-L),Z.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*M+2*v.length),re.writeUInt16(0),re.writeUInt16(G),re.writeUInt16(F),re.writeUInt16(m),re.writeUInt16(R),te=0,U=g.length;te<U;te++)i=g[te],re.writeUInt16(i);for(re.writeUInt16(0),xe=0,H=Q.length;xe<H;xe++)i=Q[xe],re.writeUInt16(i);for(be=0,V=u.length;be<V;be++)c=u[be],re.writeUInt16(c);for(Ve=0,J=Z.length;Ve<J;Ve++)z=Z[Ve],re.writeUInt16(z);for(Pe=0,q=v.length;Pe<q;Pe++)_=v[Pe],re.writeUInt16(_);return{charMap:r,subtable:re.data,maxGlyphID:P+1}}},n})(),WR=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new e3(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,s;return r==null&&(r="macroman"),i=e3.encode(t,r),(s=new Ed).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e})(),vae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),yae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i})(),this.charRange=(function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),wae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var o;for(i=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var c,u,d;for(d=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e})(),bae=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_ae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,s,o,c,u,d,f,g,m,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},o=g=0,m=i.length;g<m;o=++g)s=i[o],t.pos=s.offset,f=t.readString(s.length),c=new bae(f,s),d[v=s.nameID]==null&&(d[v]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),Cae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Eae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,s,o,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,g;for(g=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)g.push(t.readInt16());return g})(),this.widths=(function(){var f,g,m,v;for(v=[],f=0,g=(m=this.metrics).length;f<g;f++)o=m[f],v.push(o.advance);return v}).call(this),i=this.widths[this.widths.length-1],d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),YR=[].slice,Nae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,s,o,c,u,d,f,g,m;return t in this.cache?this.cache[t]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(t),(s=o.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,c=(u=new Ed(r.read(s))).readShort(),f=u.readShort(),m=u.readShort(),d=u.readShort(),g=u.readShort(),this.cache[t]=c===-1?new Bae(u,f,m,d,g):new Sae(u,c,f,m,d,g),this.cache[t]))},e.prototype.encode=function(t,r,i){var s,o,c,u,d;for(c=[],o=[],u=0,d=r.length;u<d;u++)s=t[r[u]],o.push(c.length),s&&(c=c.concat(s.encode(i)));return o.push(c.length),{table:c,offsets:o}},e})(),Sae=(function(){function n(e,t,r,i,s,o){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),Bae=(function(){function n(e,t,r,i,s){var o,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Ed(YR.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),Tae=(function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return iA(e,Ac),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(t.readUInt32());return o}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<i.length;++c)if(i[c]=s,o<r.length&&r[o]==c){++o,i[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var f=new Array(4*i.length),g=0;g<i.length;++g)f[4*g+3]=255&i[g],f[4*g+2]=(65280&i[g])>>8,f[4*g+1]=(16711680&i[g])>>16,f[4*g]=(4278190080&i[g])>>24;return f},e})(),Iae=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,o,c,u;for(i={},o=0,c=e.length;o<c;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in u=this.glyphsFor(t))r=u[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,o,c,u,d,f,g,m,v,C,_,E,T;for(i in r=WR.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),v={0:0},T=r.charMap)v[(u=T[i]).old]=u.new;for(C in m=r.maxGlyphID,o)C in v||(v[C]=m++);return f=(function(k){var P,z;for(P in z={},k)z[k[P]]=P;return z})(v),g=Object.keys(f).sort((function(k,P){return k-P})),_=(function(){var k,P,z;for(z=[],k=0,P=g.length;k<P;k++)c=g[k],z.push(f[c]);return z})(),s=this.font.glyf.encode(o,_,v),d=this.font.loca.encode(s.offsets,_),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},n})();xn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,o;if(Array.isArray(t))return"["+(function(){var c,u,d;for(d=[],c=0,u=t.length;c<u;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)o=t[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+t},e})();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hb=function(n,e){return Hb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},Hb(n,e)};function uc(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hb(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Vb=function(){return Vb=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Vb.apply(this,arguments)};function Pa(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(f){try{d(r.next(f))}catch(g){o(g)}}function u(f){try{d(r.throw(f))}catch(g){o(g)}}function d(f){f.done?s(f.value):i(f.value).then(c,u)}d((r=r.apply(n,[])).next())})}function fa(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(d){return function(f){return u([d,f])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,i=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){t.label=d[1];break}if(d[0]===6&&t.label<s[1]){t.label=s[1],s=d;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(d);break}s[2]&&t.ops.pop(),t.trys.pop();continue}d=e.call(n,t)}catch(f){d=[6,f],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function mx(n,e,t){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||e)}var tu=(function(){function n(e,t,r,i){this.left=e,this.top=t,this.width=r,this.height=i}return n.prototype.add=function(e,t,r,i){return new n(this.left+e,this.top+t,this.width+r,this.height+i)},n.fromClientRect=function(e,t){return new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},n.fromDOMRectList=function(e,t){var r=Array.from(t).find(function(i){return i.width!==0});return r?new n(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),oy=function(n,e){return tu.fromClientRect(n,e.getBoundingClientRect())},kae=function(n){var e=n.body,t=n.documentElement;if(!e||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),i=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new tu(0,0,r,i)},ly=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},Bi=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},t3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xx=0;xx<t3.length;xx++)Fae[t3.charCodeAt(xx)]=xx;var n3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Op=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vx=0;vx<n3.length;vx++)Op[n3.charCodeAt(vx)]=vx;var Uae=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,c,u;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<t;r+=4)s=Op[n.charCodeAt(r)],o=Op[n.charCodeAt(r+1)],c=Op[n.charCodeAt(r+2)],u=Op[n.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|c>>2,f[i++]=(c&3)<<6|u&63;return d},Rae=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},Lae=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},uh=5,J_=11,gw=2,Dae=J_-uh,XR=65536>>uh,jae=1<<uh,mw=jae-1,Mae=1024>>uh,Pae=XR+Mae,Oae=Pae,Qae=32,Hae=Oae+Qae,Vae=65536>>J_,zae=1<<Dae,Gae=zae-1,r3=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},Kae=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},qae=function(n,e){var t=Uae(n),r=Array.isArray(t)?Lae(t):new Uint32Array(t),i=Array.isArray(t)?Rae(t):new Uint16Array(t),s=24,o=r3(i,s/2,r[4]/2),c=r[5]===2?r3(i,(s+r[4])/2):Kae(r,Math.ceil((s+r[4])/4));return new $ae(r[0],r[1],r[2],r[3],o,c)},$ae=(function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>uh],t=(t<<gw)+(e&mw),this.data[t];if(e<=65535)return t=this.index[XR+(e-55296>>uh)],t=(t<<gw)+(e&mw),this.data[t];if(e<this.highStart)return t=Hae-Vae+(e>>J_),t=this.index[t],t+=e>>uh&Gae,t=this.index[t],t=(t<<gw)+(e&mw),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),i3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wae=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yx=0;yx<i3.length;yx++)Wae[i3.charCodeAt(yx)]=yx;var Yae="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",s3=50,Xae=1,JR=2,ZR=3,Jae=4,Zae=5,a3=7,eL=8,o3=9,ed=10,zb=11,l3=12,Gb=13,eoe=14,Qp=15,Kb=16,wx=17,Bp=18,toe=19,c3=20,qb=21,Tp=22,xw=23,_f=24,Qo=25,Hp=26,Vp=27,Cf=28,noe=29,ih=30,roe=31,bx=32,_x=33,$b=34,Wb=35,Yb=36,Fg=37,Xb=38,r1=39,i1=40,vw=41,tL=42,ioe=43,soe=[9001,65288],nL="!",Hn="",Cx="",Jb=qae(Yae),LA=[ih,Yb],Zb=[Xae,JR,ZR,Zae],rL=[ed,eL],A3=[Vp,Hp],aoe=Zb.concat(rL),u3=[Xb,r1,i1,$b,Wb],ooe=[Qp,Gb],loe=function(n,e){e===void 0&&(e="strict");var t=[],r=[],i=[];return n.forEach(function(s,o){var c=Jb.get(s);if(c>s3?(i.push(!0),c-=s3):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),t.push(Kb);if(c===Jae||c===zb){if(o===0)return r.push(o),t.push(ih);var u=t[o-1];return aoe.indexOf(u)===-1?(r.push(r[o-1]),t.push(u)):(r.push(o),t.push(ih))}if(r.push(o),c===roe)return t.push(e==="strict"?qb:Fg);if(c===tL||c===noe)return t.push(ih);if(c===ioe)return s>=131072&&s<=196605||s>=196608&&s<=262141?t.push(Fg):t.push(ih);t.push(c)}),[r,t,i]},yw=function(n,e,t,r){var i=r[t];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var s=t;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==ed)break}if(i===ed)for(var s=t;s>0;){s--;var c=r[s];if(Array.isArray(n)?n.indexOf(c)!==-1:n===c)for(var u=t;u<=r.length;){u++;var o=r[u];if(o===e)return!0;if(o!==ed)break}if(c!==ed)break}return!1},d3=function(n,e){for(var t=n;t>=0;){var r=e[t];if(r===ed)t--;else return r}return 0},coe=function(n,e,t,r,i){if(t[r]===0)return Hn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Hn;var o=s-1,c=s+1,u=e[s],d=o>=0?e[o]:0,f=e[c];if(u===JR&&f===ZR)return Hn;if(Zb.indexOf(u)!==-1)return nL;if(Zb.indexOf(f)!==-1||rL.indexOf(f)!==-1)return Hn;if(d3(s,e)===eL)return Cx;if(Jb.get(n[s])===zb||(u===bx||u===_x)&&Jb.get(n[c])===zb||u===a3||f===a3||u===o3||[ed,Gb,Qp].indexOf(u)===-1&&f===o3||[wx,Bp,toe,_f,Cf].indexOf(f)!==-1||d3(s,e)===Tp||yw(xw,Tp,s,e)||yw([wx,Bp],qb,s,e)||yw(l3,l3,s,e))return Hn;if(u===ed)return Cx;if(u===xw||f===xw)return Hn;if(f===Kb||u===Kb)return Cx;if([Gb,Qp,qb].indexOf(f)!==-1||u===eoe||d===Yb&&ooe.indexOf(u)!==-1||u===Cf&&f===Yb||f===c3||LA.indexOf(f)!==-1&&u===Qo||LA.indexOf(u)!==-1&&f===Qo||u===Vp&&[Fg,bx,_x].indexOf(f)!==-1||[Fg,bx,_x].indexOf(u)!==-1&&f===Hp||LA.indexOf(u)!==-1&&A3.indexOf(f)!==-1||A3.indexOf(u)!==-1&&LA.indexOf(f)!==-1||[Vp,Hp].indexOf(u)!==-1&&(f===Qo||[Tp,Qp].indexOf(f)!==-1&&e[c+1]===Qo)||[Tp,Qp].indexOf(u)!==-1&&f===Qo||u===Qo&&[Qo,Cf,_f].indexOf(f)!==-1)return Hn;if([Qo,Cf,_f,wx,Bp].indexOf(f)!==-1)for(var g=s;g>=0;){var m=e[g];if(m===Qo)return Hn;if([Cf,_f].indexOf(m)!==-1)g--;else break}if([Vp,Hp].indexOf(f)!==-1)for(var g=[wx,Bp].indexOf(u)!==-1?o:s;g>=0;){var m=e[g];if(m===Qo)return Hn;if([Cf,_f].indexOf(m)!==-1)g--;else break}if(Xb===u&&[Xb,r1,$b,Wb].indexOf(f)!==-1||[r1,$b].indexOf(u)!==-1&&[r1,i1].indexOf(f)!==-1||[i1,Wb].indexOf(u)!==-1&&f===i1||u3.indexOf(u)!==-1&&[c3,Hp].indexOf(f)!==-1||u3.indexOf(f)!==-1&&u===Vp||LA.indexOf(u)!==-1&&LA.indexOf(f)!==-1||u===_f&&LA.indexOf(f)!==-1||LA.concat(Qo).indexOf(u)!==-1&&f===Tp&&soe.indexOf(n[c])===-1||LA.concat(Qo).indexOf(f)!==-1&&u===Bp)return Hn;if(u===vw&&f===vw){for(var v=t[s],C=1;v>0&&(v--,e[v]===vw);)C++;if(C%2!==0)return Hn}return u===bx&&f===_x?Hn:Cx},Aoe=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=loe(n,e.lineBreak),r=t[0],i=t[1],s=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(c){return[Qo,ih,tL].indexOf(c)!==-1?Fg:c}));var o=e.wordBreak==="keep-all"?s.map(function(c,u){return c&&n[u]>=19968&&n[u]<=40959}):void 0;return[r,i,o]},uoe=(function(){function n(e,t,r,i){this.codePoints=e,this.required=t===nL,this.start=r,this.end=i}return n.prototype.slice=function(){return Bi.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),doe=function(n,e){var t=ly(n),r=Aoe(t,e),i=r[0],s=r[1],o=r[2],c=t.length,u=0,d=0;return{next:function(){if(d>=c)return{done:!0,value:null};for(var f=Hn;d<c&&(f=coe(t,s,i,++d,o))===Hn;);if(f!==Hn||d===c){var g=new uoe(t,f,u,d);return u=d,{value:g,done:!1}}return{done:!0,value:null}}}},hoe=1,foe=2,tm=4,h3=8,ev=10,f3=47,ag=92,poe=9,goe=32,Ex=34,Ip=61,moe=35,xoe=36,voe=37,Nx=39,Sx=40,kp=41,yoe=95,po=45,woe=33,boe=60,_oe=62,Coe=64,Eoe=91,Noe=93,Soe=61,Boe=123,Bx=63,Toe=125,p3=124,Ioe=126,koe=128,g3=65533,ww=42,ah=43,Foe=44,Uoe=58,Roe=59,Ug=46,Loe=0,Doe=8,joe=11,Moe=14,Poe=31,Ooe=127,Mc=-1,iL=48,sL=97,aL=101,Qoe=102,Hoe=117,Voe=122,oL=65,lL=69,cL=70,zoe=85,Goe=90,ga=function(n){return n>=iL&&n<=57},Koe=function(n){return n>=55296&&n<=57343},Ef=function(n){return ga(n)||n>=oL&&n<=cL||n>=sL&&n<=Qoe},qoe=function(n){return n>=sL&&n<=Voe},$oe=function(n){return n>=oL&&n<=Goe},Woe=function(n){return qoe(n)||$oe(n)},Yoe=function(n){return n>=koe},Tx=function(n){return n===ev||n===poe||n===goe},tv=function(n){return Woe(n)||Yoe(n)||n===yoe},m3=function(n){return tv(n)||ga(n)||n===po},Xoe=function(n){return n>=Loe&&n<=Doe||n===joe||n>=Moe&&n<=Poe||n===Ooe},Gu=function(n,e){return n!==ag?!1:e!==ev},Ix=function(n,e,t){return n===po?tv(e)||Gu(e,t):tv(n)?!0:!!(n===ag&&Gu(n,e))},bw=function(n,e,t){return n===ah||n===po?ga(e)?!0:e===Ug&&ga(t):ga(n===Ug?e:n)},Joe=function(n){var e=0,t=1;(n[e]===ah||n[e]===po)&&(n[e]===po&&(t=-1),e++);for(var r=[];ga(n[e]);)r.push(n[e++]);var i=r.length?parseInt(Bi.apply(void 0,r),10):0;n[e]===Ug&&e++;for(var s=[];ga(n[e]);)s.push(n[e++]);var o=s.length,c=o?parseInt(Bi.apply(void 0,s),10):0;(n[e]===lL||n[e]===aL)&&e++;var u=1;(n[e]===ah||n[e]===po)&&(n[e]===po&&(u=-1),e++);for(var d=[];ga(n[e]);)d.push(n[e++]);var f=d.length?parseInt(Bi.apply(void 0,d),10):0;return t*(i+c*Math.pow(10,-o))*Math.pow(10,u*f)},Zoe={type:2},ele={type:3},tle={type:4},nle={type:13},rle={type:8},ile={type:21},sle={type:9},ale={type:10},ole={type:11},lle={type:12},cle={type:14},kx={type:23},Ale={type:1},ule={type:25},dle={type:24},hle={type:26},fle={type:27},ple={type:28},gle={type:29},mle={type:31},e5={type:32},AL=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(ly(e))},n.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==e5;)e.push(t),t=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ex:return this.consumeStringToken(Ex);case moe:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(m3(t)||Gu(r,i)){var s=Ix(t,r,i)?foe:hoe,o=this.consumeName();return{type:5,value:o,flags:s}}break;case xoe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),nle;break;case Nx:return this.consumeStringToken(Nx);case Sx:return Zoe;case kp:return ele;case ww:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),cle;break;case ah:if(bw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Foe:return tle;case po:var c=e,u=this.peekCodePoint(0),d=this.peekCodePoint(1);if(bw(c,u,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ix(c,u,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===po&&d===_oe)return this.consumeCodePoint(),this.consumeCodePoint(),dle;break;case Ug:if(bw(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case f3:if(this.peekCodePoint(0)===ww)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===ww&&(f=this.consumeCodePoint(),f===f3))return this.consumeToken();if(f===Mc)return this.consumeToken()}break;case Uoe:return hle;case Roe:return fle;case boe:if(this.peekCodePoint(0)===woe&&this.peekCodePoint(1)===po&&this.peekCodePoint(2)===po)return this.consumeCodePoint(),this.consumeCodePoint(),ule;break;case Coe:var g=this.peekCodePoint(0),m=this.peekCodePoint(1),v=this.peekCodePoint(2);if(Ix(g,m,v)){var o=this.consumeName();return{type:7,value:o}}break;case Eoe:return ple;case ag:if(Gu(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Noe:return gle;case Soe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),rle;break;case Boe:return ole;case Toe:return lle;case Hoe:case zoe:var C=this.peekCodePoint(0),_=this.peekCodePoint(1);return C===ah&&(Ef(_)||_===Bx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case p3:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),sle;if(this.peekCodePoint(0)===p3)return this.consumeCodePoint(),ile;break;case Ioe:if(this.peekCodePoint(0)===Ip)return this.consumeCodePoint(),ale;break;case Mc:return e5}return Tx(e)?(this.consumeWhiteSpace(),mle):ga(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Bi(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Ef(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;t===Bx&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Bi.apply(void 0,e.map(function(u){return u===Bx?iL:u})),16),s=parseInt(Bi.apply(void 0,e.map(function(u){return u===Bx?cL:u})),16);return{type:30,start:i,end:s}}var o=parseInt(Bi.apply(void 0,e),16);if(this.peekCodePoint(0)===po&&Ef(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var c=[];Ef(t)&&c.length<6;)c.push(t),t=this.consumeCodePoint();var s=parseInt(Bi.apply(void 0,c),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Sx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Sx?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mc)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Nx||t===Ex){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Mc||this.peekCodePoint(0)===kp)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),kx)}for(;;){var i=this.consumeCodePoint();if(i===Mc||i===kp)return{type:22,value:Bi.apply(void 0,e)};if(Tx(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Mc||this.peekCodePoint(0)===kp?(this.consumeCodePoint(),{type:22,value:Bi.apply(void 0,e)}):(this.consumeBadUrlRemnants(),kx);if(i===Ex||i===Nx||i===Sx||Xoe(i))return this.consumeBadUrlRemnants(),kx;if(i===ag)if(Gu(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),kx;else e.push(i)}},n.prototype.consumeWhiteSpace=function(){for(;Tx(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===kp||e===Mc)return;Gu(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var t=5e4,r="";e>0;){var i=Math.min(t,e);r+=Bi.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},n.prototype.consumeStringToken=function(e){var t="",r=0;do{var i=this._value[r];if(i===Mc||i===void 0||i===e)return t+=this.consumeStringSlice(r),{type:0,value:t};if(i===ev)return this._value.splice(0,r),Ale;if(i===ag){var s=this._value[r+1];s!==Mc&&s!==void 0&&(s===ev?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Gu(i,s)&&(t+=this.consumeStringSlice(r),t+=Bi(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var e=[],t=tm,r=this.peekCodePoint(0);for((r===ah||r===po)&&e.push(this.consumeCodePoint());ga(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===Ug&&ga(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=h3;ga(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===lL||r===aL)&&((i===ah||i===po)&&ga(s)||ga(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=h3;ga(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Joe(e),t]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ix(i,s,o)){var c=this.consumeName();return{type:15,number:t,flags:r,unit:c}}return i===voe?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Ef(e)){for(var t=Bi(e);Ef(this.peekCodePoint(0))&&t.length<6;)t+=Bi(this.consumeCodePoint());Tx(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||Koe(r)||r>1114111?g3:r}return e===Mc?g3:e},n.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(m3(t))e+=Bi(t);else if(Gu(t,this.peekCodePoint(0)))e+=Bi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},n})(),uL=(function(){function n(e){this._tokens=e}return n.create=function(e){var t=new AL;return t.write(e),new n(t.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||vle(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?e5:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),nm=function(n){return n.type===15},O0=function(n){return n.type===17},Fr=function(n){return n.type===20},xle=function(n){return n.type===0},t5=function(n,e){return Fr(n)&&n.value===e},dL=function(n){return n.type!==31},y0=function(n){return n.type!==31&&n.type!==4},sA=function(n){var e=[],t=[];return n.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&e.push(t),e},vle=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},Nd=function(n){return n.type===17||n.type===15},$i=function(n){return n.type===16||Nd(n)},hL=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Ws={type:17,number:0,flags:tm},Z_={type:16,number:50,flags:tm},td={type:16,number:100,flags:tm},zp=function(n,e,t){var r=n[0],i=n[1];return[Pr(r,e),Pr(typeof i<"u"?i:r,t)]},Pr=function(n,e){if(n.type===16)return n.number/100*e;if(nm(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},fL="deg",pL="grad",gL="rad",mL="turn",cy={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case fL:return Math.PI*e.number/180;case pL:return Math.PI/200*e.number;case gL:return e.number;case mL:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},xL=function(n){return n.type===15&&(n.unit===fL||n.unit===pL||n.unit===gL||n.unit===mL)},vL=function(n){var e=n.filter(Fr).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ws,Ws];case"to top":case"bottom":return wl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ws,td];case"to right":case"left":return wl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[td,td];case"to bottom":case"top":return wl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[td,Ws];case"to left":case"right":return wl(270)}return 0},wl=function(n){return Math.PI*n/180},cd={name:"color",parse:function(n,e){if(e.type===18){var t=yle[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(n,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return nd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return nd(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return nd(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return nd(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var c=GA[e.value.toUpperCase()];if(typeof c<"u")return c}return GA.TRANSPARENT}},Ad=function(n){return(255&n)===0},_s=function(n){var e=255&n,t=255&n>>8,r=255&n>>16,i=255&n>>24;return e<255?"rgba("+i+","+r+","+t+","+e/255+")":"rgb("+i+","+r+","+t+")"},nd=function(n,e,t,r){return(n<<24|e<<16|t<<8|Math.round(r*255)<<0)>>>0},x3=function(n,e){if(n.type===17)return n.number;if(n.type===16){var t=e===3?1:255;return e===3?n.number/100*t:Math.round(n.number/100*t)}return 0},v3=function(n,e){var t=e.filter(y0);if(t.length===3){var r=t.map(x3),i=r[0],s=r[1],o=r[2];return nd(i,s,o,1)}if(t.length===4){var c=t.map(x3),i=c[0],s=c[1],o=c[2],u=c[3];return nd(i,s,o,u)}return 0};function _w(n,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-n)*t*6+n:t<1/2?e:t<2/3?(e-n)*6*(2/3-t)+n:n}var y3=function(n,e){var t=e.filter(y0),r=t[0],i=t[1],s=t[2],o=t[3],c=(r.type===17?wl(r.number):cy.parse(n,r))/(Math.PI*2),u=$i(i)?i.number/100:0,d=$i(s)?s.number/100:0,f=typeof o<"u"&&$i(o)?Pr(o,1):1;if(u===0)return nd(d*255,d*255,d*255,1);var g=d<=.5?d*(u+1):d+u-d*u,m=d*2-g,v=_w(m,g,c+1/3),C=_w(m,g,c),_=_w(m,g,c-1/3);return nd(v*255,C*255,_*255,f)},yle={hsl:y3,hsla:y3,rgb:v3,rgba:v3},og=function(n,e){return cd.parse(n,uL.create(e).parseComponentValue())},GA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},wle={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Fr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ble={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ay=function(n,e){var t=cd.parse(n,e[0]),r=e[1];return r&&$i(r)?{color:t,stop:r}:{color:t,stop:null}},w3=function(n,e){var t=n[0],r=n[n.length-1];t.stop===null&&(t.stop=Ws),r.stop===null&&(r.stop=td);for(var i=[],s=0,o=0;o<n.length;o++){var c=n[o].stop;if(c!==null){var u=Pr(c,e);u>s?i.push(u):i.push(s),s=u}else i.push(null)}for(var d=null,o=0;o<i.length;o++){var f=i[o];if(f===null)d===null&&(d=o);else if(d!==null){for(var g=o-d,m=i[d-1],v=(f-m)/(g+1),C=1;C<=g;C++)i[d+C-1]=v*C;d=null}}return n.map(function(_,E){var T=_.color;return{color:T,stop:Math.max(Math.min(1,i[E]/e),0)}})},_le=function(n,e,t){var r=e/2,i=t/2,s=Pr(n[0],e)-r,o=i-Pr(n[1],t);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},Cle=function(n,e,t){var r=typeof n=="number"?n:_le(n,e,t),i=Math.abs(e*Math.sin(r))+Math.abs(t*Math.cos(r)),s=e/2,o=t/2,c=i/2,u=Math.sin(r-Math.PI/2)*c,d=Math.cos(r-Math.PI/2)*c;return[i,s-d,s+d,o-u,o+u]},Jl=function(n,e){return Math.sqrt(n*n+e*e)},b3=function(n,e,t,r,i){var s=[[0,0],[0,e],[n,0],[n,e]];return s.reduce(function(o,c){var u=c[0],d=c[1],f=Jl(t-u,r-d);return(i?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:c,optimumDistance:f}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Ele=function(n,e,t,r,i){var s=0,o=0;switch(n.size){case 0:n.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(t),Math.abs(t-i)));break;case 2:if(n.shape===0)s=o=Math.min(Jl(e,t),Jl(e,t-i),Jl(e-r,t),Jl(e-r,t-i));else if(n.shape===1){var c=Math.min(Math.abs(t),Math.abs(t-i))/Math.min(Math.abs(e),Math.abs(e-r)),u=b3(r,i,e,t,!0),d=u[0],f=u[1];s=Jl(d-e,(f-t)/c),o=c*s}break;case 1:n.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(t),Math.abs(t-i)):n.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(t),Math.abs(t-i)));break;case 3:if(n.shape===0)s=o=Math.max(Jl(e,t),Jl(e,t-i),Jl(e-r,t),Jl(e-r,t-i));else if(n.shape===1){var c=Math.max(Math.abs(t),Math.abs(t-i))/Math.max(Math.abs(e),Math.abs(e-r)),g=b3(r,i,e,t,!1),d=g[0],f=g[1];s=Jl(d-e,(f-t)/c),o=c*s}break}return Array.isArray(n.size)&&(s=Pr(n.size[0],r),o=n.size.length===2?Pr(n.size[1],i):s),[s,o]},Nle=function(n,e){var t=wl(180),r=[];return sA(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){t=vL(i);return}else if(xL(o)){t=cy.parse(n,o);return}}var c=Ay(n,i);r.push(c)}),{angle:t,stops:r,type:1}},Fx=function(n,e){var t=wl(180),r=[];return sA(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){t=vL(i);return}else if(xL(o)){t=(cy.parse(n,o)+wl(270))%wl(360);return}}var c=Ay(n,i);r.push(c)}),{angle:t,stops:r,type:1}},Sle=function(n,e){var t=wl(180),r=[],i=1,s=0,o=3,c=[];return sA(e).forEach(function(u,d){var f=u[0];if(d===0){if(Fr(f)&&f.value==="linear"){i=1;return}else if(Fr(f)&&f.value==="radial"){i=2;return}}if(f.type===18){if(f.name==="from"){var g=cd.parse(n,f.values[0]);r.push({stop:Ws,color:g})}else if(f.name==="to"){var g=cd.parse(n,f.values[0]);r.push({stop:td,color:g})}else if(f.name==="color-stop"){var m=f.values.filter(y0);if(m.length===2){var g=cd.parse(n,m[1]),v=m[0];O0(v)&&r.push({stop:{type:16,number:v.number*100,flags:v.flags},color:g})}}}}),i===1?{angle:(t+wl(180))%wl(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:c,type:i}},yL="closest-side",wL="farthest-side",bL="closest-corner",_L="farthest-corner",CL="circle",EL="ellipse",NL="cover",SL="contain",Ble=function(n,e){var t=0,r=3,i=[],s=[];return sA(e).forEach(function(o,c){var u=!0;if(c===0){var d=!1;u=o.reduce(function(g,m){if(d)if(Fr(m))switch(m.value){case"center":return s.push(Z_),g;case"top":case"left":return s.push(Ws),g;case"right":case"bottom":return s.push(td),g}else($i(m)||Nd(m))&&s.push(m);else if(Fr(m))switch(m.value){case CL:return t=0,!1;case EL:return t=1,!1;case"at":return d=!0,!1;case yL:return r=0,!1;case NL:case wL:return r=1,!1;case SL:case bL:return r=2,!1;case _L:return r=3,!1}else if(Nd(m)||$i(m))return Array.isArray(r)||(r=[]),r.push(m),!1;return g},u)}if(u){var f=Ay(n,o);i.push(f)}}),{size:r,shape:t,stops:i,position:s,type:2}},Ux=function(n,e){var t=0,r=3,i=[],s=[];return sA(e).forEach(function(o,c){var u=!0;if(c===0?u=o.reduce(function(f,g){if(Fr(g))switch(g.value){case"center":return s.push(Z_),!1;case"top":case"left":return s.push(Ws),!1;case"right":case"bottom":return s.push(td),!1}else if($i(g)||Nd(g))return s.push(g),!1;return f},u):c===1&&(u=o.reduce(function(f,g){if(Fr(g))switch(g.value){case CL:return t=0,!1;case EL:return t=1,!1;case SL:case yL:return r=0,!1;case wL:return r=1,!1;case bL:return r=2,!1;case NL:case _L:return r=3,!1}else if(Nd(g)||$i(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return f},u)),u){var d=Ay(n,o);i.push(d)}}),{size:r,shape:t,stops:i,position:s,type:2}},Tle=function(n){return n.type===1},Ile=function(n){return n.type===2},eC={name:"image",parse:function(n,e){if(e.type===22){var t={url:e.value,type:0};return n.cache.addImage(e.value),t}if(e.type===18){var r=BL[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function kle(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!BL[n.name])}var BL={"linear-gradient":Nle,"-moz-linear-gradient":Fx,"-ms-linear-gradient":Fx,"-o-linear-gradient":Fx,"-webkit-linear-gradient":Fx,"radial-gradient":Ble,"-moz-radial-gradient":Ux,"-ms-radial-gradient":Ux,"-o-radial-gradient":Ux,"-webkit-radial-gradient":Ux,"-webkit-gradient":Sle},Fle={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(r){return y0(r)&&kle(r)}).map(function(r){return eC.parse(n,r)})}},Ule={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(t){if(Fr(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rle={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return sA(e).map(function(t){return t.filter($i)}).map(hL)}},Lle={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return sA(e).map(function(t){return t.filter(Fr).map(function(r){return r.value}).join(" ")}).map(Dle)}},Dle=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},l0;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(l0||(l0={}));var jle={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return sA(e).map(function(t){return t.filter(Mle)})}},Mle=function(n){return Fr(n)||$i(n)},uy=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ple=uy("top"),Ole=uy("right"),Qle=uy("bottom"),Hle=uy("left"),dy=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return hL(t.filter($i))}}},Vle=dy("top-left"),zle=dy("top-right"),Gle=dy("bottom-right"),Kle=dy("bottom-left"),hy=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},qle=hy("top"),$le=hy("right"),Wle=hy("bottom"),Yle=hy("left"),fy=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return nm(t)?t.number:0}}},Xle=fy("top"),Jle=fy("right"),Zle=fy("bottom"),ece=fy("left"),tce={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nce={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},rce={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter(Fr).reduce(function(t,r){return t|ice(r.value)},0)}},ice=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},sce={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ace={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},nv;(function(n){n.NORMAL="normal",n.STRICT="strict"})(nv||(nv={}));var oce={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"strict":return nv.STRICT;case"normal":default:return nv.NORMAL}}},lce={name:"line-height",initialValue:"normal",prefix:!1,type:4},_3=function(n,e){return Fr(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:$i(n)?Pr(n,e):e},cce={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:eC.parse(n,e)}},Ace={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},n5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},py=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},uce=py("top"),dce=py("right"),hce=py("bottom"),fce=py("left"),pce={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter(Fr).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},gce={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},gy=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},mce=gy("top"),xce=gy("right"),vce=gy("bottom"),yce=gy("left"),wce={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},bce={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},_ce={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&t5(e[0],"none")?[]:sA(e).map(function(t){for(var r={color:GA.TRANSPARENT,offsetX:Ws,offsetY:Ws,blur:Ws},i=0,s=0;s<t.length;s++){var o=t[s];Nd(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=cd.parse(n,o)}return r})}},Cce={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ece={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=Bce[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Nce=function(n){var e=n.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},Sce=function(n){var e=n.filter(function(u){return u.type===17}).map(function(u){return u.number}),t=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],c=e[13];return e[14],e[15],e.length===16?[t,r,i,s,o,c]:null},Bce={matrix:Nce,matrix3d:Sce},C3={type:16,number:50,flags:tm},Tce=[C3,C3],Ice={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var t=e.filter($i);return t.length!==2?Tce:[t[0],t[1]]}},kce={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},lg;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(lg||(lg={}));var Fce={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return lg.BREAK_ALL;case"keep-all":return lg.KEEP_ALL;case"normal":default:return lg.NORMAL}}},Uce={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(O0(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TL={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Rce={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return O0(e)?e.number:1}},Lce={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Dce={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter(Fr).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},jce={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var t=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:t.push(i.value);break;case 17:t.push(i.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Mce={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Pce={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){if(O0(e))return e.number;if(Fr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Oce={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter(Fr).map(function(t){return t.value})}},Qce={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},fs=function(n,e){return(n&e)!==0},Hce={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},Vce={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var r=[],i=e.filter(dL),s=0;s<i.length;s++){var o=i[s],c=i[s+1];if(o.type===20){var u=c&&O0(c)?c.number:1;r.push({counter:o.value,increment:u})}}return r}},zce={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var t=[],r=e.filter(dL),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Fr(s)&&s.value!=="none"){var c=o&&O0(o)?o.number:0;t.push({counter:s.value,reset:c})}}return t}},Gce={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(nm).map(function(t){return TL.parse(n,t)})}},Kce={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var r=[],i=e.filter(xle);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,c=i[s+1].value;r.push({open:o,close:c})}return r}},E3=function(n,e,t){if(!n)return"";var r=n[Math.min(e,n.length-1)];return r?t?r.open:r.close:""},qce={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&t5(e[0],"none")?[]:sA(e).map(function(t){for(var r={color:255,offsetX:Ws,offsetY:Ws,blur:Ws,spread:Ws,inset:!1},i=0,s=0;s<t.length;s++){var o=t[s];t5(o,"inset")?r.inset=!0:Nd(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=cd.parse(n,o)}return r})}},$ce={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var t=[0,1,2],r=[];return e.filter(Fr).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},Wce={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Yce={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return nm(e)?e.number:0}},Xce=(function(){function n(e,t){var r,i;this.animationDuration=Wt(e,Gce,t.animationDuration),this.backgroundClip=Wt(e,wle,t.backgroundClip),this.backgroundColor=Wt(e,ble,t.backgroundColor),this.backgroundImage=Wt(e,Fle,t.backgroundImage),this.backgroundOrigin=Wt(e,Ule,t.backgroundOrigin),this.backgroundPosition=Wt(e,Rle,t.backgroundPosition),this.backgroundRepeat=Wt(e,Lle,t.backgroundRepeat),this.backgroundSize=Wt(e,jle,t.backgroundSize),this.borderTopColor=Wt(e,Ple,t.borderTopColor),this.borderRightColor=Wt(e,Ole,t.borderRightColor),this.borderBottomColor=Wt(e,Qle,t.borderBottomColor),this.borderLeftColor=Wt(e,Hle,t.borderLeftColor),this.borderTopLeftRadius=Wt(e,Vle,t.borderTopLeftRadius),this.borderTopRightRadius=Wt(e,zle,t.borderTopRightRadius),this.borderBottomRightRadius=Wt(e,Gle,t.borderBottomRightRadius),this.borderBottomLeftRadius=Wt(e,Kle,t.borderBottomLeftRadius),this.borderTopStyle=Wt(e,qle,t.borderTopStyle),this.borderRightStyle=Wt(e,$le,t.borderRightStyle),this.borderBottomStyle=Wt(e,Wle,t.borderBottomStyle),this.borderLeftStyle=Wt(e,Yle,t.borderLeftStyle),this.borderTopWidth=Wt(e,Xle,t.borderTopWidth),this.borderRightWidth=Wt(e,Jle,t.borderRightWidth),this.borderBottomWidth=Wt(e,Zle,t.borderBottomWidth),this.borderLeftWidth=Wt(e,ece,t.borderLeftWidth),this.boxShadow=Wt(e,qce,t.boxShadow),this.color=Wt(e,tce,t.color),this.direction=Wt(e,nce,t.direction),this.display=Wt(e,rce,t.display),this.float=Wt(e,sce,t.cssFloat),this.fontFamily=Wt(e,jce,t.fontFamily),this.fontSize=Wt(e,Mce,t.fontSize),this.fontStyle=Wt(e,Qce,t.fontStyle),this.fontVariant=Wt(e,Oce,t.fontVariant),this.fontWeight=Wt(e,Pce,t.fontWeight),this.letterSpacing=Wt(e,ace,t.letterSpacing),this.lineBreak=Wt(e,oce,t.lineBreak),this.lineHeight=Wt(e,lce,t.lineHeight),this.listStyleImage=Wt(e,cce,t.listStyleImage),this.listStylePosition=Wt(e,Ace,t.listStylePosition),this.listStyleType=Wt(e,n5,t.listStyleType),this.marginTop=Wt(e,uce,t.marginTop),this.marginRight=Wt(e,dce,t.marginRight),this.marginBottom=Wt(e,hce,t.marginBottom),this.marginLeft=Wt(e,fce,t.marginLeft),this.opacity=Wt(e,Rce,t.opacity);var s=Wt(e,pce,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Wt(e,gce,t.overflowWrap),this.paddingTop=Wt(e,mce,t.paddingTop),this.paddingRight=Wt(e,xce,t.paddingRight),this.paddingBottom=Wt(e,vce,t.paddingBottom),this.paddingLeft=Wt(e,yce,t.paddingLeft),this.paintOrder=Wt(e,$ce,t.paintOrder),this.position=Wt(e,bce,t.position),this.textAlign=Wt(e,wce,t.textAlign),this.textDecorationColor=Wt(e,Lce,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=Wt(e,Dce,(i=t.textDecorationLine)!==null&&i!==void 0?i:t.textDecoration),this.textShadow=Wt(e,_ce,t.textShadow),this.textTransform=Wt(e,Cce,t.textTransform),this.transform=Wt(e,Ece,t.transform),this.transformOrigin=Wt(e,Ice,t.transformOrigin),this.visibility=Wt(e,kce,t.visibility),this.webkitTextStrokeColor=Wt(e,Wce,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=Wt(e,Yce,t.webkitTextStrokeWidth),this.wordBreak=Wt(e,Fce,t.wordBreak),this.zIndex=Wt(e,Uce,t.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ad(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return fs(this.display,4)||fs(this.display,33554432)||fs(this.display,268435456)||fs(this.display,536870912)||fs(this.display,67108864)||fs(this.display,134217728)},n})(),Jce=(function(){function n(e,t){this.content=Wt(e,Hce,t.content),this.quotes=Wt(e,Kce,t.quotes)}return n})(),N3=(function(){function n(e,t){this.counterIncrement=Wt(e,Vce,t.counterIncrement),this.counterReset=Wt(e,zce,t.counterReset)}return n})(),Wt=function(n,e,t){var r=new AL,i=t!==null&&typeof t<"u"?t.toString():e.initialValue;r.write(i);var s=new uL(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(n,Fr(o)?o.value:e.initialValue);case 0:return e.parse(n,s.parseComponentValue());case 1:return e.parse(n,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return cy.parse(n,s.parseComponentValue());case"color":return cd.parse(n,s.parseComponentValue());case"image":return eC.parse(n,s.parseComponentValue());case"length":var c=s.parseComponentValue();return Nd(c)?c:Ws;case"length-percentage":var u=s.parseComponentValue();return $i(u)?u:Ws;case"time":return TL.parse(n,s.parseComponentValue())}break}},Zce="data-html2canvas-debug",eAe=function(n){var e=n.getAttribute(Zce);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},r5=function(n,e){var t=eAe(n);return t===1||e===t},aA=(function(){function n(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,r5(t,3))debugger;this.styles=new Xce(e,window.getComputedStyle(t,null)),a5(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=oy(this.context,t),r5(t,4)&&(this.flags|=16)}return n})(),tAe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",S3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gp=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rx=0;Rx<S3.length;Rx++)Gp[S3.charCodeAt(Rx)]=Rx;var nAe=function(n){var e=n.length*.75,t=n.length,r,i=0,s,o,c,u;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(d)?d:new Uint8Array(d);for(r=0;r<t;r+=4)s=Gp[n.charCodeAt(r)],o=Gp[n.charCodeAt(r+1)],c=Gp[n.charCodeAt(r+2)],u=Gp[n.charCodeAt(r+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|c>>2,f[i++]=(c&3)<<6|u&63;return d},rAe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=2)t.push(n[r+1]<<8|n[r]);return t},iAe=function(n){for(var e=n.length,t=[],r=0;r<e;r+=4)t.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return t},dh=5,tC=11,Cw=2,sAe=tC-dh,IL=65536>>dh,aAe=1<<dh,Ew=aAe-1,oAe=1024>>dh,lAe=IL+oAe,cAe=lAe,AAe=32,uAe=cAe+AAe,dAe=65536>>tC,hAe=1<<sAe,fAe=hAe-1,B3=function(n,e,t){return n.slice?n.slice(e,t):new Uint16Array(Array.prototype.slice.call(n,e,t))},pAe=function(n,e,t){return n.slice?n.slice(e,t):new Uint32Array(Array.prototype.slice.call(n,e,t))},gAe=function(n,e){var t=nAe(n),r=Array.isArray(t)?iAe(t):new Uint32Array(t),i=Array.isArray(t)?rAe(t):new Uint16Array(t),s=24,o=B3(i,s/2,r[4]/2),c=r[5]===2?B3(i,(s+r[4])/2):pAe(r,Math.ceil((s+r[4])/4));return new mAe(r[0],r[1],r[2],r[3],o,c)},mAe=(function(){function n(e,t,r,i,s,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return n.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>dh],t=(t<<Cw)+(e&Ew),this.data[t];if(e<=65535)return t=this.index[IL+(e-55296>>dh)],t=(t<<Cw)+(e&Ew),this.data[t];if(e<this.highStart)return t=uAe-dAe+(e>>tC),t=this.index[t],t+=e>>dh&fAe,t=this.index[t],t=(t<<Cw)+(e&Ew),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),T3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lx=0;Lx<T3.length;Lx++)xAe[T3.charCodeAt(Lx)]=Lx;var vAe=1,Nw=2,Sw=3,I3=4,k3=5,yAe=7,F3=8,Bw=9,Tw=10,U3=11,R3=12,L3=13,D3=14,Iw=15,wAe=function(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var s=n.charCodeAt(t++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),t--)}else e.push(i)}return e},bAe=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var t=n.length;if(!t)return"";for(var r=[],i=-1,s="";++i<t;){var o=n[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===t||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},_Ae=gAe(tAe),gl="",kw="",CAe=function(n){return _Ae.get(n)},EAe=function(n,e,t){var r=t-2,i=e[r],s=e[t-1],o=e[t];if(s===Nw&&o===Sw)return gl;if(s===Nw||s===Sw||s===I3||o===Nw||o===Sw||o===I3)return kw;if(s===F3&&[F3,Bw,U3,R3].indexOf(o)!==-1||(s===U3||s===Bw)&&(o===Bw||o===Tw)||(s===R3||s===Tw)&&o===Tw||o===L3||o===k3||o===yAe||s===vAe)return gl;if(s===L3&&o===D3){for(;i===k3;)i=e[--r];if(i===D3)return gl}if(s===Iw&&o===Iw){for(var c=0;i===Iw;)c++,i=e[--r];if(c%2===0)return gl}return kw},NAe=function(n){var e=wAe(n),t=e.length,r=0,i=0,s=e.map(CAe);return{next:function(){if(r>=t)return{done:!0,value:null};for(var o=gl;r<t&&(o=EAe(e,s,++r))===gl;);if(o!==gl||r===t){var c=bAe.apply(null,e.slice(i,r));return i=r,{value:c,done:!1}}return{done:!0,value:null}}}},SAe=function(n){for(var e=NAe(n),t=[],r;!(r=e.next()).done;)r.value&&t.push(r.value.slice());return t},BAe=function(n){var e=123;if(n.createRange){var t=n.createRange();if(t.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=e+"px",r.style.display="block",n.body.appendChild(r),t.selectNode(r);var i=t.getBoundingClientRect(),s=Math.round(i.height);if(n.body.removeChild(r),s===e)return!0}}return!1},TAe=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var t=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=ly(r.data).map(function(u){return Bi(u)}),s=0,o={},c=i.every(function(u,d){t.setStart(r,s),t.setEnd(r,s+u.length);var f=t.getBoundingClientRect();s+=u.length;var g=f.x>o.x||f.y>o.y;return o=f,d===0?!0:g});return n.body.removeChild(e),c},IAe=function(){return typeof new Image().crossOrigin<"u"},kAe=function(){return typeof new XMLHttpRequest().responseType=="string"},FAe=function(n){var e=new Image,t=n.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},j3=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},UAe=function(n){var e=n.createElement("canvas"),t=100;e.width=t,e.height=t;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var i=new Image,s=e.toDataURL();i.src=s;var o=i5(t,t,0,0,i);return r.fillStyle="red",r.fillRect(0,0,t,t),M3(o).then(function(c){r.drawImage(c,0,0);var u=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var d=n.createElement("div");return d.style.backgroundImage="url("+s+")",d.style.height=t+"px",j3(u)?M3(i5(t,t,0,0,d)):Promise.reject(!1)}).then(function(c){return r.drawImage(c,0,0),j3(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},i5=function(n,e,t,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",n.toString()),o.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",t.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(c),c.appendChild(i),o},M3=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},zs={get SUPPORT_RANGE_BOUNDS(){var n=BAe(document);return Object.defineProperty(zs,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=zs.SUPPORT_RANGE_BOUNDS&&TAe(document);return Object.defineProperty(zs,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=FAe(document);return Object.defineProperty(zs,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?UAe(document):Promise.resolve(!1);return Object.defineProperty(zs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=IAe();return Object.defineProperty(zs,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=kAe();return Object.defineProperty(zs,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(zs,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(zs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},cg=(function(){function n(e,t){this.text=e,this.bounds=t}return n})(),RAe=function(n,e,t,r){var i=jAe(e,t),s=[],o=0;return i.forEach(function(c){if(t.textDecorationLine.length||c.trim().length>0)if(zs.SUPPORT_RANGE_BOUNDS){var u=P3(r,o,c.length).getClientRects();if(u.length>1){var d=nC(c),f=0;d.forEach(function(m){s.push(new cg(m,tu.fromDOMRectList(n,P3(r,f+o,m.length).getClientRects()))),f+=m.length})}else s.push(new cg(c,tu.fromDOMRectList(n,u)))}else{var g=r.splitText(c.length);s.push(new cg(c,LAe(n,r))),r=g}else zs.SUPPORT_RANGE_BOUNDS||(r=r.splitText(c.length));o+=c.length}),s},LAe=function(n,e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=oy(n,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return tu.EMPTY},P3=function(n,e,t){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(n,e),i.setEnd(n,e+t),i},nC=function(n){if(zs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(t){return t.segment})}return SAe(n)},DAe=function(n,e){if(zs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(n)).map(function(r){return r.segment})}return PAe(n,e)},jAe=function(n,e){return e.letterSpacing!==0?nC(n):DAe(n,e)},MAe=[32,160,4961,65792,65793,4153,4241],PAe=function(n,e){for(var t=doe(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),c=ly(o),u="";c.forEach(function(d){MAe.indexOf(d)===-1?u+=Bi(d):(u.length&&r.push(u),r.push(Bi(d)),u="")}),u.length&&r.push(u)}};!(i=t.next()).done;)s();return r},OAe=(function(){function n(e,t,r){this.text=QAe(t.data,r.textTransform),this.textBounds=RAe(e,this.text,r,t)}return n})(),QAe=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(HAe,VAe);case 2:return n.toUpperCase();default:return n}},HAe=/(^|\s|:|-|\(|\))([a-z])/g,VAe=function(n,e,t){return n.length>0?e+t.toUpperCase():n},kL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e})(aA),FL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e})(aA),UL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=new XMLSerializer,o=oy(t,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e})(aA),RL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(aA),s5=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e})(aA),zAe=[{type:15,flags:0,unit:"px",number:3}],GAe=[{type:16,flags:0,number:50}],KAe=function(n){return n.width>n.height?new tu(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new tu(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},qAe=function(n){var e=n.type===$Ae?new Array(n.value.length+1).join(""):n.value;return e.length===0?n.placeholder||"":e},rv="checkbox",iv="radio",$Ae="password",O3=707406591,rC=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=qAe(r),(i.type===rv||i.type===iv)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=KAe(i.bounds)),i.type){case rv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=zAe;break;case iv:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=GAe;break}return i}return e})(aA),LL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e})(aA),DL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.value=r.value,i}return e})(aA),jL=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=PL(t,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?og(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):GA.TRANSPARENT,o=r.contentWindow.document.body?og(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):GA.TRANSPARENT;i.backgroundColor=Ad(s)?Ad(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e})(aA),WAe=["OL","UL","MENU"],s1=function(n,e,t,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,OL(i)&&i.data.trim().length>0)t.textNodes.push(new OAe(n,i,t.styles));else if(Kf(i))if(zL(i)&&i.assignedNodes)i.assignedNodes().forEach(function(c){return s1(n,c,t,r)});else{var o=ML(n,i);o.styles.isVisible()&&(YAe(i,o,r)?o.flags|=4:XAe(o.styles)&&(o.flags|=2),WAe.indexOf(i.tagName)!==-1&&(o.flags|=8),t.elements.push(o),i.slot,i.shadowRoot?s1(n,i.shadowRoot,o,r):!sv(i)&&!QL(i)&&!av(i)&&s1(n,i,o,r))}},ML=function(n,e){return o5(e)?new kL(n,e):HL(e)?new FL(n,e):QL(e)?new UL(n,e):JAe(e)?new RL(n,e):ZAe(e)?new s5(n,e):eue(e)?new rC(n,e):av(e)?new LL(n,e):sv(e)?new DL(n,e):VL(e)?new jL(n,e):new aA(n,e)},PL=function(n,e){var t=ML(n,e);return t.flags|=4,s1(n,e,t,t),t},YAe=function(n,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||iC(n)&&t.styles.isTransparent()},XAe=function(n){return n.isPositioned()||n.isFloating()},OL=function(n){return n.nodeType===Node.TEXT_NODE},Kf=function(n){return n.nodeType===Node.ELEMENT_NODE},a5=function(n){return Kf(n)&&typeof n.style<"u"&&!a1(n)},a1=function(n){return typeof n.className=="object"},JAe=function(n){return n.tagName==="LI"},ZAe=function(n){return n.tagName==="OL"},eue=function(n){return n.tagName==="INPUT"},tue=function(n){return n.tagName==="HTML"},QL=function(n){return n.tagName==="svg"},iC=function(n){return n.tagName==="BODY"},HL=function(n){return n.tagName==="CANVAS"},Q3=function(n){return n.tagName==="VIDEO"},o5=function(n){return n.tagName==="IMG"},VL=function(n){return n.tagName==="IFRAME"},H3=function(n){return n.tagName==="STYLE"},nue=function(n){return n.tagName==="SCRIPT"},sv=function(n){return n.tagName==="TEXTAREA"},av=function(n){return n.tagName==="SELECT"},zL=function(n){return n.tagName==="SLOT"},V3=function(n){return n.tagName.indexOf("-")>0},rue=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},n.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},n.prototype.pop=function(e){var t=this;e.forEach(function(r){return t.counters[r].pop()})},n.prototype.parse=function(e){var t=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(c){var u=t.counters[c.counter];u&&c.increment!==0&&(s=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=c.increment)});var o=[];return s&&i.forEach(function(c){var u=t.counters[c.counter];o.push(c.counter),u||(u=t.counters[c.counter]=[]),u.push(c.reset)}),o},n})(),z3={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},G3={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},iue={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},sue={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Nf=function(n,e,t,r,i,s){return n<e||n>t?Rg(n,i,s.length>0):r.integers.reduce(function(o,c,u){for(;n>=c;)n-=c,o+=r.values[u];return o},"")+s},GL=function(n,e,t,r){var i="";do t||n--,i=r(n)+i,n/=e;while(n*e>=e);return i},Ni=function(n,e,t,r,i){var s=t-e+1;return(n<0?"-":"")+(GL(Math.abs(n),s,r,function(o){return Bi(Math.floor(o%s)+e)})+i)},Jd=function(n,e,t){t===void 0&&(t=". ");var r=e.length;return GL(Math.abs(n),r,!1,function(i){return e[Math.floor(i%r)]})+t},Mf=1,Vu=2,zu=4,Kp=8,DA=function(n,e,t,r,i,s){if(n<-9999||n>9999)return Rg(n,4,i.length>0);var o=Math.abs(n),c=i;if(o===0)return e[0]+c;for(var u=0;o>0&&u<=4;u++){var d=o%10;d===0&&fs(s,Mf)&&c!==""?c=e[d]+c:d>1||d===1&&u===0||d===1&&u===1&&fs(s,Vu)||d===1&&u===1&&fs(s,zu)&&n>100||d===1&&u>1&&fs(s,Kp)?c=e[d]+(u>0?t[u-1]:"")+c:d===1&&u>0&&(c=t[u-1]+c),o=Math.floor(o/10)}return(n<0?r:"")+c},K3="",q3="",$3="",Fw="",Rg=function(n,e,t){var r=t?". ":"",i=t?"":"",s=t?", ":"",o=t?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var c=Ni(n,48,57,!0,r);return c.length<4?"0"+c:c;case 4:return Jd(n,"",i);case 6:return Nf(n,1,3999,z3,3,r).toLowerCase();case 7:return Nf(n,1,3999,z3,3,r);case 8:return Ni(n,945,969,!1,r);case 9:return Ni(n,97,122,!1,r);case 10:return Ni(n,65,90,!1,r);case 11:return Ni(n,1632,1641,!0,r);case 12:case 49:return Nf(n,1,9999,G3,3,r);case 35:return Nf(n,1,9999,G3,3,r).toLowerCase();case 13:return Ni(n,2534,2543,!0,r);case 14:case 30:return Ni(n,6112,6121,!0,r);case 15:return Jd(n,"",i);case 16:return Jd(n,"",i);case 17:case 48:return DA(n,"",K3,"",i,Vu|zu|Kp);case 47:return DA(n,"",q3,"",i,Mf|Vu|zu|Kp);case 42:return DA(n,"",K3,"",i,Vu|zu|Kp);case 41:return DA(n,"",q3,"",i,Mf|Vu|zu|Kp);case 26:return DA(n,"","",$3,i,0);case 25:return DA(n,"","",$3,i,Mf|Vu|zu);case 31:return DA(n,"","",Fw,s,Mf|Vu|zu);case 33:return DA(n,"","",Fw,s,0);case 32:return DA(n,"","",Fw,s,Mf|Vu|zu);case 18:return Ni(n,2406,2415,!0,r);case 20:return Nf(n,1,19999,sue,3,r);case 21:return Ni(n,2790,2799,!0,r);case 22:return Ni(n,2662,2671,!0,r);case 22:return Nf(n,1,10999,iue,3,r);case 23:return Jd(n,"");case 24:return Jd(n,"");case 27:return Ni(n,3302,3311,!0,r);case 28:return Jd(n,"",i);case 29:return Jd(n,"",i);case 34:return Ni(n,3792,3801,!0,r);case 37:return Ni(n,6160,6169,!0,r);case 38:return Ni(n,4160,4169,!0,r);case 39:return Ni(n,2918,2927,!0,r);case 40:return Ni(n,1776,1785,!0,r);case 43:return Ni(n,3046,3055,!0,r);case 44:return Ni(n,3174,3183,!0,r);case 45:return Ni(n,3664,3673,!0,r);case 46:return Ni(n,3872,3881,!0,r);case 3:default:return Ni(n,48,57,!0,r)}},KL="data-html2canvas-ignore",W3=(function(){function n(e,t,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new rue,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,t){var r=this,i=aue(e,t);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,c=i.contentWindow,u=c.document,d=cue(i).then(function(){return Pa(r,void 0,void 0,function(){var f,g;return fa(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(hue),c&&(c.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==t.top||c.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-t.left,c.scrollY-t.top,0,0))),f=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,lue(u)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(u,g)}).then(function(){return i})]:[2,i]}})})});return u.open(),u.write(uue(document.doctype)+"<html></html>"),due(this.referenceElement.ownerDocument,s,o),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),d},n.prototype.createElementClone=function(e){if(r5(e,2))debugger;if(HL(e))return this.createCanvasClone(e);if(Q3(e))return this.createVideoClone(e);if(H3(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return o5(t)&&(o5(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),V3(t)?this.createCustomElementClone(t):t},n.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return Uw(e.style,t),t},n.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var c=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(c){var u=c.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},n.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},n.prototype.appendChildNode=function(e,t,r){(!Kf(t)||!nue(t)&&!t.hasAttribute(KL)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Kf(t)||!H3(t))&&e.appendChild(this.cloneNode(t,r))},n.prototype.cloneChildNodes=function(e,t,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Kf(s)&&zL(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(c){return i.appendChildNode(t,c,r)})}else this.appendChildNode(t,s,r)},n.prototype.cloneNode=function(e,t){if(OL(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Kf(e)&&(a5(e)||a1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),c=r.getComputedStyle(e,":after");this.referenceElement===e&&a5(i)&&(this.clonedReferenceElement=i),iC(i)&&gue(i);var u=this.counters.parse(new N3(this.context,s)),d=this.resolvePseudoContent(e,i,o,Ag.BEFORE);V3(e)&&(t=!0),Q3(e)||this.cloneChildNodes(e,i,t),d&&i.insertBefore(d,i.firstChild);var f=this.resolvePseudoContent(e,i,c,Ag.AFTER);return f&&i.appendChild(f),this.counters.pop(u),(s&&(this.options.copyStyles||a1(e))&&!VL(e)||t)&&Uw(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(sv(e)||av(e))&&(sv(i)||av(i))&&(i.value=e.value),i}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,t,r,i){var s=this;if(r){var o=r.content,c=t.ownerDocument;if(!(!c||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new N3(this.context,r));var u=new Jce(this.context,r),d=c.createElement("html2canvaspseudoelement");Uw(r,d),u.content.forEach(function(g){if(g.type===0)d.appendChild(c.createTextNode(g.value));else if(g.type===22){var m=c.createElement("img");m.src=g.value,m.style.opacity="1",d.appendChild(m)}else if(g.type===18){if(g.name==="attr"){var v=g.values.filter(Fr);v.length&&d.appendChild(c.createTextNode(e.getAttribute(v[0].value)||""))}else if(g.name==="counter"){var C=g.values.filter(y0),_=C[0],E=C[1];if(_&&Fr(_)){var T=s.counters.getCounterValue(_.value),k=E&&Fr(E)?n5.parse(s.context,E.value):3;d.appendChild(c.createTextNode(Rg(T,k,!1)))}}else if(g.name==="counters"){var P=g.values.filter(y0),_=P[0],z=P[1],E=P[2];if(_&&Fr(_)){var Y=s.counters.getCounterValues(_.value),Z=E&&Fr(E)?n5.parse(s.context,E.value):3,R=z&&z.type===0?z.value:"",F=Y.map(function(L){return Rg(L,Z,!1)}).join(R);d.appendChild(c.createTextNode(F))}}}else if(g.type===20)switch(g.value){case"open-quote":d.appendChild(c.createTextNode(E3(u.quotes,s.quoteDepth++,!0)));break;case"close-quote":d.appendChild(c.createTextNode(E3(u.quotes,--s.quoteDepth,!1)));break;default:d.appendChild(c.createTextNode(g.value))}}),d.className=l5+" "+c5;var f=i===Ag.BEFORE?" "+l5:" "+c5;return a1(t)?t.className.baseValue+=f:t.className+=f,d}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),Ag;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(Ag||(Ag={}));var aue=function(n,e){var t=n.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(KL,"true"),n.body.appendChild(t),t},oue=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},lue=function(n){return Promise.all([].slice.call(n.images,0).map(oue))},cue=function(n){return new Promise(function(e,t){var r=n.contentWindow;if(!r)return t("No window assigned for iframe");var i=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(n))},50)}})},Aue=["all","d","content"],Uw=function(n,e){for(var t=n.length-1;t>=0;t--){var r=n.item(t);Aue.indexOf(r)===-1&&e.style.setProperty(r,n.getPropertyValue(r))}return e},uue=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},due=function(n,e,t){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||t!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,t)},hue=function(n){var e=n[0],t=n[1],r=n[2];e.scrollLeft=t,e.scrollTop=r},fue=":before",pue=":after",l5="___html2canvas___pseudoelement_before",c5="___html2canvas___pseudoelement_after",Y3=`{
    content: "" !important;
    display: none !important;
}`,gue=function(n){mue(n,"."+l5+fue+Y3+`
         .`+c5+pue+Y3)},mue=function(n,e){var t=n.ownerDocument;if(t){var r=t.createElement("style");r.textContent=e,n.appendChild(r)}},qL=(function(){function n(){}return n.getOrigin=function(e){var t=n._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),xue=(function(){function n(e,t){this.context=e,this._options=t,this._cache={}}return n.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Lw(e)||bue(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return Pa(this,void 0,void 0,function(){var t,r,i,s,o=this;return fa(this,function(c){switch(c.label){case 0:return t=qL.isSameOrigin(e),r=!Rw(e)&&this._options.useCORS===!0&&zs.SUPPORT_CORS_IMAGES&&!t,i=!Rw(e)&&!t&&!Lw(e)&&typeof this._options.proxy=="string"&&zs.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Rw(e)&&!Lw(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,d){var f=new Image;f.onload=function(){return u(f)},f.onerror=d,(_ue(s)||r)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return u(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var c=zs.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(c==="text")s(u.response);else{var g=new FileReader;g.addEventListener("load",function(){return s(g.result)},!1),g.addEventListener("error",function(m){return o(m)},!1),g.readAsDataURL(u.response)}else o("Failed to proxy resource "+i+" with status code "+u.status)},u.onerror=o;var d=r.indexOf("?")>-1?"&":"?";if(u.open("GET",""+r+d+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=c),t._options.imageTimeout){var f=t._options.imageTimeout;u.timeout=f,u.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+i)}}u.send()})},n})(),vue=/^data:image\/svg\+xml/i,yue=/^data:image\/.*;base64,/i,wue=/^data:image\/.*/i,bue=function(n){return zs.SUPPORT_SVG_DRAWING||!Cue(n)},Rw=function(n){return wue.test(n)},_ue=function(n){return yue.test(n)},Lw=function(n){return n.substr(0,4)==="blob"},Cue=function(n){return n.substr(-3).toLowerCase()==="svg"||vue.test(n)},zt=(function(){function n(e,t){this.type=0,this.x=e,this.y=t}return n.prototype.add=function(e,t){return new n(this.x+e,this.y+t)},n})(),Sf=function(n,e,t){return new zt(n.x+(e.x-n.x)*t,n.y+(e.y-n.y)*t)},Dx=(function(){function n(e,t,r,i){this.type=1,this.start=e,this.startControl=t,this.endControl=r,this.end=i}return n.prototype.subdivide=function(e,t){var r=Sf(this.start,this.startControl,e),i=Sf(this.startControl,this.endControl,e),s=Sf(this.endControl,this.end,e),o=Sf(r,i,e),c=Sf(i,s,e),u=Sf(o,c,e);return t?new n(this.start,r,o,u):new n(u,c,s,this.end)},n.prototype.add=function(e,t){return new n(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),xl=function(n){return n.type===1},Eue=(function(){function n(e){var t=e.styles,r=e.bounds,i=zp(t.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],c=zp(t.borderTopRightRadius,r.width,r.height),u=c[0],d=c[1],f=zp(t.borderBottomRightRadius,r.width,r.height),g=f[0],m=f[1],v=zp(t.borderBottomLeftRadius,r.width,r.height),C=v[0],_=v[1],E=[];E.push((s+u)/r.width),E.push((C+g)/r.width),E.push((o+_)/r.height),E.push((d+m)/r.height);var T=Math.max.apply(Math,E);T>1&&(s/=T,o/=T,u/=T,d/=T,g/=T,m/=T,C/=T,_/=T);var k=r.width-u,P=r.height-m,z=r.width-g,Y=r.height-_,Z=t.borderTopWidth,R=t.borderRightWidth,F=t.borderBottomWidth,M=t.borderLeftWidth,G=Pr(t.paddingTop,e.bounds.width),L=Pr(t.paddingRight,e.bounds.width),Q=Pr(t.paddingBottom,e.bounds.width),j=Pr(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?ti(r.left+M/3,r.top+Z/3,s-M/3,o-Z/3,fr.TOP_LEFT):new zt(r.left+M/3,r.top+Z/3),this.topRightBorderDoubleOuterBox=s>0||o>0?ti(r.left+k,r.top+Z/3,u-R/3,d-Z/3,fr.TOP_RIGHT):new zt(r.left+r.width-R/3,r.top+Z/3),this.bottomRightBorderDoubleOuterBox=g>0||m>0?ti(r.left+z,r.top+P,g-R/3,m-F/3,fr.BOTTOM_RIGHT):new zt(r.left+r.width-R/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=C>0||_>0?ti(r.left+M/3,r.top+Y,C-M/3,_-F/3,fr.BOTTOM_LEFT):new zt(r.left+M/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?ti(r.left+M*2/3,r.top+Z*2/3,s-M*2/3,o-Z*2/3,fr.TOP_LEFT):new zt(r.left+M*2/3,r.top+Z*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?ti(r.left+k,r.top+Z*2/3,u-R*2/3,d-Z*2/3,fr.TOP_RIGHT):new zt(r.left+r.width-R*2/3,r.top+Z*2/3),this.bottomRightBorderDoubleInnerBox=g>0||m>0?ti(r.left+z,r.top+P,g-R*2/3,m-F*2/3,fr.BOTTOM_RIGHT):new zt(r.left+r.width-R*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=C>0||_>0?ti(r.left+M*2/3,r.top+Y,C-M*2/3,_-F*2/3,fr.BOTTOM_LEFT):new zt(r.left+M*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=s>0||o>0?ti(r.left+M/2,r.top+Z/2,s-M/2,o-Z/2,fr.TOP_LEFT):new zt(r.left+M/2,r.top+Z/2),this.topRightBorderStroke=s>0||o>0?ti(r.left+k,r.top+Z/2,u-R/2,d-Z/2,fr.TOP_RIGHT):new zt(r.left+r.width-R/2,r.top+Z/2),this.bottomRightBorderStroke=g>0||m>0?ti(r.left+z,r.top+P,g-R/2,m-F/2,fr.BOTTOM_RIGHT):new zt(r.left+r.width-R/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=C>0||_>0?ti(r.left+M/2,r.top+Y,C-M/2,_-F/2,fr.BOTTOM_LEFT):new zt(r.left+M/2,r.top+r.height-F/2),this.topLeftBorderBox=s>0||o>0?ti(r.left,r.top,s,o,fr.TOP_LEFT):new zt(r.left,r.top),this.topRightBorderBox=u>0||d>0?ti(r.left+k,r.top,u,d,fr.TOP_RIGHT):new zt(r.left+r.width,r.top),this.bottomRightBorderBox=g>0||m>0?ti(r.left+z,r.top+P,g,m,fr.BOTTOM_RIGHT):new zt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=C>0||_>0?ti(r.left,r.top+Y,C,_,fr.BOTTOM_LEFT):new zt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?ti(r.left+M,r.top+Z,Math.max(0,s-M),Math.max(0,o-Z),fr.TOP_LEFT):new zt(r.left+M,r.top+Z),this.topRightPaddingBox=u>0||d>0?ti(r.left+Math.min(k,r.width-R),r.top+Z,k>r.width+R?0:Math.max(0,u-R),Math.max(0,d-Z),fr.TOP_RIGHT):new zt(r.left+r.width-R,r.top+Z),this.bottomRightPaddingBox=g>0||m>0?ti(r.left+Math.min(z,r.width-M),r.top+Math.min(P,r.height-F),Math.max(0,g-R),Math.max(0,m-F),fr.BOTTOM_RIGHT):new zt(r.left+r.width-R,r.top+r.height-F),this.bottomLeftPaddingBox=C>0||_>0?ti(r.left+M,r.top+Math.min(Y,r.height-F),Math.max(0,C-M),Math.max(0,_-F),fr.BOTTOM_LEFT):new zt(r.left+M,r.top+r.height-F),this.topLeftContentBox=s>0||o>0?ti(r.left+M+j,r.top+Z+G,Math.max(0,s-(M+j)),Math.max(0,o-(Z+G)),fr.TOP_LEFT):new zt(r.left+M+j,r.top+Z+G),this.topRightContentBox=u>0||d>0?ti(r.left+Math.min(k,r.width+M+j),r.top+Z+G,k>r.width+M+j?0:u-M+j,d-(Z+G),fr.TOP_RIGHT):new zt(r.left+r.width-(R+L),r.top+Z+G),this.bottomRightContentBox=g>0||m>0?ti(r.left+Math.min(z,r.width-(M+j)),r.top+Math.min(P,r.height+Z+G),Math.max(0,g-(R+L)),m-(F+Q),fr.BOTTOM_RIGHT):new zt(r.left+r.width-(R+L),r.top+r.height-(F+Q)),this.bottomLeftContentBox=C>0||_>0?ti(r.left+M+j,r.top+Y,Math.max(0,C-(M+j)),_-(F+Q),fr.BOTTOM_LEFT):new zt(r.left+M+j,r.top+r.height-(F+Q))}return n})(),fr;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(fr||(fr={}));var ti=function(n,e,t,r,i){var s=4*((Math.sqrt(2)-1)/3),o=t*s,c=r*s,u=n+t,d=e+r;switch(i){case fr.TOP_LEFT:return new Dx(new zt(n,d),new zt(n,d-c),new zt(u-o,e),new zt(u,e));case fr.TOP_RIGHT:return new Dx(new zt(n,e),new zt(n+o,e),new zt(u,d-c),new zt(u,d));case fr.BOTTOM_RIGHT:return new Dx(new zt(u,e),new zt(u,e+c),new zt(n+o,d),new zt(n,d));case fr.BOTTOM_LEFT:default:return new Dx(new zt(u,d),new zt(u-o,d),new zt(n,e+c),new zt(n,e))}},ov=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Nue=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},lv=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},Sue=(function(){function n(e,t,r){this.offsetX=e,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return n})(),jx=(function(){function n(e,t){this.path=e,this.target=t,this.type=1}return n})(),Bue=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),Tue=function(n){return n.type===0},$L=function(n){return n.type===1},Iue=function(n){return n.type===2},X3=function(n,e){return n.length===e.length?n.some(function(t,r){return t===e[r]}):!1},kue=function(n,e,t,r,i){return n.map(function(s,o){switch(o){case 0:return s.add(e,t);case 1:return s.add(e+r,t);case 2:return s.add(e+r,t+i);case 3:return s.add(e,t+i)}return s})},WL=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),YL=(function(){function n(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Eue(this.container),this.container.styles.opacity<1&&this.effects.push(new Bue(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Sue(r,i,s))}if(this.container.styles.overflowX!==0){var o=ov(this.curves),c=lv(this.curves);X3(o,c)?this.effects.push(new jx(o,6)):(this.effects.push(new jx(o,2)),this.effects.push(new jx(c,4)))}}return n.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(u){return!$L(u)});if(t||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=ov(r.curves),c=lv(r.curves);X3(o,c)||i.unshift(new jx(c,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(u){return fs(u.target,e)})},n})(),A5=function(n,e,t,r){n.container.elements.forEach(function(i){var s=fs(i.flags,4),o=fs(i.flags,2),c=new YL(i,n);fs(i.styles.display,2048)&&r.push(c);var u=fs(i.flags,8)?[]:r;if(s||o){var d=s||i.styles.isPositioned()?t:e,f=new WL(c);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var g=i.styles.zIndex.order;if(g<0){var m=0;d.negativeZIndex.some(function(C,_){return g>C.element.container.styles.zIndex.order?(m=_,!1):m>0}),d.negativeZIndex.splice(m,0,f)}else if(g>0){var v=0;d.positiveZIndex.some(function(C,_){return g>=C.element.container.styles.zIndex.order?(v=_+1,!1):v>0}),d.positiveZIndex.splice(v,0,f)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else i.styles.isFloating()?d.nonPositionedFloats.push(f):d.nonPositionedInlineLevel.push(f);A5(c,f,s?f:t,u)}else i.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),A5(c,e,t,u);fs(i.flags,8)&&XL(i,u)})},XL=function(n,e){for(var t=n instanceof s5?n.start:1,r=n instanceof s5?n.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof RL&&typeof s.container.value=="number"&&s.container.value!==0&&(t=s.container.value),s.listValue=Rg(t,s.container.styles.listStyleType,!0),t+=r?-1:1}},Fue=function(n){var e=new YL(n,null),t=new WL(e),r=[];return A5(e,t,t,r),XL(e.container,r),t},J3=function(n,e){switch(e){case 0:return bl(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return bl(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return bl(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return bl(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},Uue=function(n,e){switch(e){case 0:return bl(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return bl(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return bl(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return bl(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},Rue=function(n,e){switch(e){case 0:return bl(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return bl(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return bl(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return bl(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},Lue=function(n,e){switch(e){case 0:return Mx(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return Mx(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return Mx(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return Mx(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},Mx=function(n,e){var t=[];return xl(n)?t.push(n.subdivide(.5,!1)):t.push(n),xl(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},bl=function(n,e,t,r){var i=[];return xl(n)?i.push(n.subdivide(.5,!1)):i.push(n),xl(t)?i.push(t.subdivide(.5,!0)):i.push(t),xl(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),xl(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},JL=function(n){var e=n.bounds,t=n.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},cv=function(n){var e=n.styles,t=n.bounds,r=Pr(e.paddingLeft,t.width),i=Pr(e.paddingRight,t.width),s=Pr(e.paddingTop,t.width),o=Pr(e.paddingBottom,t.width);return t.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},Due=function(n,e){return n===0?e.bounds:n===2?cv(e):JL(e)},jue=function(n,e){return n===0?e.bounds:n===2?cv(e):JL(e)},Dw=function(n,e,t){var r=Due(Pf(n.styles.backgroundOrigin,e),n),i=jue(Pf(n.styles.backgroundClip,e),n),s=Mue(Pf(n.styles.backgroundSize,e),t,r),o=s[0],c=s[1],u=zp(Pf(n.styles.backgroundPosition,e),r.width-o,r.height-c),d=Pue(Pf(n.styles.backgroundRepeat,e),u,s,r,i),f=Math.round(r.left+u[0]),g=Math.round(r.top+u[1]);return[d,f,g,o,c]},Bf=function(n){return Fr(n)&&n.value===l0.AUTO},Px=function(n){return typeof n=="number"},Mue=function(n,e,t){var r=e[0],i=e[1],s=e[2],o=n[0],c=n[1];if(!o)return[0,0];if($i(o)&&c&&$i(c))return[Pr(o,t.width),Pr(c,t.height)];var u=Px(s);if(Fr(o)&&(o.value===l0.CONTAIN||o.value===l0.COVER)){if(Px(s)){var d=t.width/t.height;return d<s!=(o.value===l0.COVER)?[t.width,t.width/s]:[t.height*s,t.height]}return[t.width,t.height]}var f=Px(r),g=Px(i),m=f||g;if(Bf(o)&&(!c||Bf(c))){if(f&&g)return[r,i];if(!u&&!m)return[t.width,t.height];if(m&&u){var v=f?r:i*s,C=g?i:r/s;return[v,C]}var _=f?r:t.width,E=g?i:t.height;return[_,E]}if(u){var T=0,k=0;return $i(o)?T=Pr(o,t.width):$i(c)&&(k=Pr(c,t.height)),Bf(o)?T=k*s:(!c||Bf(c))&&(k=T/s),[T,k]}var P=null,z=null;if($i(o)?P=Pr(o,t.width):c&&$i(c)&&(z=Pr(c,t.height)),P!==null&&(!c||Bf(c))&&(z=f&&g?P/r*i:t.height),z!==null&&Bf(o)&&(P=f&&g?z/i*r:t.width),P!==null&&z!==null)return[P,z];throw new Error("Unable to calculate background-size for element")},Pf=function(n,e){var t=n[e];return typeof t>"u"?n[0]:t},Pue=function(n,e,t,r,i){var s=e[0],o=e[1],c=t[0],u=t[1];switch(n){case 2:return[new zt(Math.round(r.left),Math.round(r.top+o)),new zt(Math.round(r.left+r.width),Math.round(r.top+o)),new zt(Math.round(r.left+r.width),Math.round(u+r.top+o)),new zt(Math.round(r.left),Math.round(u+r.top+o))];case 3:return[new zt(Math.round(r.left+s),Math.round(r.top)),new zt(Math.round(r.left+s+c),Math.round(r.top)),new zt(Math.round(r.left+s+c),Math.round(r.height+r.top)),new zt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new zt(Math.round(r.left+s),Math.round(r.top+o)),new zt(Math.round(r.left+s+c),Math.round(r.top+o)),new zt(Math.round(r.left+s+c),Math.round(r.top+o+u)),new zt(Math.round(r.left+s),Math.round(r.top+o+u))];default:return[new zt(Math.round(i.left),Math.round(i.top)),new zt(Math.round(i.left+i.width),Math.round(i.top)),new zt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new zt(Math.round(i.left),Math.round(i.height+i.top))]}},Oue="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Z3="Hidden Text",Que=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=Oue,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Z3)),r.appendChild(s),r.appendChild(i);var c=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(Z3)),r.style.lineHeight="normal",i.style.verticalAlign="super";var u=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:c,middle:u}},n.prototype.getMetrics=function(e,t){var r=e+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},n})(),ZL=(function(){function n(e,t){this.context=e,this.options=t}return n})(),Hue=1e4,Vue=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new Que(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(t){this.ctx.save(),Iue(t)&&(this.ctx.globalAlpha=t.opacity),Tue(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),$L(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return Pa(this,void 0,void 0,function(){var r;return fa(this,function(i){switch(i.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return Pa(this,void 0,void 0,function(){return fa(this,function(r){switch(r.label){case 0:if(fs(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,r,i){var s=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+i);else{var o=nC(t.text);o.reduce(function(c,u){return s.ctx.fillText(u,c,t.bounds.top+i),c+s.ctx.measureText(u).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=$ue(t.fontFamily).join(", "),s=nm(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(t,r){return Pa(this,void 0,void 0,function(){var i,s,o,c,u,d,f,g,m=this;return fa(this,function(v){return i=this.createFontStyle(r),s=i[0],o=i[1],c=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(o,c),d=u.baseline,f=u.middle,g=r.paintOrder,t.textBounds.forEach(function(C){g.forEach(function(_){switch(_){case 0:m.ctx.fillStyle=_s(r.color),m.renderTextWithLetterSpacing(C,r.letterSpacing,d);var E=r.textShadow;E.length&&C.text.trim().length&&(E.slice(0).reverse().forEach(function(T){m.ctx.shadowColor=_s(T.color),m.ctx.shadowOffsetX=T.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=T.offsetY.number*m.options.scale,m.ctx.shadowBlur=T.blur.number,m.renderTextWithLetterSpacing(C,r.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),r.textDecorationLine.length&&(m.ctx.fillStyle=_s(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(T){switch(T){case 1:m.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top+d),C.bounds.width,1);break;case 2:m.ctx.fillRect(C.bounds.left,Math.round(C.bounds.top),C.bounds.width,1);break;case 3:m.ctx.fillRect(C.bounds.left,Math.ceil(C.bounds.top+f),C.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&C.text.trim().length&&(m.ctx.strokeStyle=_s(r.webkitTextStrokeColor),m.ctx.lineWidth=r.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(C.text,C.bounds.left,C.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,r,i){if(i&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var s=cv(t),o=lv(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,t.intrinsicWidth,t.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return Pa(this,void 0,void 0,function(){var r,i,s,o,c,u,k,k,d,f,g,m,z,v,C,Y,_,E,T,k,P,z,Y;return fa(this,function(Z){switch(Z.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,i=t.curves,s=r.styles,o=0,c=r.textNodes,Z.label=1;case 1:return o<c.length?(u=c[o],[4,this.renderTextNode(u,s)]):[3,4];case 2:Z.sent(),Z.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof kL))return[3,8];Z.label=5;case 5:return Z.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return k=Z.sent(),this.renderReplacedElement(r,i,k),[3,8];case 7:return Z.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof FL&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof UL))return[3,12];Z.label=9;case 9:return Z.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return k=Z.sent(),this.renderReplacedElement(r,i,k),[3,12];case 11:return Z.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof jL&&r.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,d.render(r.tree)]):[3,14];case 13:f=Z.sent(),r.width&&r.height&&this.ctx.drawImage(f,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),Z.label=14;case 14:if(r instanceof rC&&(g=Math.min(r.bounds.width,r.bounds.height),r.type===rv?r.checked&&(this.ctx.save(),this.path([new zt(r.bounds.left+g*.39363,r.bounds.top+g*.79),new zt(r.bounds.left+g*.16,r.bounds.top+g*.5549),new zt(r.bounds.left+g*.27347,r.bounds.top+g*.44071),new zt(r.bounds.left+g*.39694,r.bounds.top+g*.5649),new zt(r.bounds.left+g*.72983,r.bounds.top+g*.23),new zt(r.bounds.left+g*.84,r.bounds.top+g*.34085),new zt(r.bounds.left+g*.39363,r.bounds.top+g*.79)]),this.ctx.fillStyle=_s(O3),this.ctx.fill(),this.ctx.restore()):r.type===iv&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+g/2,r.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=_s(O3),this.ctx.fill(),this.ctx.restore())),zue(r)&&r.value.length){switch(m=this.createFontStyle(s),z=m[0],v=m[1],C=this.fontMetrics.getMetrics(z,v).baseline,this.ctx.font=z,this.ctx.fillStyle=_s(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Kue(r.styles.textAlign),Y=cv(r),_=0,r.styles.textAlign){case 1:_+=Y.width/2;break;case 2:_+=Y.width;break}E=Y.add(_,0,0,-Y.height/2+1),this.ctx.save(),this.path([new zt(Y.left,Y.top),new zt(Y.left+Y.width,Y.top),new zt(Y.left+Y.width,Y.top+Y.height),new zt(Y.left,Y.top+Y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new cg(r.value,E),s.letterSpacing,C),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!fs(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(T=r.styles.listStyleImage,T.type!==0)return[3,18];k=void 0,P=T.url,Z.label=15;case 15:return Z.trys.push([15,17,,18]),[4,this.context.cache.match(P)];case 16:return k=Z.sent(),this.ctx.drawImage(k,r.bounds.left-(k.width+10),r.bounds.top),[3,18];case 17:return Z.sent(),this.context.logger.error("Error loading list-style-image "+P),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(z=this.createFontStyle(s)[0],this.ctx.font=z,this.ctx.fillStyle=_s(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Y=new tu(r.bounds.left,r.bounds.top+Pr(r.styles.paddingTop,r.bounds.width),r.bounds.width,_3(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new cg(t.listValue,Y),s.letterSpacing,_3(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Z.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return Pa(this,void 0,void 0,function(){var r,i,T,s,o,T,c,u,T,d,f,T,g,m,T,v,C,T,_,E,T;return fa(this,function(k){switch(k.label){case 0:if(fs(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:k.sent(),r=0,i=t.negativeZIndex,k.label=2;case 2:return r<i.length?(T=i[r],[4,this.renderStack(T)]):[3,5];case 3:k.sent(),k.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:k.sent(),s=0,o=t.nonInlineLevel,k.label=7;case 7:return s<o.length?(T=o[s],[4,this.renderNode(T)]):[3,10];case 8:k.sent(),k.label=9;case 9:return s++,[3,7];case 10:c=0,u=t.nonPositionedFloats,k.label=11;case 11:return c<u.length?(T=u[c],[4,this.renderStack(T)]):[3,14];case 12:k.sent(),k.label=13;case 13:return c++,[3,11];case 14:d=0,f=t.nonPositionedInlineLevel,k.label=15;case 15:return d<f.length?(T=f[d],[4,this.renderStack(T)]):[3,18];case 16:k.sent(),k.label=17;case 17:return d++,[3,15];case 18:g=0,m=t.inlineLevel,k.label=19;case 19:return g<m.length?(T=m[g],[4,this.renderNode(T)]):[3,22];case 20:k.sent(),k.label=21;case 21:return g++,[3,19];case 22:v=0,C=t.zeroOrAutoZIndexOrTransformedOrOpacity,k.label=23;case 23:return v<C.length?(T=C[v],[4,this.renderStack(T)]):[3,26];case 24:k.sent(),k.label=25;case 25:return v++,[3,23];case 26:_=0,E=t.positiveZIndex,k.label=27;case 27:return _<E.length?(T=E[_],[4,this.renderStack(T)]):[3,30];case 28:k.sent(),k.label=29;case 29:return _++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var r=this;t.forEach(function(i,s){var o=xl(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),xl(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(t,r,i,s){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(t,r,i){var s;if(t.width===r&&t.height===i)return t;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,c=o.createElement("canvas");c.width=Math.max(1,r),c.height=Math.max(1,i);var u=c.getContext("2d");return u.drawImage(t,0,0,t.width,t.height,0,0,r,i),c},e.prototype.renderBackgroundImage=function(t){return Pa(this,void 0,void 0,function(){var r,i,s,o,c,u;return fa(this,function(d){switch(d.label){case 0:r=t.styles.backgroundImage.length-1,i=function(f){var g,m,v,G,ie,Ae,j,re,F,C,G,ie,Ae,j,re,_,E,T,k,P,z,Y,Z,R,F,M,G,L,Q,j,re,fe,ie,Ae,me,_e,we,ee,U,H,V,J;return fa(this,function(q){switch(q.label){case 0:if(f.type!==0)return[3,5];g=void 0,m=f.url,q.label=1;case 1:return q.trys.push([1,3,,4]),[4,s.context.cache.match(m)];case 2:return g=q.sent(),[3,4];case 3:return q.sent(),s.context.logger.error("Error loading background-image "+m),[3,4];case 4:return g&&(v=Dw(t,r,[g.width,g.height,g.width/g.height]),G=v[0],ie=v[1],Ae=v[2],j=v[3],re=v[4],F=s.ctx.createPattern(s.resizeImage(g,j,re),"repeat"),s.renderRepeat(G,F,ie,Ae)),[3,6];case 5:Tle(f)?(C=Dw(t,r,[null,null,null]),G=C[0],ie=C[1],Ae=C[2],j=C[3],re=C[4],_=Cle(f.angle,j,re),E=_[0],T=_[1],k=_[2],P=_[3],z=_[4],Y=document.createElement("canvas"),Y.width=j,Y.height=re,Z=Y.getContext("2d"),R=Z.createLinearGradient(T,P,k,z),w3(f.stops,E).forEach(function(te){return R.addColorStop(te.stop,_s(te.color))}),Z.fillStyle=R,Z.fillRect(0,0,j,re),j>0&&re>0&&(F=s.ctx.createPattern(Y,"repeat"),s.renderRepeat(G,F,ie,Ae))):Ile(f)&&(M=Dw(t,r,[null,null,null]),G=M[0],L=M[1],Q=M[2],j=M[3],re=M[4],fe=f.position.length===0?[Z_]:f.position,ie=Pr(fe[0],j),Ae=Pr(fe[fe.length-1],re),me=Ele(f,ie,Ae,j,re),_e=me[0],we=me[1],_e>0&&we>0&&(ee=s.ctx.createRadialGradient(L+ie,Q+Ae,0,L+ie,Q+Ae,_e),w3(f.stops,_e*2).forEach(function(te){return ee.addColorStop(te.stop,_s(te.color))}),s.path(G),s.ctx.fillStyle=ee,_e!==we?(U=t.bounds.left+.5*t.bounds.width,H=t.bounds.top+.5*t.bounds.height,V=we/_e,J=1/V,s.ctx.save(),s.ctx.translate(U,H),s.ctx.transform(1,0,0,V,0,0),s.ctx.translate(-U,-H),s.ctx.fillRect(L,J*(Q-H)+H,j,re*J),s.ctx.restore()):s.ctx.fill())),q.label=6;case 6:return r--,[2]}})},s=this,o=0,c=t.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<c.length?(u=c[o],[5,i(u)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,r,i){return Pa(this,void 0,void 0,function(){return fa(this,function(s){return this.path(J3(i,r)),this.ctx.fillStyle=_s(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,r,i,s){return Pa(this,void 0,void 0,function(){var o,c;return fa(this,function(u){switch(u.label){case 0:return r<3?[4,this.renderSolidBorder(t,i,s)]:[3,2];case 1:return u.sent(),[2];case 2:return o=Uue(s,i),this.path(o),this.ctx.fillStyle=_s(t),this.ctx.fill(),c=Rue(s,i),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return Pa(this,void 0,void 0,function(){var r,i,s,o,c,u,d,f,g=this;return fa(this,function(m){switch(m.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,i=!Ad(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=Gue(Pf(r.backgroundClip,0),t.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ad(r.backgroundColor)||(this.ctx.fillStyle=_s(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(v){g.ctx.save();var C=ov(t.curves),_=v.inset?0:Hue,E=kue(C,-_+(v.inset?1:-1)*v.spread.number,(v.inset?1:-1)*v.spread.number,v.spread.number*(v.inset?-2:2),v.spread.number*(v.inset?-2:2));v.inset?(g.path(C),g.ctx.clip(),g.mask(E)):(g.mask(C),g.ctx.clip(),g.path(E)),g.ctx.shadowOffsetX=v.offsetX.number+_,g.ctx.shadowOffsetY=v.offsetY.number,g.ctx.shadowColor=_s(v.color),g.ctx.shadowBlur=v.blur.number,g.ctx.fillStyle=v.inset?_s(v.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),m.label=2;case 2:c=0,u=0,d=s,m.label=3;case 3:return u<d.length?(f=d[u],f.style!==0&&!Ad(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,c,t.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,c,t.curves,3)];case 6:return m.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,c,t.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,c,t.curves)];case 10:m.sent(),m.label=11;case 11:c++,m.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,r,i,s,o){return Pa(this,void 0,void 0,function(){var c,u,d,f,g,m,v,C,_,E,T,k,P,z,Y,Z,Y,Z;return fa(this,function(R){return this.ctx.save(),c=Lue(s,i),u=J3(s,i),o===2&&(this.path(u),this.ctx.clip()),xl(u[0])?(d=u[0].start.x,f=u[0].start.y):(d=u[0].x,f=u[0].y),xl(u[1])?(g=u[1].end.x,m=u[1].end.y):(g=u[1].x,m=u[1].y),i===0||i===2?v=Math.abs(d-g):v=Math.abs(f-m),this.ctx.beginPath(),o===3?this.formatPath(c):this.formatPath(u.slice(0,2)),C=r<3?r*3:r*2,_=r<3?r*2:r,o===3&&(C=r,_=r),E=!0,v<=C*2?E=!1:v<=C*2+_?(T=v/(2*C+_),C*=T,_*=T):(k=Math.floor((v+_)/(C+_)),P=(v-k*C)/(k-1),z=(v-(k+1)*C)/k,_=z<=0||Math.abs(_-P)<Math.abs(_-z)?P:z),E&&(o===3?this.ctx.setLineDash([0,C+_]):this.ctx.setLineDash([C,_])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=_s(t),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(xl(u[0])&&(Y=u[3],Z=u[0],this.ctx.beginPath(),this.formatPath([new zt(Y.end.x,Y.end.y),new zt(Z.start.x,Z.start.y)]),this.ctx.stroke()),xl(u[1])&&(Y=u[1],Z=u[2],this.ctx.beginPath(),this.formatPath([new zt(Y.end.x,Y.end.y),new zt(Z.start.x,Z.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return Pa(this,void 0,void 0,function(){var r;return fa(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=Fue(t),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(ZL),zue=function(n){return n instanceof DL||n instanceof LL?!0:n instanceof rC&&n.type!==iv&&n.type!==rv},Gue=function(n,e){switch(n){case 0:return ov(e);case 2:return Nue(e);case 1:default:return lv(e)}},Kue=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},que=["-apple-system","system-ui"],$ue=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return que.indexOf(e)===-1}):n},Wue=(function(n){uc(e,n);function e(t,r){var i=n.call(this,t,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(t){return Pa(this,void 0,void 0,function(){var r,i;return fa(this,function(s){switch(s.label){case 0:return r=i5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Yue(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_s(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(ZL),Yue=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Xue=(function(){function n(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mx([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mx([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),Jue=(function(){function n(e,t){var r;this.windowBounds=t,this.instanceName="#"+n.instanceCount++,this.logger=new Xue({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new xue(this,e)}return n.instanceCount=1,n})(),eD=function(n,e){return e===void 0&&(e={}),Zue(n,e)};typeof window<"u"&&qL.setContext(window);var Zue=function(n,e){return Pa(void 0,void 0,void 0,function(){var t,r,i,s,o,c,u,d,f,g,m,v,C,_,E,T,k,P,z,Y,R,Z,R,F,M,G,L,Q,j,re,fe,ie,Ae,me,_e,we,ee,U,H,V;return fa(this,function(J){switch(J.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=n.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(F=e.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(M=e.imageTimeout)!==null&&M!==void 0?M:15e3,proxy:e.proxy,useCORS:(G=e.useCORS)!==null&&G!==void 0?G:!1},s=Vb({logging:(L=e.logging)!==null&&L!==void 0?L:!0,cache:e.cache},i),o={windowWidth:(Q=e.windowWidth)!==null&&Q!==void 0?Q:r.innerWidth,windowHeight:(j=e.windowHeight)!==null&&j!==void 0?j:r.innerHeight,scrollX:(re=e.scrollX)!==null&&re!==void 0?re:r.pageXOffset,scrollY:(fe=e.scrollY)!==null&&fe!==void 0?fe:r.pageYOffset},c=new tu(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),u=new Jue(s,c),d=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,f={allowTaint:(Ae=e.allowTaint)!==null&&Ae!==void 0?Ae:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},u.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),g=new W3(u,n,f),m=g.clonedReferenceElement,m?[4,g.toIFrame(t,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=J.sent(),C=iC(m)||tue(m)?kae(m.ownerDocument):oy(u,m),_=C.width,E=C.height,T=C.left,k=C.top,P=ede(u,m,e.backgroundColor),z={canvas:e.canvas,backgroundColor:P,scale:(_e=(me=e.scale)!==null&&me!==void 0?me:r.devicePixelRatio)!==null&&_e!==void 0?_e:1,x:((we=e.x)!==null&&we!==void 0?we:0)+T,y:((ee=e.y)!==null&&ee!==void 0?ee:0)+k,width:(U=e.width)!==null&&U!==void 0?U:Math.ceil(_),height:(H=e.height)!==null&&H!==void 0?H:Math.ceil(E)},d?(u.logger.debug("Document cloned, using foreign object rendering"),R=new Wue(u,z),[4,R.render(m)]):[3,3];case 2:return Y=J.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+T+","+k+" with size "+_+"x"+E+" using computed rendering"),u.logger.debug("Starting DOM parsing"),Z=PL(u,m),P===Z.styles.backgroundColor&&(Z.styles.backgroundColor=GA.TRANSPARENT),u.logger.debug("Starting renderer for element at "+z.x+","+z.y+" with size "+z.width+"x"+z.height),R=new Vue(u,z),[4,R.render(Z)];case 4:Y=J.sent(),J.label=5;case 5:return(!((V=e.removeContainer)!==null&&V!==void 0)||V)&&(W3.destroy(v)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,Y]}})})},ede=function(n,e,t){var r=e.ownerDocument,i=r.documentElement?og(n,getComputedStyle(r.documentElement).backgroundColor):GA.TRANSPARENT,s=r.body?og(n,getComputedStyle(r.body).backgroundColor):GA.TRANSPARENT,o=typeof t=="string"?og(n,t):t===null?GA.TRANSPARENT:4294967295;return e===r.documentElement?Ad(i)?Ad(s)?o:s:i:o};const tde=Object.freeze(Object.defineProperty({__proto__:null,default:eD},Symbol.toStringTag,{value:"Module"})),Q0=(n,e)=>{const t=aw.json_to_sheet(n),r=aw.book_new();aw.book_append_sheet(r,t,"Sheet1"),yse(r,`${e}.xlsx`)},nde=(n,e,t)=>{var u,d,f,g;let r="";const i="color: #000000; opacity: 1;",s=t.showSectionHeader!==!1,o=t.dataLayout||1,c=t.fontSize||12;return n==="rx"?(s&&(r+=`<div style="font-weight: 900; font-size: ${c*1.5}px; margin-bottom: 15px; font-style: italic; ${i}">Rx</div>`),e.prescription&&e.prescription.length>0&&(o===1?r+=`
                    <table style="width: 100%; border-collapse: collapse; font-family: sans-serif; ${i}">
                        <thead>
                            <tr style="background-color: #f0f0f0;">
                                <th style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 50%;">Drug Name</th>
                                <th style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 25%;">Frequency</th>
                                <th style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 25%;">Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${e.prescription.map(m=>`
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-weight: bold; font-size: ${c}px;">${m.drug} ${m.dose?`(${m.dose})`:""}</td>
                                    <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.frequency}</td>
                                    <td style="border: 1px solid #000; padding: 8px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.duration||"-"}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                `:o===2?r+=`
                    <table style="width: 100%; border-collapse: collapse; font-family: sans-serif; ${i}">
                        <thead>
                            <tr style="border-bottom: 2px solid #000;">
                                <th style="padding: 8px 4px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 50%;">Drug Name</th>
                                <th style="padding: 8px 4px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 25%;">Frequency</th>
                                <th style="padding: 8px 4px; text-align: center; vertical-align: middle; font-size: ${c}px; width: 25%;">Duration</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${e.prescription.map(m=>`
                                <tr style="border-bottom: 1px solid #ddd;">
                                    <td style="padding: 10px 4px; text-align: center; vertical-align: middle; font-weight: bold; font-size: ${c}px;">${m.drug} ${m.dose?`(${m.dose})`:""}</td>
                                    <td style="padding: 10px 4px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.frequency}</td>
                                    <td style="padding: 10px 4px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.duration||""}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                `:o===3&&(r+=`
                    <table style="width: 100%; border-collapse: collapse; font-family: sans-serif; ${i}">
                        <thead>
                            <tr style="background-color: #000; color: #fff;">
                                <th style="padding: 6px 10px; text-align: center; vertical-align: middle; font-size: ${c}px; color: #fff; width: 50%;">DRUG</th>
                                <th style="padding: 6px 10px; text-align: center; vertical-align: middle; font-size: ${c}px; color: #fff; width: 25%;">FREQ</th>
                                <th style="padding: 6px 10px; text-align: center; vertical-align: middle; font-size: ${c}px; color: #fff; width: 25%;">DUR</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${e.prescription.map((m,v)=>`
                                <tr style="background-color: ${v%2===0?"#fff":"#f9f9f9"};">
                                    <td style="padding: 8px 10px; text-align: center; vertical-align: middle; font-weight: 900; font-size: ${c}px;">${m.drug} ${m.dose?`(${m.dose})`:""}</td>
                                    <td style="padding: 8px 10px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.frequency}</td>
                                    <td style="padding: 8px 10px; text-align: center; vertical-align: middle; font-size: ${c}px;">${m.duration||""}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                `))):n==="requests"?(s&&(r+=`<div style="font-weight: 900; font-size: ${c*1.2}px; margin-bottom: 15px; text-decoration: underline; ${i}">Requested Investigations</div>`),((((u=e.investigationItems)==null?void 0:u.length)||0)>0||(((d=e.scans)==null?void 0:d.length)||0)>0)&&(r+=`<ul style="font-weight: bold; font-size: ${c}px; line-height: 1.6; list-style-type: disc; padding-left: 20px; ${i}">`,(f=e.investigationItems)==null||f.forEach(m=>r+=`<li>${m.name}</li>`),(g=e.scans)==null||g.forEach(m=>r+=`<li>${m.name}</li>`),r+="</ul>")):(s&&(r+=`<div style="text-align: center; font-weight: 900; font-size: ${c*1.4}px; margin-bottom: 20px; ${i}">MEDICAL REPORT</div>`),e.pastHistory&&(r+=`<div style="font-size: ${c}px; line-height: 1.6; text-align: justify; white-space: pre-wrap; ${i}">${e.pastHistory}</div>`),e.diagnosis&&(r+=`<div style="margin-top: 20px; font-weight: bold; font-size: ${c}px; ${i}">Diagnosis: ${e.diagnosis}</div>`)),r},rde=(n,e,t)=>{var r,i,s,o;return n.replace("{{CLINIC_NAME}}",t.clinicName||"").replace("{{DOCTOR_NAME}}",t.doctorName||"").replace("{{SPECIALTY}}",t.specialty||"").replace("{{DATE}}",e.date||new Date().toLocaleDateString()).replace("{{PATIENT_NAME}}",e.name||"").replace("{{AGE}}",e.age?`${e.age}Y`:"").replace("{{PHONES}}",t.phones.join(" | ")).replace("{{ADDRESSES}}",t.addresses.join(" - ")).replace("{{WEIGHT}}",e.weight?`${e.weight}kg`:"").replace("{{HEIGHT}}",e.height?`${e.height}cm`:"").replace("{{BP}}",((r=e.vitals)==null?void 0:r.bp)||"").replace("{{HR}}",((i=e.vitals)==null?void 0:i.hr)||"").replace("{{TEMP}}",((s=e.vitals)==null?void 0:s.temp)||"").replace("{{O2}}",((o=e.vitals)==null?void 0:o.rr)||"")},ide=(n,e,t,r)=>{const i=3.7795275591,s=n.paperSize==="A4"?{w:210,h:297}:{w:148,h:210},o=document.createElement("div");return o.className="print-page",o.style.width=`${s.w*i}px`,o.style.height=`${s.h*i}px`,o.style.position="relative",o.style.overflow="hidden",o.style.backgroundColor="white",o.style.color="black",o.dir="ltr",n.backgroundUrl&&(o.style.backgroundImage=`url(${n.backgroundUrl})`,o.style.backgroundSize="100% 100%"),n.elements.forEach(c=>{const u=document.createElement("div");if(u.style.position="absolute",u.style.left=`${c.x}%`,u.style.top=`${c.y}%`,u.style.width=`${c.w}%`,u.style.height=`${c.h}%`,u.style.zIndex=`${c.zIndex||10}`,u.style.color="#000000",u.style.overflow="visible",c.type==="text"&&c.content)u.innerText=rde(c.content,t,e),u.style.fontSize=`${c.fontSize||12}px`,u.style.fontWeight=c.fontWeight||"normal",u.style.textAlign=c.align||"left",u.style.lineHeight="1.2",u.style.whiteSpace="pre-wrap";else if(c.type==="image"&&c.content){const d=document.createElement("img");d.src=c.content,d.style.width="100%",d.style.height="100%",d.style.objectFit="contain",u.appendChild(d)}else c.type==="data_block"&&(u.innerHTML=nde(r,t,c),u.style.fontSize=`${c.fontSize||12}px`);o.appendChild(u)}),o},rm=async(n,e,t,r,i)=>{const s=document.createElement("div");s.style.position="fixed",s.style.left="-10000px",s.style.top="0",document.body.appendChild(s);const o=ide(e,t,n,i);s.appendChild(o);try{const u=(await eD(o,{scale:2,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/jpeg",1),d=e.paperSize==="A4"?{w:210,h:297}:{w:148,h:210},f=new xn({orientation:"portrait",unit:"mm",format:[d.w,d.h]});f.addImage(u,"JPEG",0,0,d.w,d.h),f.save(`${r}.pdf`)}catch(c){console.error("PDF Generation Error",c),alert("Failed to generate PDF.")}finally{document.body.removeChild(s)}},sde=async(n,e,t,r)=>{await rm({name:n,date:e,prescription:t},r.rx,r,`Rx_${n}`,"rx")},ade=async(n,e,t,r,i)=>{await rm({name:n,date:e,investigationItems:t,scans:r},i.requests,i,`Requests_${n}`,"requests")},tD=async(n,e)=>{await rm(n,e.reports,e,`Report_${n.name}`,"reports")},ode=async(n,e)=>{await rm(n,e.requests,e,`Session_${n.name}`,"requests")},Xi=n=>{if(!n)return"-";if(/^\d{2}\/\d{2}\/\d{4}$/.test(n))return n;if(n.includes("-")){const e=n.split("-");if(e.length===3)return`${e[2]}/${e[1]}/${e[0]}`}return n},lde=()=>{var ze,ft,ht,It,Tt,Ue;const[n,e]=se.useState("Desk"),{systemUser:t}=qr(),{setHeaderHidden:r}=se.useContext($o),{appointments:i,addAppointment:s,updateAppointment:o,updateAppointmentStatus:c,reorderQueue:u,deleteAppointment:d,doctorStatus:f,callingPatientId:g,isBookingPaused:m,hasAssistantDoctor:v,assistantDoctorStatus:C,callingPatientIdAssistant:_}=bi(),E=new Date().toISOString().split("T")[0],[T,k]=se.useState(""),[P,z]=se.useState(""),[Y,Z]=se.useState("All"),[R,F]=se.useState(""),[M,G]=se.useState("All"),[L,Q]=se.useState("All"),[j,re]=se.useState(!1),[fe,ie]=se.useState(null),[Ae,me]=se.useState({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New"}),[_e,we]=se.useState(null);se.useEffect(()=>{r(j)},[j,r]);const ee=(t==null?void 0:t.role)==="admin"||((ht=(ft=(ze=t==null?void 0:t.permissions)==null?void 0:ze.front_desk)==null?void 0:ft.actions)==null?void 0:ht.add_booking),U=(t==null?void 0:t.role)==="admin"||((Ue=(Tt=(It=t==null?void 0:t.permissions)==null?void 0:It.front_desk)==null?void 0:Tt.actions)==null?void 0:Ue.delete_booking),H=m,V=se.useMemo(()=>i.filter(ke=>{const Gt=ke.name.toLowerCase().includes(R.toLowerCase())||ke.phone.includes(R),$t=Y==="All"||ke.source===Y,fn=M==="All"||ke.status===M,nn=L==="All"||ke.visitType===L,Jt=T?ke.date>=T:!0,hr=P?ke.date<=P:!0;return Gt&&$t&&fn&&nn&&Jt&&hr}),[i,R,Y,M,L,T,P]),J={total:V.length,checkIn:V.filter(ke=>ke.status==="checked-in").length,today:V.filter(ke=>ke.date===E).length},q=()=>{if(H){alert("The doctor has stopped receiving patients for today.");return}ie(null),me({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New",age:"",residence:"",phone:"",contactingNumber:""}),re(!0)},te=ke=>{ie(ke.id),me({...ke}),re(!0)},xe=ke=>{if(ke.preventDefault(),Ae.name&&Ae.phone){if(Ae.date===E&&H&&!fe){alert("The doctor has stopped receiving patients for today.");return}fe?o(fe,Ae):s(Ae),re(!1),ie(null),me({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New"})}},ue=()=>{if(H){alert("The doctor has stopped receiving patients for today.");return}const ke=new Date;ie(null),me({date:ke.toISOString().split("T")[0],time:ke.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),name:"",phone:"",contactingNumber:"",source:"Walk-in",paid:0,notes:"",status:"checked-in",checkInTime:ke.getTime(),visitType:"New",age:"",residence:""}),re(!0)},be=()=>{k(""),z(""),Z("All"),G("All"),Q("All"),F("")},Ve=()=>{k(E),z(E)},Pe=se.useMemo(()=>i.filter(ke=>ke.status==="checked-in"||ke.status==="in-assistant").sort((ke,Gt)=>(ke.queueOrder??9999)-(Gt.queueOrder??9999)||(ke.checkInTime||0)-(Gt.checkInTime||0)),[i]),We=se.useMemo(()=>i.find(ke=>ke.status==="in-exam"),[i]),nt=se.useMemo(()=>i.find(ke=>ke.id===g&&ke.status==="checked-in"),[i,g]),Re=se.useMemo(()=>i.find(ke=>ke.status==="in-assistant"),[i]),Ee=se.useMemo(()=>i.find(ke=>ke.id===_&&ke.status==="checked-in"),[i,_]),at=(ke,Gt)=>{ke.dataTransfer.setData("index",Gt.toString())},St=ke=>{ke.preventDefault()},tt=(ke,Gt)=>{const $t=Number(ke.dataTransfer.getData("index"));u($t,Gt)},At=ke=>{f!=="resting"&&(We&&c(We.id,"completed"),c(ke.id,"in-exam"))},Et=ke=>{c(ke.id,"in-assistant")},Bt=ke=>{we(ke)},Dt=()=>{_e&&(d(_e),we(null))},Ne=()=>{const ke=V.map(Gt=>({No:Gt.no,Date:Xi(Gt.date),Time:Gt.time,Name:Gt.name,Age:Gt.age||"-",Residence:Gt.residence||"-",VisitType:Gt.visitType||"-",Phone:Gt.phone,ContactingNumber:Gt.contactingNumber||"-",Source:Gt.source,Paid:Gt.paid,Status:Gt.status,Notes:Gt.notes}));Q0(ke,`Bookings_List_${E}`)};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:[{id:"Desk",icon:a.jsx(x0,{size:20})},{id:"Clinic Live",icon:a.jsx(I1,{size:20})}].map(ke=>a.jsxs("button",{onClick:()=>e(ke.id),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${n===ke.id?"bg-neon-blue text-black shadow-[0_0_15px_-3px_rgba(0,243,255,0.4)] transform -translate-y-1":"bg-black/30 border border-white/5 text-gray-400 hover:text-white hover:bg-white/5"}`,children:[" ",ke.icon," ",ke.id," "]},ke.id))}),m&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 flex items-center gap-5 animate-pulse-slow",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/20 flex items-center justify-center text-red-500 shadow-[0_0_15px_rgba(239,68,68,0.3)]",children:a.jsx(kd,{size:28})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-black text-red-400 uppercase tracking-[0.1em] text-lg",children:"Doctor Stopped Receiving Patients"}),a.jsx("p",{className:"text-sm text-red-200/80 font-medium italic",children:"The doctor has stopped receiving patients for today."})]})]}),n==="Desk"&&a.jsxs("div",{className:"animate-fade-in space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsx(Mt,{className:"p-6 flex flex-col justify-center space-y-2 lg:col-span-3 border-white/10",noTilt:!0,children:a.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Date From"})," ",a.jsx("input",{type:"date",value:T,onChange:ke=>k(ke.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Date To"})," ",a.jsx("input",{type:"date",value:P,onChange:ke=>z(ke.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Source"})," ",a.jsxs("select",{value:Y,onChange:ke=>Z(ke.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[120px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:"All Sources"})," ",a.jsx("option",{value:"Social Media",className:"bg-gray-900",children:"Social Media"})," ",a.jsx("option",{value:"Phone Call",className:"bg-gray-900",children:"Phone Call"})," ",a.jsx("option",{value:"Clinic Visit",className:"bg-gray-900",children:"Clinic Visit"})," ",a.jsx("option",{value:"Walk-in",className:"bg-gray-900",children:"Walk-in"})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Status"})," ",a.jsxs("select",{value:M,onChange:ke=>G(ke.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[100px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:"All Status"})," ",a.jsx("option",{value:"booked",className:"bg-gray-900",children:"Booked"})," ",a.jsx("option",{value:"checked-in",className:"bg-gray-900",children:"Checked In"})," ",a.jsx("option",{value:"in-exam",className:"bg-gray-900",children:"In Exam"})," ",a.jsx("option",{value:"completed",className:"bg-gray-900",children:"Completed"})," ",a.jsx("option",{value:"cancelled",className:"bg-gray-900",children:"Cancelled"})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Visit Type"})," ",a.jsxs("select",{value:L,onChange:ke=>Q(ke.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[100px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:"All Types"})," ",a.jsx("option",{value:"New",className:"bg-gray-900",children:"New"})," ",a.jsx("option",{value:"Follow-up",className:"bg-gray-900",children:"Follow-up"})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 flex-1 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:"Search"})," ",a.jsxs("div",{className:"relative group",children:[" ",a.jsx(Pv,{size:16,className:"absolute left-3 top-2.5 text-gray-500 group-focus-within:text-neon-blue transition-colors"})," ",a.jsx("input",{type:"text",value:R,onChange:ke=>F(ke.target.value),placeholder:"Name or Phone...",className:"w-full bg-black/40 border border-white/10 rounded-lg pl-10 pr-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors focus:bg-black/60"})," "]})," "]}),a.jsxs("div",{className:"flex gap-2",children:[" ",a.jsxs("button",{onClick:be,className:"p-2.5 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white transition-colors border border-white/5",title:"Reset Filters",children:[" ",a.jsx(vd,{size:18})," "]})," "]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-neon-blue/5 border border-neon-blue/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(0,243,255,0.1)] hover:bg-neon-blue/10 transition-colors group",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(0,243,255,0.5)] transition-all",children:J.total})," ",a.jsx("span",{className:"text-[10px] text-neon-blue uppercase font-bold tracking-widest mt-1",children:"Total"})," "]}),a.jsxs("div",{className:"bg-purple-500/5 border border-purple-500/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(168,85,247,0.1)] hover:bg-purple-500/10 transition-colors group",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(168,85,247,0.5)] transition-all",children:J.checkIn})," ",a.jsx("span",{className:"text-[10px] text-purple-400 uppercase font-bold tracking-widest mt-1",children:"Checked In"})," "]}),a.jsxs("div",{onClick:Ve,className:"bg-green-500/5 border border-green-500/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(34,197,94,0.1)] hover:bg-green-500/10 transition-colors group cursor-pointer",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(34,197,94,0.5)] transition-all",children:J.today})," ",a.jsx("span",{className:"text-[10px] text-green-400 uppercase font-bold tracking-widest mt-1 group-hover:underline",children:"Today"})," "]})]})]}),a.jsxs(Mt,{className:"p-0 overflow-hidden border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-black/20 relative z-10",children:[a.jsxs("h3",{className:"text-xl font-bold text-neon-blue flex items-center gap-2",children:[a.jsx(x0,{size:20})," Bookings List"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-green-600/10 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-600/20 transition-colors font-bold text-xs uppercase tracking-wide",children:[a.jsx(B0,{size:16})," Excel"]}),ee&&a.jsxs("button",{onClick:q,disabled:H,className:`flex items-center gap-2 px-5 py-2 rounded-lg text-black font-bold transition-all text-xs uppercase tracking-wide
                                    ${H?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-40 border border-gray-700":"bg-gradient-to-r from-neon-blue to-cyan-600 hover:shadow-[0_0_15px_rgba(0,243,255,0.4)] hover:scale-105 active:scale-95"}`,children:[a.jsx(za,{size:16})," Add Booking"]})]})]}),a.jsxs("div",{className:"overflow-x-auto relative z-10",children:[a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"No"}),a.jsx("th",{className:"p-4",children:"Date / Time"}),a.jsx("th",{className:"p-4",children:"Patient Name"}),a.jsx("th",{className:"p-4",children:"Visit Type"}),a.jsx("th",{className:"p-4",children:"Residence"}),a.jsx("th",{className:"p-4",children:"Phone"}),a.jsx("th",{className:"p-4",children:"Source"}),a.jsx("th",{className:"p-4",children:"Payment"}),a.jsx("th",{className:"p-4",children:"Notes"}),a.jsx("th",{className:"p-4",children:"Status"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-white/5",children:V.map(ke=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-4 font-mono text-xs opacity-60",children:ke.no}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-bold text-white",children:Xi(ke.date)}),a.jsx("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:ke.time})]}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-medium text-white group-hover:text-neon-blue transition-colors text-base",children:ke.name}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:["Age: ",ke.age?`${ke.age} yrs`:"-"]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-1 rounded border ${ke.visitType==="New"?"text-neon-blue border-neon-blue/30 bg-neon-blue/10":"text-purple-400 border-purple-400/30 bg-purple-400/10"}`,children:ke.visitType||"-"})}),a.jsx("td",{className:"p-4 text-xs text-gray-300",children:ke.residence||"-"}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-mono text-gray-400",children:ke.phone}),ke.contactingNumber&&a.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5",children:["Contact: ",ke.contactingNumber]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-xs font-medium",children:ke.source})}),a.jsxs("td",{className:"p-4 text-green-400 font-mono font-bold",children:["$",ke.paid]}),a.jsx("td",{className:"p-4 max-w-[150px] truncate text-xs italic text-gray-500",title:ke.notes,children:ke.notes||"-"}),a.jsx("td",{className:"p-4",children:a.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border
                                    ${ke.status==="checked-in"?"bg-purple-500/10 text-purple-400 border-purple-500/20":ke.status==="booked"?"bg-blue-500/10 text-blue-400 border-blue-500/20":ke.status==="in-exam"?"bg-red-500/10 text-red-400 border-red-500/20 animate-pulse":ke.status==="in-assistant"?"bg-cyan-500/10 text-cyan-400 border-cyan-500/20 animate-pulse":ke.status==="completed"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-gray-700/30 text-gray-500 border-gray-600/30"} 
                                `,children:[" ",ke.status," "]})}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("button",{onClick:()=>te(ke),className:"p-1.5 text-blue-400 hover:text-white bg-blue-500/10 hover:bg-blue-500/30 rounded-lg transition-colors",title:"Edit",children:[" ",a.jsx(ya,{size:16})," "]}),ke.status==="booked"&&a.jsxs("button",{onClick:()=>c(ke.id,"checked-in"),className:"p-1.5 text-purple-400 hover:text-white bg-purple-500/10 hover:bg-purple-500/30 rounded-lg transition-colors",title:"Check In",children:[" ",a.jsx(md,{size:16})," "]}),ke.status!=="cancelled"&&ke.status!=="completed"&&a.jsx("button",{onClick:()=>c(ke.id,"cancelled"),className:"p-1.5 text-orange-400 hover:text-white bg-orange-500/10 hover:bg-orange-500/30 rounded-lg transition-colors",title:"Cancel",children:a.jsx(JF,{size:16})}),U&&a.jsx("button",{onClick:()=>Bt(ke.id),className:"p-1.5 text-red-400 hover:text-white bg-red-500/10 hover:bg-red-500/30 rounded-lg transition-colors",title:"Delete",children:a.jsx(Ii,{size:16})})]})})]},ke.id))})]}),V.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500 italic",children:"No bookings found matching filters."})]})]})]}),n==="Clinic Live"&&a.jsxs("div",{className:"animate-fade-in grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(I1,{size:20})})," Live Queue"]}),a.jsxs("div",{className:"flex gap-2",children:[f==="resting"&&a.jsxs("div",{className:"flex items-center gap-2 bg-red-500/10 px-4 py-1.5 rounded-full border border-red-500/30 shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-red-400 tracking-wider",children:"DOCTOR RESTING"})]}),ee&&a.jsxs("button",{onClick:ue,disabled:H,className:`flex items-center gap-2 px-5 py-2 rounded-lg font-bold transition-all text-xs uppercase tracking-wider
                        ${H?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-40 border border-gray-700":"bg-purple-600/10 border border-purple-500/30 text-purple-300 hover:bg-purple-600/30 hover:shadow-[0_0_15px_-5px_rgba(147,51,234,0.3)]"}`,children:[a.jsx(Sh,{size:16})," Walk In"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[Pe.map((ke,Gt)=>{const $t=g===ke.id||_===ke.id;return a.jsxs("div",{draggable:!0,onDragStart:fn=>at(fn,Gt),onDragOver:St,onDrop:fn=>tt(fn,Gt),className:`p-4 rounded-xl flex justify-between items-center cursor-move transition-all duration-300 group border relative overflow-hidden ${$t?"bg-neon-blue/10 border-neon-blue/50 shadow-[0_0_20px_-5px_rgba(0,243,255,0.3)] scale-[1.02] z-10":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}`,children:[$t&&a.jsx("div",{className:"absolute inset-0 bg-neon-blue/5 animate-pulse-slow pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[a.jsx("div",{className:"text-gray-600 group-hover:text-gray-400 cursor-grab active:cursor-grabbing transition-colors",children:a.jsx(HF,{size:20})}),a.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-black text-lg border-2 shadow-lg transition-all ${$t?"bg-neon-blue text-black border-neon-blue shadow-[0_0_15px_rgba(0,243,255,0.5)]":"bg-gray-800 text-gray-400 border-gray-700 group-hover:border-gray-500 group-hover:text-white"}`,children:[" ",Gt+1," "]}),a.jsxs("div",{children:[a.jsxs("h4",{className:`font-bold text-lg flex items-center gap-3 ${$t?"text-neon-blue text-glow":"text-white"}`,children:[ke.name,$t&&a.jsx("span",{className:"text-[10px] text-black font-black px-2 py-0.5 bg-neon-blue rounded uppercase tracking-widest shadow-lg animate-pulse",children:"Called"}),ke.status==="in-assistant"&&a.jsxs("span",{className:"text-[9px] bg-cyan-500/20 text-cyan-400 border border-cyan-500/40 px-2 py-0.5 rounded flex items-center gap-1 uppercase tracking-wider",children:[a.jsx(bg,{size:10})," Sheeting"]}),ke.isSheeted&&a.jsxs("span",{className:"text-[9px] bg-green-500/20 text-green-400 border border-green-500/40 px-2 py-0.5 rounded flex items-center gap-1 uppercase tracking-wider",children:[a.jsx(md,{size:10})," Sheeted"]})]}),a.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1 flex items-center gap-1",children:[a.jsx(nc,{size:10})," Checked in: ",new Date(ke.checkInTime||0).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[v&&a.jsx("button",{onClick:()=>Et(ke),disabled:ke.isSheeted||ke.status==="in-assistant"||C==="resting",className:`px-3 py-2 rounded-lg border transition-all text-xs font-bold uppercase tracking-wider flex items-center gap-2 
                                        ${ke.isSheeted||ke.status==="in-assistant"||C==="resting"?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed opacity-50":"bg-purple-500/10 text-purple-400 border-purple-500/30 hover:bg-purple-500/20"}`,title:ke.isSheeted?"Patient already sheeted":ke.status==="in-assistant"?"Patient already in Assistant Room":C==="resting"?"Assistant Doctor is Resting":"Send to Assistant Room",children:ke.isSheeted?"Sheeted":a.jsxs(a.Fragment,{children:["To Assistant ",a.jsx(cS,{size:14})]})}),a.jsxs("button",{onClick:()=>At(ke),disabled:f==="resting",className:`px-4 py-2 rounded-lg border transition-all text-xs font-bold uppercase tracking-wider flex items-center gap-2 ${f==="resting"?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed opacity-50":"bg-green-500/10 text-green-400 border-green-500/30 hover:bg-green-500/20 hover:shadow-[0_0_15px_-5px_rgba(34,197,94,0.4)]"}`,children:[" Enter Room ",a.jsx(cS,{size:14})," "]})]})]},ke.id)}),Pe.length===0&&a.jsxs("div",{className:"p-10 text-center border-2 border-dashed border-white/10 rounded-2xl text-gray-500 flex flex-col items-center justify-center gap-2",children:[" ",a.jsx(Ri,{size:32,className:"opacity-20"})," ",a.jsx("span",{className:"text-sm",children:"Queue is empty. Check in patients from Desk."})," "]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Mt,{className:"p-0 border-neon-blue/30 shadow-[0_0_30px_-10px_rgba(0,243,255,0.15)] overflow-hidden",glowColor:"cyan",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-neon-blue/20 to-transparent border-b border-neon-blue/20 flex items-center gap-3",children:[" ",a.jsx("div",{className:`w-3 h-3 rounded-full shadow-[0_0_10px_currentColor] animate-pulse ${f==="resting"||We?"bg-red-500 text-red-500":"bg-green-500 text-green-500"}`,children:" "})," ",a.jsx("h3",{className:"text-lg font-black text-white tracking-widest uppercase",children:"Room Status"})," "]}),a.jsx("div",{className:"p-6",children:f==="resting"?a.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-gray-500 bg-red-500/5 rounded-xl border border-red-500/10",children:[" ",a.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mb-4 animate-pulse",children:a.jsx(XA,{size:40,className:"text-red-500"})})," ",a.jsx("p",{className:"text-xl font-bold text-red-500 tracking-wider",children:"DOCTOR RESTING"})," "]}):We?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[" ",a.jsxs("div",{className:"w-32 h-32 mx-auto bg-black/40 rounded-full flex items-center justify-center mb-6 border-4 border-red-500 relative shadow-[0_0_30px_rgba(239,68,68,0.3)]",children:[" ",a.jsx(Ri,{size:48,className:"text-white relative z-10"})," ",a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-red-500 rounded-full animate-spin"})," "]})," ",a.jsx("h3",{className:"text-red-500 text-sm font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"Session In Progress"})," ",a.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:We.name})," ",a.jsx("p",{className:"text-gray-400 text-sm font-medium mb-8 bg-white/5 inline-block px-3 py-1 rounded-full",children:We.source})," ",a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left bg-black/30 p-5 rounded-xl border border-white/5",children:[" ",a.jsxs("div",{children:[" ",a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Notes"})," ",a.jsx("p",{className:"text-sm text-gray-300 truncate mt-1",children:We.notes})," "]})," ",a.jsxs("div",{children:[" ",a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:"Phone"})," ",a.jsx("p",{className:"text-sm text-gray-300 mt-1 font-mono",children:We.phone})," "]})," "]})," "]}):nt?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[" ",a.jsxs("div",{className:"w-32 h-32 mx-auto bg-neon-blue/10 rounded-full flex items-center justify-center mb-6 border-4 border-neon-blue relative shadow-[0_0_40px_rgba(0,243,255,0.3)]",children:[" ",a.jsx(Zc,{size:48,className:"text-neon-blue relative z-10"})," ",a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-neon-blue rounded-full animate-spin"})," "]})," ",a.jsx("h3",{className:"text-neon-blue text-sm font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"Calling Next Patient"})," ",a.jsx("h2",{className:"text-4xl font-black text-white mb-2 text-glow",children:nt.name})," ",a.jsx("p",{className:"text-gray-400 text-sm font-medium mb-8",children:"Please proceed to Examination Room"})," "]}):a.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-gray-500 bg-green-500/5 rounded-xl border border-green-500/10",children:[" ",a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:a.jsx(yo,{size:40,className:"text-green-500"})})," ",a.jsx("p",{className:"text-2xl font-bold text-green-500 tracking-wider animate-pulse",children:"AVAILABLE"})," ",a.jsx("p",{className:"text-xs mt-2 uppercase tracking-widest opacity-60",children:"Waiting for next patient"})," "]})})]}),v&&a.jsxs(Mt,{className:"p-0 border-neon-purple/30 shadow-[0_0_30px_-10px_rgba(157,0,255,0.15)] overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-r from-neon-purple/20 to-transparent border-b border-neon-purple/20 flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full shadow-[0_0_10px_currentColor] animate-pulse ${C==="resting"?"bg-red-500 text-red-500":Re?"bg-orange-500 text-orange-500":"bg-green-500 text-green-500"}`}),a.jsx("h3",{className:"text-lg font-black text-white tracking-widest uppercase",children:"Assistant Status"})]}),a.jsx("div",{className:"p-6",children:C==="resting"?a.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-gray-500 bg-red-500/5 rounded-xl border border-red-500/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4 animate-pulse",children:a.jsx(XA,{size:32,className:"text-red-500"})}),a.jsx("p",{className:"text-lg font-bold text-red-500 tracking-wider",children:"RESTING"})]}):Re?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[a.jsxs("div",{className:"w-24 h-24 mx-auto bg-black/40 rounded-full flex items-center justify-center mb-4 border-4 border-orange-500 relative shadow-[0_0_30px_rgba(249,115,22,0.3)]",children:[a.jsx(Ri,{size:32,className:"text-white relative z-10"}),a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-orange-500 rounded-full animate-spin"})]}),a.jsx("h3",{className:"text-orange-500 text-xs font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"Assistant Session"}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:Re.name})]}):Ee?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[a.jsxs("div",{className:"w-24 h-24 mx-auto bg-neon-purple/10 rounded-full flex items-center justify-center mb-4 border-4 border-neon-purple relative shadow-[0_0_40px_rgba(157,0,255,0.3)]",children:[a.jsx(Zc,{size:32,className:"text-neon-purple relative z-10"}),a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-neon-purple rounded-full animate-spin"})]}),a.jsx("h3",{className:"text-neon-purple text-xs font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"Assistant Calling"}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2 text-glow",children:Ee.name})]}):a.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-gray-500 bg-green-500/5 rounded-xl border border-green-500/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:a.jsx(ci,{size:32,className:"text-green-500"})}),a.jsx("p",{className:"text-lg font-bold text-green-500 tracking-wider animate-pulse",children:"AVAILABLE"})]})})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-w-lg glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)] animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:fe?"Edit Booking":"Add New Booking"}),a.jsx("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-white bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:a.jsx(Ji,{})})]}),a.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-neon-blue font-bold text-xs uppercase tracking-widest border-b border-white/10 pb-2 mb-3",children:"Patient Information"}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsxs("div",{className:"col-span-8",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Patient Name"}),a.jsx("input",{type:"text",required:!0,placeholder:"Full Name",value:Ae.name||"",onChange:ke=>me({...Ae,name:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]}),a.jsxs("div",{className:"col-span-4",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Age"}),a.jsx("input",{type:"text",placeholder:"Age",value:Ae.age||"",onChange:ke=>me({...Ae,age:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Phone Number"}),a.jsx("input",{type:"tel",required:!0,placeholder:"000-000-0000",value:Ae.phone||"",onChange:ke=>me({...Ae,phone:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Contacting Number"}),a.jsx("input",{type:"tel",placeholder:"000-000-0000",value:Ae.contactingNumber||"",onChange:ke=>me({...Ae,contactingNumber:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Residence"}),a.jsx("input",{type:"text",placeholder:"Area / City",value:Ae.residence||"",onChange:ke=>me({...Ae,residence:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-neon-blue font-bold text-xs uppercase tracking-widest border-b border-white/10 pb-2 mb-3",children:"Appointment Details"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Date"}),a.jsx("input",{type:"date",required:!0,value:Ae.date,onChange:ke=>me({...Ae,date:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Time"}),a.jsx("input",{type:"time",required:!0,value:Ae.time,onChange:ke=>me({...Ae,time:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Visit Type"}),a.jsxs("select",{value:Ae.visitType||"New",onChange:ke=>me({...Ae,visitType:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"New",className:"bg-gray-900",children:"New"}),a.jsx("option",{value:"Follow-up",className:"bg-gray-900",children:"Follow-up"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Source"}),a.jsxs("select",{value:Ae.source,onChange:ke=>me({...Ae,source:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"Phone Call",className:"bg-gray-900",children:"Phone Call"}),a.jsx("option",{value:"Social Media",className:"bg-gray-900",children:"Social Media"}),a.jsx("option",{value:"Clinic Visit",className:"bg-gray-900",children:"Clinic Visit"}),a.jsx("option",{value:"Walk-in",className:"bg-gray-900",children:"Walk-in"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Paid Amount ($)"}),a.jsx("input",{type:"number",placeholder:"0",value:Ae.paid||"",onChange:ke=>me({...Ae,paid:Number(ke.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Notes"}),a.jsx("textarea",{rows:2,placeholder:"Additional info...",value:Ae.notes||"",onChange:ke=>me({...Ae,notes:ke.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-4 mt-4 bg-gradient-to-r from-neon-blue to-cyan-600 rounded-xl text-black font-extrabold text-lg hover:opacity-90 transition-all shadow-[0_0_20px_rgba(0,243,255,0.3)] hover:shadow-[0_0_30px_rgba(0,243,255,0.5)] transform hover:-translate-y-1",children:[" ",fe?"Update Booking":"Confirm Booking"," "]})]})]})}),a.jsx(Wv,{isOpen:!!_e,onClose:()=>we(null),onConfirm:Dt,title:"Delete Booking",message:"Are you sure you want to delete this booking? This action is permanent.",confirmText:"Yes, Delete",isDanger:!0})]})},cde=()=>{const[n,e]=se.useState("Overview"),{setHeaderHidden:t}=se.useContext($o),{systemUser:r,firebaseUser:i}=qr(),{moderators:s,shifts:o,moderatorSessions:c,appointments:u,addAppointment:d,updateAppointment:f,addModerator:g,updateModerator:m,deleteModerator:v,addShift:C,updateShift:_,deleteShift:E,checkInModerator:T,checkOutModerator:k,isBookingPaused:P}=bi(),z=new Date().toISOString().split("T")[0],[Y,Z]=se.useState(""),[R,F]=se.useState({name:"",startTime:"09:00",endTime:"17:00"}),[M,G]=se.useState(null),[L,Q]=se.useState(null),[j,re]=se.useState(!1),[fe,ie]=se.useState(!1),[Ae,me]=se.useState("check-in"),[_e,we]=se.useState(null),[ee,U]=se.useState({date:z,moderatorId:"",shiftId:"",isCovering:!1,coveringForId:""}),[H,V]=se.useState({date:z,time:"10:00",name:"",phone:"",contactingNumber:"",source:"Facebook",notes:""});se.useEffect(()=>{if(!i)return;const ae=localStorage.getItem(`active_mod_session_${i.uid}`);if(ae){const Kt=c.find(an=>an.id===ae);Kt&&!Kt.checkOutTime?(we(ae),me("working"),e("Moderator")):Kt&&Kt.checkOutTime&&localStorage.removeItem(`active_mod_session_${i.uid}`)}},[c,i]);const[J,q]=se.useState(!1),[te,xe]=se.useState({}),[ue,be]=se.useState("Performance"),[Ve,Pe]=se.useState(""),[We,nt]=se.useState(""),[Re,Ee]=se.useState(""),[at,St]=se.useState(""),[tt,At]=se.useState(""),[Et,Bt]=se.useState(""),[Dt,Ne]=se.useState("All"),[ze,ft]=se.useState("All"),[ht,It]=se.useState("All");se.useEffect(()=>{t(J||j||fe)},[J,j,fe,t]);const Tt=P&&(r==null?void 0:r.role)!=="admin",Ue=async ae=>{ae.preventDefault(),Y.trim()&&(M?await m(M.id,Y):await g(Y),Z(""),G(null),re(!1))},ke=async ae=>{ae.preventDefault(),!(!R.name||!R.startTime||!R.endTime)&&(L?await _(L.id,R):await C(R),F({name:"",startTime:"09:00",endTime:"17:00"}),Q(null),ie(!1))},Gt=async()=>{if(!ee.moderatorId||!ee.shiftId||!i)return;const ae=o.find(jn=>jn.id===ee.shiftId),Kt=s.find(jn=>jn.id===ee.moderatorId),an=ee.isCovering?s.find(jn=>jn.id===ee.coveringForId):null;if(!ae||!Kt)return;const Ht=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),sn=Ht>ae.startTime,ts=await T({date:ee.date,moderatorId:Kt.id,moderatorName:Kt.name,shiftId:ae.id,shiftName:ae.name,checkInTime:Ht,isCovering:ee.isCovering,coveringForName:(an==null?void 0:an.name)||"",checkInStatus:sn?"Late":"On Time"});localStorage.setItem(`active_mod_session_${i.uid}`,ts),we(ts),me("working")},$t=()=>{if(!_e||!i)return;const ae=c.find(sn=>sn.id===_e);if(!ae)return;const Kt=o.find(sn=>sn.id===ae.shiftId),dn=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});let Ht="On Time";Kt&&dn<Kt.endTime&&(Ht="Early Leave"),k(_e,dn,Ht),localStorage.removeItem(`active_mod_session_${i.uid}`),me("check-in"),we(null)},fn=()=>{if(H.date===z&&Tt){alert("Booking is stopped for today. Entry rejected.");return}if(H.name&&H.phone&&_e){const ae=c.find(Kt=>Kt.id===_e);d({date:H.date,time:H.time,name:H.name,phone:H.phone,contactingNumber:H.contactingNumber,source:H.source,paid:0,notes:H.notes,status:"booked",createdBy:(ae==null?void 0:ae.moderatorName)||"System",sessionId:_e}),V({date:z,time:"10:00",name:"",phone:"",contactingNumber:"",source:"Facebook",notes:""}),alert("Booking Added Successfully to Desk!")}},nn=se.useMemo(()=>c.map(ae=>{const Kt=u.filter(an=>an.sessionId===ae.id).length;return{...ae,totalBookings:Kt}}),[c,u]),Jt=se.useMemo(()=>nn.filter(ae=>{const Kt=(!Ve||ae.date>=Ve)&&(!We||ae.date<=We),an=!Re||ae.moderatorId===Re,dn=!at||ae.shiftId===at;return Kt&&an&&dn}),[nn,Ve,We,Re,at]),hr=se.useMemo(()=>u.filter(ae=>{if(!["Facebook","Instagram","Whatsapp","Other","Social Media"].includes(ae.source))return!1;const an=(!tt||ae.date>=tt)&&(!Et||ae.date<=Et),dn=Dt==="All"||ae.source===Dt,Ht=ze==="All"||ae.createdBy&&ae.createdBy===ze,sn=ht==="All"||ae.status===ht;return an&&dn&&Ht&&sn}),[u,tt,Et,Dt,ze,ht]),ln=se.useMemo(()=>c.find(ae=>ae.id===_e),[c,_e]),_i=se.useMemo(()=>ln?u.filter(ae=>ae.sessionId===ln.id):[],[u,ln]);return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:[{id:"Overview",icon:a.jsx(ci,{size:20})},{id:"Moderator",icon:a.jsx(eA,{size:20})},{id:"Manager",icon:a.jsx(LF,{size:20})}].map(ae=>a.jsxs("button",{onClick:()=>e(ae.id),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${n===ae.id?"bg-neon-purple text-black shadow-[0_0_15px_-3px_rgba(157,0,255,0.4)] transform -translate-y-1":"bg-black/30 border border-white/5 text-gray-400 hover:text-white hover:bg-white/5"}`,children:[ae.icon," ",ae.id]},ae.id))}),n==="Overview"&&a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex gap-4 border-b border-white/10 pb-0",children:[a.jsx("button",{onClick:()=>be("Performance"),className:`px-6 py-3 font-bold transition-all text-sm uppercase tracking-wide border-b-2 ${ue==="Performance"?"text-neon-purple border-neon-purple drop-shadow-[0_0_8px_rgba(157,0,255,0.4)]":"text-gray-500 border-transparent hover:text-white"}`,children:"Moderator Performance"}),a.jsx("button",{onClick:()=>be("Bookings"),className:`px-6 py-3 font-bold transition-all text-sm uppercase tracking-wide border-b-2 ${ue==="Bookings"?"text-neon-purple border-neon-purple drop-shadow-[0_0_8px_rgba(157,0,255,0.4)]":"text-gray-500 border-transparent hover:text-white"}`,children:"Moderators Bookings"})]}),ue==="Performance"&&a.jsxs(Mt,{className:"p-0 border-white/5 overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date From"})," ",a.jsx("input",{type:"date",value:Ve,onChange:ae=>Pe(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date To"})," ",a.jsx("input",{type:"date",value:We,onChange:ae=>nt(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Moderator"})," ",a.jsxs("select",{value:Re,onChange:ae=>Ee(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"",children:"All Moderators"})," ",s.map(ae=>a.jsx("option",{value:ae.id,children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Shift"})," ",a.jsxs("select",{value:at,onChange:ae=>St(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"",children:"All Shifts"})," ",o.map(ae=>a.jsx("option",{value:ae.id,children:ae.name},ae.id))," "]})," "]}),a.jsxs("button",{onClick:()=>{Pe(""),nt(""),Ee(""),St("")},className:"px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors border border-white/5",children:[" ",a.jsx(vd,{size:16})," "]})," "]}),a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsxs("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:[" ",a.jsxs("tr",{children:[" ",a.jsx("th",{className:"p-4",children:"Entry Date"})," ",a.jsx("th",{className:"p-4",children:"Moderator Name"})," ",a.jsx("th",{className:"p-4",children:"Shift"})," ",a.jsx("th",{className:"p-4",children:"Check In"})," ",a.jsx("th",{className:"p-4",children:"Check Out"})," ",a.jsx("th",{className:"p-4",children:"Status"})," ",a.jsx("th",{className:"p-4",children:"Bookings"})," "]})," "]}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[" ",Jt.map(ae=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4",children:Xi(ae.date)}),a.jsxs("td",{className:"p-4 font-medium text-white",children:[" ",ae.moderatorName," ",ae.isCovering&&a.jsxs("span",{className:"block text-[10px] text-yellow-500 bg-yellow-500/10 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:["Covering ",ae.coveringForName]})," "]}),a.jsx("td",{className:"p-4",children:ae.shiftName})," ",a.jsx("td",{className:"p-4 font-mono",children:ae.checkInTime})," ",a.jsx("td",{className:"p-4 font-mono",children:ae.checkOutTime||"-"}),a.jsxs("td",{className:"p-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase border ${ae.checkInStatus==="Late"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:ae.checkInStatus})," ",ae.checkOutStatus==="Early Leave"&&a.jsx("span",{className:"ml-2 px-2.5 py-1 rounded-md text-[10px] font-bold uppercase bg-red-500/10 text-red-400 border border-red-500/20",children:"Early Leave"})]}),a.jsx("td",{className:"p-4 text-neon-purple font-black text-xl drop-shadow-[0_0_5px_rgba(157,0,255,0.4)]",children:ae.totalBookings})]},ae.id))," ",Jt.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-12 text-center text-gray-500 italic",children:"No session data found for selected filters."})})," "]})]})]}),ue==="Bookings"&&a.jsxs(Mt,{className:"p-0 border-white/5 overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date From"})," ",a.jsx("input",{type:"date",value:tt,onChange:ae=>At(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date To"})," ",a.jsx("input",{type:"date",value:Et,onChange:ae=>Bt(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[120px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Source"})," ",a.jsxs("select",{value:Dt,onChange:ae=>Ne(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:"All Sources"})," ",a.jsx("option",{value:"Facebook",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",children:"Other"})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Moderator"})," ",a.jsxs("select",{value:ze,onChange:ae=>ft(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:"All Moderators"})," ",s.map(ae=>a.jsx("option",{value:ae.name,children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[120px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Status"})," ",a.jsxs("select",{value:ht,onChange:ae=>It(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:"All Status"})," ",a.jsx("option",{value:"booked",children:"Booked"})," ",a.jsx("option",{value:"checked-in",children:"Checked In"})," ",a.jsx("option",{value:"completed",children:"Completed"})," ",a.jsx("option",{value:"cancelled",children:"Cancelled"})," "]})," "]}),a.jsxs("button",{onClick:()=>{At(""),Bt(""),Ne("All"),ft("All"),It("All")},className:"px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors border border-white/5",children:[" ",a.jsx(vd,{size:16})," "]}),a.jsxs("div",{className:"flex-1 text-right",children:[" ",a.jsxs("button",{onClick:()=>{const ae=hr.map(Kt=>({Date:Xi(Kt.date),ClientName:Kt.name,Source:Kt.source,Moderator:Kt.createdBy||"Unknown",Status:Kt.status}));Q0(ae,`Moderator_Bookings_${z}`)},className:"flex items-center gap-2 px-5 py-2.5 bg-green-600/10 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600/20 transition-all font-bold text-xs uppercase tracking-wide ml-auto",children:[" ",a.jsx(B0,{size:18})," Excel "]})," "]})]}),a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsxs("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:[" ",a.jsxs("tr",{children:[" ",a.jsx("th",{className:"p-4",children:"Date"})," ",a.jsx("th",{className:"p-4",children:"Client Name"})," ",a.jsx("th",{className:"p-4",children:"Source"})," ",a.jsx("th",{className:"p-4",children:"Moderator"})," ",a.jsx("th",{className:"p-4",children:"Status"})," "]})," "]}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[" ",hr.map(ae=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[" ",a.jsx("td",{className:"p-4 font-mono",children:Xi(ae.date)})," ",a.jsx("td",{className:"p-4 text-white font-medium text-base",children:ae.name})," ",a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2.5 py-1 border border-white/10 bg-white/5 rounded-md text-xs",children:ae.source})})," ",a.jsx("td",{className:"p-4 text-neon-purple font-medium",children:ae.createdBy||"Unknown"})," ",a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-3 py-1 bg-gray-800/50 rounded-full text-xs font-bold uppercase tracking-wider text-gray-300 border border-gray-700",children:ae.status})})," "]},ae.id))," ",hr.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-500 italic",children:"No social bookings found matching filters."})})," "]})]})]})]}),n==="Moderator"&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mx-auto max-w-6xl animate-fade-in",children:Ae==="check-in"?a.jsxs(Mt,{className:"p-10 border-neon-purple/30 shadow-[0_0_50px_-15px_rgba(157,0,255,0.2)] lg:col-span-2 max-w-2xl mx-auto",glowColor:"purple",children:[a.jsxs("h3",{className:"text-3xl font-black text-white mb-8 flex items-center gap-3",children:[" ",a.jsx("div",{className:"p-2 bg-neon-purple/20 rounded-xl text-neon-purple",children:a.jsx(a6,{size:32})})," Moderator Check-In "]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:"Date"})," ",a.jsx("input",{type:"date",value:ee.date,onChange:ae=>U({...ee,date:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none"})," "]}),a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:"Name"})," ",a.jsxs("select",{value:ee.moderatorId,onChange:ae=>U({...ee,moderatorId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:"Select Name..."})," ",s.map(ae=>a.jsx("option",{value:ae.id,className:"bg-gray-900",children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:"Shift"})," ",a.jsxs("select",{value:ee.shiftId,onChange:ae=>U({...ee,shiftId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:"Select Shift..."})," ",o.map(ae=>a.jsxs("option",{value:ae.id,className:"bg-gray-900",children:[ae.name," (",ae.startTime," - ",ae.endTime,")"]},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-4 rounded-xl border border-white/5",children:[" ",a.jsx("input",{type:"checkbox",checked:ee.isCovering,onChange:ae=>U({...ee,isCovering:ae.target.checked}),className:"w-5 h-5 accent-neon-purple rounded cursor-pointer"})," ",a.jsx("label",{className:"text-sm font-bold text-white tracking-wide",children:"Is Covering?"})," "]}),ee.isCovering&&a.jsxs("div",{className:"animate-slide-up",children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:"Covering For"})," ",a.jsxs("select",{value:ee.coveringForId,onChange:ae=>U({...ee,coveringForId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:"Select Moderator..."})," ",s.map(ae=>a.jsx("option",{value:ae.id,className:"bg-gray-900",children:ae.name},ae.id))," "]})," "]}),a.jsxs("button",{onClick:Gt,className:"w-full py-4 mt-6 bg-gradient-to-r from-neon-purple to-pink-600 rounded-xl text-white font-extrabold text-lg hover:shadow-[0_0_30px_rgba(188,19,254,0.4)] transition-all flex items-center justify-center gap-3 hover:scale-[1.02] active:scale-[0.98]",children:[" ",a.jsx(nc,{size:20})," START SESSION "]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Mt,{className:"p-8 border-green-500/30 relative overflow-hidden shadow-[0_0_40px_-10px_rgba(34,197,94,0.2)]",glowColor:"green",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-500 to-emerald-400 animate-pulse-slow"}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[" ",a.jsxs("div",{children:[" ",a.jsx("h3",{className:"text-2xl font-black text-white mb-1",children:"Session Active"})," ",a.jsxs("p",{className:"text-gray-400 text-sm",children:["Logged in as ",a.jsx("span",{className:"text-white font-bold",children:ln==null?void 0:ln.moderatorName})]})," "]})," ",a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 shadow-[0_0_10px_#22c55e] animate-pulse"})," "]}),P&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[a.jsx(kd,{size:18,className:"text-red-400"}),a.jsx("span",{className:"text-xs text-red-200 font-bold uppercase tracking-wider",children:"Booking Suspended Globally"})]}),a.jsxs("div",{className:"space-y-4 mb-8 p-6 bg-black/30 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsx("h4",{className:"font-bold text-neon-purple mb-4 uppercase tracking-widest text-xs",children:"New Booking Entry"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"date",value:H.date,onChange:ae=>V({...H,date:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"}),a.jsx("input",{type:"time",value:H.time,onChange:ae=>V({...H,time:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"})]}),a.jsx("input",{type:"text",placeholder:"Client Name",value:H.name,onChange:ae=>V({...H,name:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("input",{type:"tel",placeholder:"Phone Number",value:H.phone,onChange:ae=>V({...H,phone:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"}),a.jsx("input",{type:"tel",placeholder:"Contacting Number",value:H.contactingNumber,onChange:ae=>V({...H,contactingNumber:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"})]}),a.jsxs("select",{value:H.source,onChange:ae=>V({...H,source:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none appearance-none",children:[" ",a.jsx("option",{value:"Facebook",className:"bg-gray-900",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",className:"bg-gray-900",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",className:"bg-gray-900",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",className:"bg-gray-900",children:"Other"})," "]}),a.jsx("textarea",{placeholder:"Notes (Optional)",value:H.notes,onChange:ae=>V({...H,notes:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none resize-none",rows:3}),a.jsx("button",{onClick:fn,disabled:H.date===z&&Tt,className:`w-full py-3.5 border rounded-xl font-bold transition-all mt-2 
                                ${H.date===z&&Tt?"bg-gray-800 text-gray-500 border-gray-700 cursor-not-allowed":"bg-neon-purple/10 text-neon-purple border-neon-purple/50 hover:bg-neon-purple hover:text-white hover:shadow-[0_0_20px_rgba(157,0,255,0.4)]"}`,children:"+ ADD BOOKING"})]}),a.jsxs("button",{onClick:$t,className:"w-full py-4 bg-red-500/10 text-red-400 border border-red-500/30 rounded-xl font-bold hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-2 hover:shadow-[0_0_20px_rgba(239,68,68,0.4)]",children:[" ",a.jsx(jv,{size:20})," CHECK OUT "]})]}),a.jsxs(Mt,{className:"p-6 border-white/5 flex flex-col h-full bg-black/20",glowColor:"purple",children:[a.jsxs("h3",{className:"text-lg font-bold text-white mb-6 uppercase tracking-wider flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-neon-purple"})," Session Log"]}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 max-h-[500px] custom-scrollbar pr-2",children:[" ",_i.map(ae=>a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex justify-between items-center group hover:border-neon-purple/40 hover:bg-white/10 transition-all",children:[a.jsxs("div",{children:[" ",a.jsx("h4",{className:"font-bold text-gray-200 group-hover:text-white transition-colors",children:ae.name})," ",a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[ae.phone," ",ae.contactingNumber&&`| C: ${ae.contactingNumber}`,"  ",a.jsx("span",{className:"text-neon-purple",children:ae.source})]})," "]}),a.jsxs("button",{onClick:()=>{xe({...ae}),q(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[" ",a.jsx(ya,{size:16})," "]})]},ae.id))," ",_i.length===0&&a.jsxs("div",{className:"text-center py-16 text-gray-600 text-sm flex flex-col items-center gap-3",children:[" ",a.jsx(ci,{size:24,className:"opacity-20"})," ",a.jsx("span",{children:"No bookings recorded yet."})," "]})]})]})]})}),n==="Manager"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"purple",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-2 bg-neon-purple/10 rounded-lg text-neon-purple shadow-[0_0_10px_rgba(157,0,255,0.3)]",children:a.jsx(Ri,{size:24})})," Moderators"]}),a.jsx("button",{onClick:()=>{G(null),Z(""),re(!0)},className:"p-2 bg-neon-purple text-white rounded-lg hover:bg-white hover:text-black transition-all shadow-lg",children:a.jsx(za,{size:20})})]}),a.jsxs("div",{className:"space-y-3",children:[s.map(ae=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5 hover:bg-white/10 transition-colors group",children:[a.jsx("span",{className:"font-bold text-white text-lg group-hover:text-neon-purple transition-colors",children:ae.name}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{G(ae),Z(ae.name),re(!0)},className:"p-2 text-blue-400 hover:text-white bg-blue-500/10 rounded-lg transition-colors",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>v(ae.id),className:"p-2 text-red-400 hover:text-white bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Ii,{size:16})})]})]},ae.id)),s.length===0&&a.jsx("div",{className:"text-center py-10 text-gray-600 italic",children:"No moderators added."})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-lg text-neon-blue shadow-[0_0_10px_rgba(0,243,255,0.3)]",children:a.jsx(nc,{size:24})})," Shifts"]}),a.jsx("button",{onClick:()=>{Q(null),F({name:"",startTime:"09:00",endTime:"17:00"}),ie(!0)},className:"p-2 bg-neon-blue text-black rounded-lg hover:bg-white transition-all shadow-lg",children:a.jsx(za,{size:20})})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(ae=>a.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/5 hover:bg-white/10 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-black text-white uppercase tracking-wider text-sm group-hover:text-neon-blue transition-colors",children:ae.name}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{Q(ae),F({...ae}),ie(!0)},className:"p-2 text-blue-400 hover:text-white bg-blue-500/10 rounded-lg transition-colors",children:a.jsx(ya,{size:16})}),a.jsx("button",{onClick:()=>E(ae.id),className:"p-2 text-red-400 hover:text-white bg-red-500/10 rounded-lg transition-colors",children:a.jsx(Ii,{size:16})})]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-400 font-mono text-xs",children:[a.jsx(nc,{size:12})," ",ae.startTime," - ",ae.endTime]})]},ae.id)),o.length===0&&a.jsx("div",{className:"text-center py-10 text-gray-600 italic",children:"No shifts configured."})]})]})]}),J&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:[" ",a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-2xl p-8 border border-neon-purple/20 shadow-[0_0_50px_-10px_rgba(157,0,255,0.2)] animate-slide-up",children:[" ",a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[" ",a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"Edit Booking"})," ",a.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-white bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:a.jsx(Ji,{})})," "]})," ",a.jsxs("div",{className:"space-y-5",children:[" ",a.jsx("input",{type:"text",placeholder:"Client Name",value:te.name||"",onChange:ae=>xe({...te,name:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors"})," ",a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[" ",a.jsx("input",{type:"tel",placeholder:"Phone Number",value:te.phone||"",onChange:ae=>xe({...te,phone:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors"})," ",a.jsx("input",{type:"tel",placeholder:"Contacting Number",value:te.contactingNumber||"",onChange:ae=>xe({...te,contactingNumber:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors"})," "]})," ",a.jsxs("select",{value:te.source,onChange:ae=>xe({...te,source:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none appearance-none",children:[" ",a.jsx("option",{value:"Facebook",className:"bg-gray-900",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",className:"bg-gray-900",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",className:"bg-gray-900",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",className:"bg-gray-900",children:"Other"})," "]})," ",a.jsx("textarea",{placeholder:"Notes",value:te.notes||"",onChange:ae=>xe({...te,notes:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors resize-none",rows:3})," ",a.jsx("button",{onClick:()=>{te.id&&te.name&&(f(te.id,te),q(!1),xe({}))},className:"w-full py-4 bg-gradient-to-r from-neon-purple to-pink-600 rounded-xl text-white font-extrabold text-lg hover:shadow-[0_0_20px_rgba(188,19,254,0.4)] transition-all",children:" UPDATE BOOKING "})," "]})," "]})," "]}),j&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-md glass-panel rounded-2xl p-8 border border-neon-purple/20 shadow-2xl animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:M?"Edit Moderator":"Add New Moderator"}),a.jsx("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{})})]}),a.jsxs("form",{onSubmit:Ue,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-[0.2em] mb-2 ml-1",children:"Moderator Full Name"}),a.jsx("input",{type:"text",autoFocus:!0,value:Y,onChange:ae=>Z(ae.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white outline-none focus:border-neon-purple transition-all",placeholder:"Enter name..."})]}),a.jsx("button",{type:"submit",className:"w-full py-4 bg-neon-purple text-white font-black rounded-xl hover:opacity-90 transition-all uppercase tracking-widest",children:M?"Update Moderator":"Save Moderator"})]})]})}),fe&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-2xl animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-white/10 pb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:L?"Edit Shift":"Add New Shift"}),a.jsx("button",{onClick:()=>ie(!1),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{})})]}),a.jsxs("form",{onSubmit:ke,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-[0.2em] mb-2 ml-1",children:"Shift Name"}),a.jsx("input",{type:"text",autoFocus:!0,value:R.name,onChange:ae=>F({...R,name:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white outline-none focus:border-neon-blue transition-all",placeholder:"e.g. Night Shift"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-[0.2em] mb-2 ml-1",children:"Start Time"}),a.jsx("input",{type:"time",value:R.startTime,onChange:ae=>F({...R,startTime:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white outline-none focus:border-neon-blue transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-[0.2em] mb-2 ml-1",children:"End Time"}),a.jsx("input",{type:"time",value:R.endTime,onChange:ae=>F({...R,endTime:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white outline-none focus:border-neon-blue transition-all"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-4 bg-neon-blue text-black font-black rounded-xl hover:opacity-90 transition-all uppercase tracking-widest",children:L?"Update Shift":"Save Shift"})]})]})})]})},Ade=()=>{var G,L,Q;const{appointments:n,transactions:e,addTransaction:t,updateTransaction:r,deleteTransaction:i}=bi(),{systemUser:s}=qr(),{setHeaderHidden:o}=se.useContext($o),c=new Date().toISOString().split("T")[0],[u,d]=se.useState(""),[f,g]=se.useState(""),[m,v]=se.useState("All"),[C,_]=se.useState(!1),[E,T]=se.useState(null),[k,P]=se.useState({date:c,description:"",type:"income",amount:""});se.useEffect(()=>{o(C)},[C,o]);const z=(s==null?void 0:s.role)==="admin"||((Q=(L=(G=s==null?void 0:s.permissions)==null?void 0:G.accountant)==null?void 0:L.actions)==null?void 0:Q.add_transaction),Y=se.useMemo(()=>[...n.filter(fe=>fe.paid>0).map(fe=>({id:fe.id,date:fe.date,description:`${fe.name} - ${fe.notes||"No notes"}`,type:"income",amount:fe.paid,isSystem:!0})),...e.map(fe=>({...fe,isSystem:!1}))].filter(fe=>{const ie=(!u||fe.date>=u)&&(!f||fe.date<=f),Ae=m==="All"||m==="Income"&&fe.type==="income"||m==="Expense"&&fe.type==="expense";return ie&&Ae}).sort((fe,ie)=>new Date(ie.date).getTime()-new Date(fe.date).getTime()),[n,e,u,f,m]),Z=se.useMemo(()=>{const j=Y.filter(fe=>fe.type==="income").reduce((fe,ie)=>fe+Number(ie.amount),0),re=Y.filter(fe=>fe.type==="expense").reduce((fe,ie)=>fe+Number(ie.amount),0);return{income:j,expense:re,net:j-re}},[Y]),R=async j=>{if(j.preventDefault(),k.description&&k.amount){const re=Number(k.amount);E&&E.id?await r(E.id,{date:k.date,description:k.description,type:k.type,amount:re}):await t({date:k.date,description:k.description,type:k.type,amount:re}),_(!1),T(null),P({date:c,description:"",type:"income",amount:""})}},F=j=>{T(j),P({date:j.date,description:j.description,type:j.type,amount:j.amount.toString()}),_(!0)},M=()=>{const j=Y.map(re=>({Date:Xi(re.date),Description:re.description,Type:re.type,Amount:re.amount,EntryType:re.isSystem?"System":"Manual"}));Q0(j,`Accountant_Report_${c}`)};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[" ",a.jsxs(Mt,{glowColor:"green",className:"p-6 flex items-center justify-between border-green-500/20 group",children:[" ",a.jsxs("div",{children:[" ",a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider group-hover:text-green-400 transition-colors",children:"Total Income"})," ",a.jsxs("h3",{className:"text-4xl font-black mt-2 text-green-400 drop-shadow-[0_0_10px_rgba(34,197,94,0.3)] group-hover:scale-105 transition-transform origin-left",children:["$",Z.income.toFixed(2)]})," "]})," ",a.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-green-500/10 flex items-center justify-center text-green-500 border border-green-500/20 shadow-[0_0_20px_-5px_rgba(34,197,94,0.3)]",children:[" ",a.jsx(F0,{size:28})," "]})," "]})," ",a.jsxs(Mt,{glowColor:"red",className:"p-6 flex items-center justify-between border-red-500/20 group",children:[" ",a.jsxs("div",{children:[" ",a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider group-hover:text-red-400 transition-colors",children:"Total Outcome"})," ",a.jsxs("h3",{className:"text-4xl font-black mt-2 text-red-400 drop-shadow-[0_0_10px_rgba(239,68,68,0.3)] group-hover:scale-105 transition-transform origin-left",children:["$",Z.expense.toFixed(2)]})," "]})," ",a.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 border border-red-500/20 shadow-[0_0_20px_-5px_rgba(34,197,94,0.3)]",children:[" ",a.jsx(i6,{size:28})," "]})," "]})," ",a.jsxs(Mt,{className:"p-6 flex items-center justify-between border-white/10 group",glowColor:"cyan",children:[" ",a.jsxs("div",{children:[" ",a.jsx("p",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider group-hover:text-white transition-colors",children:"Net Profit"})," ",a.jsxs("h3",{className:`text-4xl font-black mt-2 ${Z.net>=0?"text-neon-blue drop-shadow-[0_0_10px_rgba(0,243,255,0.4)]":"text-orange-500 drop-shadow-[0_0_10px_rgba(249,115,22,0.4)]"} group-hover:scale-105 transition-transform origin-left`,children:["$",Z.net.toFixed(2)]})," "]})," ",a.jsxs("div",{className:"w-14 h-14 rounded-2xl bg-white/5 flex items-center justify-center text-white border border-white/10 shadow-lg",children:[" ",a.jsx(Fd,{size:28})," "]})," "]})," "]})," ",a.jsxs(Mt,{className:"p-0 border-white/5",glowColor:"cyan",children:[" ",a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[" ",a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date From"})," ",a.jsx("input",{type:"date",value:u,onChange:j=>d(j.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]})," ",a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Date To"})," ",a.jsx("input",{type:"date",value:f,onChange:j=>g(j.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]})," ",a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[120px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:"Type"})," ",a.jsxs("select",{value:m,onChange:j=>v(j.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:"All Transactions"})," ",a.jsx("option",{value:"Income",children:"Income Only"})," ",a.jsx("option",{value:"Expense",children:"Expense Only"})," "]})," "]})," ",a.jsxs("button",{onClick:()=>{d(""),g(""),v("All")},className:"px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors border border-white/5",children:[" ",a.jsx(vd,{size:16})," "]})," ",a.jsxs("button",{onClick:M,className:"px-5 py-2.5 bg-green-600/10 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600/20 text-xs font-bold uppercase tracking-wide flex items-center gap-2 transition-all",children:[" ",a.jsx(B0,{size:16})," Export "]})," ",a.jsxs("div",{className:"flex-1 text-right",children:[" ",z&&a.jsx("button",{onClick:()=>{T(null),P({date:c,description:"",type:"income",amount:""}),_(!0)},className:"px-6 py-2.5 bg-neon-blue text-black font-bold rounded-xl shadow-[0_0_15px_rgba(0,243,255,0.4)] hover:bg-cyan-400 transition-all hover:scale-105 active:scale-95 text-xs uppercase tracking-wide",children:" + Add Entry "})," "]})," "]})," ",a.jsxs("div",{className:"overflow-x-auto",children:[" ",a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[" ",a.jsxs("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:[" ",a.jsxs("tr",{children:[" ",a.jsx("th",{className:"p-4",children:"Date"})," ",a.jsx("th",{className:"p-4",children:"Description"})," ",a.jsx("th",{className:"p-4",children:"Type"})," ",a.jsx("th",{className:"p-4 text-right",children:"Amount"})," ",a.jsx("th",{className:"p-4 text-center",children:"Action"})," "]})," "]})," ",a.jsxs("tbody",{className:"divide-y divide-white/5",children:[" ",Y.map((j,re)=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[" ",a.jsx("td",{className:"p-4 font-mono",children:Xi(j.date)})," ",a.jsx("td",{className:"p-4 font-medium text-white group-hover:text-neon-blue transition-colors",children:j.description})," ",a.jsxs("td",{className:"p-4",children:[" ",a.jsxs("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider border ${j.type==="income"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[" ",j.type==="income"?"IN":"OUT"," "]})," "]})," ",a.jsxs("td",{className:`p-4 text-right font-mono font-bold text-lg ${j.type==="income"?"text-green-400 drop-shadow-[0_0_5px_rgba(34,197,94,0.3)]":"text-red-400 drop-shadow-[0_0_5px_rgba(239,68,68,0.3)]"}`,children:[" ",j.type==="income"?"+":"-","$",Number(j.amount).toFixed(2)," "]})," ",a.jsxs("td",{className:"p-4 text-center",children:[" ",j.isSystem?a.jsx("span",{className:"text-[10px] text-gray-600 italic bg-white/5 px-2 py-0.5 rounded",children:"System"}):a.jsxs("div",{className:"flex justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[" ",a.jsx("button",{onClick:()=>F(j),className:"p-2 text-gray-400 hover:text-white bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(ya,{size:16})})," ",a.jsx("button",{onClick:()=>i(j.id),className:"p-2 text-red-400 hover:text-white bg-red-500/10 hover:bg-red-500/30 rounded-lg transition-colors",children:a.jsx(Ii,{size:16})})," "]})," "]})," "]},j.id||re))," ",Y.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-500 italic",children:"No transactions found."})})," "]})," "]})," "]})," "]})," ",C&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:[" ",a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)] animate-slide-up",children:[" ",a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[" ",a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:E?"Edit Transaction":"Add New Transaction"})," ",a.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-white bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:a.jsx(Ji,{})})," "]})," ",a.jsxs("form",{onSubmit:R,className:"space-y-5",children:[" ",a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Date"})," ",a.jsx("input",{type:"date",required:!0,value:k.date,onChange:j=>P({...k,date:j.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all"})," "]})," ",a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Description (Name & Notes)"})," ",a.jsx("input",{type:"text",required:!0,placeholder:"e.g. Purchase Office Supplies",value:k.description,onChange:j=>P({...k,description:j.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all placeholder-gray-600"})," "]})," ",a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[" ",a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Type"})," ",a.jsxs("select",{value:k.type,onChange:j=>P({...k,type:j.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"income",className:"bg-gray-900",children:"Income"})," ",a.jsx("option",{value:"expense",className:"bg-gray-900",children:"Expense"})," "]})," "]})," ",a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 ml-1",children:"Amount ($)"})," ",a.jsx("input",{type:"number",required:!0,placeholder:"0.00",value:k.amount,onChange:j=>P({...k,amount:j.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white outline-none focus:border-neon-blue focus:bg-black/60 focus:shadow-[0_0_15px_-5px_rgba(0,243,255,0.2)] transition-all placeholder-gray-600"})," "]})," "]})," ",a.jsxs("button",{type:"submit",className:"w-full py-4 mt-4 bg-gradient-to-r from-neon-blue to-cyan-600 rounded-xl text-black font-extrabold text-lg hover:opacity-90 transition-all shadow-[0_0_20px_rgba(0,243,255,0.3)] hover:shadow-[0_0_30px_rgba(0,243,255,0.5)] transform hover:-translate-y-1",children:[" ",E?"Update Transaction":"Save Transaction"," "]})," "]})," "]})," "]})]})},eI=()=>{var L;const{firebaseUser:n}=qr(),{appointments:e,doctorStatus:t,callingPatientId:r,isBookingPaused:i,toggleBookingPause:s,setDoctorStatus:o}=bi(),{setActiveTab:c}=se.useContext($o),u=new Date().toISOString().split("T")[0],d=(n==null?void 0:n.displayName)||"",[f,g]=se.useState(0);se.useEffect(()=>{const Q=setInterval(()=>g(j=>(j+1)%5),4e3);return()=>clearInterval(Q)},[]);const m=se.useMemo(()=>{const Q=e.filter(ee=>ee.date===u).length,j=e.filter(ee=>ee.date===u&&(ee.status==="checked-in"||ee.status==="in-exam"||ee.status==="completed")).length,re=e.filter(ee=>ee.status==="checked-in").sort((ee,U)=>(ee.queueOrder??9999)-(U.queueOrder??9999)),fe=e.filter(ee=>ee.date===u).reduce((ee,U)=>ee+(Number(U.paid)||0),0),ie=e.find(ee=>ee.status==="in-exam"),Ae=e.find(ee=>ee.id===r&&ee.status==="checked-in"),me=e.filter(ee=>ee.visitType==="New").length,_e=e.length||1,we=Math.round((_e-me)/_e*100);return{bookingsToday:Q,checkedInToday:j,queuingNow:re,revenueToday:fe,currentExam:ie,callingPatient:Ae,loyaltyRate:we,total:_e}},[e,u,r]),{bookingsToday:v,checkedInToday:C,queuingNow:_,revenueToday:E,currentExam:T,callingPatient:k,loyaltyRate:P,total:z}=m,Y=se.useMemo(()=>{const Q=e.filter(fe=>fe.status==="completed").length/z*100,j=E/(v||1),re=Array(12).fill(0);return e.filter(fe=>fe.date===u).forEach(fe=>{const ie=parseInt(fe.time.split(":")[0]);ie>=8&&ie<20&&re[ie-8]++}),{efficiency:Q,avgPaid:j,hourCounts:re}},[e,v,E,z,u]),Z=se.useMemo(()=>{const Q={};let j=0,re=0,fe=0,ie=0;e.forEach(_e=>{if(_e.residence){const we=_e.residence.trim();we&&(Q[we]=(Q[we]||0)+(Number(_e.paid)>0?1:0),fe++)}if(_e.age){const we=parseInt(_e.age);isNaN(we)||(we<30?j++:re++,ie++)}});const Ae=Object.entries(Q).sort((_e,we)=>we[1]-_e[1]).slice(0,2).map(([_e,we])=>({name:_e,percent:Math.round(we/(fe||1)*100)})),me=ie>0?{young:Math.round(j/ie*100),mature:Math.round(re/ie*100)}:{young:50,mature:50};return{geo:Ae,ageSplit:me}},[e]),R=se.useMemo(()=>{const Q=[];return _.length>5&&Q.push({type:"alert",text:"     .    ."}),E>2e3&&Q.push({type:"success",text:"  .     ."}),i&&Q.push({type:"warning",text:"  .     ."}),Q.length===0&&Q.push({type:"info",text:"  .      ."}),Q},[_.length,E,i]),F=se.useMemo(()=>[{label:" ",val:_.length,max:10,status:_.length>7?"":"",color:"bg-neon-blue"},{label:"",val:Math.round(Y.efficiency),max:100,status:"",color:"bg-green-500"},{label:" ",val:E,max:5e3,status:"",color:"bg-neon-purple"},{label:" ",val:P,max:100,status:"",color:"bg-cyan-400"},{label:" ",val:99,max:100,status:"",color:"bg-neon-pink"}][f],[f,_.length,Y.efficiency,E,P]),M=Math.max(...Y.hourCounts)||1,G=se.useMemo(()=>t==="resting"?{label:"",color:"text-red-500",icon:a.jsx(yg,{}),glow:"red"}:T?{label:" ",color:"text-orange-500",icon:a.jsx(Ri,{}),glow:"red"}:k?{label:" ",color:"text-neon-blue",icon:a.jsx(Zc,{}),glow:"cyan"}:{label:"",color:"text-green-500",icon:a.jsx(yo,{}),glow:"green"},[t,T,k]);return a.jsxs("div",{className:"space-y-6 animate-fade-in pb-12 font-arabic",dir:"rtl",children:[a.jsxs(Mt,{className:"p-1 relative overflow-hidden bg-black/40 border-white/10",noTilt:!0,glowColor:"cyan",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-neon-blue/5 via-transparent to-neon-purple/5 z-0"}),a.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row items-stretch gap-6 p-6",children:[a.jsxs("div",{className:"flex items-center gap-6 lg:border-l border-white/10 lg:pl-8",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-neon-blue to-neon-purple p-[1px] shadow-[0_0_30px_rgba(0,243,255,0.3)] animate-float",children:a.jsx("div",{className:"w-full h-full bg-black rounded-3xl flex items-center justify-center",children:a.jsx(u_,{size:40,className:"text-white"})})}),a.jsx("div",{className:"absolute -bottom-1 -left-1 w-6 h-6 bg-green-500 rounded-full border-4 border-[#0a0a0a] animate-pulse shadow-[0_0_10px_#22c55e]"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("h3",{className:"text-xl font-black text-white tracking-tighter uppercase",children:"  "}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx("div",{className:"px-2 py-0.5 rounded bg-neon-blue/10 border border-neon-blue/20 text-[10px] font-black text-neon-blue uppercase tracking-widest",children:""}),a.jsx("span",{className:"text-[10px] text-gray-500 font-mono",children:": 99.9%"})]})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center gap-2 min-h-[60px] text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:[a.jsx(Ov,{size:14,className:"text-neon-blue"}),"  "]}),a.jsx("div",{className:"space-y-1",children:R.map((Q,j)=>a.jsxs("div",{className:"flex items-center gap-3 text-sm animate-slide-up",children:[a.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Q.type==="alert"?"bg-red-500 shadow-[0_0_8px_red]":Q.type==="warning"?"bg-orange-500 shadow-[0_0_8px_orange]":"bg-neon-blue shadow-[0_0_8px_#00f3ff]"}`}),a.jsx("p",{className:"text-gray-200 font-medium truncate max-w-lg",children:Q.text})]},j))})]}),a.jsxs("div",{className:"min-w-[200px] flex flex-col justify-center bg-white/5 p-4 rounded-2xl border border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:F.label}),a.jsx("span",{className:"text-[10px] font-bold text-white bg-white/10 px-1.5 rounded",children:F.status})]}),a.jsx("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden border border-white/5 relative",children:a.jsx("div",{className:`h-full ${F.color} transition-all duration-1000 ease-out shadow-[0_0_10px_currentColor]`,style:{width:`${F.val/F.max*100}%`}})}),a.jsx("div",{className:"flex justify-between items-center mt-2",children:a.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(Q=>a.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${Q===f?"bg-white scale-125":"bg-gray-700"}`},Q))})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"cyan",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:" "}),a.jsx("h3",{className:"text-4xl font-black mt-1 text-white",children:v}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("div",{className:"px-2 py-0.5 rounded bg-neon-blue/10 border border-neon-blue/20 text-[10px] font-bold text-neon-blue",children:["+",Math.round(v*.4),"% "]})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-neon-blue/5 flex items-center justify-center text-neon-blue border border-neon-blue/20 group-hover:scale-110 transition-transform",children:a.jsx(Ri,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"purple",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:" "}),a.jsxs("h3",{className:"text-4xl font-black mt-1 text-white",children:["$",E.toLocaleString()]}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsxs("span",{className:"text-[10px] text-gray-400 font-medium",children:["$",Y.avgPaid.toFixed(0),"   "]})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-neon-purple/5 flex items-center justify-center text-neon-purple border border-neon-purple/20 group-hover:scale-110 transition-transform",children:a.jsx(Fd,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex items-center justify-between group",glowColor:"red",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:" "}),a.jsx("h3",{className:"text-4xl font-black mt-1 text-white",children:_.length}),a.jsx("div",{className:"flex items-center gap-2 mt-2",children:a.jsx("span",{className:"text-[10px] text-red-400 font-bold bg-red-500/10 px-2 py-0.5 rounded border border-red-500/20",children:": ~ "})})]}),a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-500/5 flex items-center justify-center text-red-500 border border-red-500/20 group-hover:scale-110 transition-transform",children:a.jsx(zF,{size:28})})]}),a.jsxs(Mt,{className:"p-6 flex flex-col justify-center group overflow-hidden relative pointer-events-none",glowColor:G.glow,children:[a.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.2em]",children:" "}),a.jsx("h3",{className:`text-2xl font-black mt-1 uppercase ${G.color} ${G.label===" "?"animate-pulse":""}`,children:G.label})]}),a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center border shadow-lg transition-all ${t==="available"?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:t==="available"?a.jsx(XA,{size:24}):a.jsx(yg,{size:24})})]}),(T||k)&&a.jsxs("div",{className:`mt-4 p-2 bg-white/5 rounded-lg border border-white/5 flex items-center justify-between ${G.label===" "?"animate-pulse border-neon-blue/30":""}`,children:[a.jsx("p",{className:"text-[10px] text-white font-bold truncate",children:(L=T||k)==null?void 0:L.name}),a.jsx("span",{className:`text-[8px] px-1 rounded uppercase font-black ${G.label===" "?"bg-neon-blue text-black":"bg-red-500 text-white"}`,children:G.label})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Mt,{className:"lg:col-span-2 p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-3 uppercase tracking-tighter",children:[a.jsx(o6,{size:20,className:"text-neon-blue"}),"  "]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 uppercase font-bold tracking-widest",children:"   "})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-neon-blue shadow-[0_0_8px_#00f3ff] animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:""})]})]}),a.jsx("div",{className:"h-64 flex items-end justify-between gap-4 px-2",dir:"ltr",children:Y.hourCounts.map((Q,j)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center group h-full justify-end",children:[a.jsx("div",{className:"w-full bg-gradient-to-t from-neon-blue/5 to-neon-blue/40 rounded-t-xl relative border-t border-x border-neon-blue/20 transition-all duration-700 group-hover:from-neon-blue/30 group-hover:to-neon-blue/60",style:{height:`${Q/M*100}%`},children:a.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-[10px] font-black px-2 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-all border border-white/10",children:Q})}),a.jsxs("span",{className:"text-[9px] text-gray-600 font-black mt-3 font-mono",children:[j+8,"H"]})]},j))})]}),a.jsxs(Mt,{className:"p-8 border-white/5 flex flex-col",glowColor:"purple",children:[a.jsxs("h3",{className:"text-xl font-bold text-white mb-8 flex items-center gap-3 uppercase tracking-tighter text-right",children:[a.jsx(ci,{size:20,className:"text-neon-purple"}),"  "]}),a.jsxs("div",{className:"space-y-6 flex-1 text-right",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs font-black text-gray-400 uppercase tracking-widest",children:[a.jsx("span",{children:" "}),a.jsxs("span",{className:"text-neon-purple",children:[P,"%"]})]}),a.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-neon-purple shadow-[0_0_10px_#9d00ff]",style:{width:`${P}%`}})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-xs font-black text-gray-400 uppercase tracking-widest",children:[a.jsx("span",{children:" "}),a.jsx("span",{className:"text-green-500",children:"92%"})]}),a.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:"92%"}})})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-white/5",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] mb-4",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest",children:" "}),Z.geo.length>0?Z.geo.map((Q,j)=>a.jsxs("div",{className:"flex items-center justify-between group",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f_,{size:12,className:"text-neon-purple"}),a.jsx("span",{className:"text-xs text-gray-300 font-medium",children:Q.name})]}),a.jsxs("span",{className:"text-[10px] font-bold text-white bg-white/5 px-2 py-0.5 rounded border border-white/5",children:[Q.percent,"%"]})]},Q.name)):a.jsx("p",{className:"text-[10px] text-gray-600 italic",children:"   "})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[9px] text-gray-600 uppercase font-black tracking-widest",children:"  "}),a.jsxs("div",{className:"flex gap-1 h-3 rounded-full overflow-hidden bg-gray-800 border border-white/5",dir:"ltr",children:[a.jsx("div",{className:"h-full bg-neon-blue shadow-[0_0_10px_rgba(0,243,255,0.4)]",style:{width:`${Z.ageSplit.young}%`}}),a.jsx("div",{className:"h-full bg-neon-purple shadow-[0_0_10px_rgba(157,0,255,0.4)]",style:{width:`${Z.ageSplit.mature}%`}})]}),a.jsxs("div",{className:"flex justify-between text-[9px] font-black uppercase text-gray-500",children:[a.jsxs("span",{className:"text-neon-blue",children:["   : ",Z.ageSplit.young,"%"]}),a.jsxs("span",{className:"text-neon-purple",children:["   : ",Z.ageSplit.mature,"%"]})]})]})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs(Mt,{className:"lg:col-span-2 p-0 overflow-hidden border-neon-blue/20",glowColor:"cyan",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-l from-neon-blue/10 via-transparent to-transparent border-b border-white/5 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/20 rounded-lg text-neon-blue animate-pulse",children:a.jsx(Zc,{size:18})}),a.jsx("h3",{className:"font-black text-white tracking-widest uppercase text-sm",children:" "})]}),a.jsxs("button",{onClick:()=>window.open(`${window.location.origin}${window.location.pathname}?view=live`,"_blank"),className:"flex items-center gap-2 px-4 py-1.5 bg-neon-blue text-black rounded-lg hover:bg-white hover:scale-105 transition-all text-[10px] font-black uppercase tracking-widest border border-neon-blue",children:[a.jsx(PF,{size:14})," "]})]}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 bg-black/40 text-right",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest mb-2 flex items-center gap-2 justify-end",children:["   ",a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-neon-blue"})]}),_.slice(0,3).map((Q,j)=>a.jsxs("div",{className:`flex items-center justify-between p-3 bg-white/5 rounded-xl border border-white/5 group hover:border-neon-blue/30 transition-all ${r===Q.id?"border-neon-blue bg-neon-blue/10":""}`,children:[a.jsx("span",{className:"text-[10px] font-mono text-gray-500",children:Q.time}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-sm font-bold transition-colors ${r===Q.id?"text-neon-blue":"text-gray-200 group-hover:text-white"}`,children:Q.name}),a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold transition-colors text-xs ${r===Q.id?"bg-neon-blue text-black":"bg-gray-800 text-gray-400 group-hover:text-neon-blue"}`,children:j+1})]})]},Q.id)),_.length===0&&a.jsx("p",{className:"text-xs text-gray-600 italic py-4",children:"   ."})]}),a.jsx("div",{className:"flex flex-col justify-center gap-4 bg-white/5 p-4 rounded-2xl border border-white/5",children:a.jsxs("div",{className:"flex items-center gap-4 justify-end",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:" "}),a.jsx("p",{className:`text-lg font-black ${k?"text-neon-blue text-glow animate-pulse":"text-white"}`,children:(k==null?void 0:k.name)||"---"})]}),a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${k?"bg-neon-blue/20 text-neon-blue animate-pulse":"bg-gray-800 text-gray-600"}`,children:a.jsx(ci,{size:24})})]})})]})]}),a.jsxs(Mt,{className:"p-6 bg-gradient-to-br from-neon-purple/10 to-transparent border-white/10",noTilt:!0,children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4 justify-end",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em]",children:" "}),a.jsxs("h4",{className:"text-lg font-bold text-white tracking-tight",children:[" ",d]})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-neon-purple/20 flex items-center justify-center text-neon-purple shrink-0",children:a.jsx(F0,{size:24,className:"animate-pulse"})})]}),a.jsxs("p",{className:"text-sm text-gray-400 leading-relaxed text-right",children:["    ",a.jsxs("span",{className:"text-neon-purple font-bold",children:[P,"%"]}),"          ."]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-white/5 grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:""}),a.jsxs("p",{className:"text-xl font-black text-white",children:[Math.round(Y.efficiency),"%"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase",children:""}),a.jsx("p",{className:"text-xl font-black text-neon-blue",children:_.length>5?"":""})]})]})]})]})]})},ude=()=>{const{appointments:n,transactions:e}=bi(),[t,r]=se.useState("thisMonth"),[i,s]=se.useState(""),[o,c]=se.useState(""),u=se.useMemo(()=>{const C=new Date;let _=new Date,E=new Date;return t==="7days"?_.setDate(C.getDate()-7):t==="30days"?_.setDate(C.getDate()-30):t==="thisMonth"?_=new Date(C.getFullYear(),C.getMonth(),1):t==="custom"&&i&&o&&(_=new Date(i),E=new Date(o),E.setHours(23,59,59,999)),n.filter(T=>{const k=new Date(T.date);return k>=_&&k<=E})},[n,t,i,o]),d=se.useMemo(()=>{const C=new Date;let _=new Date,E=new Date;return t==="7days"?_.setDate(C.getDate()-7):t==="30days"?_.setDate(C.getDate()-30):t==="thisMonth"?_=new Date(C.getFullYear(),C.getMonth(),1):t==="custom"&&i&&o&&(_=new Date(i),E=new Date(o),E.setHours(23,59,59,999)),e.filter(T=>{const k=new Date(T.date);return k>=_&&k<=E})},[e,t,i,o]),f=se.useMemo(()=>{let C=0,_=0;const E=new Set;u.forEach(z=>{E.add(z.phone),z.visitType==="Follow-up"?C++:_++});const T=_+C,k=T>0?Math.round(C/T*100):0,P=E.size>0?(T/E.size).toFixed(1):"0";return{retention:{new:_,returning:C,rate:k},avgVisits:P,totalPatients:T}},[u]),g=se.useMemo(()=>{const C=u.reduce((Z,R)=>Z+(Number(R.paid)||0),0),_=d.filter(Z=>Z.type==="income").reduce((Z,R)=>Z+Number(R.amount),0),E=C+_,T=d.filter(Z=>Z.type==="expense").reduce((Z,R)=>Z+Number(R.amount),0),k=E-T,P=E>0?Math.round(k/E*100):0,z=u.filter(Z=>Z.paid>0).length,Y=z>0?Math.round(C/z):0;return{totalIncome:E,totalExpense:T,netProfit:k,profitMargin:P,atv:Y}},[u,d]),m=se.useMemo(()=>{const C=u.length,_=u.filter(R=>R.status==="completed").length,E=u.filter(R=>R.status==="cancelled").length,T=u.filter(R=>R.status==="booked").length,k=u.filter(R=>R.status==="checked-in").length,P=C>0?Math.round(E/C*100):0,z=["","","","","","",""],Y=Array(7).fill(0);u.forEach(R=>{const F=new Date(R.date).getDay();Y[F]++});const Z=z[Y.indexOf(Math.max(...Y))];return{completed:_,cancelled:E,booked:T,checkedIn:k,cancellationRate:P,dayCounts:Y,busiestDay:Z,days:z,total:C}},[u]),v=se.useMemo(()=>{const C={},_={};u.forEach(k=>{C[k.source]=(C[k.source]||0)+(Number(k.paid)||0),_[k.source]=(_[k.source]||0)+1});const E=Object.entries(C).sort((k,P)=>P[1]-k[1]),T=E.length>0?E[0][1]:1;return{sourceRev:E,maxSourceRev:T,sourceCount:_}},[u]);return a.jsxs("div",{className:"space-y-8 animate-fade-in font-arabic",dir:"rtl",children:[a.jsxs(Mt,{className:"p-4 flex flex-wrap gap-4 items-center justify-between border-white/10",noTilt:!0,children:[a.jsx("div",{className:"flex gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5",children:["7days","30days","thisMonth","custom"].map(C=>a.jsx("button",{onClick:()=>r(C),className:`px-6 py-2 rounded-lg text-sm font-black transition-all ${t===C?"bg-neon-blue text-black shadow-[0_0_15px_rgba(243,255,0,0.4)]":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:C==="thisMonth"?" ":C==="7days"?" ":C==="30days"?" ":""},C))}),a.jsx("div",{className:"flex items-center gap-4",children:t==="custom"&&a.jsxs("div",{className:"flex gap-2 items-center",dir:"ltr",children:[a.jsx("input",{type:"date",value:i,onChange:C=>s(C.target.value),className:"bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white"}),a.jsx("input",{type:"date",value:o,onChange:C=>c(C.target.value),className:"bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white"})]})})]}),a.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[a.jsx(Fd,{className:"text-green-400",size:24}),"  "]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs(Mt,{className:"p-8 border-white/5 group text-right",glowColor:"purple",children:[a.jsx("p",{className:"text-gray-400 text-sm font-black uppercase",children:" "}),a.jsxs("h3",{className:"text-4xl font-black mt-3 text-white",children:["$",g.totalIncome.toLocaleString()]})]}),a.jsxs(Mt,{className:"p-8 border-white/5 group text-right",glowColor:"red",children:[a.jsx("p",{className:"text-gray-400 text-sm font-black uppercase",children:" "}),a.jsxs("h3",{className:"text-4xl font-black mt-3 text-red-400",children:["$",g.totalExpense.toLocaleString()]})]}),a.jsxs(Mt,{className:"p-8 border-white/5 group text-right",glowColor:"green",children:[a.jsx("p",{className:"text-gray-400 text-sm font-black uppercase",children:" "}),a.jsxs("h3",{className:"text-4xl font-black mt-3 text-green-400",children:["$",g.netProfit.toLocaleString()]}),a.jsxs("span",{className:"text-xs text-gray-500 font-bold uppercase mt-1 block",children:[": ",g.profitMargin,"%"]})]}),a.jsxs(Mt,{className:"p-8 border-white/5 group text-right",glowColor:"cyan",children:[a.jsx("p",{className:"text-gray-400 text-sm font-black uppercase",children:" "}),a.jsxs("h3",{className:"text-4xl font-black mt-3 text-neon-blue",children:["$",g.atv]}),a.jsx("span",{className:"text-xs text-gray-500 font-bold uppercase mt-1 block",children:" "})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Mt,{className:"p-8 border-white/5 text-right",glowColor:"purple",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-white flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-neon-purple/10 rounded-xl text-neon-purple",children:a.jsx(VF,{size:24})}),"  "]}),a.jsxs("div",{className:"px-4 py-1.5 bg-neon-purple/10 border border-neon-purple/30 rounded-xl text-sm font-bold text-neon-purple",children:[": ",f.avgVisits]})]}),a.jsxs("div",{className:"flex gap-6 items-end h-48 mb-8 px-4",dir:"ltr",children:[a.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-3 group h-full",children:[a.jsx("div",{className:"text-center font-black text-blue-400 text-xl",children:f.retention.new}),a.jsx("div",{className:"w-full bg-blue-500/20 rounded-t-2xl border-t border-x border-blue-500/30 relative h-full",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-blue-500 rounded-t-2xl opacity-60 transition-all duration-1000",style:{height:`${f.retention.new/(m.total||1)*100}%`}})}),a.jsx("div",{className:"text-center text-[10px] text-gray-500 font-black uppercase tracking-widest",children:""})]}),a.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-3 group h-full",children:[a.jsx("div",{className:"text-center font-black text-neon-purple text-xl",children:f.retention.returning}),a.jsx("div",{className:"w-full bg-neon-purple/20 rounded-t-2xl border-t border-x border-neon-purple/30 relative h-full",children:a.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-neon-purple rounded-t-2xl opacity-60 transition-all duration-1000",style:{height:`${f.retention.returning/(m.total||1)*100}%`}})}),a.jsx("div",{className:"text-center text-[10px] text-gray-500 font-black uppercase tracking-widest",children:""})]})]}),a.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 flex items-center justify-between border border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(t6,{size:24,className:"text-gray-400"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-gray-500 font-black uppercase",children:" "}),a.jsx("p",{className:"text-white font-bold text-md",children:"  %"})]})]}),a.jsxs("span",{className:"text-4xl font-black text-white",children:[f.retention.rate,"%"]})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5 text-right",glowColor:"cyan",children:[a.jsxs("h3",{className:"text-2xl font-black text-white mb-8 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-xl text-neon-blue",children:a.jsx(wg,{size:24})}),"  "]}),a.jsxs("div",{className:"flex items-center gap-12",children:[a.jsx("div",{className:"relative w-48 h-48 rounded-full flex-shrink-0 animate-pulse-slow",style:{background:`conic-gradient(#22c55e 0% ${m.completed/m.total*100}%, #ef4444 ${m.completed/m.total*100}% ${(m.completed+m.cancelled)/m.total*100}%, #3b82f6 ${(m.completed+m.cancelled)/m.total*100}% 100%)`},children:a.jsx("div",{className:"absolute inset-3 bg-[#0a0a0a] rounded-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:"block text-3xl font-black text-white",children:m.total}),a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black",children:""})]})})}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:""})]}),a.jsx("span",{className:"text-white",children:m.completed})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:""})]}),a.jsx("span",{className:"text-white",children:m.cancelled})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm font-bold",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"})," ",a.jsx("span",{className:"text-gray-300",children:"/ "})]}),a.jsx("span",{className:"text-white",children:m.booked+m.checkedIn})]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Mt,{className:"p-8 border-white/5 text-right",glowColor:"red",children:[a.jsxs("h3",{className:"text-2xl font-black text-white mb-8 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-red-500/10 rounded-xl text-red-400",children:a.jsx(g_,{size:24})})," "]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-3xl border border-white/10",children:[a.jsxs("div",{className:"text-4xl font-black text-red-400 mb-2",children:[m.cancellationRate,"%"]}),a.jsx("div",{className:"text-xs text-gray-500 font-black uppercase tracking-widest",children:" "})]}),a.jsxs("div",{className:"text-center p-6 bg-white/5 rounded-3xl border border-white/10",children:[a.jsx("div",{className:"text-4xl font-black text-white mb-2",children:m.busiestDay}),a.jsx("div",{className:"text-xs text-gray-500 font-black uppercase tracking-widest",children:"  "})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 font-black uppercase tracking-widest mb-4",children:"  "}),a.jsx("div",{className:"flex items-end justify-between h-32 gap-3",dir:"ltr",children:m.dayCounts.map((C,_)=>{const E=Math.max(...m.dayCounts)||1;return a.jsxs("div",{className:"flex-1 flex flex-col items-center group h-full",children:[a.jsx("div",{className:"w-full bg-gray-800 rounded-t-lg relative flex items-end justify-center transition-all h-full overflow-hidden",children:a.jsx("div",{className:"w-full bg-white/30 rounded-t-lg group-hover:bg-white/60 transition-all",style:{height:`${C/E*100}%`}})}),a.jsx("span",{className:"text-[9px] text-gray-500 mt-3 font-black uppercase",children:m.days[_]})]},_)})})]})]}),a.jsxs(Mt,{className:"p-8 border-white/5 text-right",glowColor:"cyan",children:[a.jsxs("h3",{className:"text-2xl font-black text-white mb-8 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-xl text-neon-blue",children:a.jsx(wg,{size:24})}),"   "]}),a.jsx("div",{className:"space-y-6",children:v.sourceRev.map(([C,_],E)=>a.jsxs("div",{className:"group",children:[a.jsxs("div",{className:"flex justify-between text-sm mb-3 font-bold",children:[a.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:C==="Phone Call"?" ":C==="Social Media"?" ":C==="Clinic Visit"?" ":C==="Walk-in"?" ":C}),a.jsxs("div",{className:"flex gap-4 text-xs font-mono",children:[a.jsxs("span",{className:"text-gray-500",children:[v.sourceCount[C]," "]}),a.jsxs("span",{className:"text-neon-blue",children:["$",_.toLocaleString()]})]})]}),a.jsx("div",{className:"h-2.5 bg-gray-800 rounded-full overflow-hidden border border-white/5 shadow-inner",children:a.jsx("div",{className:"h-full bg-gradient-to-l from-neon-blue to-cyan-400 shadow-[0_0_10px_rgba(0,243,255,0.4)] transition-all duration-1000",style:{width:`${_/v.maxSourceRev*100}%`,transitionDelay:`${E*100}ms`}})})]},C))})]})]})]})},dde=()=>{const{appUsers:n,addAppUser:e,updateAppUser:t,deleteAppUser:r}=bi(),[i,s]=se.useState(!1),{setHeaderHidden:o}=se.useContext($o),[c,u]=se.useState(null),[d,f]=se.useState({username:"",password:"",displayName:"",role:"staff",permissions:{}});se.useEffect(()=>{o(i)},[i,o]);const g=[{key:"dashboard",label:"  "},{key:"front_desk",label:"  ",actions:["add_booking","delete_booking"]},{key:"examination_room",label:"  ",actions:["complete_exam"]},{key:"social_media",label:"  "},{key:"accountant",label:" ",actions:["add_transaction"]},{key:"analytics",label:" "},{key:"customize_prints",label:" "},{key:"system_control",label:"  "}],m=(C,_,E)=>{f(T=>{const k={...T.permissions};if(k[C]||(k[C]={access:!1,actions:{}}),_==="access")k[C].access=!k[C].access;else if(_==="action"&&E){const P={...k[C].actions};P[E]=!P[E],k[C].actions=P}return{...T,permissions:k}})},v=async C=>{C.preventDefault(),!(!d.username||!d.password||!d.displayName)&&(c?await t(c.id,d):await e(d),s(!1),u(null))};return a.jsxs("div",{className:"space-y-8 animate-fade-in font-arabic",dir:"rtl",children:[a.jsxs(Mt,{className:"p-10 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-12",children:[a.jsxs("h3",{className:"text-3xl font-black text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-3 bg-neon-blue/10 rounded-2xl text-neon-blue shadow-lg",children:a.jsx(eA,{size:40})}),"   "]}),a.jsxs("button",{onClick:()=>{u(null),f({username:"",password:"",displayName:"",role:"staff",permissions:{}}),s(!0)},className:"flex items-center gap-4 px-10 py-5 bg-gradient-to-l from-neon-blue to-cyan-600 rounded-3xl text-black font-black text-xl shadow-2xl hover:scale-105 active:scale-95 transition-all",children:[a.jsx(Sh,{size:28}),"   "]})]}),a.jsx("div",{className:"overflow-hidden rounded-3xl border border-white/10 bg-black/20",children:a.jsxs("table",{className:"w-full text-right text-lg",children:[a.jsx("thead",{className:"bg-white/5 text-gray-400 font-black uppercase tracking-widest text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-6",children:" "}),a.jsx("th",{className:"p-6",children:" "}),a.jsx("th",{className:"p-6",children:""}),a.jsx("th",{className:"p-6",children:" "}),a.jsx("th",{className:"p-6 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-white/5 font-bold",children:n.map(C=>a.jsxs("tr",{className:"hover:bg-white/5 group",children:[a.jsx("td",{className:"p-6 text-2xl text-white group-hover:text-neon-blue transition-colors",children:C.displayName}),a.jsx("td",{className:"p-6 font-mono text-gray-500",children:C.username}),a.jsx("td",{className:"p-6",children:a.jsx("span",{className:"bg-white/10 px-4 py-1.5 rounded-full text-xs font-black uppercase tracking-widest",children:C.role})}),a.jsx("td",{className:"p-6 font-mono text-xs opacity-50 tracking-widest",children:""}),a.jsx("td",{className:"p-6 text-center",children:a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("button",{onClick:()=>{u(C),f(C),s(!0)},className:"p-3 bg-blue-500/10 text-blue-400 rounded-2xl hover:bg-blue-500 hover:text-white transition-all",children:a.jsx(ya,{size:24})}),a.jsx("button",{onClick:()=>r(C.id),className:"p-3 bg-red-500/10 text-red-400 rounded-2xl hover:bg-red-500 hover:text-white transition-all",children:a.jsx(Ii,{size:24})})]})})]},C.id))})]})})]}),i&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-md p-6 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"w-full max-w-2xl glass-panel rounded-[40px] p-12 border border-neon-blue/30 shadow-2xl animate-slide-up flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-6 border-b border-white/10 shrink-0",children:[a.jsx("h3",{className:"text-3xl font-black text-white",children:c?" ":"  "}),a.jsx("button",{onClick:()=>s(!1),className:"p-3 bg-white/5 rounded-full text-gray-400 hover:text-white",children:a.jsx(Ji,{size:32})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-8 flex-1 overflow-y-auto pl-4 custom-scrollbar",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-black text-gray-500 block mb-2",children:" "}),a.jsx("input",{type:"text",required:!0,value:d.username,onChange:C=>f({...d,username:C.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-black text-gray-500 block mb-2",children:" "}),a.jsx("input",{type:"text",required:!0,value:d.password,onChange:C=>f({...d,password:C.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-black text-gray-500 block mb-2",children:" "}),a.jsx("input",{type:"text",required:!0,value:d.displayName,onChange:C=>f({...d,displayName:C.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-black text-gray-500 block mb-2",children:" "}),a.jsxs("select",{value:d.role,onChange:C=>f({...d,role:C.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white appearance-none outline-none",children:[" ",a.jsx("option",{value:"staff",children:""})," ",a.jsx("option",{value:"doctor",children:""})," ",a.jsx("option",{value:"admin",children:" "})," ",a.jsx("option",{value:"moderator",children:""})," "]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-white/10",children:[a.jsxs("h4",{className:"text-sm font-black text-neon-blue mb-6 flex items-center gap-3 uppercase tracking-widest",children:[a.jsx(KF,{size:20}),"   "]}),a.jsx("div",{className:"space-y-4",children:g.map(C=>{var _,E,T,k;return a.jsxs("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-black text-white text-md",children:C.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((E=(_=d.permissions)==null?void 0:_[C.key])==null?void 0:E.access)||!1,onChange:()=>m(C.key,"access")}),a.jsx("div",{className:"w-12 h-7 bg-gray-800 rounded-full peer peer-checked:bg-neon-blue peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-[4px] after:right-[4px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:shadow-[0_0_10px_#00f3ff]"})]})]}),C.actions&&((k=(T=d.permissions)==null?void 0:T[C.key])==null?void 0:k.access)&&a.jsx("div",{className:"mt-6 pr-6 border-r-2 border-white/10 space-y-4 animate-slide-up",children:C.actions.map(P=>{var z,Y,Z;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-400 font-bold capitalize",children:P.replace("_"," ")}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",checked:((Z=(Y=(z=d.permissions)==null?void 0:z[C.key])==null?void 0:Y.actions)==null?void 0:Z[P])||!1,onChange:()=>m(C.key,"action",P)}),a.jsx("div",{className:"w-10 h-6 bg-gray-800 rounded-full peer peer-checked:bg-neon-purple peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-[4px] after:right-[4px] after:bg-white after:rounded-full after:h-4 after:w-4 after:transition-all"})]})]},P)})})]},C.key)})})]})]}),a.jsx("button",{onClick:v,className:"w-full py-6 mt-8 bg-gradient-to-l from-neon-blue to-cyan-600 rounded-3xl text-black font-black text-2xl shadow-xl hover:scale-[1.02] transition-all uppercase tracking-widest",children:"  "})]})})]})},hde=()=>{var ze,ft,ht,It,Tt;const[n,e]=se.useState(""),{systemUser:t}=qr(),{setHeaderHidden:r}=se.useContext($o),{appointments:i,addAppointment:s,updateAppointment:o,updateAppointmentStatus:c,reorderQueue:u,deleteAppointment:d,doctorStatus:f,callingPatientId:g,isBookingPaused:m,hasAssistantDoctor:v,assistantDoctorStatus:C,callingPatientIdAssistant:_}=bi(),E=new Date().toISOString().split("T")[0],[T,k]=se.useState(""),[P,z]=se.useState(""),[Y,Z]=se.useState("All"),[R,F]=se.useState(""),[M,G]=se.useState("All"),[L,Q]=se.useState("All"),[j,re]=se.useState(!1),[fe,ie]=se.useState(null),[Ae,me]=se.useState({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New"}),[_e,we]=se.useState(null);se.useEffect(()=>{r(j)},[j,r]);const ee=(t==null?void 0:t.role)==="admin"||((ft=(ze=t==null?void 0:t.permissions)==null?void 0:ze.front_desk)==null?void 0:ft.access)===!0,U=(t==null?void 0:t.role)==="admin"||((Tt=(It=(ht=t==null?void 0:t.permissions)==null?void 0:ht.front_desk)==null?void 0:It.actions)==null?void 0:Tt.delete_booking),H=m,V=se.useMemo(()=>i.filter(Ue=>{const ke=Ue.name.toLowerCase().includes(R.toLowerCase())||Ue.phone.includes(R),Gt=Y==="All"||Ue.source===Y,$t=M==="All"||Ue.status===M,fn=L==="All"||Ue.visitType===L,nn=T?Ue.date>=T:!0,Jt=P?Ue.date<=P:!0;return ke&&Gt&&$t&&fn&&nn&&Jt}),[i,R,Y,M,L,T,P]),J={total:V.length,checkIn:V.filter(Ue=>Ue.status==="checked-in").length,today:V.filter(Ue=>Ue.date===E).length},q=()=>{if(H){alert("      .");return}ie(null),me({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New",age:"",residence:"",phone:"",contactingNumber:""}),re(!0)},te=Ue=>{ie(Ue.id),me({...Ue}),re(!0)},xe=Ue=>{if(Ue.preventDefault(),Ae.name&&Ae.phone){if(Ae.date===E&&H&&!fe){alert("      .");return}fe?o(fe,Ae):s(Ae),re(!1),ie(null),me({date:E,time:"09:00",source:"Phone Call",status:"booked",visitType:"New"})}},ue=()=>{if(H){alert("      .");return}const Ue=new Date;ie(null),me({date:Ue.toISOString().split("T")[0],time:Ue.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),name:"",phone:"",contactingNumber:"",source:"Walk-in",paid:0,notes:"",status:"checked-in",checkInTime:Ue.getTime(),visitType:"New",age:"",residence:""}),re(!0)},be=()=>{k(""),z(""),Z("All"),G("All"),Q("All"),F("")},Ve=()=>{k(E),z(E)},Pe=se.useMemo(()=>i.filter(Ue=>Ue.status==="checked-in"||Ue.status==="in-assistant").sort((Ue,ke)=>(Ue.queueOrder??9999)-(ke.queueOrder??9999)||(Ue.checkInTime||0)-(ke.checkInTime||0)),[i]),We=se.useMemo(()=>i.find(Ue=>Ue.status==="in-exam"),[i]),nt=se.useMemo(()=>i.find(Ue=>Ue.id===g&&Ue.status==="checked-in"),[i,g]),Re=se.useMemo(()=>i.find(Ue=>Ue.status==="in-assistant"),[i]),Ee=se.useMemo(()=>i.find(Ue=>Ue.id===_&&Ue.status==="checked-in"),[i,_]),at=(Ue,ke)=>{Ue.dataTransfer.setData("index",ke.toString())},St=Ue=>{Ue.preventDefault()},tt=(Ue,ke)=>{const Gt=Number(Ue.dataTransfer.getData("index"));u(Gt,ke)},At=Ue=>{f!=="resting"&&(We&&c(We.id,"completed"),c(Ue.id,"in-exam"))},Et=Ue=>{c(Ue.id,"in-assistant")},Bt=Ue=>{we(Ue)},Dt=()=>{_e&&(d(_e),we(null))},Ne=()=>{const Ue=V.map(ke=>({:ke.no,:Xi(ke.date),:ke.time,:ke.name,:ke.age||"-",:ke.residence||"-",:ke.visitType==="New"?" ":"",:ke.phone," ":ke.contactingNumber||"-",:ke.source,:ke.paid,:ke.status,:ke.notes}));Q0(Ue,`__${E}`)};return a.jsxs("div",{className:"space-y-6 font-arabic",dir:"rtl",children:[a.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:[{id:"",icon:a.jsx(x0,{size:20})},{id:" ",icon:a.jsx(I1,{size:20})}].map(Ue=>a.jsxs("button",{onClick:()=>e(Ue.id),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${n===Ue.id?"bg-neon-blue text-black shadow-[0_0_15px_-3px_rgba(0,243,255,0.4)] transform -translate-y-1":"bg-black/30 border border-white/5 text-gray-400 hover:text-white hover:bg-white/5"}`,children:[Ue.icon," ",Ue.id]},Ue.id))}),m&&a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 flex items-center gap-5 animate-pulse",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-500/20 flex items-center justify-center text-red-500 shadow-[0_0_15px_rgba(239,68,68,0.3)]",children:a.jsx(kd,{size:28})}),a.jsxs("div",{className:"text-right",children:[a.jsx("h4",{className:"font-black text-red-400 uppercase tracking-[0.1em] text-lg",children:"    "}),a.jsx("p",{className:"text-sm text-red-200/80 font-medium italic",children:"       ."})]})]}),n===""&&a.jsxs("div",{className:"animate-fade-in space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[a.jsx(Mt,{className:"p-6 flex flex-col justify-center space-y-2 lg:col-span-3 border-white/10",noTilt:!0,children:a.jsxs("div",{className:"flex flex-wrap items-end gap-4 text-right",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:T,onChange:Ue=>k(Ue.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:P,onChange:Ue=>z(Ue.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:Y,onChange:Ue=>Z(Ue.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[120px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"Social Media",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"Phone Call",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"Clinic Visit",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"Walk-in",className:"bg-gray-900",children:" "})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:M,onChange:Ue=>G(Ue.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[100px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"booked",className:"bg-gray-900",children:""})," ",a.jsx("option",{value:"checked-in",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"in-exam",className:"bg-gray-900",children:""})," ",a.jsx("option",{value:"completed",className:"bg-gray-900",children:""})," ",a.jsx("option",{value:"cancelled",className:"bg-gray-900",children:""})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:L,onChange:Ue=>Q(Ue.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors min-w-[100px] appearance-none",children:[" ",a.jsx("option",{value:"All",className:"bg-gray-900",children:""})," ",a.jsx("option",{value:"New",className:"bg-gray-900",children:" "})," ",a.jsx("option",{value:"Follow-up",className:"bg-gray-900",children:""})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 flex-1 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("div",{className:"relative group",children:[" ",a.jsx(Pv,{size:16,className:"absolute right-3 top-2.5 text-gray-500 group-focus-within:text-neon-blue transition-colors"})," ",a.jsx("input",{type:"text",value:R,onChange:Ue=>F(Ue.target.value),placeholder:"  ...",className:"w-full bg-black/40 border border-white/10 rounded-lg pr-10 pl-3 py-2 text-sm text-white focus:border-neon-blue outline-none transition-colors focus:bg-black/60"})," "]})," "]}),a.jsxs("div",{className:"flex gap-2",children:[" ",a.jsxs("button",{onClick:be,className:"p-2.5 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white transition-colors border border-white/5",title:" ",children:[" ",a.jsx(vd,{size:18})," "]})," "]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-neon-blue/5 border border-neon-blue/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(0,243,255,0.1)] hover:bg-neon-blue/10 transition-colors group",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(0,243,255,0.5)] transition-all",children:J.total})," ",a.jsx("span",{className:"text-[10px] text-neon-blue uppercase font-bold tracking-widest mt-1",children:""})," "]}),a.jsxs("div",{className:"bg-purple-500/5 border border-purple-500/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(168,85,247,0.1)] hover:bg-purple-500/10 transition-colors group",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(168,85,247,0.5)] transition-all",children:J.checkIn})," ",a.jsx("span",{className:"text-[10px] text-purple-400 uppercase font-bold tracking-widest mt-1",children:""})," "]}),a.jsxs("div",{onClick:Ve,className:"bg-green-500/5 border border-green-500/20 rounded-2xl p-4 text-center flex flex-col justify-center items-center shadow-[0_0_15px_-5px_rgba(34,197,94,0.1)] hover:bg-green-500/10 transition-colors group cursor-pointer",children:[" ",a.jsx("span",{className:"text-3xl font-black text-white group-hover:drop-shadow-[0_0_5px_rgba(34,197,94,0.5)] transition-all",children:J.today})," ",a.jsx("span",{className:"text-[10px] text-green-400 uppercase font-bold tracking-widest mt-1 group-hover:underline",children:""})," "]})]})]}),a.jsxs(Mt,{className:"p-0 overflow-hidden border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/5 bg-black/20 relative z-10",children:[a.jsxs("h3",{className:"text-xl font-bold text-neon-blue flex items-center gap-2",children:[a.jsx(x0,{size:20}),"  "]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:Ne,className:"flex items-center gap-2 px-4 py-2 bg-green-600/10 text-green-400 border border-green-500/30 rounded-lg hover:bg-green-600/20 transition-colors font-bold text-xs uppercase tracking-wide",children:[a.jsx(B0,{size:16})," "]}),ee&&a.jsxs("button",{onClick:q,disabled:H,className:`flex items-center gap-2 px-5 py-2 rounded-lg text-black font-bold transition-all text-xs uppercase tracking-wide
                                    ${H?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-40 border border-gray-700":"bg-gradient-to-l from-neon-blue to-cyan-600 hover:shadow-[0_0_15px_rgba(0,243,255,0.4)] hover:scale-105 active:scale-95"}`,children:[a.jsx(za,{size:16}),"  "]})]})]}),a.jsxs("div",{className:"overflow-x-auto relative z-10",children:[a.jsxs("table",{className:"w-full text-right text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:" / "}),a.jsx("th",{className:"p-4",children:" "}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-white/5 font-bold",children:V.map(Ue=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-4 font-mono text-xs opacity-60",children:Ue.no}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"text-white",children:Xi(Ue.date)}),a.jsx("div",{className:"text-[10px] text-gray-500 font-mono mt-0.5",children:Ue.time})]}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-medium text-white group-hover:text-neon-blue transition-colors text-base",children:Ue.name}),a.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[": ",Ue.age?`${Ue.age} `:"-"]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-1 rounded border ${Ue.visitType==="New"?"text-neon-blue border-neon-blue/30 bg-neon-blue/10":"text-purple-400 border-purple-400/30 bg-purple-400/10"}`,children:Ue.visitType==="New"?"":""})}),a.jsx("td",{className:"p-4 text-xs text-gray-300",children:Ue.residence||"-"}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-mono text-gray-400",children:Ue.phone}),Ue.contactingNumber&&a.jsxs("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[": ",Ue.contactingNumber]})]}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2.5 py-1 rounded-md border border-white/10 bg-white/5 text-[10px] font-medium",children:Ue.source})}),a.jsxs("td",{className:"p-4 text-green-400 font-mono font-bold",children:["$",Ue.paid]}),a.jsx("td",{className:"p-4 max-w-[150px] truncate text-xs italic text-gray-500",title:Ue.notes,children:Ue.notes||"-"}),a.jsx("td",{className:"p-4",children:a.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider border
                                    ${Ue.status==="checked-in"?"bg-purple-500/10 text-purple-400 border-purple-500/20":Ue.status==="booked"?"bg-blue-500/10 text-blue-400 border-blue-500/20":Ue.status==="in-exam"?"bg-red-500/10 text-red-400 border-red-500/20 animate-pulse":Ue.status==="in-assistant"?"bg-cyan-500/10 text-cyan-400 border-cyan-500/20 animate-pulse":Ue.status==="completed"?"bg-green-500/10 text-green-400 border-green-500/20":"bg-gray-700/30 text-gray-500 border-gray-600/30"} 
                                `,children:[" ",Ue.status==="booked"?"":Ue.status==="checked-in"?"":Ue.status==="in-exam"?"":Ue.status," "]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsxs("button",{onClick:()=>te(Ue),className:"p-1.5 text-blue-400 hover:text-white bg-blue-500/10 hover:bg-blue-500/30 rounded-lg transition-colors",title:"",children:[" ",a.jsx(ya,{size:16})," "]}),Ue.status==="booked"&&a.jsxs("button",{onClick:()=>c(Ue.id,"checked-in"),className:"p-1.5 text-purple-400 hover:text-white bg-purple-500/10 hover:bg-purple-500/30 rounded-lg transition-colors",title:" ",children:[" ",a.jsx(md,{size:16})," "]}),Ue.status!=="cancelled"&&Ue.status!=="completed"&&a.jsx("button",{onClick:()=>c(Ue.id,"cancelled"),className:"p-1.5 text-orange-400 hover:text-white bg-orange-500/10 hover:bg-orange-500/30 rounded-lg transition-colors",title:"",children:a.jsx(JF,{size:16})}),U&&a.jsx("button",{onClick:()=>Bt(Ue.id),className:"p-1.5 text-red-400 hover:text-white bg-red-500/10 hover:bg-red-500/30 rounded-lg transition-colors",title:"",children:a.jsx(Ii,{size:16})})]})})]},Ue.id))})]}),V.length===0&&a.jsx("div",{className:"text-center py-12 text-gray-500 italic",children:"    ."})]})]})]}),n===" "&&a.jsxs("div",{className:"animate-fade-in grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-1.5 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(I1,{size:20})}),"    ()"]}),a.jsxs("div",{className:"flex gap-2",children:[f==="resting"&&a.jsxs("div",{className:"flex items-center gap-2 bg-red-500/10 px-4 py-1.5 rounded-full border border-red-500/30 shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),a.jsx("span",{className:"text-xs font-bold text-red-400 tracking-wider",children:"  "})]}),ee&&a.jsxs("button",{onClick:ue,disabled:H,className:`flex items-center gap-2 px-5 py-2 rounded-lg font-bold transition-all text-xs uppercase tracking-wider
                        ${H?"bg-gray-800 text-gray-500 cursor-not-allowed opacity-40 border border-gray-700":"bg-purple-600/10 border border-purple-500/30 text-purple-300 hover:bg-purple-600/30 hover:shadow-[0_0_15px_-5px_rgba(147,51,234,0.3)]"}`,children:[a.jsx(Sh,{size:16}),"  "]})]})]}),a.jsxs("div",{className:"space-y-3",children:[Pe.map((Ue,ke)=>{const Gt=g===Ue.id||_===Ue.id;return a.jsxs("div",{draggable:!0,onDragStart:$t=>at($t,ke),onDragOver:St,onDrop:$t=>tt($t,ke),className:`p-4 rounded-xl flex justify-between items-center cursor-move transition-all duration-300 group border relative overflow-hidden ${Gt?"bg-neon-blue/10 border-neon-blue/50 shadow-[0_0_20px_-5px_rgba(0,243,255,0.3)] scale-[1.02] z-10":"bg-white/5 border-white/5 hover:border-white/20 hover:bg-white/10"}`,children:[Gt&&a.jsx("div",{className:"absolute inset-0 bg-neon-blue/5 animate-pulse-slow pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-5 relative z-10",children:[a.jsx("div",{className:"text-gray-600 group-hover:text-gray-400 cursor-grab active:cursor-grabbing transition-colors",children:a.jsx(HF,{size:20})}),a.jsxs("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-black text-lg border-2 shadow-lg transition-all ${Gt?"bg-neon-blue text-black border-neon-blue shadow-[0_0_15px_rgba(0,243,255,0.5)]":"bg-gray-800 text-gray-400 border-gray-700 group-hover:border-gray-500 group-hover:text-white"}`,children:[" ",ke+1," "]}),a.jsxs("div",{className:"text-right",children:[" ",a.jsxs("h4",{className:`font-bold text-lg flex items-center gap-3 ${Gt?"text-neon-blue text-glow":"text-white"}`,children:[" ",Ue.name," ",Gt&&a.jsx("span",{className:"text-[10px] text-black font-black px-2 py-0.5 bg-neon-blue rounded uppercase tracking-widest shadow-lg animate-pulse",children:""})," ",Ue.status==="in-assistant"&&a.jsxs("span",{className:"text-[9px] bg-cyan-500/20 text-cyan-400 border border-cyan-500/40 px-2 py-0.5 rounded flex items-center gap-1 uppercase tracking-wider",children:[a.jsx(bg,{size:10}),"  "]})," ",Ue.isSheeted&&a.jsxs("span",{className:"text-[9px] bg-green-500/20 text-green-400 border border-green-500/40 px-2 py-0.5 rounded flex items-center gap-1 uppercase tracking-wider",children:[a.jsx(md,{size:10}),"  "]})," "]})," ",a.jsxs("p",{className:"text-xs text-gray-500 font-mono mt-1 flex items-center gap-1",children:["  : ",new Date(Ue.checkInTime||0).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ",a.jsx(nc,{size:10})]})," "]})]}),a.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[v&&a.jsx("button",{onClick:()=>Et(Ue),disabled:Ue.isSheeted||Ue.status==="in-assistant"||C==="resting",className:`px-3 py-2 rounded-lg border transition-all text-xs font-bold uppercase tracking-wider flex items-center gap-2 
                                        ${Ue.isSheeted||Ue.status==="in-assistant"||C==="resting"?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed opacity-50":"bg-purple-500/10 text-purple-400 border-purple-500/30 hover:bg-purple-500/20"}`,title:Ue.isSheeted?"   ":C==="resting"?"   ":"  ",children:Ue.isSheeted?" ":a.jsxs(a.Fragment,{children:["  ",a.jsx(lS,{size:14})]})}),a.jsxs("button",{onClick:()=>At(Ue),disabled:f==="resting",className:`px-4 py-2 rounded-lg border transition-all text-xs font-bold uppercase tracking-wider flex items-center gap-2 ${f==="resting"?"bg-gray-800 text-gray-600 border-gray-700 cursor-not-allowed opacity-50":"bg-green-500/10 text-green-400 border-green-500/30 hover:bg-green-500/20 hover:shadow-[0_0_15px_-5px_rgba(34,197,94,0.4)]"}`,children:["   ",a.jsx(lS,{size:14})," "]})]})]},Ue.id)}),Pe.length===0&&a.jsxs("div",{className:"p-10 text-center border-2 border-dashed border-white/10 rounded-2xl text-gray-500 flex flex-col items-center justify-center gap-2",children:[" ",a.jsx(Ri,{size:32,className:"opacity-20"})," ",a.jsx("span",{className:"text-sm",children:' .      "".'})," "]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Mt,{className:"p-0 border-neon-blue/30 shadow-[0_0_30px_-10px_rgba(0,243,255,0.15)] overflow-hidden",glowColor:"cyan",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-l from-neon-blue/20 to-transparent border-b border-neon-blue/20 flex items-center gap-3",children:[" ",a.jsx("div",{className:`w-3 h-3 rounded-full shadow-[0_0_10px_currentColor] animate-pulse ${f==="resting"||We?"bg-red-500 text-red-500":"bg-green-500 text-green-500"}`,children:" "})," ",a.jsx("h3",{className:"text-lg font-black text-white tracking-widest uppercase",children:" "})," "]}),a.jsx("div",{className:"p-6",children:f==="resting"?a.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-gray-500 bg-red-500/5 rounded-xl border border-red-500/10",children:[" ",a.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mb-4 animate-pulse",children:a.jsx(XA,{size:40,className:"text-red-500"})})," ",a.jsx("p",{className:"text-xl font-bold text-red-500 tracking-wider",children:"  "})," "]}):We?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[" ",a.jsxs("div",{className:"w-32 h-32 mx-auto bg-black/40 rounded-full flex items-center justify-center mb-6 border-4 border-red-500 relative shadow-[0_0_30px_rgba(239,68,68,0.3)]",children:[" ",a.jsx(Ri,{size:48,className:"text-white relative z-10"})," ",a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-red-500 rounded-full animate-spin"})," "]})," ",a.jsx("h3",{className:"text-red-500 text-sm font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"  "})," ",a.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:We.name})," ",a.jsx("p",{className:"text-gray-400 text-sm font-medium mb-8 bg-white/5 inline-block px-3 py-1 rounded-full",children:We.source})," ",a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-right bg-black/30 p-5 rounded-xl border border-white/5",children:[" ",a.jsxs("div",{className:"text-right",children:[" ",a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:""})," ",a.jsx("p",{className:"text-sm text-gray-300 truncate mt-1",children:We.notes||"-"})," "]})," ",a.jsxs("div",{className:"text-right",children:[" ",a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider",children:""})," ",a.jsx("p",{className:"text-sm text-gray-300 mt-1 font-mono",children:We.phone})," "]})," "]})," "]}):nt?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[" ",a.jsxs("div",{className:"w-32 h-32 mx-auto bg-neon-blue/10 rounded-full flex items-center justify-center mb-6 border-4 border-neon-blue relative shadow-[0_0_40px_rgba(0,243,255,0.3)]",children:[" ",a.jsx(Zc,{size:48,className:"text-neon-blue relative z-10"})," ",a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-neon-blue rounded-full animate-spin"})," "]})," ",a.jsx("h3",{className:"text-neon-blue text-sm font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"  "})," ",a.jsx("h2",{className:"text-4xl font-black text-white mb-2 text-glow",children:nt.name})," ",a.jsx("p",{className:"text-gray-400 text-sm font-medium mb-8",children:"    "})," "]}):a.jsxs("div",{className:"h-72 flex flex-col items-center justify-center text-gray-500 bg-green-500/5 rounded-xl border border-green-500/10",children:[" ",a.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:a.jsx(yo,{size:40,className:"text-green-500"})})," ",a.jsx("p",{className:"text-2xl font-bold text-green-500 tracking-wider animate-pulse",children:" "})," ",a.jsx("p",{className:"text-xs mt-2 uppercase tracking-widest opacity-60",children:"   "})," "]})})]}),v&&a.jsxs(Mt,{className:"p-0 border-neon-purple/30 shadow-[0_0_30px_-10px_rgba(157,0,255,0.15)] overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"p-4 bg-gradient-to-l from-neon-purple/20 to-transparent border-b border-neon-purple/20 flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full shadow-[0_0_10px_currentColor] animate-pulse ${C==="resting"?"bg-red-500 text-red-500":Re?"bg-orange-500 text-orange-500":"bg-green-500 text-green-500"}`}),a.jsx("h3",{className:"text-lg font-black text-white tracking-widest uppercase",children:" "})]}),a.jsx("div",{className:"p-6",children:C==="resting"?a.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-gray-500 bg-red-500/5 rounded-xl border border-red-500/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mb-4 animate-pulse",children:a.jsx(XA,{size:32,className:"text-red-500"})}),a.jsx("p",{className:"text-lg font-bold text-red-500 tracking-wider",children:" "})]}):Re?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[a.jsxs("div",{className:"w-24 h-24 mx-auto bg-black/40 rounded-full flex items-center justify-center mb-4 border-4 border-orange-500 relative shadow-[0_0_30px_rgba(249,115,22,0.3)]",children:[a.jsx(Ri,{size:32,className:"text-white relative z-10"}),a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-orange-500 rounded-full animate-spin"})]}),a.jsx("h3",{className:"text-orange-500 text-xs font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:"  "}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2 tracking-tight",children:Re.name})]}):Ee?a.jsxs("div",{className:"text-center py-6 animate-in fade-in zoom-in duration-500",children:[a.jsxs("div",{className:"w-24 h-24 mx-auto bg-neon-purple/10 rounded-full flex items-center justify-center mb-4 border-4 border-neon-purple relative shadow-[0_0_40px_rgba(157,0,255,0.3)]",children:[a.jsx(Zc,{size:32,className:"text-neon-purple relative z-10"}),a.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-neon-purple rounded-full animate-spin"})]}),a.jsx("h3",{className:"text-neon-purple text-xs font-bold mb-2 uppercase tracking-[0.2em] animate-pulse",children:" "}),a.jsx("h2",{className:"text-2xl font-black text-white mb-2 text-glow",children:Ee.name})]}):a.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-gray-500 bg-green-500/5 rounded-xl border border-green-500/10",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:a.jsx(ci,{size:32,className:"text-green-500"})}),a.jsx("p",{className:"text-lg font-bold text-green-500 tracking-wider animate-pulse",children:" "})]})})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"w-full max-w-lg glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)] animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:fe?" ":"  "}),a.jsx("button",{onClick:()=>re(!1),className:"p-2 bg-white/5 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:28})})]}),a.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-neon-blue font-bold text-xs uppercase tracking-widest border-b border-white/10 pb-2 mb-3",children:" "}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsxs("div",{className:"col-span-8 text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:" "}),a.jsx("input",{type:"text",required:!0,placeholder:" ",value:Ae.name||"",onChange:Ue=>me({...Ae,name:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-right"})]}),a.jsxs("div",{className:"col-span-4 text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:""}),a.jsx("input",{type:"text",placeholder:"",value:Ae.age||"",onChange:Ue=>me({...Ae,age:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-right"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:" "}),a.jsx("input",{type:"tel",required:!0,placeholder:"01xxxxxxxxx",value:Ae.phone||"",onChange:Ue=>me({...Ae,phone:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-left",dir:"ltr"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:" "}),a.jsx("input",{type:"tel",placeholder:"01xxxxxxxxx",value:Ae.contactingNumber||"",onChange:Ue=>me({...Ae,contactingNumber:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-left",dir:"ltr"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:" "}),a.jsx("input",{type:"text",placeholder:" / ",value:Ae.residence||"",onChange:Ue=>me({...Ae,residence:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-right"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-neon-blue font-bold text-xs uppercase tracking-widest border-b border-white/10 pb-2 mb-3",children:" "}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:""}),a.jsx("input",{type:"date",required:!0,value:Ae.date,onChange:Ue=>me({...Ae,date:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:""}),a.jsx("input",{type:"time",required:!0,value:Ae.time,onChange:Ue=>me({...Ae,time:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:" "}),a.jsxs("select",{value:Ae.visitType||"New",onChange:Ue=>me({...Ae,visitType:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"New",className:"bg-gray-900",children:" "}),a.jsx("option",{value:"Follow-up",className:"bg-gray-900",children:""})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:""}),a.jsxs("select",{value:Ae.source,onChange:Ue=>me({...Ae,source:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all appearance-none cursor-pointer",children:[a.jsx("option",{value:"Phone Call",className:"bg-gray-900",children:" "}),a.jsx("option",{value:"Social Media",className:"bg-gray-900",children:" "}),a.jsx("option",{value:"Clinic Visit",className:"bg-gray-900",children:" "}),a.jsx("option",{value:"Walk-in",className:"bg-gray-900",children:" "})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:"  ($)"}),a.jsx("input",{type:"number",placeholder:"0",value:Ae.paid||"",onChange:Ue=>me({...Ae,paid:Number(Ue.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3 text-white outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-right"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase tracking-wider mb-2 mr-1",children:""}),a.jsx("textarea",{rows:2,placeholder:" ...",value:Ae.notes||"",onChange:Ue=>me({...Ae,notes:Ue.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none focus:border-neon-blue focus:bg-black/60 transition-all placeholder-gray-600 text-right"})]})]}),a.jsxs("button",{type:"submit",className:"w-full py-4 mt-4 bg-gradient-to-l from-neon-blue to-cyan-600 rounded-xl text-black font-extrabold text-xl shadow-[0_0_20px_rgba(0,243,255,0.3)] hover:shadow-[0_0_30px_rgba(0,243,255,0.5)] transform hover:-translate-y-1 transition-all",children:[" ",fe?" ":" "," "]})]})]})}),a.jsx(Wv,{isOpen:!!_e,onClose:()=>we(null),onConfirm:Dt,title:" ",message:"             .",confirmText:" ",cancelText:"",isDanger:!0})]})},fde=()=>{const[n,e]=se.useState("Overview"),{setHeaderHidden:t}=se.useContext($o),{systemUser:r,firebaseUser:i}=qr(),{moderators:s,shifts:o,moderatorSessions:c,appointments:u,addAppointment:d,updateAppointment:f,addModerator:g,updateModerator:m,deleteModerator:v,addShift:C,updateShift:_,deleteShift:E,checkInModerator:T,checkOutModerator:k,isBookingPaused:P}=bi(),z=new Date().toISOString().split("T")[0],[Y,Z]=se.useState(""),[R,F]=se.useState({name:"",startTime:"09:00",endTime:"17:00"}),[M,G]=se.useState(null),[L,Q]=se.useState(null),[j,re]=se.useState(!1),[fe,ie]=se.useState(!1),[Ae,me]=se.useState("check-in"),[_e,we]=se.useState(null),[ee,U]=se.useState({date:z,moderatorId:"",shiftId:"",isCovering:!1,coveringForId:""}),[H,V]=se.useState({date:z,time:"10:00",name:"",phone:"",contactingNumber:"",source:"Facebook",notes:""});se.useEffect(()=>{if(!i)return;const ae=localStorage.getItem(`active_mod_session_${i.uid}`);if(ae){const Kt=c.find(an=>an.id===ae);Kt&&!Kt.checkOutTime?(we(ae),me("working"),e("Moderator")):Kt&&Kt.checkOutTime&&localStorage.removeItem(`active_mod_session_${i.uid}`)}},[c,i]);const[J,q]=se.useState(!1),[te,xe]=se.useState({}),[ue,be]=se.useState("Performance"),[Ve,Pe]=se.useState(""),[We,nt]=se.useState(""),[Re,Ee]=se.useState(""),[at,St]=se.useState(""),[tt,At]=se.useState(""),[Et,Bt]=se.useState(""),[Dt,Ne]=se.useState("All"),[ze,ft]=se.useState("All"),[ht,It]=se.useState("All");se.useEffect(()=>{t(J||j||fe)},[J,j,fe,t]);const Tt=P&&(r==null?void 0:r.role)!=="admin",Ue=async ae=>{ae.preventDefault(),Y.trim()&&(M?await m(M.id,Y):await g(Y),Z(""),G(null),re(!1))},ke=async ae=>{ae.preventDefault(),!(!R.name||!R.startTime||!R.endTime)&&(L?await _(L.id,R):await C(R),F({name:"",startTime:"09:00",endTime:"17:00"}),Q(null),ie(!1))},Gt=async()=>{if(!ee.moderatorId||!ee.shiftId||!i)return;const ae=o.find(jn=>jn.id===ee.shiftId),Kt=s.find(jn=>jn.id===ee.moderatorId),an=ee.isCovering?s.find(jn=>jn.id===ee.coveringForId):null;if(!ae||!Kt)return;const Ht=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),sn=Ht>ae.startTime,ts=await T({date:ee.date,moderatorId:Kt.id,moderatorName:Kt.name,shiftId:ae.id,shiftName:ae.name,checkInTime:Ht,isCovering:ee.isCovering,coveringForName:(an==null?void 0:an.name)||"",checkInStatus:sn?"Late":"On Time"});localStorage.setItem(`active_mod_session_${i.uid}`,ts),we(ts),me("working")},$t=()=>{if(!_e||!i)return;const ae=c.find(sn=>sn.id===_e);if(!ae)return;const Kt=o.find(sn=>sn.id===ae.shiftId),dn=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});let Ht="On Time";Kt&&dn<Kt.endTime&&(Ht="Early Leave"),k(_e,dn,Ht),localStorage.removeItem(`active_mod_session_${i.uid}`),me("check-in"),we(null)},fn=()=>{if(H.date===z&&Tt){alert("    .");return}if(H.name&&H.phone&&_e){const ae=c.find(Kt=>Kt.id===_e);d({date:H.date,time:H.time,name:H.name,phone:H.phone,contactingNumber:H.contactingNumber,source:H.source,paid:0,notes:H.notes,status:"booked",createdBy:(ae==null?void 0:ae.moderatorName)||"System",sessionId:_e}),V({date:z,time:"10:00",name:"",phone:"",contactingNumber:"",source:"Facebook",notes:""}),alert("   !")}},nn=se.useMemo(()=>c.map(ae=>{const Kt=u.filter(an=>an.sessionId===ae.id).length;return{...ae,totalBookings:Kt}}),[c,u]),Jt=se.useMemo(()=>nn.filter(ae=>{const Kt=(!Ve||ae.date>=Ve)&&(!We||ae.date<=We),an=!Re||ae.moderatorId===Re,dn=!at||ae.shiftId===at;return Kt&&an&&dn}),[nn,Ve,We,Re,at]),hr=se.useMemo(()=>u.filter(ae=>{if(!["Facebook","Instagram","Whatsapp","Other","Social Media"].includes(ae.source))return!1;const an=(!tt||ae.date>=tt)&&(!Et||ae.date<=Et),dn=Dt==="All"||ae.source===Dt,Ht=ze==="All"||ae.createdBy&&ae.createdBy===ze,sn=ht==="All"||ae.status===ht;return an&&dn&&Ht&&sn}),[u,tt,Et,Dt,ze,ht]),ln=se.useMemo(()=>c.find(ae=>ae.id===_e),[c,_e]),_i=se.useMemo(()=>ln?u.filter(ae=>ae.sessionId===ln.id):[],[u,ln]);return a.jsxs("div",{className:"space-y-6 animate-fade-in font-arabic",dir:"rtl",children:[a.jsx("div",{className:"flex flex-wrap gap-4 mb-8",children:[{id:"Overview",label:" ",icon:a.jsx(ci,{size:20})},{id:"Moderator",label:" ",icon:a.jsx(eA,{size:20})},{id:"Manager",label:"",icon:a.jsx(LF,{size:20})}].map(ae=>a.jsxs("button",{onClick:()=>e(ae.id),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold transition-all duration-300 ${n===ae.id?"bg-neon-purple text-black shadow-lg transform -translate-y-1":"bg-black/30 border border-white/5 text-gray-400 hover:text-white hover:bg-white/5"}`,children:[ae.icon," ",ae.label]},ae.id))}),n==="Overview"&&a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex gap-6 border-b border-white/10 pb-0",children:[a.jsx("button",{onClick:()=>be("Performance"),className:`px-6 py-3 font-bold transition-all text-sm uppercase tracking-wide border-b-2 ${ue==="Performance"?"text-neon-purple border-neon-purple drop-shadow-[0_0_8px_rgba(157,0,255,0.4)]":"text-gray-500 border-transparent hover:text-white"}`,children:" "}),a.jsx("button",{onClick:()=>be("Bookings"),className:`px-6 py-3 font-bold transition-all text-sm uppercase tracking-wide border-b-2 ${ue==="Bookings"?"text-neon-purple border-neon-purple drop-shadow-[0_0_8px_rgba(157,0,255,0.4)]":"text-gray-500 border-transparent hover:text-white"}`,children:" "})]}),ue==="Performance"&&a.jsxs(Mt,{className:"p-0 border-white/5 overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5 text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:Ve,onChange:ae=>Pe(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:We,onChange:ae=>nt(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px] text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:Re,onChange:ae=>Ee(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"",children:" "})," ",s.map(ae=>a.jsx("option",{value:ae.id,children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px] text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:at,onChange:ae=>St(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"",children:" "})," ",o.map(ae=>a.jsx("option",{value:ae.id,children:ae.name},ae.id))," "]})," "]}),a.jsxs("button",{onClick:()=>{Pe(""),nt(""),Ee(""),St("")},className:"px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors border border-white/5",children:[" ",a.jsx(vd,{size:16})," "]})," "]}),a.jsxs("table",{className:"w-full text-right text-sm text-gray-400",children:[a.jsxs("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:[" ",a.jsxs("tr",{children:[" ",a.jsx("th",{className:"p-4",children:" "})," ",a.jsx("th",{className:"p-4",children:" "})," ",a.jsx("th",{className:"p-4",children:""})," ",a.jsx("th",{className:"p-4",children:" "})," ",a.jsx("th",{className:"p-4",children:" "})," ",a.jsx("th",{className:"p-4",children:""})," ",a.jsx("th",{className:"p-4",children:""})," "]})," "]}),a.jsxs("tbody",{className:"divide-y divide-white/5 font-bold",children:[" ",Jt.map(ae=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4",children:Xi(ae.date)}),a.jsxs("td",{className:"p-4 text-white",children:[" ",ae.moderatorName," ",ae.isCovering&&a.jsxs("span",{className:"block text-[10px] text-yellow-500 bg-yellow-500/10 px-1.5 py-0.5 rounded w-fit mt-1 border border-yellow-500/20",children:["  ",ae.coveringForName]})," "]}),a.jsx("td",{className:"p-4",children:ae.shiftName})," ",a.jsx("td",{className:"p-4 font-mono",children:ae.checkInTime})," ",a.jsx("td",{className:"p-4 font-mono",children:ae.checkOutTime||"-"}),a.jsxs("td",{className:"p-4",children:[a.jsx("span",{className:`px-2.5 py-1 rounded-md text-[10px] font-bold uppercase border ${ae.checkInStatus==="Late"?"bg-red-500/10 text-red-400 border-red-500/20":"bg-green-500/10 text-green-400 border-green-500/20"}`,children:ae.checkInStatus==="Late"?"":" "})," ",ae.checkOutStatus==="Early Leave"&&a.jsx("span",{className:"mr-2 px-2.5 py-1 rounded-md text-[10px] font-bold uppercase bg-red-500/10 text-red-400 border border-red-500/20",children:" "})]}),a.jsx("td",{className:"p-4 text-neon-purple font-black text-xl drop-shadow-[0_0_5px_rgba(157,0,255,0.4)]",children:ae.totalBookings})]},ae.id))," ",Jt.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-12 text-center text-gray-500 italic",children:"     ."})})," "]})]})]}),ue==="Bookings"&&a.jsxs(Mt,{className:"p-0 border-white/5 overflow-hidden",glowColor:"purple",children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5 text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:tt,onChange:ae=>At(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:" "})," ",a.jsx("input",{type:"date",value:Et,onChange:ae=>Bt(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[120px] text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:Dt,onChange:ae=>Ne(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:" "})," ",a.jsx("option",{value:"Facebook",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",children:""})," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px] text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:ze,onChange:ae=>ft(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:" "})," ",s.map(ae=>a.jsx("option",{value:ae.name,children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[120px] text-right",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider",children:""})," ",a.jsxs("select",{value:ht,onChange:ae=>It(ae.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-neon-purple outline-none transition-colors appearance-none",children:[" ",a.jsx("option",{value:"All",children:" "})," ",a.jsx("option",{value:"booked",children:""})," ",a.jsx("option",{value:"checked-in",children:" "})," ",a.jsx("option",{value:"completed",children:""})," ",a.jsx("option",{value:"cancelled",children:""})," "]})," "]}),a.jsxs("button",{onClick:()=>{At(""),Bt(""),Ne("All"),ft("All"),It("All")},className:"px-4 py-2.5 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg text-sm font-bold flex items-center gap-2 transition-colors border border-white/5",children:[" ",a.jsx(vd,{size:16})," "]}),a.jsxs("div",{className:"flex-1 text-left",children:[" ",a.jsxs("button",{onClick:()=>{const ae=hr.map(Kt=>({Date:Xi(Kt.date),ClientName:Kt.name,Source:Kt.source,Moderator:Kt.createdBy||"Unknown",Status:Kt.status}));Q0(ae,`Moderator_Bookings_${z}`)},className:"flex items-center gap-2 px-5 py-2.5 bg-green-600/10 text-green-400 border border-green-500/30 rounded-xl hover:bg-green-600/20 transition-all font-bold text-xs uppercase tracking-wide mr-auto",children:[" ",a.jsx(B0,{size:18})," Excel "]})," "]})]}),a.jsxs("table",{className:"w-full text-right text-sm text-gray-400",children:[a.jsxs("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:[" ",a.jsxs("tr",{children:[" ",a.jsx("th",{className:"p-4",children:""})," ",a.jsx("th",{className:"p-4",children:" "})," ",a.jsx("th",{className:"p-4",children:""})," ",a.jsx("th",{className:"p-4",children:""})," ",a.jsx("th",{className:"p-4",children:""})," "]})," "]}),a.jsxs("tbody",{className:"divide-y divide-white/5 font-bold",children:[" ",hr.map(ae=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[" ",a.jsx("td",{className:"p-4 font-mono",children:Xi(ae.date)})," ",a.jsx("td",{className:"p-4 text-white text-base",children:ae.name})," ",a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2.5 py-1 border border-white/10 bg-white/5 rounded-md text-xs",children:ae.source})})," ",a.jsx("td",{className:"p-4 text-neon-purple font-medium",children:ae.createdBy||"Unknown"})," ",a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-3 py-1 bg-gray-800/50 rounded-full text-xs font-bold uppercase tracking-wider text-gray-300 border border-gray-700",children:ae.status})})," "]},ae.id))," ",hr.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-500 italic",children:"      ."})})," "]})]})]})]}),n==="Moderator"&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mx-auto max-w-6xl animate-fade-in",children:Ae==="check-in"?a.jsxs(Mt,{className:"p-10 border-neon-purple/30 shadow-2xl lg:col-span-2 max-w-2xl mx-auto text-right",glowColor:"purple",children:[a.jsxs("h3",{className:"text-3xl font-black text-white mb-8 flex items-center gap-4",children:[" ",a.jsx("div",{className:"p-2 bg-neon-purple/20 rounded-xl text-neon-purple",children:a.jsx(a6,{size:32})}),"    "]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:""})," ",a.jsx("input",{type:"date",value:ee.date,onChange:ae=>U({...ee,date:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none"})," "]}),a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:""})," ",a.jsxs("select",{value:ee.moderatorId,onChange:ae=>U({...ee,moderatorId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:" ..."})," ",s.map(ae=>a.jsx("option",{value:ae.id,className:"bg-gray-900",children:ae.name},ae.id))," "]})," "]}),a.jsxs("div",{children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:""})," ",a.jsxs("select",{value:ee.shiftId,onChange:ae=>U({...ee,shiftId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:" ..."})," ",o.map(ae=>a.jsxs("option",{value:ae.id,className:"bg-gray-900",children:[ae.name," (",ae.startTime," - ",ae.endTime,")"]},ae.id))," "]})," "]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white/5 p-4 rounded-xl border border-white/5",children:[" ",a.jsx("input",{type:"checkbox",checked:ee.isCovering,onChange:ae=>U({...ee,isCovering:ae.target.checked}),className:"w-5 h-5 accent-neon-purple rounded cursor-pointer"})," ",a.jsx("label",{className:"text-sm font-bold text-white tracking-wide",children:"    "})," "]}),ee.isCovering&&a.jsxs("div",{className:"animate-slide-up",children:[" ",a.jsx("label",{className:"block text-xs uppercase text-gray-400 font-bold mb-2 tracking-wider",children:"  "})," ",a.jsxs("select",{value:ee.coveringForId,onChange:ae=>U({...ee,coveringForId:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white focus:border-neon-purple transition-all outline-none appearance-none",children:[" ",a.jsx("option",{value:"",className:"bg-gray-900",children:" ..."})," ",s.map(ae=>a.jsx("option",{value:ae.id,className:"bg-gray-900",children:ae.name},ae.id))," "]})," "]}),a.jsxs("button",{onClick:Gt,className:"w-full py-5 mt-6 bg-gradient-to-r from-neon-purple to-pink-600 rounded-xl text-white font-extrabold text-lg hover:shadow-2xl transition-all flex items-center justify-center gap-3 hover:scale-[1.02] active:scale-[0.98]",children:[" ",a.jsx(nc,{size:24}),"    "]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Mt,{className:"p-8 border-green-500/30 relative overflow-hidden shadow-2xl text-right",glowColor:"green",children:[a.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-gradient-to-l from-green-500 to-emerald-400 animate-pulse-slow"}),a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[" ",a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 shadow-[0_0_10px_#22c55e] animate-pulse"})," ",a.jsxs("div",{className:"text-right",children:[" ",a.jsx("h3",{className:"text-2xl font-black text-white mb-1",children:" "})," ",a.jsxs("p",{className:"text-gray-400 text-sm",children:["   ",a.jsx("span",{className:"text-white font-bold",children:ln==null?void 0:ln.moderatorName})]})," "]})," "]}),P&&a.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3",children:[a.jsx(kd,{size:18,className:"text-red-400"}),a.jsx("span",{className:"text-xs text-red-200 font-bold uppercase tracking-wider",children:"     "})]}),a.jsxs("div",{className:"space-y-4 mb-8 p-6 bg-black/30 rounded-2xl border border-white/10 backdrop-blur-sm text-right",children:[a.jsx("h4",{className:"font-bold text-neon-purple mb-4 uppercase tracking-widest text-xs",children:"  "}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",dir:"ltr",children:[a.jsx("input",{type:"date",value:H.date,onChange:ae=>V({...H,date:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"}),a.jsx("input",{type:"time",value:H.time,onChange:ae=>V({...H,time:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"})]}),a.jsx("input",{type:"text",placeholder:" ",value:H.name,onChange:ae=>V({...H,name:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none text-right"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",dir:"ltr",children:[a.jsx("input",{type:"tel",placeholder:" ",value:H.phone,onChange:ae=>V({...H,phone:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"}),a.jsx("input",{type:"tel",placeholder:" ",value:H.contactingNumber,onChange:ae=>V({...H,contactingNumber:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none"})]}),a.jsxs("select",{value:H.source,onChange:ae=>V({...H,source:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none appearance-none cursor-pointer",children:[" ",a.jsx("option",{value:"Facebook",className:"bg-gray-900",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",className:"bg-gray-900",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",className:"bg-gray-900",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",className:"bg-gray-900",children:""})," "]}),a.jsx("textarea",{placeholder:" ()",value:H.notes,onChange:ae=>V({...H,notes:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white mb-2 focus:border-neon-purple transition-colors outline-none resize-none text-right",rows:3}),a.jsx("button",{onClick:fn,disabled:H.date===z&&Tt,className:`w-full py-4 border rounded-xl font-black transition-all mt-2 
                                ${H.date===z&&Tt?"bg-gray-800 text-gray-500 border-gray-700 cursor-not-allowed":"bg-neon-purple/10 text-neon-purple border-neon-purple/50 hover:bg-neon-purple hover:text-white hover:shadow-2xl"}`,children:"+   "})]}),a.jsxs("button",{onClick:$t,className:"w-full py-4 bg-red-500/10 text-red-400 border border-red-500/30 rounded-xl font-black hover:bg-red-500 hover:text-white transition-all flex items-center justify-center gap-3",children:[" ",a.jsx(jv,{size:20}),"    "]})]}),a.jsxs(Mt,{className:"p-6 border-white/5 flex flex-col h-full bg-black/20 text-right",glowColor:"purple",children:[a.jsxs("h3",{className:"text-xl font-black text-white mb-6 uppercase tracking-wider flex items-center gap-3 justify-end",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-neon-purple shadow-[0_0_8px_#9d00ff]"}),"   "]}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 max-h-[500px] custom-scrollbar pl-2",children:[" ",_i.map(ae=>a.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5 flex justify-between items-center group hover:border-neon-purple/40 hover:bg-white/10 transition-all",children:[a.jsxs("button",{onClick:()=>{xe({...ae}),q(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[" ",a.jsx(ya,{size:16})," "]}),a.jsxs("div",{className:"text-right",children:[" ",a.jsx("h4",{className:"font-bold text-gray-200 group-hover:text-white transition-colors",children:ae.name})," ",a.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",dir:"ltr",children:[ae.phone,"  ",a.jsx("span",{className:"text-neon-purple",children:ae.source})]})," "]})]},ae.id))," ",_i.length===0&&a.jsxs("div",{className:"text-center py-16 text-gray-600 text-sm flex flex-col items-center gap-3",children:[" ",a.jsx(ci,{size:24,className:"opacity-20"})," ",a.jsx("span",{children:"    ."})," "]})]})]})]})}),n==="Manager"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in text-right",children:[a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"purple",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("button",{onClick:()=>{G(null),Z(""),re(!0)},className:"p-2 bg-neon-purple text-white rounded-lg hover:bg-white hover:text-black transition-all shadow-lg",children:a.jsx(za,{size:24})}),a.jsxs("h3",{className:"text-2xl font-black flex items-center gap-4 text-white",children:["  ",a.jsx("div",{className:"p-2 bg-neon-purple/10 rounded-lg text-neon-purple",children:a.jsx(Ri,{size:28})})]})]}),a.jsx("div",{className:"space-y-4",children:s.map(ae=>a.jsxs("div",{className:"flex items-center justify-between p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors group",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{G(ae),Z(ae.name),re(!0)},className:"p-2 text-blue-400 hover:bg-blue-500/10 rounded-xl transition-all",children:a.jsx(ya,{size:18})}),a.jsx("button",{onClick:()=>v(ae.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-xl transition-all",children:a.jsx(Ii,{size:18})})]}),a.jsx("span",{className:"font-black text-white text-xl group-hover:text-neon-purple transition-colors",children:ae.name})]},ae.id))})]}),a.jsxs(Mt,{className:"p-8 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("button",{onClick:()=>{Q(null),F({name:"",startTime:"09:00",endTime:"17:00"}),ie(!0)},className:"p-2 bg-neon-blue text-black rounded-lg hover:bg-white transition-all shadow-lg",children:a.jsx(za,{size:24})}),a.jsxs("h3",{className:"text-2xl font-black flex items-center gap-4 text-white",children:["  ",a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(nc,{size:28})})]})]}),a.jsx("div",{className:"space-y-4",children:o.map(ae=>a.jsxs("div",{className:"p-5 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-all group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{Q(ae),F({...ae}),ie(!0)},className:"p-2 text-blue-400 hover:bg-blue-500/10 rounded-xl transition-all",children:a.jsx(ya,{size:18})}),a.jsx("button",{onClick:()=>E(ae.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-xl transition-all",children:a.jsx(Ii,{size:18})})]}),a.jsx("span",{className:"font-black text-white uppercase tracking-wider text-lg group-hover:text-neon-blue transition-colors",children:ae.name})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-400 font-mono text-xs justify-end",children:[ae.startTime," - ",ae.endTime," ",a.jsx(nc,{size:14})]})]},ae.id))})]})]}),J&&a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",dir:"rtl",children:[" ",a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-2xl p-8 border border-neon-purple/20 shadow-2xl animate-slide-up text-right",children:[" ",a.jsxs("div",{className:"flex justify-between items-center mb-8 pb-4 border-b border-white/10",children:[" ",a.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:"  "})," ",a.jsx("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-white bg-white/5 p-2 rounded-full hover:bg-white/10 transition-colors",children:a.jsx(Ji,{size:28})})," "]})," ",a.jsxs("div",{className:"space-y-5",children:[" ",a.jsx("input",{type:"text",placeholder:" ",value:te.name||"",onChange:ae=>xe({...te,name:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors text-right"})," ",a.jsxs("div",{className:"grid grid-cols-2 gap-4",dir:"ltr",children:[" ",a.jsx("input",{type:"tel",placeholder:" ",value:te.phone||"",onChange:ae=>xe({...te,phone:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors"})," ",a.jsx("input",{type:"tel",placeholder:" ",value:te.contactingNumber||"",onChange:ae=>xe({...te,contactingNumber:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors"})," "]})," ",a.jsxs("select",{value:te.source,onChange:ae=>xe({...te,source:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none appearance-none",children:[" ",a.jsx("option",{value:"Facebook",className:"bg-gray-900",children:"Facebook"})," ",a.jsx("option",{value:"Instagram",className:"bg-gray-900",children:"Instagram"})," ",a.jsx("option",{value:"Whatsapp",className:"bg-gray-900",children:"Whatsapp"})," ",a.jsx("option",{value:"Other",className:"bg-gray-900",children:""})," "]})," ",a.jsx("textarea",{placeholder:"",value:te.notes||"",onChange:ae=>xe({...te,notes:ae.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-xl p-3.5 text-white focus:border-neon-purple outline-none transition-colors resize-none text-right",rows:3})," ",a.jsx("button",{onClick:()=>{te.id&&te.name&&(f(te.id,te),q(!1),xe({}))},className:"w-full py-5 bg-gradient-to-r from-neon-purple to-pink-600 rounded-xl text-white font-black text-xl hover:shadow-2xl transition-all",children:"   "})," "]})," "]})," "]}),j&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-3xl p-10 border border-neon-purple/20 shadow-2xl animate-slide-up text-right",children:[a.jsxs("div",{className:"flex justify-between items-center mb-10 border-b border-white/10 pb-6",children:[a.jsx("h3",{className:"text-2xl font-black text-white",children:M?"  ":"  "}),a.jsx("button",{onClick:()=>re(!1),className:"p-2 bg-white/5 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:28})})]}),a.jsxs("form",{onSubmit:Ue,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-black text-gray-500 uppercase tracking-widest mb-3 mr-2",children:"  "}),a.jsx("input",{type:"text",autoFocus:!0,value:Y,onChange:ae=>Z(ae.target.value),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-purple transition-all text-right",placeholder:"  ..."})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-neon-purple text-white font-black rounded-2xl hover:opacity-90 shadow-xl transition-all text-xl",children:M?" ":" "})]})]})}),fe&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"w-full max-w-md glass-panel rounded-3xl p-10 border border-neon-blue/20 shadow-2xl animate-slide-up text-right",children:[a.jsxs("div",{className:"flex justify-between items-center mb-10 border-b border-white/10 pb-6",children:[a.jsx("h3",{className:"text-2xl font-black text-white",children:L?" ":"  "}),a.jsx("button",{onClick:()=>ie(!1),className:"p-2 bg-white/5 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:28})})]}),a.jsxs("form",{onSubmit:ke,className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-black text-gray-500 mb-3 mr-2",children:" "}),a.jsx("input",{type:"text",autoFocus:!0,value:R.name,onChange:ae=>F({...R,name:ae.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue transition-all text-right",placeholder:":  "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",dir:"ltr",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-gray-500 mb-3 ml-2 uppercase text-right",children:" "}),a.jsx("input",{type:"time",value:R.endTime,onChange:ae=>F({...R,endTime:ae.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-4 text-xl text-white outline-none focus:border-neon-blue transition-all"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-black text-gray-500 mb-3 ml-2 uppercase text-right",children:" "}),a.jsx("input",{type:"time",value:R.startTime,onChange:ae=>F({...R,startTime:ae.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-4 text-xl text-white outline-none focus:border-neon-blue transition-all"})]})]}),a.jsx("button",{type:"submit",className:"w-full py-5 bg-neon-blue text-black font-black rounded-2xl hover:opacity-90 shadow-xl transition-all text-xl",children:L?" ":" "})]})]})})]})},pde=()=>{var F,M,G;const{appointments:n,transactions:e,addTransaction:t,updateTransaction:r,deleteTransaction:i}=bi(),{systemUser:s}=qr(),{setHeaderHidden:o}=se.useContext($o),c=new Date().toISOString().split("T")[0],[u,d]=se.useState(""),[f,g]=se.useState(""),[m,v]=se.useState("All"),[C,_]=se.useState(!1),[E,T]=se.useState(null),[k,P]=se.useState({date:c,description:"",type:"income",amount:""});se.useEffect(()=>{o(C)},[C,o]);const z=(s==null?void 0:s.role)==="admin"||((G=(M=(F=s==null?void 0:s.permissions)==null?void 0:F.accountant)==null?void 0:M.actions)==null?void 0:G.add_transaction),Y=se.useMemo(()=>[...n.filter(j=>j.paid>0).map(j=>({id:j.id,date:j.date,description:`${j.name} -  `,type:"income",amount:j.paid,isSystem:!0})),...e.map(j=>({...j,isSystem:!1}))].filter(j=>{const re=(!u||j.date>=u)&&(!f||j.date<=f),fe=m==="All"||m==="Income"&&j.type==="income"||m==="Expense"&&j.type==="expense";return re&&fe}).sort((j,re)=>new Date(re.date).getTime()-new Date(j.date).getTime()),[n,e,u,f,m]),Z=se.useMemo(()=>{const L=Y.filter(j=>j.type==="income").reduce((j,re)=>j+Number(re.amount),0),Q=Y.filter(j=>j.type==="expense").reduce((j,re)=>j+Number(re.amount),0);return{income:L,expense:Q,net:L-Q}},[Y]),R=async L=>{if(L.preventDefault(),k.description&&k.amount){const Q=Number(k.amount);E!=null&&E.id?await r(E.id,{...k,amount:Q}):await t({...k,amount:Q}),_(!1),T(null),P({date:c,description:"",type:"income",amount:""})}};return a.jsxs("div",{className:"space-y-8 animate-fade-in font-arabic",dir:"rtl",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs(Mt,{glowColor:"green",className:"p-8 flex items-center justify-between border-green-500/20 group text-right",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs font-black uppercase mb-2",children:" "}),a.jsxs("h3",{className:"text-5xl font-black text-green-400",children:["$",Z.income.toLocaleString()]})]}),a.jsx("div",{className:"w-16 h-16 rounded-3xl bg-green-500/10 flex items-center justify-center text-green-500 border border-green-500/20 shadow-lg",children:a.jsx(F0,{size:32})})]}),a.jsxs(Mt,{glowColor:"red",className:"p-8 flex items-center justify-between border-red-500/20 group text-right",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs font-black mb-2",children:" "}),a.jsxs("h3",{className:"text-5xl font-black text-red-400",children:["$",Z.expense.toLocaleString()]})]}),a.jsx("div",{className:"w-16 h-16 rounded-3xl bg-red-500/10 flex items-center justify-center text-red-500 border border-red-500/20 shadow-lg",children:a.jsx(i6,{size:32})})]}),a.jsxs(Mt,{className:"p-8 flex items-center justify-between border-white/10 group text-right",glowColor:"cyan",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400 text-xs font-black mb-2",children:" "}),a.jsxs("h3",{className:`text-5xl font-black ${Z.net>=0?"text-neon-blue":"text-orange-500"}`,children:["$",Z.net.toLocaleString()]})]}),a.jsx("div",{className:"w-16 h-16 rounded-3xl bg-white/5 flex items-center justify-center text-white border border-white/10 shadow-lg",children:a.jsx(Fd,{size:32})})]})]}),a.jsxs(Mt,{className:"p-0 border-white/5 overflow-hidden",glowColor:"cyan",children:[a.jsxs("div",{className:"flex flex-wrap items-end gap-4 p-6 bg-black/20 border-b border-white/5",children:[a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-black uppercase",children:" "})," ",a.jsx("input",{type:"date",value:u,onChange:L=>d(L.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-black uppercase",children:" "})," ",a.jsx("input",{type:"date",value:f,onChange:L=>g(L.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white"})," "]}),a.jsxs("div",{className:"flex flex-col gap-1.5 min-w-[150px]",children:[" ",a.jsx("label",{className:"text-[10px] text-gray-500 font-black uppercase",children:""})," ",a.jsxs("select",{value:m,onChange:L=>v(L.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white appearance-none",children:[" ",a.jsx("option",{value:"All",children:""})," ",a.jsx("option",{value:"Income",children:""})," ",a.jsx("option",{value:"Expense",children:""})," "]})," "]}),a.jsx("button",{onClick:()=>{d(""),g(""),v("All")},className:"px-4 py-2.5 bg-gray-800 text-gray-400 rounded-lg",children:a.jsx(vd,{size:18})}),a.jsxs("button",{onClick:()=>Q0(Y,"Report"),className:"flex items-center gap-2 px-6 py-2.5 bg-green-600/10 text-green-400 border border-green-500/30 rounded-xl font-black text-xs uppercase",children:[a.jsx(B0,{size:18})," "]}),a.jsx("div",{className:"flex-1 text-left",children:z&&a.jsx("button",{onClick:()=>{T(null),P({date:c,description:"",type:"income",amount:""}),_(!0)},className:"px-8 py-2.5 bg-neon-blue text-black font-black rounded-xl shadow-lg",children:"+  "})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-right text-lg",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 font-black",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-6",children:""}),a.jsx("th",{className:"p-6",children:""}),a.jsx("th",{className:"p-6",children:""}),a.jsx("th",{className:"p-6 text-left",children:""}),a.jsx("th",{className:"p-6 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-white/5 font-bold",children:Y.map(L=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-6 font-mono text-gray-500",children:Xi(L.date)}),a.jsx("td",{className:"p-6 text-xl text-white",children:L.description}),a.jsxs("td",{className:"p-6",children:[" ",a.jsxs("span",{className:`px-4 py-1.5 rounded-full text-xs font-black uppercase ${L.type==="income"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:[" ",L.type==="income"?"":""," "]})," "]}),a.jsxs("td",{className:`p-6 text-left font-mono text-2xl font-black ${L.type==="income"?"text-green-400":"text-red-400"}`,children:[" ",L.type==="income"?"+":"-","$",Number(L.amount).toFixed(2)," "]}),a.jsx("td",{className:"p-6 text-center",children:L.isSystem?a.jsx("span",{className:"text-xs text-gray-700 italic",children:""}):a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{onClick:()=>{T(L),P({date:L.date,description:L.description,type:L.type,amount:L.amount.toString()}),_(!0)},className:"p-2 text-gray-400 hover:text-white transition-all",children:a.jsx(ya,{size:18})}),a.jsx("button",{onClick:()=>i(L.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-xl transition-all",children:a.jsx(Ii,{size:18})})]})})]},L.id))})]})})]}),C&&a.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/80 backdrop-blur-md p-6 animate-fade-in",dir:"rtl",children:a.jsxs("div",{className:"w-full max-w-xl glass-panel rounded-3xl p-12 border border-neon-blue/30 shadow-2xl animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-10 pb-6 border-b border-white/10",children:[a.jsx("h3",{className:"text-4xl font-black text-white",children:E?" ":"  "}),a.jsx("button",{onClick:()=>_(!1),className:"p-3 bg-white/5 rounded-full text-gray-400 hover:text-white",children:a.jsx(Ji,{size:32})})]}),a.jsxs("form",{onSubmit:R,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-2",children:[" ",a.jsx("label",{className:"text-sm font-black text-gray-500 block",children:""})," ",a.jsx("input",{type:"date",required:!0,value:k.date,onChange:L=>P({...k,date:L.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue"})," "]}),a.jsxs("div",{className:"space-y-2",children:[" ",a.jsx("label",{className:"text-sm font-black text-gray-500 block",children:" / "})," ",a.jsx("input",{type:"text",required:!0,placeholder:":   ",value:k.description,onChange:L=>P({...k,description:L.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue"})," "]}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[" ",a.jsx("label",{className:"text-sm font-black text-gray-500 block",children:""})," ",a.jsxs("select",{value:k.type,onChange:L=>P({...k,type:L.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-xl text-white outline-none focus:border-neon-blue appearance-none",children:[" ",a.jsx("option",{value:"income",children:" (+)"})," ",a.jsx("option",{value:"expense",children:" (-)"})," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[" ",a.jsx("label",{className:"text-sm font-black text-gray-500 block",children:" ($)"})," ",a.jsx("input",{type:"number",required:!0,placeholder:"0.00",value:k.amount,onChange:L=>P({...k,amount:L.target.value}),className:"w-full bg-black/40 border-2 border-white/10 rounded-2xl p-5 text-2xl text-white outline-none focus:border-neon-blue text-left",dir:"ltr"})," "]})]}),a.jsx("button",{type:"submit",className:"w-full py-6 bg-gradient-to-l from-neon-blue to-cyan-600 rounded-3xl text-black font-black text-2xl shadow-xl hover:scale-[1.02] transition-all",children:" "})]})]})})]})},gde=({clinicalData:n={},aggregatedDrugHistory:e=[]})=>{var g,m,v,C,_,E,T,k;const{theme:t,toggleTheme:r}=O9(),i=t==="dark",s=i?"bg-white/5 border-white/5":"bg-white border-slate-200 shadow-sm",o=i?"bg-black/20 border-white/5":"bg-slate-50 border-slate-100",c=i?"text-white":"text-slate-900",u=i?"text-gray-400":"text-slate-600",d=i?"text-gray-500":"text-slate-400",f=i?"bg-black/20":"bg-slate-100";return a.jsxs("div",{className:`max-w-6xl mx-auto space-y-6 animate-slide-up p-8 rounded-[2.5rem] transition-colors duration-500 ${i?"":"bg-[#f8fafc]"}`,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:`${s} border rounded-2xl p-6 flex flex-col items-center text-center relative group transition-all`,children:[a.jsx("button",{onClick:r,className:`absolute top-4 right-4 p-2.5 rounded-xl border transition-all shadow-lg active:scale-95 ${i?"bg-black/40 border-white/10 text-gray-400 hover:text-neon-blue hover:border-neon-blue/50":"bg-white border-slate-200 text-slate-400 hover:text-blue-600 hover:border-blue-200"}`,title:i?"Switch to Light Mode":"Switch to Dark Mode",children:i?a.jsx(JV,{size:18,className:"animate-pulse"}):a.jsx(p_,{size:18})}),a.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center border-2 mb-4 ${i?"bg-gradient-to-br from-neon-blue/20 to-purple-500/20 border-white/10":"bg-blue-50 border-blue-100"}`,children:a.jsx(Ri,{size:40,className:i?"text-white opacity-80":"text-blue-600"})}),a.jsx("h3",{className:`text-2xl font-black ${c}`,children:n.name||"Unknown"}),a.jsxs("p",{className:`${u} text-sm mt-1`,children:[n.age||"?"," Years  ",n.residence||"N/A"]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${n.visitType==="New"?"bg-blue-500/10 text-blue-400 border-blue-500/20":"bg-purple-500/10 text-purple-400 border-purple-500/20"}`,children:n.visitType||"N/A"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${i?"bg-white/5 text-gray-300 border-white/10":"bg-slate-100 text-slate-600 border-slate-200"}`,children:n.source||"N/A"})]})]}),a.jsxs("div",{className:`${s} border rounded-2xl p-6 md:col-span-2 relative overflow-hidden transition-all`,children:[a.jsxs("h4",{className:`text-sm font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${d}`,children:[a.jsx(ci,{size:16})," ( INSIGHTS )"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:`p-3 rounded-xl border ${o}`,children:[a.jsx("span",{className:`text-[10px] font-bold uppercase block mb-2 ${d}`,children:"Vitals & Measurements"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"BP"}),a.jsx("span",{className:"text-blue-500 font-mono font-bold",children:((g=n.vitals)==null?void 0:g.bp)||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"HR"}),a.jsx("span",{className:"text-green-500 font-mono font-bold",children:((m=n.vitals)==null?void 0:m.hr)||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"Temp"}),a.jsx("span",{className:"text-orange-500 font-mono font-bold",children:((v=n.vitals)==null?void 0:v.temp)||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"Wt"}),a.jsx("span",{className:`${c} font-mono font-bold`,children:n.weight||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"Ht"}),a.jsx("span",{className:`${c} font-mono font-bold`,children:n.height||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-[10px] block ${d}`,children:"Sugar"}),a.jsx("span",{className:`${c} font-mono font-bold`,children:((C=n.vitals)==null?void 0:C.sugar)||"-"})]})]})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:`flex justify-between items-center p-2 rounded border ${i?"border-white/5 bg-white/5":"border-slate-100 bg-slate-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(CH,{size:14,className:d}),a.jsx("span",{className:`text-xs ${i?"text-gray-300":"text-slate-700"}`,children:"Smoking"})]}),a.jsx("span",{className:`text-xs font-bold ${n.isSmoker?"text-red-500":"text-green-600"}`,children:n.isSmoker?`Yes (Idx: ${((_=n.smokingDetails)==null?void 0:_.index)||0})`:"No"})]}),a.jsxs("div",{className:`flex justify-between items-center p-2 rounded border ${i?"border-white/5 bg-white/5":"border-slate-100 bg-slate-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ri,{size:14,className:d}),a.jsx("span",{className:`text-xs ${i?"text-gray-300":"text-slate-700"}`,children:"Marital"})]}),a.jsx("span",{className:`text-xs font-bold ${c}`,children:n.isMarried?`Married (${(E=n.marriageDetails)==null?void 0:E.childrenCount} kids)`:"Single"})]}),(n.hasMenstrualHistory||n.isPregnant)&&a.jsxs("div",{className:`flex justify-between items-center p-2 rounded border ${i?"border-pink-500/20 bg-pink-500/5":"border-pink-200 bg-pink-50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(eH,{size:14,className:"text-pink-500"}),a.jsx("span",{className:`text-xs ${i?"text-pink-300":"text-pink-700"}`,children:"Obs/Gyn"})]}),a.jsx("span",{className:`text-xs font-bold ${i?"text-pink-200":"text-pink-600"}`,children:n.isPregnant?`Pregnant (EDD: ${Xi((T=n.pregnancyDetails)==null?void 0:T.edd)})`:`LMP: ${Xi((k=n.menstrualHistory)==null?void 0:k.lmp)}`})]})]})]})]})]}),a.jsxs("div",{className:`${s} border rounded-2xl p-6 transition-all`,children:[a.jsx("h4",{className:`text-sm font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${d}`,children:"Detailed Past History"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-xs text-red-500 font-bold uppercase border-b border-red-500/20 pb-1 mb-2",children:"Chronic Conditions"}),Object.entries(n.chronicConditions||{}).filter(([P,z])=>z).map(([P])=>{var Y;const z=(Y=n.chronicConditionDetails)==null?void 0:Y[P];return a.jsxs("div",{className:`p-3 rounded-lg border ${o}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:`font-bold text-sm ${i?"text-red-200":"text-red-700"}`,children:P}),a.jsx("span",{className:`text-[10px] ${d}`,children:Xi(z==null?void 0:z.diagnosedDate)})]}),z!=null&&z.medications&&z.medications.length>0?a.jsx("div",{className:"space-y-1",children:z.medications.map((Z,R)=>a.jsxs("div",{className:`text-xs flex gap-2 ${u}`,children:[a.jsxs("span",{className:c,children:[" ",Z.name]}),a.jsx("span",{className:"opacity-60",children:Z.frequency})]},R))}):a.jsx("span",{className:`text-[10px] italic ${i?"text-gray-600":"text-slate-400"}`,children:"No medications listed"})]},P)}),Object.keys(n.chronicConditions||{}).filter(P=>n.chronicConditions[P]).length===0&&a.jsx("span",{className:`text-sm italic ${u}`,children:"No chronic conditions."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-orange-500 font-bold uppercase border-b border-orange-500/20 pb-1 mb-2",children:"Allergies"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[Object.entries(n.allergies||{}).filter(([P,z])=>z).map(([P])=>{var z;return a.jsxs("div",{className:"group relative",children:[a.jsx("span",{className:`text-xs font-bold px-3 py-1.5 rounded border ${i?"text-white bg-orange-500/10 border-orange-500/20":"text-orange-700 bg-orange-50 border-orange-100"}`,children:P}),((z=n.allergyComments)==null?void 0:z[P])&&a.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-48 p-2 bg-black text-xs text-gray-300 rounded border border-white/10 hidden group-hover:block z-10",children:n.allergyComments[P]})]},P)}),Object.keys(n.allergies||{}).filter(P=>n.allergies[P]).length===0&&a.jsx("span",{className:`text-sm italic ${u}`,children:"No known allergies."})]})]}),n.pastHistory&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:`text-xs font-bold uppercase mb-1 ${d}`,children:"General Notes"}),a.jsx("p",{className:`text-sm leading-relaxed p-3 rounded-lg border ${o} ${i?"text-gray-300":"text-slate-700"}`,children:n.pastHistory})]})]})]})]}),a.jsxs("div",{className:`${s} border rounded-2xl p-6 transition-all`,children:[a.jsxs("h4",{className:`text-sm font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${d}`,children:[a.jsx(m_,{size:16})," Drug History"]}),e.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:`${f} text-xs uppercase ${d}`,children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:"Date"}),a.jsx("th",{className:"p-3",children:"Drug"}),a.jsx("th",{className:"p-3",children:"Freq/Dur"}),a.jsx("th",{className:"p-3",children:"Source"})]})}),a.jsx("tbody",{className:`divide-y ${i?"divide-white/5":"divide-slate-100"}`,children:e.map((P,z)=>a.jsxs("tr",{children:[a.jsx("td",{className:`p-3 font-mono text-xs opacity-60 ${u}`,children:Xi(P.date)}),a.jsx("td",{className:`p-3 font-medium ${c}`,children:P.name}),a.jsxs("td",{className:`p-3 ${u}`,children:[P.frequency," ",P.duration?`(${P.duration})`:""]}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`text-[10px] px-2 py-1 rounded border font-bold ${P.source==="Chronic Condition"?i?"bg-red-900/20 text-red-300 border-red-500/20":"bg-red-50 text-red-600 border-red-100":i?"bg-blue-900/20 text-blue-300 border-blue-500/20":"bg-blue-50 text-blue-600 border-blue-100"}`,children:P.source||"History"})})]},z))})]})}):a.jsx("p",{className:`text-sm italic ${d}`,children:"No medication history."})]}),a.jsxs("div",{className:`${s} border rounded-2xl p-6 transition-all`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(FV,{size:16,className:"text-blue-500"}),a.jsx("h4",{className:`text-sm font-bold uppercase tracking-widest ${d}`,children:"Current Encounter"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-blue-500 font-bold uppercase block mb-1",children:"Chief Complaint"}),a.jsx("p",{className:`text-sm leading-relaxed p-3 rounded-lg border min-h-[60px] whitespace-pre-wrap ${o} ${c}`,children:n.complaints||"None recorded"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-blue-500 font-bold uppercase block mb-1",children:"Final Diagnosis"}),a.jsx("p",{className:`text-xl font-black p-3 rounded-lg border ${o} ${c}`,children:n.diagnosis||"Pending..."})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("span",{className:`text-xs font-bold uppercase block mb-1 ${d}`,children:"Symptoms"}),a.jsx("p",{className:`text-sm leading-relaxed p-3 rounded-lg border min-h-[60px] whitespace-pre-wrap ${o} ${u}`,children:n.symptoms||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:`text-xs font-bold uppercase block mb-1 ${d}`,children:"Signs"}),a.jsx("p",{className:`text-sm leading-relaxed p-3 rounded-lg border min-h-[60px] whitespace-pre-wrap ${o} ${u}`,children:n.signs||"-"})]})]})]})]})]})};var u5=rI();const mde=({clinicalData:n})=>{const[e,t]=se.useState(null),[r,i]=se.useState("grid"),s=se.useMemo(()=>{var v;const m={};return(v=n.labHistory)==null||v.forEach(C=>{const _=C.name.trim();m[_]||(m[_]=[]),m[_].push(C)}),Object.keys(m).forEach(C=>{m[C].sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime())}),m},[n.labHistory]),o=se.useMemo(()=>{var v;const m=new Set;return(v=n.labHistory)==null||v.forEach(C=>{C.date&&m.add(C.date)}),Array.from(m).sort((C,_)=>new Date(_).getTime()-new Date(C).getTime())},[n.labHistory]),c=se.useMemo(()=>Object.keys(s).sort(),[s]),u=se.useMemo(()=>!e||!s[e]?null:s[e].slice(0,5).reverse().map(v=>({date:v.date,value:parseFloat(v.value.replace(/[^0-9.-]/g,""))||0,rawValue:v.value})),[e,s]),d=se.useMemo(()=>{if(!u||u.length===0)return{min:0,max:100,range:100};const m=u.map(E=>E.value),v=Math.min(...m),C=Math.max(...m),_=(C-v)*.2||10;return{min:Math.floor(v-_),max:Math.ceil(C+_),range:Math.ceil(C+_)-Math.floor(v-_)||10}},[u]),f=m=>{const{min:C,range:_}=d;return _===0?150/2:150-(m-C)/_*150},g=()=>{if(!u||u.length===0)return"";const v=400/(u.length-1||1);return u.map((C,_)=>{const E=_*v+20,T=f(C.value)+20;return`${E},${T}`}).join(" ")};return a.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-slide-up relative",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("h4",{className:"text-sm font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[a.jsx(x_,{size:16,className:"text-neon-blue"})," Recorded Labs History"]}),a.jsxs("div",{className:"flex bg-black/40 p-1 rounded-xl border border-white/5",children:[a.jsxs("button",{onClick:()=>i("grid"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold transition-all uppercase tracking-wider ${r==="grid"?"bg-neon-blue text-black":"text-gray-500 hover:text-white"}`,children:[a.jsx($F,{size:14})," Grid"]}),a.jsxs("button",{onClick:()=>i("list"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold transition-all uppercase tracking-wider ${r==="list"?"bg-neon-blue text-black":"text-gray-500 hover:text-white"}`,children:[a.jsx(RH,{size:14})," List"]})]})]}),r==="grid"?a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-1/3",children:"Lab Name"}),a.jsx("th",{className:"p-4 w-1/3",children:"Date History"}),a.jsx("th",{className:"p-4 w-1/3",children:"Result History"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[c.map(m=>{const v=s[m];return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsxs("td",{className:"p-4 align-top",children:[a.jsxs("button",{onClick:()=>t(m),className:"font-bold text-white text-lg hover:text-neon-blue transition-colors flex items-center gap-2",children:[a.jsx(ci,{size:16,className:"opacity-50 group-hover:opacity-100"}),m]}),a.jsxs("span",{className:"text-[10px] text-gray-500 uppercase tracking-wider mt-1 block pl-6",children:[v.length," Record(s)"]})]}),a.jsx("td",{className:"p-4 align-top",children:a.jsx("div",{className:"flex flex-col gap-2",children:v.map((C,_)=>a.jsx("div",{className:"font-mono text-gray-400 text-xs h-6 flex items-center",children:C.date},_))})}),a.jsx("td",{className:"p-4 align-top",children:a.jsx("div",{className:"flex flex-col gap-2",children:v.map((C,_)=>a.jsx("div",{className:"text-neon-blue font-bold text-xs h-6 flex items-center bg-neon-blue/5 px-2 rounded w-fit border border-neon-blue/10",children:C.value},_))})})]},m)}),c.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"p-8 text-center italic",children:"No lab history recorded."})})]})]})}):a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400 border-collapse",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 border-r border-white/5 min-w-[200px] sticky left-0 bg-[#0a0a0a] z-10 shadow-[2px_0_5px_rgba(0,0,0,0.3)]",children:"Lab Name"}),o.map(m=>a.jsx("th",{className:"p-4 border-r border-white/5 min-w-[120px] text-center font-mono",children:m},m))]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[c.map(m=>{const v=s[m];return a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-4 border-r border-white/5 font-bold text-white sticky left-0 bg-[#0a0a0a] z-10 shadow-[2px_0_5px_rgba(0,0,0,0.3)]",children:a.jsxs("button",{onClick:()=>t(m),className:"hover:text-neon-blue transition-colors flex items-center gap-2 w-full text-left",children:[a.jsx(ci,{size:14,className:"opacity-50 group-hover:opacity-100"}),m]})}),o.map(C=>{const _=v.find(E=>E.date===C);return a.jsx("td",{className:"p-4 border-r border-white/5 text-center",children:_?a.jsx("span",{className:"text-neon-blue font-bold px-2 py-1 bg-neon-blue/5 rounded border border-neon-blue/20",children:_.value}):a.jsx("span",{className:"text-gray-700",children:"-"})},C)})]},m)}),c.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:o.length+1,className:"p-8 text-center italic",children:"No lab history recorded."})})]})]})})]}),e&&u&&u5.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>t(null)}),a.jsxs("div",{className:"bg-[#0a0a0a] border border-white/10 rounded-2xl p-6 shadow-2xl w-full max-w-lg relative animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-white",children:e}),a.jsxs("p",{className:"text-xs text-gray-400",children:["Trend Analysis (Last ",u.length," records)"]})]}),a.jsx("button",{onClick:()=>t(null),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(tA,{size:20})})]}),a.jsx("div",{className:"relative h-48 w-full bg-white/5 rounded-xl border border-white/5 p-4 mb-4",children:u.length>1?a.jsxs("svg",{className:"w-full h-full overflow-visible",viewBox:"0 0 440 190",children:[a.jsx("line",{x1:"20",y1:"20",x2:"420",y2:"20",stroke:"#333",strokeDasharray:"4"}),a.jsx("line",{x1:"20",y1:"95",x2:"420",y2:"95",stroke:"#333",strokeDasharray:"4"}),a.jsx("line",{x1:"20",y1:"170",x2:"420",y2:"170",stroke:"#333",strokeDasharray:"4"}),a.jsx("polyline",{points:g(),fill:"none",stroke:"#00f3ff",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"drop-shadow-[0_0_10px_rgba(0,243,255,0.5)]"}),u.map((m,v)=>{const _=400/(u.length-1||1),E=v*_+20,T=f(m.value)+20;return a.jsxs("g",{className:"group",children:[a.jsx("circle",{cx:E,cy:T,r:"5",fill:"#050505",stroke:"#00f3ff",strokeWidth:"2"}),a.jsx("foreignObject",{x:E-25,y:T-35,width:"50",height:"30",className:"overflow-visible opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"bg-neon-blue text-black text-[10px] font-bold px-1.5 py-0.5 rounded text-center shadow-lg transform translate-y-1",children:m.value})}),a.jsx("text",{x:E,y:"185",fill:"#666",fontSize:"10",textAnchor:"middle",dy:"10",children:m.date})]},v)})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[a.jsx(ci,{size:32,className:"mb-2 opacity-50"}),a.jsx("span",{className:"text-xs",children:"Need at least 2 records to graph trend."})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2",children:"Detailed Values"}),u.slice().reverse().map((m,v)=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-black/40 rounded-lg border border-white/5",children:[a.jsx("span",{className:"text-sm font-mono text-gray-400",children:m.date}),a.jsx("span",{className:"text-sm font-bold text-neon-blue",children:m.rawValue})]},v))]})]})]}),document.body)]})},xde=({clinicalData:n,setClinicalData:e})=>{var _;const[t,r]=se.useState(null),[i,s]=se.useState(0),[o,c]=se.useState(null),[u,d]=se.useState({name:"",comment:"",date:""}),f=E=>{E.attachmentUrls&&E.attachmentUrls.length>0&&(r(E),s(0))},g=()=>{t!=null&&t.attachmentUrls&&s(E=>(E+1)%t.attachmentUrls.length)},m=()=>{t!=null&&t.attachmentUrls&&s(E=>(E-1+t.attachmentUrls.length)%t.attachmentUrls.length)},v=E=>{c(E),d({name:E.name,comment:E.comment,date:E.date})},C=()=>{o&&e&&(e(E=>{var T;return{...E,scanHistory:(T=E.scanHistory)==null?void 0:T.map(k=>k.id===o.id?{...k,...u}:k)}}),c(null))};return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("h4",{className:"text-sm font-bold text-white uppercase tracking-widest mb-6 flex items-center gap-2",children:[a.jsx(GF,{size:16,className:"text-neon-blue"})," Recorded Scans History"]}),a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Date"}),a.jsx("th",{className:"p-4",children:"Scan Name"}),a.jsx("th",{className:"p-4",children:"Findings"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[(_=n.scanHistory)==null?void 0:_.map((E,T)=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4 font-mono text-gray-500",children:E.date}),a.jsx("td",{className:"p-4 text-white font-bold",children:E.name}),a.jsx("td",{className:"p-4 text-gray-300",children:E.comment}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e&&a.jsx("button",{onClick:()=>v(E),className:"p-2 bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 rounded-lg transition-colors",title:"Edit Details",children:a.jsx(ya,{size:16})}),E.attachmentUrls&&E.attachmentUrls.length>0&&a.jsxs("button",{onClick:()=>f(E),className:"p-2 bg-neon-blue/10 text-neon-blue hover:bg-neon-blue/20 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(xd,{size:16}),a.jsx("span",{className:"text-xs font-bold uppercase hidden md:inline",children:"Preview"})]})]})})]},T)),(!n.scanHistory||n.scanHistory.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center italic",children:"No scan history recorded."})})]})]})})]}),o&&u5.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>c(null)}),a.jsxs("div",{className:"relative w-full max-w-lg glass-panel rounded-2xl p-8 border border-neon-blue/20 shadow-[0_0_50px_-10px_rgba(0,243,255,0.2)] animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-white",children:"Edit Scan Details"}),a.jsx("button",{onClick:()=>c(null),className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(tA,{size:20})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1",children:"Date"}),a.jsx("input",{type:"date",value:u.date,onChange:E=>d({...u,date:E.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-neon-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1",children:"Scan Name"}),a.jsx("input",{type:"text",value:u.name,onChange:E=>d({...u,name:E.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-neon-blue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 font-bold uppercase mb-1",children:"Findings / Comments"}),a.jsx("textarea",{rows:4,value:u.comment,onChange:E=>d({...u,comment:E.target.value}),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-neon-blue resize-none"})]}),a.jsxs("button",{onClick:C,className:"w-full py-3 bg-neon-blue text-black font-bold rounded-lg hover:bg-cyan-400 transition-colors flex items-center justify-center gap-2 mt-4",children:[a.jsx(Mv,{size:18})," Save Changes"]})]})]})]}),document.body),t&&t.attachmentUrls&&u5.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>r(null)}),a.jsxs("div",{className:"w-full max-w-5xl bg-black border border-white/10 rounded-2xl shadow-2xl relative flex flex-col overflow-hidden max-h-[90vh]",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-white/5 z-20",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:t.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:[t.date,"  ",t.attachmentUrls.length," Files"]})]}),a.jsx("button",{onClick:()=>r(null),className:"p-2 hover:bg-white/10 rounded-full text-white transition-colors",children:a.jsx(tA,{size:24})})]}),a.jsxs("div",{className:"flex-1 relative bg-black flex items-center justify-center p-4 min-h-[400px]",children:[t.attachmentUrls.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:m,className:"absolute left-4 z-10 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full transition-all border border-white/20",children:a.jsx(yh,{size:32})}),a.jsx("button",{onClick:g,className:"absolute right-4 z-10 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full transition-all border border-white/20",children:a.jsx(m0,{size:32})})]}),a.jsx("img",{src:t.attachmentUrls[i],alt:`Scan ${i+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}),a.jsxs("div",{className:"absolute bottom-4 bg-black/60 px-4 py-2 rounded-full text-white text-sm font-bold border border-white/10 backdrop-blur-md",children:[i+1," / ",t.attachmentUrls.length]})]}),t.attachmentUrls.length>1&&a.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5 flex gap-2 overflow-x-auto custom-scrollbar z-20",children:t.attachmentUrls.map((E,T)=>a.jsx("div",{onClick:()=>s(T),className:`w-20 h-14 rounded-lg overflow-hidden cursor-pointer border-2 transition-all shrink-0 ${i===T?"border-neon-blue opacity-100 scale-105":"border-transparent opacity-60 hover:opacity-100 hover:border-white/30"}`,children:a.jsx("img",{src:E,alt:"thumb",className:"w-full h-full object-cover"})},T))}),a.jsx("div",{className:"absolute top-20 right-6 z-30",children:a.jsx("a",{href:t.attachmentUrls[i],download:`Scan_${t.name}_${i+1}`,className:"p-3 bg-black/60 hover:bg-neon-blue hover:text-black text-white rounded-full border border-white/20 hover:border-neon-blue transition-all flex items-center justify-center shadow-lg",title:"Download Current File",children:a.jsx(d_,{size:20})})})]})]}),document.body)]})},Av=({value:n,onChange:e,onEnter:t,placeholder:r,className:i,suggestions:s})=>{const[o,c]=se.useState(!1),u=se.useMemo(()=>{if(!n||n.length<1)return[];const d=n.toLowerCase();return s.filter(f=>f.toLowerCase().includes(d)).slice(0,50)},[n,s]);return a.jsxs("div",{className:"relative w-full flex-1",children:[a.jsx("input",{type:"text",value:n,onChange:d=>{e(d.target.value),c(!0)},onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),onKeyDown:d=>{d.key==="Enter"&&t&&(d.preventDefault(),t(),c(!1))},placeholder:r,className:i}),o&&u.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-[#050505]/95 backdrop-blur-xl border border-neon-blue/30 rounded-xl shadow-[0_10px_40px_-10px_rgba(0,243,255,0.2)] z-50 max-h-60 overflow-y-auto custom-scrollbar animate-fade-in",children:u.map((d,f)=>a.jsxs("div",{className:"px-4 py-3 text-sm text-gray-300 hover:bg-neon-blue/10 hover:text-white cursor-pointer transition-all border-b border-white/5 last:border-0 hover:pl-6 group flex items-center gap-2",onMouseDown:g=>g.preventDefault(),onClick:()=>{e(d),c(!1)},children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-600 group-hover:bg-neon-blue transition-colors"}),d]},f))})]})},nD=["Complete Blood Count (CBC)","Hemoglobin (Hb)","Hematocrit (Hct)","Red Blood Cell Count (RBC Count)","White Blood Cell Count (WBC Count)","Platelet Count (PLT)","Mean Corpuscular Volume (MCV)","Mean Corpuscular Hemoglobin (MCH)","Mean Corpuscular Hemoglobin Concentration (MCHC)","Red Cell Distribution Width (RDW)","Erythrocyte Sedimentation Rate (ESR)","Reticulocyte Count","Peripheral Blood Smear","Absolute Neutrophil Count (ANC)","Absolute Lymphocyte Count (ALC)","Fasting Blood Glucose (FBG)","Random Blood Glucose (RBG)","Postprandial Blood Glucose (PPBG)","Oral Glucose Tolerance Test (OGTT)","Glycated Hemoglobin (HbA1c)","Serum Insulin","C-Peptide","Blood Urea","Blood Urea Nitrogen (BUN)","Serum Creatinine","Estimated Glomerular Filtration Rate (eGFR)","Uric Acid","Urine Albumin","Urine Protein","Urine Creatinine","Albumin-to-Creatinine Ratio (ACR)","24-Hour Urine Protein","Serum Sodium (Na)","Serum Potassium (K)","Serum Chloride (Cl)","Serum Calcium","Ionized Calcium","Serum Phosphorus","Serum Magnesium","Alanine Aminotransferase (ALT / SGPT)","Aspartate Aminotransferase (AST / SGOT)","Alkaline Phosphatase (ALP)","Gamma-Glutamyl Transferase (GGT)","Total Bilirubin","Direct Bilirubin","Indirect Bilirubin","Serum Albumin","Total Protein","Albumin/Globulin Ratio (A/G Ratio)","Total Cholesterol","Low-Density Lipoprotein Cholesterol (LDL-C)","High-Density Lipoprotein Cholesterol (HDL-C)","Triglycerides (TG)","Very Low-Density Lipoprotein (VLDL)","NonHigh-Density Lipoprotein Cholesterol (Non-HDL-C)","Cardiac Troponin I","Cardiac Troponin T","Creatine Kinase (CK)","Creatine KinaseMB Isoenzyme (CK-MB)","Lactate Dehydrogenase (LDH)","B-Type Natriuretic Peptide (BNP)","N-Terminal ProB-Type Natriuretic Peptide (NT-proBNP)","Thyroid-Stimulating Hormone (TSH)","Free Thyroxine (Free T4)","Free Triiodothyronine (Free T3)","Total Thyroxine (Total T4)","Total Triiodothyronine (Total T3)","AntiThyroid Peroxidase Antibodies (Anti-TPO)","AntiThyroglobulin Antibodies (Anti-TG)","Prothrombin Time (PT)","International Normalized Ratio (INR)","Activated Partial Polarization Time (aPTT)","D-Dimer","Fibrinogen","Bleeding Time (BT)","Clotting Time (CT)","C-Reactive Protein (CRP)","High-Sensitivity C-Reactive Protein (hs-CRP)","Rheumatoid Factor (RF)","Antinuclear Antibody (ANA)","AntiDouble Stranded DNA Antibody (Anti-dsDNA)","AntiCyclic Citrullinated Peptide Antibody (Anti-CCP)","Antistreptolysin O Titer (ASO)","Stool Analysis","Stool Culture","Stool Occult Blood Test (FOBT)","Fecal Calprotectin","Helicobacter pylori Stool Antigen","Helicobacter pylori Antibody","Urinalysis","Urine Culture and Sensitivity","Urine Ketones","Urine Glucose","Urine Microscopy","Beta Human Chorionic Gonadotropin (-hCG)","Prolactin","Serum Cortisol","Adrenocorticotropic Hormone (ACTH)","Testosterone","Free Testosterone","Estradiol (E2)","Progesterone","Luteinizing Hormone (LH)","Follicle-Stimulating Hormone (FSH)","Dehydroepiandrosterone Sulfate (DHEA-S)","Serum Iron","Ferritin","Total Iron Binding Capacity (TIBC)","Transferrin Saturation","Vitamin B12","Folate","Vitamin D (25-Hydroxyvitamin D)","Serum Zinc","Serum Copper","Prostate-Specific Antigen (PSA)","Free Prostate-Specific Antigen (Free PSA)","Alpha-Fetoprotein (AFP)","Carcinoembryonic Antigen (CEA)","Cancer Antigen 125 (CA-125)","Cancer Antigen 19-9 (CA 19-9)","Cancer Antigen 15-3 (CA 15-3)","Hepatitis B Surface Antigen (HBsAg)","Hepatitis B Surface Antibody (Anti-HBs)","Hepatitis B Core Antibody (Anti-HBc)","Hepatitis C Virus Antibody (Anti-HCV)","Human Immunodeficiency Virus Test (HIV)","Venereal Disease Research Laboratory Test (VDRL)","Rapid Plasma Reagin Test (RPR)","Widal Test","Brucella Antibodies","Toxoplasma Immunoglobulin G (IgG)","Toxoplasma Immunoglobulin M (IgM)","Blood Culture","Urine Culture","Sputum Culture","Throat Swab Culture","Sensitivity Testing (Antibiogram)","Blood Group and Rh Typing","Crossmatch","Direct Coombs Test","Indirect Coombs Test","Parathyroid Hormone (PTH)","Insulin-Like Growth Factor 1 (IGF-1)","Growth Hormone (GH)","Aldosterone","Plasma Renin Activity","Complement Component 3 (C3)","Complement Component 4 (C4)","Anti-Mitochondrial Antibody (AMA)","AntiSmooth Muscle Antibody (ASMA)","Serum Amylase","Serum Lipase","Arterial Blood Gas Analysis (ABG)","Venous Blood Gas Analysis (VBG)","Blood Alcohol Level","Serum Acetaminophen Level","Serum Salicylate Level","Pregnancy Test (Urine hCG)","Prenatal Screening Test","Rubella Immunoglobulin G (IgG)","Rubella Immunoglobulin M (IgM)","Creatine Phosphokinase Total (CPK Total)","Bone-Specific Alkaline Phosphatase","Osteocalcin","Serum Lactate","Serum Osmolality","Urine Osmolality","Serum Ammonia","Serum Ketones","Total Immunoglobulin E (Total IgE)","Specific Immunoglobulin E (Specific IgE)","Immunoglobulin G (IgG)","Immunoglobulin A (IgA)","Immunoglobulin M (IgM)","Procalcitonin","Homocysteine","Serum Phosphate","Serum Bicarbonate","Anion Gap","Serum Cholinesterase","Comprehensive Metabolic Panel (CMP)","Basic Metabolic Panel (BMP)","Liver Fibrosis Score","Renal Profile","Electrolyte Profile","Rapid Influenza Test","Rapid COVID-19 Antigen Test","COVID-19 Polymerase Chain Reaction (PCR)","Rapid Streptococcal Test","Serum Ferritin Repeat","Urine Sodium","Urine Potassium","Urine Chloride","Microalbuminuria Test","Lipoprotein(a)","Apolipoprotein A1","Apolipoprotein B","Haptoglobin","Serum Ceruloplasmin","Alpha-1 Antitrypsin"],jw=["Hypertension","Diabetes Mellitus","Coronary Artery Disease","Heart Failure","Chronic Kidney Disease (CKD)","Asthma","Chronic Obstructive Pulmonary Disease (COPD)","Osteoarthritis","Rheumatoid Arthritis","Chronic Low Back Pain","Dyslipidemia (Hyperlipidemia)","Obesity","Hypothyroidism","Hyperthyroidism","Peptic Ulcer Disease","Gastroesophageal Reflux Disease (GERD)","Chronic Liver Disease","Stroke (Cerebrovascular Disease)","Depression","Epilepsy","Osteoporosis"],Mw=["Allergic Rhinitis","Food Allergy","Peanut Allergy","Milk Allergy","Egg Allergy","Seafood Allergy","Drug Allergy","Insect Sting Allergy","Latex Allergy","Animal Dander Allergy"],rD=["amo50","bomo60","coco70"],vde=({reqPrescription:n,setReqPrescription:e,reqLabs:t,setReqLabs:r,reqScans:i,setReqScans:s,clinicalData:o,setClinicalData:c})=>{const{printSettings:u}=bi(),{systemUser:d}=qr(),[f,g]=se.useState({drug:"",frequency:"",duration:""}),[m,v]=se.useState(""),[C,_]=se.useState(""),E=new Date().toISOString().split("T")[0],T=(d==null?void 0:d.displayName)||"Doctor",k=()=>{f.drug&&(e([...n,f]),c(F=>({...F,drugHistory:[...F.drugHistory||[],{name:f.drug,frequency:f.frequency,duration:f.duration,date:E,source:T}].sort((M,G)=>new Date(G.date).getTime()-new Date(M.date).getTime())})),g({drug:"",frequency:"",duration:""}))},P=()=>{m&&(r([...t,{id:Date.now().toString(),name:m}]),c(F=>({...F,labHistory:[...F.labHistory||[],{id:Date.now().toString(),name:m,value:`Requested by ${T}`,date:E}].sort((M,G)=>new Date(G.date).getTime()-new Date(M.date).getTime())})),v(""))},z=()=>{C&&(s([...i,{id:Date.now().toString(),name:C}]),c(F=>({...F,scanHistory:[...F.scanHistory||[],{id:Date.now().toString(),name:C,comment:`Requested by ${T}`,date:E}].sort((M,G)=>new Date(G.date).getTime()-new Date(M.date).getTime())})),_(""))},Y=()=>{sde(o.name||"Patient",E,n,u)},Z=()=>{ade(o.name||"Patient",E,t,i,u)},R=()=>{const F={...o,date:E,prescription:n,investigationItems:t,scans:i};ode(F,u)};return a.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col gap-6 animate-slide-up h-full pb-8",children:[a.jsx("div",{className:"flex justify-end shrink-0",children:a.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-neon-blue to-cyan-500 text-black font-bold rounded-xl hover:shadow-[0_0_15px_rgba(0,243,255,0.4)] transition-all uppercase text-xs tracking-wider",children:[a.jsx(ld,{size:16})," Print All (Session)"]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1 min-h-0",children:[a.jsx("div",{className:"space-y-6 flex flex-col h-full",children:a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-neon-blue uppercase flex items-center gap-2",children:[a.jsx(m_,{size:16})," Prescription"]}),a.jsxs("button",{onClick:Y,disabled:n.length===0,className:"text-xs flex items-center gap-1 text-gray-400 hover:text-white transition-colors disabled:opacity-30",children:[a.jsx(ld,{size:14})," Print Rx"]})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-4",children:[a.jsx("div",{className:"col-span-12 md:col-span-5",children:a.jsx(Av,{placeholder:"Drug Name",className:"w-full bg-black/40 border border-white/10 rounded p-2 text-sm text-white focus:border-neon-blue outline-none",value:f.drug,onChange:F=>g({...f,drug:F}),suggestions:rD})}),a.jsx("div",{className:"col-span-6 md:col-span-4",children:a.jsx("input",{placeholder:"Frequency",className:"w-full bg-black/40 border border-white/10 rounded p-2 text-sm text-white focus:border-neon-blue outline-none",value:f.frequency,onChange:F=>g({...f,frequency:F.target.value})})}),a.jsx("div",{className:"col-span-6 md:col-span-3",children:a.jsx("input",{placeholder:"Duration",className:"w-full bg-black/40 border border-white/10 rounded p-2 text-sm text-white focus:border-neon-blue outline-none",value:f.duration,onChange:F=>g({...f,duration:F.target.value})})})]}),a.jsx("button",{onClick:k,className:"w-full py-2 bg-neon-blue/10 text-neon-blue border border-neon-blue/30 rounded-lg font-bold text-xs uppercase hover:bg-neon-blue hover:text-black transition-colors",children:"Add Drug"}),a.jsx("div",{className:"mt-4 space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:n.map((F,M)=>a.jsxs("div",{className:"flex justify-between items-center bg-black/20 p-2 rounded border border-white/5",children:[a.jsxs("span",{className:"text-sm font-bold text-gray-300",children:[F.drug," ",a.jsxs("span",{className:"text-xs font-normal text-gray-500",children:["(",F.frequency," - ",F.duration,")"]})]}),a.jsx("button",{onClick:()=>e(G=>G.filter((L,Q)=>Q!==M)),className:"text-red-400 hover:text-white",children:a.jsx(Ji,{size:14})})]},M))})]})}),a.jsxs("div",{className:"space-y-6 flex flex-col h-full",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h4",{className:"text-sm font-bold text-neon-blue uppercase flex items-center gap-2",children:[a.jsx(x_,{size:16})," Lab & Scan Requests"]}),a.jsxs("button",{onClick:Z,disabled:t.length===0&&i.length===0,className:"text-xs flex items-center gap-1 text-gray-400 hover:text-white transition-colors disabled:opacity-30",children:[a.jsx(ld,{size:14})," Print Request"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2 block",children:"Lab Tests"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx(Av,{value:m,onChange:v,onEnter:P,suggestions:nD,placeholder:"Search Lab Name...",className:"w-full bg-black/40 border border-white/10 rounded p-2 text-sm text-white focus:border-neon-blue outline-none"}),a.jsx("button",{onClick:P,className:"p-2 bg-white/5 hover:bg-neon-blue/20 text-neon-blue rounded border border-white/10 transition-colors",children:a.jsx(za,{size:18})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((F,M)=>a.jsxs("div",{className:"px-3 py-1 bg-purple-500/10 text-purple-300 border border-purple-500/30 rounded-full text-xs flex items-center gap-2",children:[F.name," ",a.jsx("button",{onClick:()=>r(G=>G.filter((L,Q)=>Q!==M)),children:a.jsx(Ji,{size:12})})]},M))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2 block",children:"Scans / Radiology"}),a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{placeholder:"Type Scan Name...",className:"flex-1 bg-black/40 border border-white/10 rounded p-2 text-sm text-white focus:border-neon-blue outline-none",value:C,onChange:F=>_(F.target.value),onKeyDown:F=>F.key==="Enter"&&z()}),a.jsx("button",{onClick:z,className:"p-2 bg-white/5 hover:bg-neon-blue/20 text-neon-blue rounded border border-white/10 transition-colors",children:a.jsx(za,{size:18})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((F,M)=>a.jsxs("div",{className:"px-3 py-1 bg-green-500/10 text-green-300 border border-green-500/30 rounded-full text-xs flex items-center gap-2",children:[F.name," ",a.jsx("button",{onClick:()=>s(G=>G.filter((L,Q)=>Q!==M)),children:a.jsx(Ji,{size:12})})]},M))})]})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 flex-1",children:[a.jsx("h4",{className:"text-sm font-bold text-neon-blue uppercase mb-2",children:"Final Diagnosis"}),a.jsx("textarea",{className:"w-full h-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-lg font-medium outline-none focus:border-neon-blue resize-none",value:o.diagnosis,onChange:F=>c({...o,diagnosis:F.target.value}),placeholder:"Enter diagnosis..."})]})]})]})]})},d5=({clinicalData:n,setClinicalData:e,activeSheetTab:t,setActiveSheetTab:r,aggregatedDrugHistory:i})=>{var Ee,at,St,tt,At,Et,Bt,Dt;const[s,o]=se.useState({name:"",value:"",date:""}),[c,u]=se.useState({name:"",comment:"",date:""}),[d,f]=se.useState({name:"",frequency:"",duration:"",date:""}),[g,m]=se.useState([]),[v,C]=se.useState([]),_=se.useRef(null),[E,T]=se.useState(null),[k,P]=se.useState(0),[z,Y]=se.useState(null),[Z,R]=se.useState(""),[F,M]=se.useState(""),G=(Ne,ze)=>{e(ft=>({...ft,vitals:{...ft.vitals,[Ne]:ze}}))},L=(Ne,ze)=>{e(ft=>{var It;const ht={...ft};if(ht.chronicConditions||(ht.chronicConditions={}),ht.chronicConditions[Ne]=ze,ze)ht.chronicConditionDetails||(ht.chronicConditionDetails={}),ht.chronicConditionDetails[Ne]||(ht.chronicConditionDetails[Ne]={diagnosedDate:"",medications:[]});else if((It=ht.chronicConditionDetails)!=null&&It[Ne]){const{[Ne]:Tt,...Ue}=ht.chronicConditionDetails;ht.chronicConditionDetails=Ue}return ht})},Q=()=>{Z.trim()&&(L(Z.trim(),!0),R(""))},j=()=>{F.trim()&&(ie(F.trim(),!0),M(""))},re=(Ne,ze,ft,ht)=>{e(It=>{var Ue,ke,Gt;const Tt={...It};return(Gt=(ke=(Ue=Tt.chronicConditionDetails)==null?void 0:Ue[Ne])==null?void 0:ke.medications)!=null&&Gt[ze]&&(Tt.chronicConditionDetails[Ne].medications[ze]={...Tt.chronicConditionDetails[Ne].medications[ze],[ft]:ht}),Tt})},fe=Ne=>{e(ze=>{var ht;const ft={...ze};return(ht=ft.chronicConditionDetails)!=null&&ht[Ne]&&(ft.chronicConditionDetails[Ne].medications||(ft.chronicConditionDetails[Ne].medications=[]),ft.chronicConditionDetails[Ne].medications.push({name:"",frequency:"",duration:"",date:"",source:"Chronic"})),ft})},ie=(Ne,ze)=>{e(ft=>{const ht={...ft.allergies,[Ne]:ze};if(!ze){const{[Ne]:It,...Tt}=ft.allergyComments||{};return{...ft,allergies:ht,allergyComments:Tt}}return{...ft,allergies:ht}})},Ae=(Ne,ze)=>{const ft=parseFloat(Ne)||0,ht=parseFloat(ze)||0;return(ft*ht).toFixed(1)},me=Ne=>{if(!Ne)return"";const ze=new Date(Ne),ht=Math.abs(new Date().getTime()-ze.getTime()),It=Math.ceil(ht/(1e3*60*60*24)),Tt=Math.floor(It/365);return Tt>0?`${Tt} years`:`${It} days`},_e=()=>{s.name&&s.value&&(e(Ne=>({...Ne,labHistory:[...Ne.labHistory||[],{id:Date.now().toString(),...s}].sort((ze,ft)=>new Date(ft.date).getTime()-new Date(ze.date).getTime())})),o({name:"",value:"",date:""}))},we=async Ne=>{if(Ne.target.files&&Ne.target.files.length>0){const ze=Array.from(Ne.target.files);m(ht=>[...ht,...ze]);const ft=ze.map(ht=>new Promise((It,Tt)=>{const Ue=new FileReader;Ue.readAsDataURL(ht),Ue.onload=()=>It(Ue.result),Ue.onerror=ke=>Tt(ke)}));try{const ht=await Promise.all(ft);if(C(It=>[...It,...ht]),!c.name&&ze[0]){const It=ze[0].name.split(".").slice(0,-1).join(".");u(Tt=>({...Tt,name:It}))}}catch(ht){console.error("Error reading files",ht)}}},ee=Ne=>{m(ze=>ze.filter((ft,ht)=>ht!==Ne)),C(ze=>ze.filter((ft,ht)=>ht!==Ne))},U=()=>{if(c.name){const Ne=[...v];e(ze=>({...ze,scanHistory:[...ze.scanHistory||[],{id:Date.now().toString(),...c,attachmentUrls:Ne.length>0?Ne:void 0}].sort((ft,ht)=>new Date(ht.date).getTime()-new Date(ft.date).getTime())})),u({name:"",comment:"",date:""}),m([]),C([]),_.current&&(_.current.value="")}},H=()=>{d.name&&(e(Ne=>({...Ne,drugHistory:[...Ne.drugHistory||[],{...d,source:"History"}].sort((ze,ft)=>new Date(ft.date).getTime()-new Date(ze.date).getTime())})),f({name:"",frequency:"",duration:"",date:""}))},V=()=>{z&&(z.type==="lab"?e(Ne=>{var ze;return{...Ne,labHistory:(ze=Ne.labHistory)==null?void 0:ze.filter((ft,ht)=>ht!==z.index)}}):z.type==="scan"?e(Ne=>{var ze;return{...Ne,scanHistory:(ze=Ne.scanHistory)==null?void 0:ze.filter((ft,ht)=>ht!==z.index)}}):z.type==="drug"&&e(Ne=>{var ze;return{...Ne,drugHistory:(ze=Ne.drugHistory)==null?void 0:ze.filter((ft,ht)=>ht!==z.index)}}),Y(null))},J=Ne=>Y({isOpen:!0,type:"lab",index:Ne}),q=Ne=>Y({isOpen:!0,type:"scan",index:Ne}),te=Ne=>Y({isOpen:!0,type:"drug",index:Ne}),xe=Ne=>{var ft;const ze=(ft=n.labHistory)==null?void 0:ft[Ne];ze&&(o({name:ze.name,value:ze.value,date:ze.date}),e(ht=>{var It;return{...ht,labHistory:(It=ht.labHistory)==null?void 0:It.filter((Tt,Ue)=>Ue!==Ne)}}))},ue=Ne=>{var ft;const ze=(ft=n.scanHistory)==null?void 0:ft[Ne];ze&&(u({name:ze.name,comment:ze.comment,date:ze.date}),ze.attachmentUrls&&C(ze.attachmentUrls),e(ht=>{var It;return{...ht,scanHistory:(It=ht.scanHistory)==null?void 0:It.filter((Tt,Ue)=>Ue!==Ne)}}))},be=Ne=>{var ft;const ze=(ft=n.drugHistory)==null?void 0:ft[Ne];ze&&(f({name:ze.name,frequency:ze.frequency,duration:ze.duration,date:ze.date}),e(ht=>{var It;return{...ht,drugHistory:(It=ht.drugHistory)==null?void 0:It.filter((Tt,Ue)=>Ue!==Ne)}}))},Ve=Ne=>{Ne.attachmentUrls&&Ne.attachmentUrls.length>0&&(T(Ne),P(0))},Pe=()=>{E!=null&&E.attachmentUrls&&P(Ne=>(Ne+1)%E.attachmentUrls.length)},We=()=>{E!=null&&E.attachmentUrls&&P(Ne=>(Ne-1+E.attachmentUrls.length)%E.attachmentUrls.length)},nt=Array.from(new Set([...jw,...Object.keys(n.chronicConditions||{}).filter(Ne=>!jw.includes(Ne))])),Re=Array.from(new Set([...Mw,...Object.keys(n.allergies||{}).filter(Ne=>!Mw.includes(Ne))]));return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex border-b border-white/10 bg-black/20 overflow-x-auto shrink-0 animate-fade-in",children:[["Personal Data","Past History","Labs History","Scans History","Drug History","Complaints"].map(Ne=>a.jsx("button",{onClick:()=>r(Ne),className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap border-b-2 ${t===Ne?"border-white text-white bg-white/5":"border-transparent text-gray-500 hover:text-gray-300"}`,children:Ne},Ne)),n.hasMenstrualHistory&&a.jsx("button",{onClick:()=>r("Menstrual History"),className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap border-b-2 ${t==="Menstrual History"?"border-pink-500 text-pink-500 bg-pink-500/5":"border-transparent text-gray-500 hover:text-white"}`,children:"Menstrual History"}),n.isPregnant&&a.jsx("button",{onClick:()=>r("Pregnancy"),className:`px-6 py-3 text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap border-b-2 ${t==="Pregnancy"?"border-pink-500 text-pink-500 bg-pink-500/5":"border-transparent text-gray-500 hover:text-white"}`,children:"Pregnancy"})]}),a.jsxs("div",{className:"mt-6",children:[t==="Personal Data"&&a.jsxs("div",{className:"space-y-8 max-w-5xl mx-auto animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(ci,{size:14})," Measurements & Vitals"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-7 gap-4",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Weight (kg)"}),a.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:n.weight,onChange:Ne=>e({...n,weight:Ne.target.value})})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Height (cm)"}),a.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:n.height,onChange:Ne=>e({...n,height:Ne.target.value})})]}),["BP","HR","Temp","RR","Sugar"].map(Ne=>{var ze;return a.jsxs("div",{className:"lg:col-span-1",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:Ne}),a.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none text-center",value:((ze=n.vitals)==null?void 0:ze[Ne.toLowerCase()])||"",onChange:ft=>G(Ne.toLowerCase(),ft.target.value)})]},Ne)})]})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("input",{type:"checkbox",checked:n.isSmoker||!1,onChange:Ne=>e({...n,isSmoker:Ne.target.checked}),className:"w-5 h-5 accent-neon-blue cursor-pointer"}),a.jsx("label",{className:"text-sm font-bold text-white",children:"Smoker?"})]}),n.isSmoker&&a.jsxs("div",{className:"grid grid-cols-3 gap-4 pl-9 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Cigarettes/Day"}),a.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:(Ee=n.smokingDetails)==null?void 0:Ee.amount,onChange:Ne=>e(ze=>{var ft;return{...ze,smokingDetails:{...ze.smokingDetails,amount:Ne.target.value,index:Ae(Ne.target.value,((ft=ze.smokingDetails)==null?void 0:ft.duration)||"0")}}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Duration (Years)"}),a.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:(at=n.smokingDetails)==null?void 0:at.duration,onChange:Ne=>e(ze=>{var ft;return{...ze,smokingDetails:{...ze.smokingDetails,duration:Ne.target.value,index:Ae(((ft=ze.smokingDetails)==null?void 0:ft.amount)||"0",Ne.target.value)}}})})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5 flex flex-col justify-center items-center",children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Smoking Index"}),a.jsx("span",{className:"text-lg font-black text-neon-blue",children:((St=n.smokingDetails)==null?void 0:St.index)||0})]})]})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("input",{type:"checkbox",checked:n.isMarried||!1,onChange:Ne=>e({...n,isMarried:Ne.target.checked}),className:"w-5 h-5 accent-neon-blue cursor-pointer"}),a.jsx("label",{className:"text-sm font-bold text-white",children:"Married?"})]}),n.isMarried&&a.jsxs("div",{className:"grid grid-cols-3 gap-4 pl-9 animate-fade-in",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Marriage Date"}),a.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:(tt=n.marriageDetails)==null?void 0:tt.marriageDate,onChange:Ne=>e(ze=>({...ze,marriageDetails:{...ze.marriageDetails,marriageDate:Ne.target.value,duration:me(Ne.target.value)}}))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1",children:"Children Count"}),a.jsx("input",{type:"number",className:"w-full bg-black/40 border border-white/10 rounded-lg p-2 text-white text-sm focus:border-neon-blue outline-none",value:(At=n.marriageDetails)==null?void 0:At.childrenCount,onChange:Ne=>e(ze=>({...ze,marriageDetails:{...ze.marriageDetails,childrenCount:Ne.target.value}}))})]}),a.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5 flex flex-col justify-center items-center",children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Duration"}),a.jsx("span",{className:"text-lg font-black text-neon-blue",children:((Et=n.marriageDetails)==null?void 0:Et.duration)||"-"})]})]})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 flex gap-8",children:[a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-pink-500",checked:n.hasMenstrualHistory||!1,onChange:Ne=>e({...n,hasMenstrualHistory:Ne.target.checked})}),a.jsx("span",{className:"text-sm font-bold text-gray-300",children:"Menstrual History"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 accent-pink-500",checked:n.isPregnant||!1,onChange:Ne=>e({...n,isPregnant:Ne.target.checked})}),a.jsx("span",{className:"text-sm font-bold text-gray-300",children:"Pregnancy"})]})]})]}),t==="Past History"&&a.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h4",{className:"text-sm font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ci,{size:16,className:"text-red-400"})," Chronic Conditions"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5 shadow-inner",children:[a.jsx(za,{size:14,className:"text-neon-blue ml-2"}),a.jsx("input",{type:"text",value:Z,onChange:Ne=>R(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&Q(),placeholder:"Add Other Condition...",className:"bg-transparent border-none text-xs text-white p-1.5 focus:outline-none w-48 placeholder-gray-600"}),a.jsx("button",{onClick:Q,className:"px-3 py-1 bg-neon-blue text-black font-black text-[10px] rounded-lg hover:bg-white transition-all uppercase tracking-tighter",children:"Add"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:nt.map(Ne=>{var ze,ft,ht,It,Tt,Ue,ke,Gt,$t;return a.jsxs("div",{className:`p-4 rounded-xl border transition-all ${(ze=n.chronicConditions)!=null&&ze[Ne]?"bg-red-500/10 border-red-500/30 shadow-[0_0_15px_-5px_rgba(239,68,68,0.1)]":"bg-black/20 border-white/5 hover:border-white/10"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-red-500 cursor-pointer",checked:((ft=n.chronicConditions)==null?void 0:ft[Ne])||!1,onChange:fn=>L(Ne,fn.target.checked)}),a.jsx("span",{className:`text-sm font-bold group-hover:text-white transition-colors ${(ht=n.chronicConditions)!=null&&ht[Ne]?"text-red-400":"text-gray-400"}`,children:Ne})]}),!jw.includes(Ne)&&a.jsx("button",{onClick:()=>L(Ne,!1),className:"text-gray-600 hover:text-red-400 transition-colors p-1",children:a.jsx(Ii,{size:14})})]}),((It=n.chronicConditions)==null?void 0:It[Ne])&&a.jsxs("div",{className:"pl-8 mt-4 space-y-3 animate-fade-in border-l border-red-500/20",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-black tracking-widest block mb-1",children:"Diagnosis Date"}),a.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-lg px-2 py-1.5 text-xs text-white outline-none focus:border-red-500 transition-all",value:((Ue=(Tt=n.chronicConditionDetails)==null?void 0:Tt[Ne])==null?void 0:Ue.diagnosedDate)||"",onChange:fn=>e(nn=>{var Jt,hr,ln;return{...nn,chronicConditionDetails:{...nn.chronicConditionDetails,[Ne]:{...(Jt=nn.chronicConditionDetails)==null?void 0:Jt[Ne],diagnosedDate:fn.target.value,medications:((ln=(hr=nn.chronicConditionDetails)==null?void 0:hr[Ne])==null?void 0:ln.medications)||[]}}}})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-[9px] text-gray-500 uppercase font-black tracking-widest",children:"Active Medications"}),a.jsxs("button",{onClick:()=>fe(Ne),className:"text-[9px] bg-red-500/20 text-red-400 px-2 py-1 rounded-md hover:bg-red-500 hover:text-white font-black transition-all flex items-center gap-1",children:[a.jsx(za,{size:10})," ADD"]})]}),($t=(Gt=(ke=n.chronicConditionDetails)==null?void 0:ke[Ne])==null?void 0:Gt.medications)==null?void 0:$t.map((fn,nn)=>a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2 group/med",children:[a.jsx("input",{placeholder:"Drug Name",className:"bg-black/60 border border-white/10 rounded px-2 py-1.5 text-[11px] text-white focus:border-red-400 outline-none",value:fn.name,onChange:Jt=>re(Ne,nn,"name",Jt.target.value)}),a.jsx("input",{placeholder:"Frequency",className:"bg-black/60 border border-white/10 rounded px-2 py-1.5 text-[11px] text-white focus:border-red-400 outline-none",value:fn.frequency,onChange:Jt=>re(Ne,nn,"frequency",Jt.target.value)})]},nn))]})]})]},Ne)})})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h4",{className:"text-sm font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[a.jsx(s6,{size:16,className:"text-orange-400"})," Allergies & Reactions"]}),a.jsxs("div",{className:"flex items-center gap-2 bg-black/40 p-1.5 rounded-xl border border-white/5 shadow-inner",children:[a.jsx(za,{size:14,className:"text-neon-blue ml-2"}),a.jsx("input",{type:"text",value:F,onChange:Ne=>M(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&j(),placeholder:"Add Other Allergy...",className:"bg-transparent border-none text-xs text-white p-1.5 focus:outline-none w-48 placeholder-gray-600"}),a.jsx("button",{onClick:j,className:"px-3 py-1 bg-neon-blue text-black font-black text-[10px] rounded-lg hover:bg-white transition-all uppercase tracking-tighter",children:"Add"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Re.map(Ne=>{var ze,ft,ht,It,Tt;return a.jsxs("div",{className:`p-4 rounded-xl border transition-all ${(ze=n.allergies)!=null&&ze[Ne]?"bg-orange-500/10 border-orange-500/30 shadow-[0_0_15px_-5px_rgba(249,115,22,0.1)]":"bg-black/20 border-white/5 hover:border-white/10"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 accent-orange-500 cursor-pointer",checked:((ft=n.allergies)==null?void 0:ft[Ne])||!1,onChange:Ue=>ie(Ne,Ue.target.checked)}),a.jsx("span",{className:`text-sm font-bold group-hover:text-white transition-colors ${(ht=n.allergies)!=null&&ht[Ne]?"text-orange-400":"text-gray-400"}`,children:Ne})]}),!Mw.includes(Ne)&&a.jsx("button",{onClick:()=>ie(Ne,!1),className:"text-gray-600 hover:text-orange-400 transition-colors p-1",children:a.jsx(Ii,{size:14})})]}),((It=n.allergies)==null?void 0:It[Ne])&&a.jsx("div",{className:"mt-3 animate-fade-in pl-8 border-l border-orange-500/20",children:a.jsx("input",{placeholder:"Describe reaction / severity...",className:"w-full bg-black/40 border border-white/10 rounded-lg px-2 py-2 text-xs text-white focus:border-orange-500 outline-none",value:((Tt=n.allergyComments)==null?void 0:Tt[Ne])||"",onChange:Ue=>e(ke=>({...ke,allergyComments:{...ke.allergyComments,[Ne]:Ue.target.value}}))})})]},Ne)})})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsxs("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[a.jsx(bg,{size:14})," General Surgical & Medical History"]}),a.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-2xl p-6 text-white text-base outline-none focus:border-neon-blue focus:bg-black/60 transition-all resize-y min-h-[150px] custom-scrollbar shadow-inner",rows:6,value:n.pastHistory,onChange:Ne=>e({...n,pastHistory:Ne.target.value}),placeholder:"Document any significant medical events, previous surgeries, or complications..."})]})]}),t==="Labs History"&&a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 flex gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Lab Name"}),a.jsx(Av,{value:s.name,onChange:Ne=>o({...s,name:Ne}),suggestions:nD,placeholder:"Lab Name",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Value / Result"}),a.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:s.value,onChange:Ne=>o({...s,value:Ne.target.value})})]}),a.jsxs("div",{className:"w-40",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Date"}),a.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:s.date,onChange:Ne=>o({...s,date:Ne.target.value})})]}),a.jsx("button",{onClick:_e,className:"px-6 py-3 bg-neon-blue text-black font-bold rounded-lg uppercase text-xs hover:bg-cyan-400 transition-colors",children:"Add"})]}),a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Date"}),a.jsx("th",{className:"p-4",children:"Lab Name"}),a.jsx("th",{className:"p-4",children:"Result"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[(Bt=n.labHistory)==null?void 0:Bt.map((Ne,ze)=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4 font-mono text-gray-500",children:Ne.date}),a.jsx("td",{className:"p-4 text-white font-bold",children:Ne.name}),a.jsx("td",{className:"p-4 text-neon-blue",children:Ne.value}),a.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>xe(ze),className:"p-1.5 bg-blue-500/10 text-blue-400 rounded hover:bg-blue-500/20 transition-colors",children:a.jsx(ya,{size:14})}),a.jsx("button",{onClick:()=>J(ze),className:"p-1.5 bg-red-500/10 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:a.jsx(Ii,{size:14})})]})]},ze)),(!n.labHistory||n.labHistory.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center italic",children:"No lab history recorded."})})]})]})})]}),t==="Scans History"&&a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 min-w-[200px]",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Scan Name"}),a.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:c.name,onChange:Ne=>u({...c,name:Ne.target.value})})]}),a.jsxs("div",{className:"flex-[2] min-w-[200px]",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Findings / Comment"}),a.jsx("input",{className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:c.comment,onChange:Ne=>u({...c,comment:Ne.target.value})})]}),a.jsxs("div",{className:"w-40",children:[a.jsx("label",{className:"text-[10px] text-gray-500 block mb-1 uppercase font-bold",children:"Date"}),a.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:c.date,onChange:Ne=>u({...c,date:Ne.target.value})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",multiple:!0,ref:_,className:"hidden",onChange:we}),a.jsx("button",{onClick:()=>{var Ne;return(Ne=_.current)==null?void 0:Ne.click()},className:"p-3 bg-white/5 text-gray-400 rounded-lg hover:text-white hover:bg-white/10 transition-colors",title:"Upload Files",children:a.jsx(fz,{size:18})}),a.jsx("button",{onClick:U,className:"px-6 py-3 bg-neon-blue text-black font-bold rounded-lg uppercase text-xs hover:bg-cyan-400 transition-colors",children:"Add"})]})]}),g.length>0&&a.jsxs("div",{className:"w-full p-4 bg-black/20 border border-white/5 rounded-xl mt-2 animate-fade-in",children:[a.jsxs("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mb-2",children:["Attached Files (",g.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:v.map((Ne,ze)=>a.jsxs("div",{className:"relative group rounded-lg overflow-hidden border border-white/10 aspect-video bg-black",children:[a.jsx("img",{src:Ne,alt:"Preview",className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity gap-2",children:[a.jsx("button",{onClick:()=>window.open(Ne,"_blank"),className:"p-1.5 bg-white/10 rounded-lg hover:bg-white/30 text-white transition-colors",children:a.jsx(xd,{size:14})}),a.jsx("button",{onClick:()=>ee(ze),className:"p-1.5 bg-red-500/20 rounded-lg hover:bg-red-500/50 text-red-400 hover:text-white transition-colors",children:a.jsx(Ii,{size:14})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 p-1 text-[9px] text-white truncate px-2",children:g[ze].name})]},ze))})]})]}),a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Date"}),a.jsx("th",{className:"p-4",children:"Scan Name"}),a.jsx("th",{className:"p-4",children:"Findings"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[(Dt=n.scanHistory)==null?void 0:Dt.map((Ne,ze)=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[a.jsx("td",{className:"p-4 font-mono text-gray-500",children:Ne.date}),a.jsx("td",{className:"p-4 text-white font-bold",children:Ne.name}),a.jsx("td",{className:"p-4 text-gray-300",children:Ne.comment}),a.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[Ne.attachmentUrls&&Ne.attachmentUrls.length>0&&a.jsxs("button",{onClick:()=>Ve(Ne),className:"p-1.5 bg-green-500/10 text-green-400 rounded hover:bg-green-500/20 transition-colors flex items-center gap-1",title:"View Scans",children:[a.jsx(xd,{size:14}),Ne.attachmentUrls.length>1&&a.jsx("span",{className:"text-[9px] font-bold",children:Ne.attachmentUrls.length})]}),a.jsx("button",{onClick:()=>ue(ze),className:"p-1.5 bg-blue-500/10 text-blue-400 rounded hover:bg-blue-500/20 transition-colors",children:a.jsx(ya,{size:14})}),a.jsx("button",{onClick:()=>q(ze),className:"p-1.5 bg-red-500/10 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:a.jsx(Ii,{size:14})})]})]},ze)),(!n.scanHistory||n.scanHistory.length===0)&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center italic",children:"No scan history recorded."})})]})]})})]}),t==="Drug History"&&a.jsxs("div",{className:"max-w-5xl mx-auto space-y-6 animate-slide-up",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Add Medication History"}),a.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[a.jsx("div",{className:"flex-[2]",children:a.jsx(Av,{placeholder:"Drug Name",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:d.name,onChange:Ne=>f({...d,name:Ne}),suggestions:rD})}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{placeholder:"Frequency",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:d.frequency,onChange:Ne=>f({...d,frequency:Ne.target.value})})}),a.jsx("div",{className:"flex-1",children:a.jsx("input",{placeholder:"Duration",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:d.duration,onChange:Ne=>f({...d,duration:Ne.target.value})})}),a.jsx("div",{className:"w-40",children:a.jsx("input",{type:"date",className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-white text-sm focus:border-neon-blue outline-none",value:d.date,onChange:Ne=>f({...d,date:Ne.target.value})})}),a.jsx("button",{onClick:H,className:"px-6 py-3 bg-neon-blue text-black font-bold rounded-lg uppercase text-xs hover:bg-cyan-400 transition-colors",children:"Add"})]})]}),a.jsx("div",{className:"bg-black/20 rounded-2xl border border-white/5 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-500 uppercase font-bold text-xs",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Date"}),a.jsx("th",{className:"p-4",children:"Drug Name"}),a.jsx("th",{className:"p-4",children:"Frequency"}),a.jsx("th",{className:"p-4",children:"Duration"}),a.jsx("th",{className:"p-4",children:"Source"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[i.map((Ne,ze)=>a.jsxs("tr",{className:"hover:bg-white/5",children:[a.jsx("td",{className:"p-4 font-mono text-gray-500",children:Xi(Ne.date)}),a.jsx("td",{className:"p-4 text-white font-bold",children:Ne.name}),a.jsx("td",{className:"p-4",children:Ne.frequency}),a.jsx("td",{className:"p-4",children:Ne.duration}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`text-[10px] px-2 py-1 rounded uppercase font-bold border ${Ne.source==="Chronic Condition"?"bg-red-900/20 text-red-300 border-red-500/20":"bg-blue-900/20 text-blue-300 border-blue-500/20"}`,children:Ne.source||"History"})}),a.jsx("td",{className:"p-4 text-right",children:Ne.source==="History"&&a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:()=>be(Ne.originalIndex),className:"p-1.5 bg-blue-500/10 text-blue-400 rounded hover:bg-blue-500/20 transition-colors",children:a.jsx(ya,{size:14})}),a.jsx("button",{onClick:()=>te(Ne.originalIndex),className:"p-1.5 bg-red-500/10 text-red-400 rounded hover:bg-red-500/20 transition-colors",children:a.jsx(Ii,{size:14})})]})})]},ze)),i.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-8 text-center italic",children:"No drug history recorded."})})]})]})})]}),t==="Complaints"&&a.jsx("div",{className:"max-w-5xl mx-auto space-y-6 animate-slide-up",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsx("label",{className:"text-xs font-bold text-neon-blue uppercase tracking-widest block mb-2",children:"Complaints"}),a.jsx("textarea",{rows:4,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none focus:border-neon-blue resize-y min-h-[100px]",value:n.complaints,onChange:Ne=>e({...n,complaints:Ne.target.value}),placeholder:"Main complaint..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsx("label",{className:"text-xs font-bold text-neon-blue uppercase tracking-widest block mb-2",children:"Symptoms"}),a.jsx("textarea",{rows:6,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none focus:border-neon-blue resize-y min-h-[150px]",value:n.symptoms,onChange:Ne=>e({...n,symptoms:Ne.target.value}),placeholder:"Patient reports..."})]}),a.jsxs("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5",children:[a.jsx("label",{className:"text-xs font-bold text-neon-blue uppercase tracking-widest block mb-2",children:"Signs"}),a.jsx("textarea",{rows:6,className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none focus:border-neon-blue resize-y min-h-[150px]",value:n.signs,onChange:Ne=>e({...n,signs:Ne.target.value}),placeholder:"Doctor observes..."})]})]})]})})]}),E&&E.attachmentUrls&&a.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/95 backdrop-blur-md p-4 animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>T(null)}),a.jsxs("div",{className:"w-full max-w-5xl bg-black border border-white/10 rounded-2xl shadow-2xl relative flex flex-col overflow-hidden max-h-[90vh]",children:[a.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-white/5 z-20",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:E.name}),a.jsxs("p",{className:"text-xs text-gray-400",children:[E.date,"  ",E.attachmentUrls.length," Files"]})]}),a.jsx("button",{onClick:()=>T(null),className:"p-2 hover:bg-white/10 rounded-full text-white transition-colors",children:a.jsx(tA,{size:24})})]}),a.jsxs("div",{className:"flex-1 relative bg-black flex items-center justify-center p-4 min-h-[400px]",children:[E.attachmentUrls.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:We,className:"absolute left-4 z-10 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full transition-all border border-white/20",children:a.jsx(yh,{size:32})}),a.jsx("button",{onClick:Pe,className:"absolute right-4 z-10 p-3 bg-black/50 hover:bg-black/80 text-white rounded-full transition-all border border-white/20",children:a.jsx(m0,{size:32})})]}),a.jsx("img",{src:E.attachmentUrls[k],alt:`Scan ${k+1}`,className:"max-w-full max-h-full object-contain rounded-lg shadow-lg"}),a.jsxs("div",{className:"absolute bottom-4 bg-black/60 px-4 py-2 rounded-full text-white text-sm font-bold border border-white/10 backdrop-blur-md",children:[k+1," / ",E.attachmentUrls.length]})]}),E.attachmentUrls.length>1&&a.jsx("div",{className:"p-4 border-t border-white/10 bg-white/5 flex gap-2 overflow-x-auto custom-scrollbar z-20",children:E.attachmentUrls.map((Ne,ze)=>a.jsx("div",{onClick:()=>P(ze),className:`w-20 h-14 rounded-lg overflow-hidden cursor-pointer border-2 transition-all shrink-0 ${k===ze?"border-neon-blue opacity-100 scale-105":"border-transparent opacity-60 hover:opacity-100 hover:border-white/30"}`,children:a.jsx("img",{src:Ne,alt:"thumb",className:"w-full h-full object-cover"})},ze))}),a.jsx("div",{className:"absolute top-20 right-6 z-30",children:a.jsx("a",{href:E.attachmentUrls[k],download:`Scan_${E.name}_${k+1}`,className:"p-3 bg-black/60 hover:bg-neon-blue hover:text-black text-white rounded-full border border-white/20 hover:border-neon-blue transition-all flex items-center justify-center shadow-lg",title:"Download Current File",children:a.jsx(d_,{size:20})})})]})]}),a.jsx(Wv,{isOpen:!!z,onClose:()=>Y(null),onConfirm:V,title:"Confirm Deletion",message:`Are you sure you want to delete this ${z==null?void 0:z.type} record? This action cannot be undone.`,confirmText:"Yes, Delete",isDanger:!0})]})},yde=()=>{const{firebaseUser:n}=qr(),{appointments:e,doctorStatus:t,setDoctorStatus:r,callingPatientId:i,setCallingPatientId:s,updateAppointmentStatus:o,updateAppointment:c,isBookingPaused:u,toggleBookingPause:d,printSettings:f,hasAssistantDoctor:g}=bi(),[m,v]=se.useState(!1),{setHeaderHidden:C}=se.useContext($o),[_,E]=se.useState("SHEET"),[T,k]=se.useState("Personal Data"),[P,z]=se.useState("idle"),[Y,Z]=se.useState({}),[R,F]=se.useState(null),[M,G]=se.useState({}),[L,Q]=se.useState("Personal Data"),[j,re]=se.useState([]),[fe,ie]=se.useState([]),[Ae,me]=se.useState([]),_e=se.useMemo(()=>e.find(be=>be.status==="in-exam"),[e]),we=se.useMemo(()=>e.filter(be=>be.status==="checked-in").sort((be,Ve)=>(be.queueOrder??9999)-(Ve.queueOrder??9999)),[e]),ee=(n==null?void 0:n.displayName)||"Clinic Core";se.useEffect(()=>{C(m||!!R),m&&_e&&(U(_e,Z),re(_e.prescription||[]),ie(_e.investigationItems||[]),me(_e.scans||[]))},[m,_e,C,e,R]);const U=(be,Ve)=>{let Pe={...be};if(!(Pe.chronicConditions||Pe.pastHistory||Pe.allergies)){const nt=e.filter(Re=>Re.phone===be.phone&&Re.status==="completed"&&Re.id!==be.id).sort((Re,Ee)=>new Date(Ee.date).getTime()-new Date(Re.date).getTime());if(nt.length>0){const Re=nt[0];Pe={...Pe,weight:Re.weight,height:Re.height,isSmoker:Re.isSmoker,smokingDetails:Re.smokingDetails,isMarried:Re.isMarried,marriageDetails:Re.marriageDetails,hasMenstrualHistory:Re.hasMenstrualHistory,menstrualHistory:Re.menstrualHistory,isPregnant:Re.isPregnant,pregnancyDetails:Re.pregnancyDetails,chronicConditions:Re.chronicConditions,chronicConditionDetails:Re.chronicConditionDetails,allergies:Re.allergies,allergyComments:Re.allergyComments,pastHistory:Re.pastHistory,drugHistory:Re.drugHistory||[],labHistory:Re.labHistory||[],scanHistory:Re.scanHistory||[]}}}Ve(Pe)},H=be=>{F(be),U(be,G)},V=async()=>{_e&&(z("saving"),await c(_e.id,{...Y,prescription:j,investigationItems:fe,scans:Ae}),z("success"),setTimeout(()=>z("idle"),2e3))},J=()=>{V(),_e&&o(_e.id,"completed"),v(!1)},q=be=>{s(be.id)},te=()=>{if(!_e)return;const be={..._e,...Y,prescription:j,investigationItems:fe,scans:Ae};tD(be,f)},xe=se.useMemo(()=>{const be=(Y.drugHistory||[]).map((Pe,We)=>({...Pe,originalIndex:We,source:"History"})),Ve=[];return Y.chronicConditionDetails&&Object.entries(Y.chronicConditionDetails).forEach(([Pe,We])=>{const nt=We;nt.medications&&nt.medications.forEach(Re=>{Re.name&&Ve.push({...Re,date:nt.diagnosedDate||"",source:"Chronic Condition",conditionName:Pe})})}),[...be,...Ve].sort((Pe,We)=>new Date(We.date).getTime()-new Date(Pe.date).getTime())},[Y.drugHistory,Y.chronicConditionDetails]),ue=se.useMemo(()=>{const be=(M.drugHistory||[]).map((Pe,We)=>({...Pe,originalIndex:We,source:"History"})),Ve=[];return M.chronicConditionDetails&&Object.entries(M.chronicConditionDetails).forEach(([Pe,We])=>{const nt=We;nt.medications&&nt.medications.forEach(Re=>{Re.name&&Ve.push({...Re,date:nt.diagnosedDate||"",source:"Chronic Condition",conditionName:Pe})})}),[...be,...Ve].sort((Pe,We)=>new Date(We.date).getTime()-new Date(Pe.date).getTime())},[M.drugHistory,M.chronicConditionDetails]);return a.jsxs("div",{className:`space-y-6 animate-fade-in ${u?"p-1 rounded-3xl border-2 border-red-500/50 bg-red-900/5":""}`,children:[a.jsxs(Mt,{className:"p-6 flex flex-wrap gap-4 items-stretch justify-between border-white/10",noTilt:!0,glowColor:"cyan",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center border shadow-lg ${t==="available"?"border-green-500/50 text-green-500 bg-green-500/10":"border-red-500/50 text-red-500 bg-red-500/10"}`,children:a.jsx(yo,{size:32})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white",children:ee}),a.jsxs("p",{className:`font-bold text-xs tracking-widest uppercase mt-1 ${t==="available"?"text-green-500":"text-red-500"}`,children:["Status: ",t]})]})]}),a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsxs("button",{onClick:d,className:`px-4 py-2 rounded-xl font-bold border flex items-center gap-2 text-xs uppercase ${u?"bg-green-500/10 text-green-400 border-green-500/30":"bg-red-500/10 text-red-400 border-red-500/30"}`,children:[u?a.jsx(md,{size:14}):a.jsx(yg,{size:14})," ",u?"Resume":"Stop Booking"]}),a.jsxs("button",{onClick:()=>r(t==="available"?"resting":"available"),className:`px-6 py-2 rounded-xl font-bold border flex items-center gap-2 text-xs uppercase ${t==="available"?"bg-red-500/10 text-red-400 border-red-500/30":"bg-green-500/10 text-green-400 border-green-500/30"}`,children:[a.jsx(XA,{size:14})," ",t==="available"?"Go Resting":"Go Available"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Mt,{className:`min-h-[400px] flex flex-col justify-center items-center relative overflow-hidden border-white/5 ${_e?"bg-black/40":"bg-black/20"}`,glowColor:"cyan",children:_e?a.jsxs("div",{className:"w-full h-full p-8 flex flex-col items-center justify-between z-10",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-black/50 border-2 border-neon-blue flex items-center justify-center mb-4 shadow-[0_0_30px_rgba(0,243,255,0.2)]",children:a.jsx(Ri,{size:32,className:"text-white"})}),a.jsx("h1",{className:"text-3xl font-black text-white mb-1",children:_e.name}),a.jsxs("p",{className:"text-sm text-gray-400",children:[_e.age?`${_e.age} yrs`:"N/A","  ",_e.visitType]})]}),a.jsxs("div",{className:"flex gap-4 mt-8",children:[a.jsxs("button",{onClick:()=>v(!0),className:"px-8 py-3 bg-white/5 border border-white/10 rounded-xl text-white font-bold text-sm hover:bg-neon-blue/10 hover:border-neon-blue/50 transition-all flex items-center gap-2",children:[a.jsx(bg,{size:18})," Open Sheet"]}),a.jsxs("button",{onClick:J,className:"px-8 py-3 bg-gradient-to-r from-neon-blue to-cyan-600 rounded-xl text-black font-extrabold text-sm hover:shadow-[0_0_20px_rgba(0,243,255,0.4)] transition-all flex items-center gap-2",children:[a.jsx(md,{size:18})," Complete"]})]})]}):a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(yo,{size:48,className:"mx-auto mb-4 opacity-20"}),a.jsx("h3",{className:"text-xl font-bold",children:"Room Available"}),a.jsx("p",{className:"text-sm",children:"Call a patient to start"})]})})}),a.jsx("div",{className:"space-y-4",children:a.jsxs(Mt,{className:"p-0 bg-black/20 h-full border-white/10 flex flex-col",glowColor:"purple",children:[a.jsxs("div",{className:"p-4 border-b border-white/5 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[a.jsx(Ri,{size:16,className:"text-neon-purple"})," Waiting Room"]}),a.jsx("span",{className:"text-xs bg-neon-purple/20 text-neon-purple px-2 py-0.5 rounded font-bold",children:we.length})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar",children:[we.map((be,Ve)=>a.jsxs("div",{className:`p-3 rounded-lg border transition-all ${i===be.id?"bg-neon-purple/10 border-neon-purple":"bg-white/5 border-white/5"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"font-bold text-white text-sm",children:["#",Ve+1," ",be.name]}),a.jsx("span",{className:"text-[10px] bg-black/30 px-1.5 rounded text-gray-400",children:be.time})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[g&&be.isSheeted&&a.jsxs("button",{onClick:()=>H(be),className:"w-full py-1.5 bg-green-500/10 border border-green-500/20 text-green-400 hover:bg-green-500/20 rounded text-[10px] font-bold flex items-center justify-center gap-2 transition-colors",children:[a.jsx(xd,{size:12})," Preview Sheet"]}),i===be.id?a.jsx("div",{className:"text-xs font-bold text-neon-purple animate-pulse text-center w-full py-1",children:"CALLING..."}):a.jsx("button",{onClick:()=>q(be),disabled:!!_e,className:"w-full py-1.5 bg-white/5 hover:bg-neon-purple/20 text-xs font-bold text-gray-400 hover:text-white rounded transition-colors disabled:opacity-30",children:"CALL PATIENT"})]})]},be.id)),we.length===0&&a.jsx("div",{className:"text-center text-gray-600 text-xs py-8",children:"Queue Empty"})]})]})})]}),R&&a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full h-full glass-panel rounded-2xl flex flex-col border border-white/10 shadow-2xl relative overflow-hidden max-w-5xl max-h-[90vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/10 bg-black/40 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-3",children:[a.jsx(bg,{size:24,className:"text-green-400"}),R.name,a.jsx("span",{className:"text-xs font-bold text-green-400 bg-green-500/10 px-2 py-0.5 rounded border border-green-500/20 uppercase tracking-wider",children:"Sheet Preview"})]}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Assistant Data Review"})]}),a.jsx("button",{onClick:()=>F(null),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-black/10",children:a.jsx(d5,{clinicalData:M,setClinicalData:G,activeSheetTab:L,setActiveSheetTab:Q,aggregatedDrugHistory:ue})})]})}),m&&_e&&a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full h-full glass-panel rounded-2xl flex flex-col border border-white/10 shadow-2xl relative overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-white/10 bg-black/40 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black text-white",children:[_e.name," ",a.jsxs("span",{className:"text-sm font-medium text-gray-400 ml-2",children:[_e.age||"N/A"," yrs  ",_e.visitType]})]}),a.jsxs("p",{className:"text-xs text-neon-blue font-mono mt-1",children:["Session ID: ",_e.id.slice(0,8),"  ",new Date().toLocaleDateString()]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:te,className:"px-6 py-2 bg-white/10 border border-white/20 rounded-xl font-bold text-sm flex items-center gap-2 hover:bg-white/20 transition-all text-white",children:[a.jsx(ld,{size:16})," Print All"]}),a.jsxs("button",{onClick:V,disabled:P==="saving",className:`px-6 py-2 rounded-xl font-bold text-sm flex items-center gap-2 transition-all ${P==="success"?"bg-green-500 text-white":"bg-neon-blue text-black hover:bg-cyan-400"}`,children:[P==="saving"?a.jsx(xa,{size:16,className:"animate-spin"}):a.jsx(Mv,{size:16})," ",P==="saving"?"Saving...":P==="success"?"Saved":"Save"]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-white/5 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:24})})]})]}),a.jsx("div",{className:"flex border-b border-white/10 bg-black/40 shrink-0",children:[{id:"SHEET",icon:a.jsx(GH,{size:14})},{id:"Patient Overview",icon:a.jsx(qF,{size:14})},{id:"Labs Overview",icon:a.jsx(x_,{size:14})},{id:"Scans Overview",icon:a.jsx(GF,{size:14})},{id:"Investigations & Rx",icon:a.jsx(m_,{size:14})}].map(be=>a.jsxs("button",{onClick:()=>E(be.id),className:`px-6 py-4 text-xs font-bold uppercase tracking-wider transition-all whitespace-nowrap border-b-2 flex items-center gap-2 ${_===be.id?"border-neon-blue text-neon-blue bg-neon-blue/5":"border-transparent text-gray-500 hover:text-white hover:bg-white/5"}`,children:[be.icon," ",be.id]},be.id))}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar bg-black/10",children:[_==="SHEET"&&a.jsx(d5,{clinicalData:Y,setClinicalData:Z,activeSheetTab:T,setActiveSheetTab:k,aggregatedDrugHistory:xe}),_==="Patient Overview"&&a.jsx(gde,{clinicalData:Y,aggregatedDrugHistory:xe}),_==="Labs Overview"&&a.jsx(mde,{clinicalData:Y}),_==="Scans Overview"&&a.jsx(xde,{clinicalData:Y,setClinicalData:Z}),_==="Investigations & Rx"&&a.jsx(vde,{reqPrescription:j,setReqPrescription:re,reqLabs:fe,setReqLabs:ie,reqScans:Ae,setReqScans:me,clinicalData:Y,setClinicalData:Z})]})]})})]})},wde=()=>{const{appointments:n,updateAppointment:e,printSettings:t}=bi(),[r,i]=se.useState(""),[s,o]=se.useState(null),{setHeaderHidden:c}=se.useContext($o),[u,d]=se.useState(null);se.useEffect(()=>{c(!!s)},[s,c]);const f=se.useMemo(()=>{const v={};return n.forEach(C=>{v[C.phone]||(v[C.phone]={name:C.name,phone:C.phone,age:C.age,residence:C.residence,totalVisits:0,totalPaid:0,lastVisit:C.date,history:[]}),v[C.phone].totalVisits+=1,v[C.phone].totalPaid+=Number(C.paid)||0,new Date(C.date)>new Date(v[C.phone].lastVisit)&&(v[C.phone].lastVisit=C.date),v[C.phone].history.push(C)}),Object.values(v).filter(C=>C.name.toLowerCase().includes(r.toLowerCase())||C.phone.includes(r))},[n,r]),g=se.useMemo(()=>{if(!s)return null;const v=f.find(C=>C.phone===s);return v&&v.history.sort((C,_)=>new Date(_.date).getTime()-new Date(C.date).getTime()),v},[s,f]),m=v=>{tD(v,t)};return a.jsxs("div",{className:"space-y-6 animate-fade-in pb-12",children:[a.jsxs(Mt,{className:"p-6 border-white/5",glowColor:"cyan",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold flex items-center gap-3 text-white",children:[a.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-lg text-neon-blue",children:a.jsx(QF,{size:24})})," Patient Registry"]}),a.jsxs("div",{className:"relative group w-64",children:[a.jsx(Pv,{size:16,className:"absolute left-3 top-3 text-gray-500 group-focus-within:text-neon-blue transition-colors"}),a.jsx("input",{type:"text",placeholder:"Search Name or Phone...",value:r,onChange:v=>i(v.target.value),className:"w-full bg-black/40 border border-white/10 rounded-xl pl-10 pr-4 py-2.5 text-sm text-white focus:border-neon-blue outline-none transition-colors"})]})]}),a.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10 bg-black/20",children:a.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[a.jsx("thead",{className:"bg-white/5 text-gray-300 uppercase font-bold text-xs tracking-wider",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:"Patient Name"}),a.jsx("th",{className:"p-4",children:"Phone"}),a.jsx("th",{className:"p-4",children:"Total Visits"}),a.jsx("th",{className:"p-4",children:"Last Visit"}),a.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-white/5",children:[f.map(v=>a.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[a.jsx("td",{className:"p-4 font-bold text-white group-hover:text-neon-blue transition-colors text-base",children:v.name}),a.jsx("td",{className:"p-4 font-mono",children:v.phone}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"bg-white/10 px-2.5 py-1 rounded-md text-xs font-bold",children:v.totalVisits})}),a.jsx("td",{className:"p-4",children:Xi(v.lastVisit)}),a.jsx("td",{className:"p-4 text-right",children:a.jsx("button",{onClick:()=>o(v.phone),className:"px-5 py-2 bg-neon-blue/10 text-neon-blue border border-neon-blue/30 rounded-lg hover:bg-neon-blue/20 transition-all text-xs font-bold uppercase tracking-wide",children:"Patient History"})})]},v.phone)),f.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-600 italic",children:"No matching patient records found."})})]})]})})]}),s&&g&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-w-4xl h-[85vh] glass-panel rounded-2xl flex flex-col border border-white/10 shadow-2xl animate-slide-up overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-white/5",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white",children:g.name}),a.jsxs("p",{className:"text-sm text-gray-400 font-mono mt-1",children:[g.phone,"  ",g.residence||"No Residence Data"]})]}),a.jsx("button",{onClick:()=>o(null),className:"p-2 hover:bg-white/10 rounded-full text-gray-400 hover:text-white transition-colors",children:a.jsx(Ji,{size:24})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 custom-scrollbar bg-black/20",children:g.history.map(v=>{const C=u===v.id;return a.jsxs("div",{className:"relative pl-4",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-white/10"}),a.jsx("div",{className:"absolute left-[-4px] top-6 w-2.5 h-2.5 rounded-full bg-neon-blue shadow-[0_0_10px_rgba(0,243,255,0.5)]"}),a.jsxs("div",{className:`bg-white/5 border rounded-xl transition-all overflow-hidden ${C?"border-neon-blue/30 bg-white/10 shadow-[0_0_20px_-5px_rgba(0,243,255,0.1)]":"border-white/5 hover:border-white/10"}`,children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center p-5 cursor-pointer hover:bg-white/5 transition-colors gap-4",onClick:()=>d(_=>_===v.id?null:v.id),children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"font-black text-white text-lg",children:Xi(v.date)}),a.jsx("span",{className:`text-[9px] font-black px-2 py-0.5 rounded uppercase border ${v.visitType==="New"?"bg-blue-500/20 text-blue-300 border-blue-500/30":"bg-purple-500/20 text-purple-300 border-purple-500/30"}`,children:v.visitType})]}),a.jsx("div",{className:"text-xs text-gray-500 font-medium",children:v.diagnosis||"Diagnosis Pending"})]}),a.jsxs("div",{className:"flex items-center gap-3 self-end md:self-auto",children:[a.jsxs("button",{onClick:_=>{_.stopPropagation(),m(v)},className:"px-4 py-2 bg-neon-blue/10 hover:bg-neon-blue text-neon-blue hover:text-black rounded-lg text-[10px] font-black flex items-center gap-2 transition-all border border-neon-blue/30 uppercase tracking-widest",children:[a.jsx(ld,{size:14})," Print PDF"]}),C?a.jsx(bH,{size:20,className:"text-gray-500"}):a.jsx(xH,{size:20,className:"text-gray-500"})]})]}),C&&a.jsx("div",{className:"p-6 pt-0 border-t border-white/5 bg-black/20 animate-fade-in space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest block mb-2",children:"Chief Complaint"}),a.jsx("p",{className:"text-sm text-gray-300 leading-relaxed bg-white/5 p-4 rounded-xl border border-white/5",children:v.complaints||"No complaints recorded."})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-black tracking-widest block mb-2",children:"Final Diagnosis"}),a.jsx("p",{className:"text-base font-black text-neon-blue uppercase",children:v.diagnosis||"-"})]})]}),a.jsxs("div",{className:"space-y-4",children:[v.prescription&&v.prescription.length>0&&a.jsxs("div",{className:"bg-green-500/5 p-4 rounded-xl border border-green-500/20",children:[a.jsx("span",{className:"text-[10px] text-green-400 uppercase font-black tracking-widest mb-3 block",children:"Rx - Prescribed Medication"}),a.jsx("div",{className:"space-y-2",children:v.prescription.map((_,E)=>a.jsxs("div",{className:"flex justify-between text-xs p-2 bg-black/20 rounded-lg border border-white/5",children:[a.jsx("span",{className:"font-bold text-white",children:_.drug}),a.jsx("span",{className:"text-gray-500",children:_.frequency})]},E))})]}),v.vitals&&a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg text-center border border-white/5",children:[a.jsx("span",{className:"text-[8px] text-gray-600 block uppercase font-black",children:"BP"}),a.jsx("span",{className:"text-xs font-bold text-white",children:v.vitals.bp||"-"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg text-center border border-white/5",children:[a.jsx("span",{className:"text-[8px] text-gray-600 block uppercase font-black",children:"HR"}),a.jsx("span",{className:"text-xs font-bold text-white",children:v.vitals.hr||"-"})]}),a.jsxs("div",{className:"bg-white/5 p-2 rounded-lg text-center border border-white/5",children:[a.jsx("span",{className:"text-[8px] text-gray-600 block uppercase font-black",children:"Temp"}),a.jsx("span",{className:"text-xs font-bold text-white",children:v.vitals.temp||"-"})]})]})]})]})})]})]},v.id)})})]})})]})},bde=()=>{const{printSettings:n,updatePrintSettings:e}=bi(),[t,r]=se.useState("rx"),[i,s]=se.useState(n),[o,c]=se.useState("idle"),[u,d]=se.useState(null),[f,g]=se.useState("designer"),[m,v]=se.useState(""),[C,_]=se.useState(""),E=se.useRef(null),[T,k]=se.useState(null),P=se.useRef(null),z=se.useRef(null);se.useEffect(()=>{s(n)},[n]);const Y=i[t],Z=Y.elements.find(q=>q.id===u),R=(q,te)=>{const xe={id:`el_${Date.now()}`,type:q,x:10,y:10,w:q==="data_block"?80:30,h:q==="data_block"?60:5,content:te||"New Text",fontSize:12,fontWeight:"normal",align:"left",zIndex:10,dataLayout:1,showSectionHeader:!0};F([...Y.elements,xe]),d(xe.id)},F=q=>{s(te=>({...te,[t]:{...te[t],elements:q}}))},M=q=>{if(!u)return;const te=Y.elements.map(xe=>xe.id===u?{...xe,...q}:xe);F(te)},G=()=>{if(!u)return;const q=Y.elements.filter(te=>te.id!==u);F(q),d(null)},L=q=>{var xe;const te=(xe=q.target.files)==null?void 0:xe[0];if(te){const ue=new FileReader;ue.onloadend=()=>{s(be=>({...be,[t]:{...be[t],backgroundUrl:ue.result}}))},ue.readAsDataURL(te)}},Q=q=>{var xe;const te=(xe=q.target.files)==null?void 0:xe[0];if(te){const ue=new FileReader;ue.onloadend=()=>{const be={id:`img_${Date.now()}`,type:"image",x:5,y:5,w:20,h:15,content:ue.result,zIndex:5};F([...Y.elements,be]),d(be.id)},ue.readAsDataURL(te)}},j=()=>{if(window.confirm("Load Generic Standard Design? This will replace current elements.")){const q=[{id:"clinic_name",type:"text",x:0,y:3,w:100,h:5,content:"{{CLINIC_NAME}}",fontSize:22,fontWeight:"bold",align:"center",zIndex:10},{id:"dr_name",type:"text",x:0,y:8,w:100,h:4,content:"{{DOCTOR_NAME}}",fontSize:14,fontWeight:"bold",align:"center",zIndex:10},{id:"specialty",type:"text",x:0,y:12,w:100,h:4,content:"{{SPECIALTY}}",fontSize:10,align:"center",zIndex:10},{id:"patient_label",type:"text",x:5,y:18,w:15,h:4,content:"Patient Name:",fontSize:11,fontWeight:"bold",align:"left",zIndex:10},{id:"patient_val",type:"text",x:20,y:18,w:40,h:4,content:"{{PATIENT_NAME}}",fontSize:11,align:"left",zIndex:10},{id:"date_label",type:"text",x:65,y:18,w:10,h:4,content:"Date:",fontSize:11,fontWeight:"bold",align:"right",zIndex:10},{id:"date_val",type:"text",x:76,y:18,w:20,h:4,content:"{{DATE}}",fontSize:11,align:"left",zIndex:10},{id:"sep_line",type:"text",x:5,y:21,w:90,h:2,content:"__________________________________________________________________________________________",fontSize:10,align:"center",zIndex:5},{id:"data_block",type:"data_block",x:5,y:25,w:90,h:60,content:":: DATA SPACE ::",fontSize:12,align:"left",zIndex:1,dataLayout:1},{id:"footer_line",type:"text",x:5,y:88,w:90,h:2,content:"__________________________________________________________________________________________",fontSize:10,align:"center",zIndex:5},{id:"footer_address",type:"text",x:5,y:91,w:90,h:4,content:"{{ADDRESSES}}",fontSize:9,align:"center",zIndex:10},{id:"footer_phones",type:"text",x:5,y:94,w:90,h:4,content:"{{PHONES}}",fontSize:9,fontWeight:"bold",align:"center",zIndex:10}];s(te=>({...te,[t]:{...te[t],backgroundUrl:void 0,elements:q}})),d(null)}},re=()=>{window.confirm("Are you sure you want to delete all elements?")&&(s(q=>({...q,[t]:{...q[t],backgroundUrl:void 0,elements:[]}})),d(null))},fe=async()=>{c("saving"),await e(i),c("success"),setTimeout(()=>c("idle"),2e3)},ie=async()=>{const q={name:"John Doe Sample",date:new Date().toLocaleDateString(),age:"35",prescription:[{drug:"Amoxicillin 500mg",frequency:"1 tab / 8h",duration:"5 days"},{drug:"Paracetamol 500mg",frequency:"1 tab / 6h",duration:"3 days"}],investigationItems:[{id:"1",name:"CBC"},{id:"2",name:"Liver Function Test"}],scans:[{id:"3",name:"Chest X-Ray"}],weight:"75",height:"175",vitals:{bp:"120/80",hr:"72",temp:"36.5"}};await rm(q,Y,i,`Sample_${t}`,t)},Ae=()=>{m&&(s(q=>({...q,phones:[...q.phones,m]})),v(""))},me=q=>{s(te=>({...te,phones:te.phones.filter((xe,ue)=>ue!==q)}))},_e=()=>{C&&(s(q=>({...q,addresses:[...q.addresses,C]})),_(""))},we=q=>{s(te=>({...te,addresses:te.addresses.filter((xe,ue)=>ue!==q)}))},ee=(q,te,xe)=>{q.preventDefault(),q.stopPropagation();const ue=Y.elements.find(be=>be.id===te);ue&&(d(te),k({id:te,type:xe,startX:q.clientX,startY:q.clientY,initialX:ue.x,initialY:ue.y,initialW:ue.w,initialH:ue.h}))};se.useEffect(()=>{const q=xe=>{if(!T||!E.current)return;xe.preventDefault();const ue=E.current.getBoundingClientRect(),be=(xe.clientX-T.startX)/ue.width*100,Ve=(xe.clientY-T.startY)/ue.height*100;if(T.type==="move"){const Pe=Math.max(0,Math.min(100-T.initialW,T.initialX+be)),We=Math.max(0,Math.min(100-T.initialH,T.initialY+Ve));s(nt=>({...nt,[t]:{...nt[t],elements:nt[t].elements.map(Re=>Re.id===T.id?{...Re,x:Pe,y:We}:Re)}}))}else{const Pe=Math.max(5,T.initialW+be),We=Math.max(2,T.initialH+Ve);s(nt=>({...nt,[t]:{...nt[t],elements:nt[t].elements.map(Re=>Re.id===T.id?{...Re,w:Pe,h:We}:Re)}}))}},te=()=>k(null);return T&&(window.addEventListener("mousemove",q),window.addEventListener("mouseup",te)),()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",te)}},[T,t]);const H=Y.paperSize==="A4"?{w:595,h:842}:{w:420,h:595},V=q=>{if(!q)return"";const te=new Date().toLocaleDateString();return q.replace("{{CLINIC_NAME}}",i.clinicName||"Clinic Name").replace("{{DOCTOR_NAME}}",i.doctorName||"Dr. Name").replace("{{SPECIALTY}}",i.specialty||"Specialty").replace("{{DATE}}",te).replace("{{PATIENT_NAME}}","John Doe").replace("{{AGE}}","30Y").replace("{{PHONES}}",i.phones.length?i.phones.join(" | "):"0123456789").replace("{{ADDRESSES}}",i.addresses.length?i.addresses.join(" - "):"123 Medical St, City").replace("{{WEIGHT}}","75kg").replace("{{HEIGHT}}","175cm").replace("{{BP}}","120/80").replace("{{HR}}","72").replace("{{TEMP}}","36.5").replace("{{O2}}","98%")},J=q=>{const te=q.fontSize||12,xe=q.showSectionHeader!==!1;if(t==="rx"){const ue=q.dataLayout||1;return a.jsxs("div",{style:{width:"100%",height:"100%"},children:[xe&&a.jsx("div",{style:{fontWeight:"900",fontSize:`${te*1.5}px`,marginBottom:"10px",fontStyle:"italic",color:"black"},children:"Rx"}),ue===1&&a.jsxs("table",{className:"w-full border-collapse",style:{fontFamily:"sans-serif"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"#f0f0f0"},children:[a.jsx("th",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"50%"},children:"Drug Name"}),a.jsx("th",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"25%"},children:"Frequency"}),a.jsx("th",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"25%"},children:"Duration"})]})}),a.jsx("tbody",{children:[1,2,3].map(be=>a.jsxs("tr",{children:[a.jsxs("td",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontWeight:"bold",fontSize:`${te}px`,color:"black"},children:["Drug Name ",be," (500mg)"]}),a.jsx("td",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"1 tab / 8h"}),a.jsx("td",{style:{border:"1px solid black",padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"5 Days"})]},be))})]}),ue===2&&a.jsxs("table",{className:"w-full border-collapse",style:{fontFamily:"sans-serif"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{borderBottom:"2px solid black"},children:[a.jsx("th",{style:{padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"50%"},children:"Drug Name"}),a.jsx("th",{style:{padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"25%"},children:"Frequency"}),a.jsx("th",{style:{padding:"4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black",width:"25%"},children:"Duration"})]})}),a.jsx("tbody",{children:[1,2,3].map(be=>a.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[a.jsxs("td",{style:{padding:"6px 4px",textAlign:"center",verticalAlign:"middle",fontWeight:"bold",fontSize:`${te}px`,color:"black"},children:["Drug Name ",be," (500mg)"]}),a.jsx("td",{style:{padding:"6px 4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"1 tab / 8h"}),a.jsx("td",{style:{padding:"6px 4px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"5 Days"})]},be))})]}),ue===3&&a.jsxs("table",{className:"w-full border-collapse",style:{fontFamily:"sans-serif"},children:[a.jsx("thead",{children:a.jsxs("tr",{style:{backgroundColor:"black",color:"white"},children:[a.jsx("th",{style:{padding:"4px 8px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,width:"50%"},children:"DRUG"}),a.jsx("th",{style:{padding:"4px 8px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,width:"25%"},children:"FREQ"}),a.jsx("th",{style:{padding:"4px 8px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,width:"25%"},children:"DUR"})]})}),a.jsx("tbody",{children:[1,2,3].map(be=>a.jsxs("tr",{style:{backgroundColor:be%2===0?"white":"#f5f5f5"},children:[a.jsxs("td",{style:{padding:"6px 8px",textAlign:"center",verticalAlign:"middle",fontWeight:"900",fontSize:`${te}px`,color:"black"},children:["Drug Name ",be," (500mg)"]}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"1 tab / 8h"}),a.jsx("td",{style:{padding:"6px 8px",textAlign:"center",verticalAlign:"middle",fontSize:`${te}px`,color:"black"},children:"5 Days"})]},be))})]})]})}else return t==="requests"?a.jsxs("div",{style:{fontSize:`${te}px`,width:"100%",height:"100%",color:"black"},children:[xe&&a.jsx("div",{style:{fontWeight:"bold",textDecoration:"underline",marginBottom:"10px",fontSize:`${te*1.2}px`},children:"Requested Investigations"}),a.jsxs("ul",{style:{listStyleType:"disc",paddingLeft:"20px",fontWeight:"bold"},children:[a.jsx("li",{children:"CBC (Complete Blood Count)"}),a.jsx("li",{children:"Lipid Profile"}),a.jsx("li",{children:"Liver Function Tests (ALT, AST)"}),a.jsx("li",{children:"Chest X-Ray (PA View)"})]})]}):a.jsxs("div",{style:{fontSize:`${te}px`,width:"100%",height:"100%",color:"black"},children:[xe&&a.jsx("div",{style:{fontWeight:"900",textAlign:"center",fontSize:`${te*1.4}px`,marginBottom:"20px"},children:"MEDICAL REPORT"}),a.jsxs("p",{style:{lineHeight:"1.6",textAlign:"justify"},children:["This is to certify that Mr. John Doe (30Y) was examined on ",new Date().toLocaleDateString(),".",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Diagnosis:"})," Acute Bronchitis.",a.jsx("br",{}),a.jsx("br",{}),a.jsx("strong",{children:"Recommendation:"})," The patient requires rest for 3 days and has been prescribed necessary medication."]})]})};return a.jsxs("div",{className:"h-[calc(100vh-100px)] flex gap-6 overflow-hidden animate-fade-in font-sans",dir:"ltr",children:[a.jsxs("div",{className:"w-96 flex flex-col bg-[#0f0f11] border border-white/10 rounded-2xl shadow-2xl overflow-hidden shrink-0",children:[a.jsxs("div",{className:"p-5 border-b border-white/10 bg-white/5 flex gap-4",children:[a.jsx("button",{onClick:()=>g("designer"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase transition-all ${f==="designer"?"bg-neon-blue text-black":"text-gray-400 hover:text-white"}`,children:"Layout"}),a.jsx("button",{onClick:()=>g("clinic_data"),className:`flex-1 py-2 rounded-lg text-xs font-bold uppercase transition-all ${f==="clinic_data"?"bg-neon-blue text-black":"text-gray-400 hover:text-white"}`,children:"Clinic Data"})]}),a.jsxs("div",{className:"p-5 space-y-6 overflow-y-auto custom-scrollbar flex-1",children:[f==="designer"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 block",children:"Document Type"}),a.jsx("div",{className:"flex bg-black p-1 rounded-xl border border-white/10",children:[{id:"rx",label:"Rx (A5)"},{id:"requests",label:"Req (A5)"},{id:"reports",label:"Rep (A4)"}].map(q=>a.jsx("button",{onClick:()=>{r(q.id),d(null)},className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${t===q.id?"bg-neon-blue text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:q.label},q.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 block",children:"Insert Elements"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[a.jsxs("button",{onClick:()=>R("text","{{CLINIC_NAME}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(lH,{size:16,className:"mb-1"})," Clinic Name"]}),a.jsxs("button",{onClick:()=>R("text","{{DOCTOR_NAME}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(yd,{size:16,className:"mb-1"})," Dr Name"]}),a.jsxs("button",{onClick:()=>R("text","{{PHONES}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(e6,{size:16,className:"mb-1"})," Phones"]}),a.jsxs("button",{onClick:()=>R("text","{{ADDRESSES}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(f_,{size:16,className:"mb-1"})," Address"]}),a.jsxs("button",{onClick:()=>R("text","{{DATE}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(dH,{size:16,className:"mb-1"})," Date"]}),a.jsxs("button",{onClick:()=>R("text","{{PATIENT_NAME}}"),className:"flex flex-col items-center justify-center p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg text-[10px] text-blue-400 border border-blue-500/20 transition-colors h-16",children:[a.jsx(yd,{size:16,className:"mb-1"})," Patient"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[a.jsxs("button",{onClick:()=>R("text"),className:"flex items-center gap-2 p-2 bg-white/5 hover:bg-white/10 rounded-lg text-xs text-white border border-white/5 transition-colors",children:[a.jsx(dz,{size:14})," Text Box"]}),a.jsxs("button",{onClick:()=>{var q;return(q=z.current)==null?void 0:q.click()},className:"flex items-center gap-2 p-2 bg-white/5 hover:bg-white/10 rounded-lg text-xs text-white border border-white/5 transition-colors",children:[a.jsx(eV,{size:14})," Logo"]}),a.jsxs("button",{onClick:()=>R("data_block",":: DATA SPACE ::"),className:"col-span-2 flex items-center justify-center gap-2 p-2 bg-purple-500/10 hover:bg-purple-500/20 rounded-lg text-xs text-purple-400 border border-purple-500/20 transition-colors",children:[a.jsx(h_,{size:14})," Insert Data Block"]}),a.jsx("input",{type:"file",ref:z,className:"hidden",accept:"image/*",onChange:Q})]}),a.jsx("label",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-2 block mt-4",children:"Patient Vitals"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:["Weight","Height","BP","HR","Temp","O2"].map(q=>a.jsx("button",{onClick:()=>R("text",`{{${q.toUpperCase()}}}`),className:"p-2 bg-green-500/10 border border-green-500/20 text-green-400 text-[10px] font-bold rounded hover:bg-green-500/20",children:q},q))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-2 block",children:"Paper Background"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>{var q;return(q=P.current)==null?void 0:q.click()},className:"flex-1 py-2 bg-white/5 border border-white/10 rounded-lg text-xs text-white hover:bg-white/10 flex items-center justify-center gap-2",children:[a.jsx(CV,{size:14})," Upload"]}),a.jsx("button",{onClick:()=>s(q=>({...q,[t]:{...q[t],backgroundUrl:void 0}})),className:"px-3 py-2 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 hover:bg-red-500/20",children:a.jsx(AS,{size:14})}),a.jsx("input",{type:"file",className:"hidden",ref:P,accept:"image/*",onChange:L})]})]}),Z&&a.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl animate-slide-up",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-xs font-bold text-neon-blue uppercase",children:"Edit Element"}),a.jsx("button",{onClick:G,className:"text-red-400 hover:bg-red-500/20 p-1.5 rounded transition-colors",children:a.jsx(Ii,{size:14})})]}),Z.type==="text"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{rows:3,value:Z.content,onChange:q=>M({content:q.target.value}),className:"w-full bg-black/40 border border-white/10 rounded p-2 text-xs text-white outline-none focus:border-neon-blue resize-none",placeholder:"Text Content"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",value:Z.fontSize,onChange:q=>M({fontSize:Number(q.target.value)}),className:"w-16 bg-black/40 border border-white/10 rounded p-2 text-xs text-white outline-none focus:border-neon-blue",placeholder:"Size"}),a.jsx("div",{className:"flex bg-black/40 rounded border border-white/10 flex-1",children:["left","center","right"].map(q=>a.jsx("button",{onClick:()=>M({align:q}),className:`flex-1 flex justify-center items-center ${Z.align===q?"bg-white/20 text-white":"text-gray-500"}`,children:q==="left"?a.jsx(az,{size:12}):q==="center"?a.jsx(iz,{size:12}):a.jsx(nz,{size:12})},q))}),a.jsx("button",{onClick:()=>M({fontWeight:Z.fontWeight==="bold"?"normal":"bold"}),className:`px-3 border border-white/10 rounded ${Z.fontWeight==="bold"?"bg-white/20 text-white":"bg-black/40 text-gray-500"}`,children:"B"})]})]}),Z.type==="data_block"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500",children:"Font Size"}),a.jsx("input",{type:"number",value:Z.fontSize,onChange:q=>M({fontSize:Number(q.target.value)}),className:"w-full bg-black/40 border border-white/10 rounded p-2 text-xs text-white outline-none focus:border-neon-blue"})]}),t==="rx"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] font-bold text-gray-500",children:"Layout Style"}),a.jsx("div",{className:"flex gap-2 bg-black/40 p-1 rounded border border-white/10",children:[1,2,3].map(q=>a.jsx("button",{onClick:()=>M({dataLayout:q}),className:`flex-1 py-1 text-xs font-bold rounded ${Z.dataLayout===q?"bg-neon-blue text-black":"text-gray-400 hover:text-white"}`,children:q},q))})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"checkbox",id:"headerToggle",checked:Z.showSectionHeader!==!1,onChange:q=>M({showSectionHeader:q.target.checked}),className:"w-4 h-4 accent-neon-blue cursor-pointer"}),a.jsx("label",{htmlFor:"headerToggle",className:"text-xs text-gray-300 cursor-pointer",children:'Show "Rx" Header'})]})]})]})]})]}),f==="clinic_data"&&a.jsxs("div",{className:"space-y-6 animate-slide-up",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Clinic Name"}),a.jsx("input",{type:"text",value:i.clinicName,onChange:q=>s(te=>({...te,clinicName:q.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-neon-blue outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Doctor Name"}),a.jsx("input",{type:"text",value:i.doctorName,onChange:q=>s(te=>({...te,doctorName:q.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-neon-blue outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Specialty"}),a.jsx("input",{type:"text",value:i.specialty,onChange:q=>s(te=>({...te,specialty:q.target.value})),className:"w-full bg-black/40 border border-white/10 rounded-lg p-3 text-sm text-white focus:border-neon-blue outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Phone Numbers"}),a.jsxs("div",{className:"space-y-2",children:[i.phones.map((q,te)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:q,onChange:xe=>{const ue=[...i.phones];ue[te]=xe.target.value,s(be=>({...be,phones:ue}))},className:"flex-1 bg-black/40 border border-white/10 rounded-lg p-2 text-sm text-white focus:border-neon-blue outline-none"}),a.jsx("button",{onClick:()=>me(te),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",children:a.jsx(Ii,{size:14})})]},te)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:m,onChange:q=>v(q.target.value),placeholder:"Add Phone...",className:"flex-1 bg-black/40 border border-white/10 rounded-lg p-2 text-sm text-white focus:border-neon-blue outline-none"}),a.jsx("button",{onClick:Ae,className:"p-2 bg-neon-blue/10 text-neon-blue rounded-lg hover:bg-neon-blue/20",children:a.jsx(za,{size:14})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Addresses"}),a.jsxs("div",{className:"space-y-2",children:[i.addresses.map((q,te)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:q,onChange:xe=>{const ue=[...i.addresses];ue[te]=xe.target.value,s(be=>({...be,addresses:ue}))},className:"flex-1 bg-black/40 border border-white/10 rounded-lg p-2 text-sm text-white focus:border-neon-blue outline-none"}),a.jsx("button",{onClick:()=>we(te),className:"p-2 bg-red-500/10 text-red-400 rounded-lg hover:bg-red-500/20",children:a.jsx(Ii,{size:14})})]},te)),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:C,onChange:q=>_(q.target.value),placeholder:"Add Address...",className:"flex-1 bg-black/40 border border-white/10 rounded-lg p-2 text-sm text-white focus:border-neon-blue outline-none"}),a.jsx("button",{onClick:_e,className:"p-2 bg-neon-blue/10 text-neon-blue rounded-lg hover:bg-neon-blue/20",children:a.jsx(za,{size:14})})]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-white/10 space-y-3",children:[f==="designer"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:ie,className:"w-full py-3 bg-green-500/10 text-green-400 border border-green-500/20 rounded-xl text-xs font-bold uppercase tracking-wider hover:bg-green-500/20 flex items-center justify-center gap-2",children:[a.jsx(d_,{size:16})," Download Sample PDF"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:j,className:"flex-1 py-3 bg-white/5 text-gray-400 border border-white/10 rounded-xl text-xs font-bold uppercase tracking-wider hover:bg-white/10 flex items-center justify-center gap-2",children:[a.jsx(jV,{size:16})," Load Generic"]}),a.jsxs("button",{onClick:re,className:"flex-1 py-3 bg-white/5 text-red-400 border border-white/10 rounded-xl text-xs font-bold uppercase tracking-wider hover:bg-red-500/10 flex items-center justify-center gap-2",children:[a.jsx(AS,{size:16})," Clear"]})]})]}),a.jsxs("button",{onClick:fe,className:"w-full py-4 bg-neon-blue text-black rounded-xl text-sm font-black uppercase tracking-widest hover:bg-white transition-colors flex items-center justify-center gap-2 shadow-lg hover:shadow-neon-blue/20",children:[o==="saving"?a.jsx(xa,{className:"animate-spin"}):a.jsx(Mv,{size:18})," ",o==="saving"?"Saving...":"Save Configuration"]})]})]})]}),a.jsx("div",{className:"flex-1 bg-[#050505] relative flex items-center justify-center overflow-auto p-10 rounded-2xl border border-white/5 shadow-inner",onMouseDown:q=>{(q.target===q.currentTarget||q.target===E.current)&&d(null)},children:a.jsx("div",{ref:E,className:"bg-white shadow-[0_0_100px_rgba(0,0,0,0.5)] relative transition-all duration-300 ease-out origin-center",style:{width:`${H.w}px`,height:`${H.h}px`,backgroundImage:Y.backgroundUrl?`url(${Y.backgroundUrl})`:"none",backgroundSize:"100% 100%",transform:"scale(0.85)"},children:Y.elements.map(q=>a.jsxs("div",{className:`absolute group cursor-move hover:outline hover:outline-1 hover:outline-blue-400 ${u===q.id?"outline outline-2 outline-neon-blue z-50":`z-${q.zIndex||10}`}`,style:{left:`${q.x}%`,top:`${q.y}%`,width:`${q.w}%`,height:`${q.h}%`,color:"#000000",zIndex:q.zIndex||10},onMouseDown:te=>ee(te,q.id,"move"),children:[q.type==="text"&&a.jsx("div",{style:{fontSize:`${q.fontSize}px`,fontWeight:q.fontWeight,textAlign:q.align,width:"100%",height:"100%",overflow:"hidden",whiteSpace:"pre-wrap",lineHeight:"1.2"},children:V(q.content||"")}),q.type==="image"&&a.jsx("img",{src:q.content,alt:"img",className:"w-full h-full object-contain pointer-events-none"}),q.type==="data_block"&&a.jsxs("div",{className:"w-full h-full border-2 border-dashed border-gray-300 bg-gray-50/50 flex flex-col p-2 overflow-hidden text-left relative",children:[a.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest block text-center mb-1 absolute top-0 left-0 right-0 bg-white/80",children:"Print Area (Example)"}),a.jsx("div",{className:"mt-4 h-full",children:J(q)})]}),u===q.id&&a.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-neon-blue cursor-se-resize z-50 rounded-tl shadow-md",onMouseDown:te=>ee(te,q.id,"resize")})]},q.id))})})]})},tI=()=>{const{appointments:n,updateAppointmentStatus:e,updateAppointment:t,assistantDoctorStatus:r,setAssistantDoctorStatus:i,callingPatientIdAssistant:s,setCallingPatientIdAssistant:o}=bi(),{firebaseUser:c}=qr(),{t:u,isRTL:d}=Nl(),[f,g]=se.useState("Personal Data"),[m,v]=se.useState("idle"),[C,_]=se.useState({}),E=se.useMemo(()=>n.find(Z=>Z.status==="in-assistant"),[n]),T=se.useMemo(()=>n.filter(Z=>Z.status==="checked-in"&&!Z.isSheeted).sort((Z,R)=>(Z.queueOrder??9999)-(R.queueOrder??9999)),[n]);se.useEffect(()=>{if(E){let Z={...E};if(!(Z.chronicConditions||Z.pastHistory||Z.allergies)){const F=n.filter(M=>M.phone===E.phone&&M.status==="completed"&&M.id!==E.id).sort((M,G)=>new Date(G.date).getTime()-new Date(M.date).getTime());if(F.length>0){const M=F[0];Z={...Z,weight:M.weight,height:M.height,isSmoker:M.isSmoker,smokingDetails:M.smokingDetails,isMarried:M.isMarried,marriageDetails:M.marriageDetails,hasMenstrualHistory:M.hasMenstrualHistory,menstrualHistory:M.menstrualHistory,isPregnant:M.isPregnant,pregnancyDetails:M.pregnancyDetails,chronicConditions:M.chronicConditions,chronicConditionDetails:M.chronicConditionDetails,allergies:M.allergies,allergyComments:M.allergyComments,pastHistory:M.pastHistory,drugHistory:M.drugHistory||[],labHistory:M.labHistory||[],scanHistory:M.scanHistory||[]}}}_(Z)}},[E,n]);const k=async()=>{E&&(v("saving"),await t(E.id,C),v("success"),setTimeout(()=>v("idle"),2e3))},P=Z=>{o(Z.id)},z=async()=>{E&&(await k(),o(null),await t(E.id,{status:"checked-in",isSheeted:!0}))},Y=se.useMemo(()=>{const Z=(C.drugHistory||[]).map((F,M)=>({...F,originalIndex:M,source:"History"})),R=[];return C.chronicConditionDetails&&Object.entries(C.chronicConditionDetails).forEach(([F,M])=>{const G=M;G.medications&&G.medications.forEach(L=>{L.name&&R.push({...L,date:G.diagnosedDate||"",source:"Chronic Condition",conditionName:F})})}),[...Z,...R].sort((F,M)=>new Date(M.date).getTime()-new Date(F.date).getTime())},[C.drugHistory,C.chronicConditionDetails]);return a.jsx("div",{className:"h-full flex flex-col space-y-6 animate-fade-in",dir:d?"rtl":"ltr",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 flex-1 min-h-0",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4 h-full flex flex-col",children:[a.jsxs(Mt,{className:"p-6 flex flex-col items-center justify-center text-center gap-4 border-white/10 shrink-0",noTilt:!0,glowColor:"cyan",children:[a.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border shadow-lg ${r==="available"?"border-green-500/50 text-green-500 bg-green-500/10":"border-red-500/50 text-red-500 bg-red-500/10"}`,children:a.jsx(yo,{size:28})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-black text-white leading-tight",children:u("Assistant Room","  ")}),a.jsx("p",{className:`font-bold text-[10px] tracking-widest uppercase mt-1 ${r==="available"?"text-green-500":"text-red-500"}`,children:r})]}),a.jsxs("button",{onClick:()=>i(r==="available"?"resting":"available"),className:`w-full py-3 rounded-xl font-bold border flex items-center justify-center gap-2 text-[10px] uppercase ${r==="available"?"bg-red-500/10 text-red-400 border-red-500/30":"bg-green-500/10 text-green-400 border-green-500/30"}`,children:[a.jsx(XA,{size:12})," ",r==="available"?u("Go Resting"," "):u("Go Available"," ")]})]}),a.jsxs(Mt,{className:"p-0 bg-black/20 flex-1 border-white/10 flex flex-col min-h-0",glowColor:"purple",children:[a.jsxs("div",{className:"p-4 border-b border-white/5 flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"font-bold text-white flex items-center gap-2 text-sm",children:[a.jsx(Ri,{size:14,className:"text-neon-purple"})," ",u("Waiting","")]}),a.jsx("span",{className:"text-[10px] bg-neon-purple/20 text-neon-purple px-2 py-0.5 rounded font-bold",children:T.length})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar",children:[T.map((Z,R)=>a.jsxs("div",{className:`p-3 rounded-lg border transition-all ${s===Z.id?"bg-neon-purple/10 border-neon-purple":"bg-white/5 border-white/5"}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"font-bold text-white text-xs",children:["#",R+1," ",Z.name]}),a.jsx("span",{className:"text-[9px] bg-black/30 px-1.5 rounded text-gray-400",children:Z.time})]}),s===Z.id?a.jsx("div",{className:"text-[10px] font-bold text-neon-purple animate-pulse text-center flex-1 py-1.5 flex items-center justify-center border border-neon-purple/30 rounded",children:u("CALLING...","...")}):a.jsx("button",{onClick:()=>P(Z),disabled:!!E,className:"w-full py-1.5 bg-white/5 hover:bg-neon-purple/20 text-[10px] font-bold text-gray-400 hover:text-white rounded transition-colors disabled:opacity-30",children:u("CALL","")})]},Z.id)),T.length===0&&a.jsx("div",{className:"text-center text-gray-600 text-[10px] py-8",children:u("Queue Empty"," ")})]})]})]}),a.jsx("div",{className:"lg:col-span-3 h-full min-h-0",children:a.jsx(Mt,{className:`h-full flex flex-col relative overflow-hidden border-white/5 ${E?"bg-black/40":"bg-black/20"}`,glowColor:"cyan",children:E?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-black/20 shrink-0",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-white",children:E.name}),a.jsxs("p",{className:"text-sm text-gray-400",children:[E.age||"N/A"," yrs  ",E.visitType]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:k,className:"px-6 py-2 bg-neon-blue/10 border border-neon-blue/30 text-neon-blue rounded-xl font-bold text-sm hover:bg-neon-blue hover:text-black transition-all",children:m==="saving"?u("Saving..."," "):u("Save Draft"," ")}),a.jsxs("button",{onClick:z,className:"px-6 py-2 bg-green-500 text-white rounded-xl font-bold text-sm hover:shadow-[0_0_15px_rgba(34,197,94,0.4)] transition-all flex items-center gap-2",children:[a.jsx(md,{size:16})," ",u("Finish","")]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar bg-black/10",children:a.jsx(d5,{clinicalData:C,setClinicalData:_,activeSheetTab:f,setActiveSheetTab:g,aggregatedDrugHistory:Y})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[a.jsx(yo,{size:64,className:"mb-4 opacity-20"}),a.jsx("h3",{className:"text-2xl font-bold",children:u("Assistant Room Ready"," ")}),a.jsx("p",{className:"text-sm",children:u("Call a patient from the queue to start sheet.","   .")})]})})})]})})},_de=()=>{var U,H;const{systemUser:n,logoutSystem:e,updateUserProfile:t,trialExpiry:r}=qr(),{language:i,t:s,isRTL:o}=Nl(),[c,u]=se.useState(s("Dashboard","")),[d,f]=se.useState(!1),[g,m]=se.useState(!1),[v,C]=se.useState(!1),[_,E]=se.useState(!1),[T,k]=se.useState(!1),{logs:P}=bi(),z=se.useRef(null),[Y,Z]=se.useState(!1),[R,F]=se.useState(""),[M,G]=se.useState(""),[L,Q]=se.useState(!1),[j,re]=se.useState("idle"),[fe,ie]=se.useState({displayName:"",password:"",photoURL:""}),Ae=se.useMemo(()=>{if(!r)return null;const V=new Date(r),J=new Date,q=V.getTime()-J.getTime(),te=Math.ceil(q/(1e3*60*60*24));return te>0?te:0},[r]);se.useEffect(()=>{n&&ie({displayName:n.displayName||"",password:"",photoURL:n.photoURL||""})},[n,L]),se.useEffect(()=>{const V=["Dashboard","Front Desk","Assistant Doctor Room","Examination Room","Patient Data","Social Media","Accountant","Analytics","Customize Prints","System Control"],J=[""," ","  "," "," "," ","",""," "," "];if(i==="ar"){const q=V.indexOf(c);q!==-1&&u(J[q])}else{const q=J.indexOf(c);q!==-1&&u(V[q])}},[i]);const me=async V=>{V.preventDefault(),re("saving");try{await t({displayName:fe.displayName,password:fe.password||void 0,photoURL:fe.photoURL}),re("success"),setTimeout(()=>{Q(!1),re("idle")},1e3)}catch{re("error"),setTimeout(()=>re("idle"),2e3)}},_e=V=>{var q;const J=(q=V.target.files)==null?void 0:q[0];if(J){const te=new FileReader;te.onloadend=()=>{ie(xe=>({...xe,photoURL:te.result}))},te.readAsDataURL(J)}},we=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),C(!1)):(document.documentElement.requestFullscreen().catch(V=>{console.error(`Error attempting to enable fullscreen: ${V.message}`)}),C(!0))},ee=se.useMemo(()=>{const V=i==="ar";switch(c){case"Dashboard":return a.jsx(qB,{});case"":return a.jsx(eI,{});case"Front Desk":return a.jsx(lde,{});case" ":return a.jsx(hde,{});case"Assistant Doctor Room":return a.jsx(tI,{});case"  ":return a.jsx(tI,{});case"Social Media":return a.jsx(cde,{});case" ":return a.jsx(fde,{});case"Accountant":return a.jsx(Ade,{});case"":return a.jsx(pde,{});case"Analytics":return a.jsx(HX,{});case"":return a.jsx(ude,{});case"Customize Prints":case" ":return a.jsx(bde,{});case"System Control":return a.jsx(VX,{});case" ":return a.jsx(dde,{});case"Examination Room":case" ":return a.jsx(yde,{});case"Patient Data":case" ":return a.jsx(wde,{});default:return V?a.jsx(eI,{}):a.jsx(qB,{})}},[c,i]);return a.jsx($o.Provider,{value:{setHeaderHidden:m,setActiveTab:u},children:a.jsxs("div",{className:"flex h-screen bg-[#050505] text-white overflow-hidden selection:bg-neon-blue/30 selection:text-white",dir:o?"rtl":"ltr",children:[a.jsx(Bz,{activeTab:c,setActiveTab:u}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 relative",children:[Ae!==null&&a.jsxs("div",{className:"relative w-full py-2.5 px-8 flex items-center justify-between z-[60] bg-neon-blue/5 border-b border-neon-blue/20 backdrop-blur-xl animate-fade-in",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-neon-blue/5 via-transparent to-neon-blue/5 animate-shimmer pointer-events-none"}),a.jsxs("div",{className:`flex items-center gap-4 relative z-10 ${o?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-neon-blue/10 flex items-center justify-center text-neon-blue animate-pulse",children:a.jsx(I0,{size:16})}),a.jsxs("p",{className:`text-[11px] font-black uppercase tracking-widest text-gray-200 ${o?"text-right":"text-left"}`,children:[s("SaaS Neural Link Status:","  :")," ",a.jsxs("span",{className:"text-neon-blue animate-pulse",children:[Ae," ",s("Days Remaining in Trial","   ")]})]})]}),a.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[a.jsxs("button",{onClick:()=>E(!0),className:"group relative px-6 py-1.5 bg-neon-blue text-black text-[10px] font-black uppercase tracking-wider rounded-full hover:scale-105 active:scale-95 transition-all shadow-[0_0_20px_rgba(0,243,255,0.4)]",children:[s("Unlock Pro Access","  "),a.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-neon-blue animate-ping opacity-20 group-hover:opacity-40"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[9px] font-bold text-gray-500 uppercase tracking-widest border-l border-white/10 pl-4",children:[a.jsx(k0,{size:12,className:"text-neon-blue"})," ",s("Encrypted Session"," ")]})]})]}),!g&&a.jsxs("header",{className:"h-20 border-b border-white/5 bg-white/5 backdrop-blur-md flex items-center justify-between px-8 shrink-0 relative z-20 gap-6",children:[a.jsxs("div",{className:`flex flex-col min-w-[200px] ${o?"text-right":"text-left"}`,children:[a.jsx("h2",{className:"text-2xl font-black text-white tracking-wide uppercase",children:c}),a.jsxs("p",{className:"text-xs text-gray-400 font-medium",children:[s("Welcome,","")," ",a.jsx("span",{className:"text-neon-blue font-bold",children:n==null?void 0:n.displayName})]})]}),a.jsxs("div",{className:"flex-1 max-w-lg relative group",children:[a.jsx(Pv,{className:`absolute top-1/2 -translate-y-1/2 text-gray-500 group-focus-within:text-neon-blue transition-colors ${o?"right-4":"left-4"}`,size:20}),a.jsx("input",{type:"text",placeholder:s("Ask Aura AI or Search...","   ..."),value:M,onChange:V=>G(V.target.value),onKeyDown:V=>{V.key==="Enter"&&(F(M),Z(!0))},className:`w-full bg-black/40 border border-white/10 rounded-2xl py-3 text-sm focus:border-neon-blue/50 focus:bg-black/60 outline-none transition-all placeholder-gray-500 shadow-inner ${o?"pr-12 pl-12 text-right":"pl-12 pr-12 text-left"}`}),a.jsx("button",{onClick:()=>{F(M),Z(!0)},className:`absolute top-1/2 -translate-y-1/2 p-1.5 bg-neon-blue/10 rounded-lg text-neon-blue hover:bg-neon-blue hover:text-black transition-colors ${o?"left-3":"right-3"}`,children:a.jsx(Ov,{size:16})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:we,className:"p-3 hover:bg-white/5 rounded-xl text-gray-400 hover:text-white transition-colors border border-transparent hover:border-white/10",title:s("Fullscreen"," "),children:v?a.jsx(YF,{size:20}):a.jsx(dV,{size:20})}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>f(!d),className:`p-3 hover:bg-white/5 rounded-xl text-gray-400 hover:text-white transition-colors border border-transparent hover:border-white/10 ${d?"bg-white/5 text-white":""}`,children:[a.jsx(A_,{size:20}),P.length>0&&a.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),d&&a.jsxs("div",{ref:z,className:`absolute top-full mt-4 w-80 glass-panel border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-slide-up z-50 ${o?"left-0 origin-top-left":"right-0 origin-top-right"}`,children:[a.jsx("div",{className:"p-4 border-b border-white/5 bg-white/5 flex justify-between items-center",children:a.jsx("h4",{className:"font-bold text-sm text-white",children:s("Notifications","")})}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto custom-scrollbar",children:P.map(V=>a.jsxs("div",{className:`p-4 border-b border-white/5 hover:bg-white/5 transition-colors flex gap-3 ${o?"text-right flex-row-reverse":"text-left"}`,children:[a.jsx("div",{className:`mt-1 w-2 h-2 rounded-full shrink-0 ${V.type==="success"?"bg-green-500":"bg-neon-blue"}`}),a.jsx("p",{className:"text-xs text-gray-300 leading-relaxed",children:V.message})]},V.id))})]})]}),a.jsx("button",{onClick:()=>k(!T),className:`p-3 hover:bg-white/5 rounded-xl text-gray-400 hover:text-white transition-colors border border-transparent hover:border-white/10 ${T?"bg-white/5 text-white":""}`,children:a.jsx(WF,{size:20})}),a.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),a.jsxs("button",{onClick:()=>Q(!0),className:`flex items-center gap-3 pl-2 pr-4 py-1.5 rounded-xl hover:bg-white/5 transition-all border border-transparent hover:border-white/10 group ${o?"flex-row-reverse":"flex-row"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-tr from-neon-blue to-neon-purple p-[1px]",children:a.jsx("div",{className:"w-full h-full rounded-lg bg-black/90 flex items-center justify-center overflow-hidden",children:n!=null&&n.photoURL?a.jsx("img",{src:n.photoURL,alt:"avi",className:"w-full h-full object-cover"}):a.jsx("span",{className:"font-bold text-white",children:(U=n==null?void 0:n.displayName)==null?void 0:U[0]})})}),a.jsxs("div",{className:`hidden md:block ${o?"text-right":"text-left"}`,children:[a.jsx("p",{className:"text-sm font-bold text-white leading-none group-hover:text-neon-blue transition-colors",children:n==null?void 0:n.displayName}),a.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider mt-1",children:n==null?void 0:n.role})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:ee}),a.jsx(Tz,{isOpen:T,onClose:()=>k(!1)}),a.jsx(QX,{isOpen:Y,onClose:()=>Z(!1),initialQuery:R,onClearQuery:()=>{F(""),G("")}})]}),_&&a.jsxs("div",{className:"fixed inset-0 z-[150] bg-[#020203] overflow-y-auto animate-fade-in custom-scrollbar",children:[a.jsx("div",{className:"sticky top-0 z-[160] w-full p-4 flex justify-end",children:a.jsx("button",{onClick:()=>E(!1),className:"p-3 bg-white/10 hover:bg-red-500/20 text-white hover:text-red-400 rounded-full transition-all border border-white/10 group",children:a.jsx(Ji,{size:24,className:"group-hover:rotate-90 transition-transform"})})}),a.jsx(Qv,{onBack:()=>E(!1),onTrial:()=>E(!1)})]}),L&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fade-in",children:a.jsxs("div",{className:"w-full max-w-lg glass-panel rounded-3xl p-10 border border-white/10 shadow-2xl animate-slide-up relative",children:[a.jsx("button",{onClick:()=>Q(!1),className:`absolute top-6 p-2 rounded-full hover:bg-white/10 text-gray-400 hover:text-white ${o?"left-6":"right-6"}`,children:a.jsx(Ji,{size:24})}),a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("div",{className:"w-32 h-32 mx-auto rounded-full bg-gradient-to-tr from-neon-blue to-neon-purple p-[3px] mb-6 relative group cursor-pointer overflow-hidden shadow-glow-blue",children:[a.jsxs("div",{className:"w-full h-full rounded-full bg-black overflow-hidden relative",children:[fe.photoURL?a.jsx("img",{src:fe.photoURL,className:"w-full h-full object-cover",alt:"Profile"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-4xl font-bold text-white",children:(H=fe.displayName)==null?void 0:H[0]}),a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(DF,{size:32,className:"text-white"})})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:_e,className:"absolute inset-0 opacity-0 cursor-pointer"})]}),a.jsx("h3",{className:"text-3xl font-black text-white uppercase tracking-tighter",children:s("My Account","")}),a.jsx("p",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest mt-1",children:s("Update your profile settings","   ")})]}),a.jsxs("form",{onSubmit:me,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:`text-[10px] font-black text-gray-500 uppercase tracking-widest ml-1 block ${o?"text-right":""}`,children:s("Display Name"," ")}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`absolute top-1/2 -translate-y-1/2 text-gray-500 ${o?"right-4":"left-4"}`,children:a.jsx(yd,{size:18})}),a.jsx("input",{type:"text",value:fe.displayName,onChange:V=>ie({...fe,displayName:V.target.value}),className:`w-full bg-black/40 border border-white/10 rounded-2xl py-4 text-white font-bold focus:border-neon-blue outline-none transition-colors ${o?"pr-12 pl-4 text-right":"pl-12 pr-4"}`})]})]}),a.jsxs("div",{className:"pt-6 flex gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 py-4 bg-red-500/10 text-red-400 border border-red-500/30 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-red-500 hover:text-white transition-all",children:s("Switch User"," ")}),a.jsx("button",{type:"submit",disabled:j==="saving",className:`flex-[2] py-4 rounded-2xl font-black uppercase text-[10px] tracking-widest transition-all flex items-center justify-center gap-3 ${j==="success"?"bg-green-500 text-white shadow-glow-green":"bg-neon-blue text-black shadow-glow-blue hover:scale-[1.02]"}`,children:j==="saving"?a.jsxs(a.Fragment,{children:[a.jsx(xa,{size:16,className:"animate-spin"})," ",s("Saving..."," ...")]}):j==="success"?a.jsxs(a.Fragment,{children:[a.jsx(md,{size:16})," ",s("Saved"," ")]}):a.jsxs(a.Fragment,{children:[a.jsx(Mv,{size:16})," ",s("Save Changes"," ")]})})]})]})]})})]})})},Cde=()=>{const{logoutSaaS:n,trialExpiry:e}=qr(),{t,setLanguage:r,language:i,isRTL:s}=Nl(),[o,c]=se.useState(!1);return o?a.jsx(Qv,{onBack:()=>c(!1),onTrial:()=>c(!1)}):a.jsxs("div",{className:`min-h-screen bg-[#050505] text-white flex flex-col items-center justify-center p-6 relative overflow-hidden selection:bg-neon-red selection:text-white ${s?"font-arabic":"font-sans"}`,dir:s?"rtl":"ltr",children:[a.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[60vw] h-[60vw] bg-neon-red/10 rounded-full blur-[150px] animate-pulse-slow pointer-events-none"}),a.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[40vw] h-[40vw] bg-neon-purple/5 rounded-full blur-[150px] animate-pulse-slow pointer-events-none",style:{animationDelay:"2s"}}),a.jsx("div",{className:"fixed top-8 right-8 z-[100] flex gap-4",children:a.jsxs("button",{onClick:()=>r(i==="en"?"ar":"en"),className:"flex items-center gap-2 px-6 py-2.5 rounded-full border border-white/10 bg-white/5 backdrop-blur-xl text-white font-black text-[10px] uppercase tracking-widest hover:bg-neon-red hover:text-white transition-all hover:scale-105 active:scale-95",children:[a.jsx($g,{size:14})," ",i==="en"?"":"English"]})}),a.jsxs("div",{className:"w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-16 items-center relative z-10",children:[a.jsxs("div",{className:"space-y-12",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-24 h-24 rounded-[2rem] bg-gradient-to-br from-neon-red to-neon-purple flex items-center justify-center shadow-[0_0_40px_-5px_rgba(255,0,85,0.4)] animate-pulse border border-white/20",children:a.jsx(KV,{size:48,className:"text-white drop-shadow-lg"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-neon-red font-black uppercase tracking-[0.4em] text-[10px] mb-1",children:t("SECURITY PHASE SUSPENDED","  ")}),a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(u=>a.jsx("div",{className:`h-1 w-4 rounded-full ${u<=5?"bg-neon-red":"bg-white/10"}`},u))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h1",{className:"text-6xl lg:text-7xl font-black text-white tracking-tighter leading-none",children:[t("Neural Link"," ")," ",a.jsx("br",{}),a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-neon-red to-neon-purple drop-shadow-[0_0_15px_rgba(255,0,85,0.4)]",children:t("Suspended","")})]}),a.jsxs("p",{className:"text-gray-400 text-xl leading-relaxed max-w-md font-medium opacity-80",children:[t("Your 14 day trial access for","    ")," ",a.jsx("span",{className:"text-white font-black",children:t("AB Clinic System","  AB")})," ",t("has reached its temporal limit","  ")]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-5",children:[t("Database Integrity Preserved","    "),t("Operational Modules Locked","  "),t("Patient History Encrypted","  "),t("Upgrade to Restore Control","   ")].map((u,d)=>a.jsxs("div",{className:"flex items-center gap-4 text-sm font-black text-gray-300",children:[a.jsx("div",{className:"w-8 h-8 rounded-xl bg-neon-red/10 border border-neon-red/30 flex items-center justify-center text-neon-red",children:a.jsx(g_,{size:16})}),a.jsx("span",{className:"tracking-wide",children:u})]},d))})]}),a.jsxs("div",{className:"glass-panel p-12 lg:p-16 rounded-[4rem] border border-white/10 shadow-[0_0_100px_-20px_rgba(255,0,85,0.2)] relative overflow-hidden group",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-neon-red via-neon-purple to-neon-pink opacity-80"}),a.jsxs("div",{className:"mb-12 text-center md:text-right",children:[a.jsx("h2",{className:"text-4xl font-black text-white mb-3 tracking-tighter uppercase",children:t("Restore Session"," ")}),a.jsx("p",{className:"text-gray-500 text-[10px] font-black uppercase tracking-[0.5em]",children:t("SUBSCRIPTION REQUIRED TO PROCEED","  ")})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"p-8 bg-black/40 border border-white/5 rounded-3xl text-center space-y-4",children:[a.jsx("p",{className:"text-gray-400 text-sm font-bold",children:t("Neural sync ended on","  ")}),a.jsx("div",{className:"text-4xl font-black text-neon-red tracking-tighter font-mono uppercase",children:e?new Date(e).toLocaleDateString():"EXPIRED"}),a.jsx("div",{className:"flex justify-center gap-2",children:a.jsx("div",{className:"px-2 py-1 bg-neon-red/10 rounded border border-neon-red/20 text-neon-red text-[8px] font-black",children:"OFFLINE"})})]}),a.jsxs("button",{onClick:()=>c(!0),className:"w-full py-6 bg-neon-red text-white font-black rounded-[2rem] shadow-[0_0_30px_rgba(255,0,85,0.4)] hover:scale-[1.02] active:scale-95 transition-all text-xs uppercase tracking-[0.4em] flex items-center justify-center gap-4 group overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700 pointer-events-none"}),a.jsx(I0,{size:22,className:"group-hover:-translate-y-1 group-hover:translate-x-1 transition-transform"}),t("RESTORE NEURAL LINK","  ")]}),a.jsxs("button",{onClick:n,className:"w-full py-5 border border-white/10 text-gray-500 hover:text-white hover:border-white/20 transition-all rounded-[2rem] font-black text-[10px] uppercase tracking-widest flex items-center justify-center gap-3",children:[a.jsx(jv,{size:16})," ",t("EXIT SYSTEM SESSION","   ")]})]}),a.jsx("div",{className:"mt-12 text-center opacity-30",children:a.jsxs("span",{className:"text-[9px] text-gray-600 font-bold uppercase tracking-[0.4em] flex items-center justify-center gap-3",children:[a.jsx(MF,{size:14})," ",t("SECURE DATA VAULT ACTIVE","   ")]})})]})]})]})},Ede=()=>{const{appointments:n,doctorStatus:e,callingPatientId:t,hasAssistantDoctor:r,assistantDoctorStatus:i,callingPatientIdAssistant:s}=bi(),{firebaseUser:o}=qr(),[c,u]=se.useState(new Date),d=((o==null?void 0:o.displayName)||"AB Clinic").toUpperCase();se.useEffect(()=>{const E=setInterval(()=>u(new Date),1e3);return()=>clearInterval(E)},[]),se.useEffect(()=>{if(n.find(T=>(T.id===t||T.id===s)&&T.status==="checked-in"))try{const T=new Audio("https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3");T.volume=.5,T.play().catch(k=>console.log("Audio autoplay blocked"))}catch{console.warn("Audio play error")}},[t,s,n]);const f=se.useMemo(()=>n.filter(E=>E.status==="checked-in").sort((E,T)=>(E.queueOrder??9999)-(T.queueOrder??9999)||(E.checkInTime||0)-(T.checkInTime||0)).slice(0,10),[n]),g=se.useMemo(()=>n.find(E=>E.id===t&&E.status==="checked-in"),[n,t]),m=se.useMemo(()=>n.find(E=>E.id===s&&E.status==="checked-in"),[n,s]),v=g||m,C=se.useMemo(()=>n.find(E=>E.status==="in-exam"),[n]),_=se.useMemo(()=>e==="resting"?{label:"RESTING",color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/50",iconColor:"bg-red-500",animate:!1}:C?{label:"IN SESSION",color:"text-orange-500",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/50",iconColor:"bg-orange-500",animate:!0}:g?{label:"WAITING FOR PATIENT",color:"text-neon-blue",bgColor:"bg-neon-blue/10",borderColor:"border-neon-blue/50",iconColor:"bg-neon-blue",animate:!0}:{label:"AVAILABLE",color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/50",iconColor:"bg-green-500",animate:!0},[e,C,g]);return a.jsxs("div",{className:"h-screen w-screen bg-[#020202] text-white flex flex-col overflow-hidden p-8 font-sans selection:bg-neon-blue selection:text-black",children:[a.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[50%] h-[50%] bg-neon-blue/5 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"fixed bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-neon-purple/5 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"flex justify-between items-center mb-10 shrink-0 border-b border-white/10 pb-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-[0_0_30px_rgba(0,243,255,0.3)] border border-white/20",children:a.jsx(ci,{size:40,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl font-black tracking-tighter",children:[d,a.jsx("span",{className:"text-neon-blue",children:" OS"})]}),a.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-[0.3em] text-[10px]",children:"Next-Gen Patient Monitoring"})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-5xl font-mono font-black text-white tracking-tighter",children:c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsx("div",{className:"text-neon-blue font-bold uppercase tracking-widest text-xs mt-1 drop-shadow-[0_0_8px_rgba(0,243,255,0.5)]",children:c.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-10 min-h-0 relative z-10",children:[a.jsxs("div",{className:"col-span-12 lg:col-span-5 flex flex-col gap-10",children:[a.jsxs("div",{className:`flex-1 rounded-[40px] border-4 p-10 flex flex-col items-center justify-center text-center transition-all duration-1000 relative overflow-hidden ${v?"border-neon-blue bg-neon-blue/10 shadow-[0_0_100px_-20px_rgba(0,243,255,0.4)] scale-[1.02]":"border-white/5 bg-white/5 opacity-40"}`,children:[v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neon-blue/10 to-transparent animate-pulse-slow"}),a.jsx("div",{className:"absolute top-0 left-0 w-full h-3 bg-neon-blue animate-pulse"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"p-10 bg-neon-blue/20 rounded-full mb-8 animate-bounce-slow border border-neon-blue/30 shadow-[0_0_40px_rgba(0,243,255,0.3)]",children:a.jsx(Zc,{size:100,className:"text-neon-blue drop-shadow-[0_0_15px_rgba(0,243,255,0.8)]"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center animate-ping",children:a.jsx(A_,{size:16,fill:"white"})})]}),a.jsx("h2",{className:"text-3xl font-black text-neon-blue uppercase tracking-[0.4em] mb-6 animate-pulse",children:"NOW CALLING"}),a.jsxs("div",{className:"bg-black/40 px-10 py-6 rounded-3xl border-4 border-neon-blue/50 mb-8 backdrop-blur-md shadow-[0_0_30px_rgba(0,243,255,0.3)] relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-neon-blue/5 animate-pulse rounded-[24px]"}),a.jsx("h1",{className:"text-7xl md:text-8xl font-black text-white drop-shadow-[0_0_30px_rgba(0,243,255,0.8)] uppercase tracking-tighter relative z-10",children:v.name})]}),a.jsxs("p",{className:"text-gray-300 text-3xl font-medium tracking-wide",children:["Please proceed to ",a.jsx("span",{className:"text-white font-bold border-b-2 border-neon-blue pb-1 shadow-[0_2px_10px_rgba(0,243,255,0.5)]",children:g?"Examination Room":"Assistant Doctor"})]})]}),!v&&a.jsxs("div",{className:"text-gray-600",children:[a.jsx(x0,{size:120,className:"mx-auto mb-8 opacity-10"}),a.jsx("h2",{className:"text-5xl font-black uppercase tracking-widest opacity-20",children:"Monitoring Queue"})]})]}),a.jsx("div",{className:`rounded-[30px] p-10 border-2 flex items-center justify-between transition-all duration-500 ${_.bgColor} ${_.borderColor} shadow-[0_0_30px_rgba(0,0,0,0.2)]`,children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center border-2 ${_.iconColor} border-white/20 text-white ${_.animate?"animate-pulse":""} shadow-lg`,children:a.jsx(yo,{size:56,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-400 text-xl font-bold uppercase tracking-[0.2em] mb-2",children:"Examination Room"}),a.jsx("p",{className:`text-5xl font-black uppercase tracking-tighter ${_.color} ${_.animate?"drop-shadow-[0_0_10px_currentColor]":""}`,children:_.label})]})]})}),r&&a.jsx("div",{className:`rounded-[30px] p-8 border-2 flex items-center justify-between transition-all duration-500 ${i==="available"?"bg-green-500/10 border-green-500/50":"bg-red-500/10 border-red-500/50"}`,children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center border-2 ${i==="available"?"bg-green-500 text-black border-green-500":"bg-red-500 text-white border-red-500"} shadow-lg`,children:a.jsx(yo,{size:32,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-400 text-sm font-bold uppercase tracking-[0.2em] mb-1",children:"Assistant Room"}),a.jsx("p",{className:`text-3xl font-black uppercase tracking-tighter ${i==="available"?"text-green-500":"text-red-500"}`,children:i==="available"?"AVAILABLE":"RESTING"})]})]})})]}),a.jsxs("div",{className:"col-span-12 lg:col-span-7 bg-white/5 rounded-[40px] border border-white/10 p-10 flex flex-col relative overflow-hidden shadow-2xl backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-10 shrink-0",children:[a.jsxs("h3",{className:"text-4xl font-black text-white flex items-center gap-6",children:[a.jsx(Ri,{size:48,className:"text-neon-blue"})," LOBBY QUEUE"]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-neon-blue rounded-full animate-pulse shadow-[0_0_10px_#00f3ff]"}),a.jsxs("span",{className:"bg-neon-blue/10 text-neon-blue px-8 py-3 rounded-full font-black text-2xl border border-neon-blue/30 shadow-[0_0_30px_rgba(0,243,255,0.1)]",children:[f.length," WAITING"]})]})]}),a.jsx("div",{className:"flex-1 space-y-6 overflow-hidden",children:f.map((E,T)=>{const k=t===E.id||s===E.id,P=s===E.id;return a.jsxs("div",{className:`p-8 rounded-[30px] flex justify-between items-center border transition-all duration-700 animate-slide-up ${k&&!C?"bg-neon-blue text-black border-neon-blue scale-[1.03] shadow-[0_0_50px_rgba(0,243,255,0.5)] z-20":"bg-white/5 border-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-10",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center font-black text-3xl border-2 transition-colors ${k&&!C?"bg-black text-neon-blue border-black":"bg-gray-800 text-gray-500 border-white/5"}`,children:T+1}),a.jsxs("div",{children:[a.jsx("h4",{className:`text-5xl font-black tracking-tight ${k&&!C?"text-black":"text-white"}`,children:E.name}),a.jsxs("div",{className:`text-xs font-bold mt-2 tracking-widest uppercase ${k&&!C?"text-black/60":"text-gray-500"}`,children:["Appointment Holder ",P&&"(Assistant)"]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(nc,{size:32,className:k&&!C?"text-black":"text-gray-500"}),a.jsx("span",{className:`text-4xl font-mono font-black ${k&&!C?"text-black":"text-neon-blue"}`,children:E.time})]}),a.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${k&&!C?"text-black/40":"text-gray-600"}`,children:"Est. Arrival"})]})]},E.id)})}),a.jsx("div",{className:"mt-10 border-t border-white/10 pt-8 overflow-hidden whitespace-nowrap relative shrink-0",children:a.jsxs("div",{className:"inline-block animate-marquee-fast text-gray-500 font-bold uppercase tracking-[0.3em] text-2xl",children:[" WELCOME TO ",d,"  QUALITY HEALTHCARE DELIVERED BY NEXT-GEN TECHNOLOGY  PLEASE HAVE YOUR MOBILE PHONE READY FOR QUICK CHECK-IN  STAY SAFE "]})})]})]}),a.jsx("style",{children:`
                @keyframes marquee-fast { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
                .animate-marquee-fast { animation: marquee-fast 20s linear infinite; display: inline-block; }
                @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
                .animate-bounce-slow { animation: bounce-slow 2s ease-in-out infinite; }
            `})]})},Nde=()=>{const{appointments:n,doctorStatus:e,callingPatientId:t,hasAssistantDoctor:r,assistantDoctorStatus:i,callingPatientIdAssistant:s}=bi(),{firebaseUser:o}=qr(),[c,u]=se.useState(new Date),d=(o==null?void 0:o.displayName)||"";se.useEffect(()=>{const E=setInterval(()=>u(new Date),1e3);return()=>clearInterval(E)},[]),se.useEffect(()=>{if(n.find(T=>(T.id===t||T.id===s)&&T.status==="checked-in"))try{const T=new Audio("https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3");T.volume=.5,T.play().catch(k=>{})}catch{}},[t,s,n]);const f=se.useMemo(()=>n.filter(E=>E.status==="checked-in").sort((E,T)=>(E.queueOrder??9999)-(T.queueOrder??9999)).slice(0,10),[n]),g=se.useMemo(()=>n.find(E=>E.id===t&&E.status==="checked-in"),[n,t]),m=se.useMemo(()=>n.find(E=>E.id===s&&E.status==="checked-in"),[n,s]),v=g||m,C=se.useMemo(()=>n.find(E=>E.status==="in-exam"),[n]),_=se.useMemo(()=>e==="resting"?{label:" ",color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/50",iconColor:"bg-red-500",animate:!1}:C?{label:"  ",color:"text-orange-500",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/50",iconColor:"bg-orange-500",animate:!0}:g?{label:"  ",color:"text-neon-blue",bgColor:"bg-neon-blue/10",borderColor:"border-neon-blue/50",iconColor:"bg-neon-blue",animate:!0}:{label:" ",color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/50",iconColor:"bg-green-500",animate:!0},[e,C,g]);return a.jsxs("div",{className:"h-screen w-screen bg-[#020202] text-white flex flex-col overflow-hidden p-8 font-arabic selection:bg-neon-blue selection:text-black",dir:"rtl",children:[a.jsx("div",{className:"fixed top-[-10%] right-[-10%] w-[50%] h-[50%] bg-neon-blue/5 rounded-full blur-[120px] pointer-events-none"}),a.jsxs("div",{className:"flex justify-between items-center mb-10 shrink-0 border-b border-white/10 pb-6 relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-neon-blue to-neon-purple flex items-center justify-center shadow-2xl border border-white/20",children:a.jsx(ci,{size:40,className:"text-white"})}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-4xl font-black tracking-tighter",children:[d," ",a.jsx("span",{className:"text-neon-blue",children:"OS"})]}),a.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-[0.3em] text-[10px] mt-1",children:"   "})]})]}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"text-5xl font-mono font-black text-white tracking-tighter",dir:"ltr",children:c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsx("div",{className:"text-neon-blue font-black text-xl mt-1 drop-shadow-[0_0_8px_rgba(0,243,255,0.5)]",children:c.toLocaleDateString("ar-EG",{weekday:"long",month:"long",day:"numeric"})})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-10 min-h-0 relative z-10",children:[a.jsxs("div",{className:"col-span-12 lg:col-span-5 flex flex-col gap-10",children:[a.jsxs("div",{className:`flex-1 rounded-[40px] border-4 p-10 flex flex-col items-center justify-center text-center transition-all duration-1000 relative overflow-hidden ${v?"border-neon-blue bg-neon-blue/10 shadow-[0_0_100px_-20px_rgba(0,243,255,0.4)] scale-[1.02]":"border-white/5 bg-white/5 opacity-40"}`,children:[v&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute top-0 right-0 w-full h-3 bg-neon-blue animate-pulse"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"p-10 bg-neon-blue/20 rounded-full mb-8 animate-bounce-slow border border-neon-blue/30 shadow-[0_0_40px_rgba(0,243,255,0.3)]",children:a.jsx(Zc,{size:100,className:"text-neon-blue drop-shadow-[0_0_15px_rgba(0,243,255,0.8)]"})}),a.jsx("div",{className:"absolute -top-2 -left-2 w-10 h-10 bg-red-500 rounded-full flex items-center justify-center animate-ping",children:a.jsx(A_,{size:20,fill:"white"})})]}),a.jsx("h2",{className:"text-3xl font-black text-neon-blue uppercase tracking-[0.3em] mb-6 animate-pulse",children:"  /"}),a.jsx("div",{className:"bg-black/60 px-10 py-6 rounded-[30px] border-4 border-neon-blue/50 mb-8 backdrop-blur-md shadow-2xl relative",children:a.jsx("h1",{className:"text-7xl font-black text-white drop-shadow-[0_0_30px_rgba(0,243,255,0.8)] tracking-tight",children:v.name})}),a.jsxs("p",{className:"text-gray-300 text-3xl font-bold",children:["  ",a.jsx("span",{className:"text-white border-b-2 border-neon-blue pb-1 shadow-[0_2px_10px_rgba(0,243,255,0.5)]",children:g?" ":" "})]})]}),!v&&a.jsxs("div",{className:"text-gray-600",children:[" ",a.jsx(x0,{size:120,className:"mx-auto mb-8 opacity-10"})," ",a.jsx("h2",{className:"text-5xl font-black uppercase tracking-widest opacity-20",children:" "})," "]})]}),a.jsx("div",{className:`rounded-[30px] p-10 border-2 flex items-center justify-between transition-all duration-500 ${_.bgColor} ${_.borderColor} shadow-2xl`,children:a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsx("div",{className:`w-24 h-24 rounded-3xl flex items-center justify-center border-2 ${_.iconColor} border-white/20 text-white shadow-xl`,children:a.jsx(yo,{size:56,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-400 text-xl font-black uppercase mb-2",children:" "}),a.jsx("p",{className:`text-5xl font-black tracking-tighter ${_.color} drop-shadow-[0_0_10px_currentColor]`,children:_.label})]})]})}),r&&a.jsx("div",{className:`rounded-[30px] p-8 border-2 flex items-center justify-between transition-all duration-500 ${i==="available"?"bg-green-500/10 border-green-500/50":"bg-red-500/10 border-red-500/50"}`,children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center border-2 ${i==="available"?"bg-green-500 text-black border-green-500":"bg-red-500 text-white border-red-500"} shadow-lg`,children:a.jsx(yo,{size:32,strokeWidth:2.5})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-gray-400 text-sm font-bold uppercase tracking-[0.2em] mb-1",children:"  "}),a.jsx("p",{className:`text-3xl font-black uppercase tracking-tighter ${i==="available"?"text-green-500":"text-red-500"}`,children:i==="available"?" ":" "})]})]})})]}),a.jsxs("div",{className:"col-span-12 lg:col-span-7 bg-white/5 rounded-[40px] border border-white/10 p-10 flex flex-col relative overflow-hidden shadow-2xl backdrop-blur-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-10 shrink-0",children:[a.jsxs("h3",{className:"text-4xl font-black text-white flex items-center gap-6",children:[a.jsx(Ri,{size:48,className:"text-neon-blue"}),"  "]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-neon-blue rounded-full animate-pulse shadow-[0_0_10px_#00f3ff]"}),a.jsxs("span",{className:"bg-neon-blue/10 text-neon-blue px-8 py-3 rounded-full font-black text-2xl border border-neon-blue/30 shadow-2xl",children:[f.length,"  "]})]})]}),a.jsx("div",{className:"flex-1 space-y-6 overflow-hidden",children:f.map((E,T)=>{const k=t===E.id||s===E.id,P=s===E.id;return a.jsxs("div",{className:`p-8 rounded-[30px] flex justify-between items-center border transition-all duration-700 animate-slide-up ${k&&!C?"bg-neon-blue text-black border-neon-blue scale-[1.03] shadow-[0_0_50px_rgba(0,243,255,0.6)] z-20":"bg-white/5 border-white/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-10",children:[a.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center font-black text-3xl border-2 transition-colors ${k&&!C?"bg-black text-neon-blue border-black":"bg-gray-800 text-gray-500 border-white/5"}`,children:T+1}),a.jsxs("div",{children:[a.jsx("h4",{className:`text-5xl font-black tracking-tight ${k&&!C?"text-black":"text-white"}`,children:E.name}),a.jsxs("div",{className:`text-xs font-bold mt-2 tracking-widest uppercase ${k&&!C?"text-black/60":"text-gray-500"}`,children:["Appointment Holder ",P&&"()"]})]})]}),a.jsx("div",{className:"flex flex-col items-start gap-1",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(nc,{size:32,className:k&&!C?"text-black":"text-gray-500"}),a.jsx("span",{className:`text-4xl font-mono font-black ${k&&!C?"text-black":"text-neon-blue"}`,dir:"ltr",children:E.time})]})})]},E.id)})}),a.jsx("div",{className:"mt-10 border-t border-white/10 pt-8 overflow-hidden whitespace-nowrap relative shrink-0",children:a.jsxs("div",{className:"inline-block animate-marquee-fast text-gray-500 font-bold uppercase tracking-[0.3em] text-2xl",children:["    ",d,"                    "]})})]})]}),a.jsx("style",{children:`
                @keyframes marquee-fast { 0% { transform: translateX(0); } 100% { transform: translateX(50%); } }
                .animate-marquee-fast { animation: marquee-fast 20s linear infinite; display: inline-block; }
                @keyframes bounce-slow { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
                .animate-bounce-slow { animation: bounce-slow 2.5s ease-in-out infinite; }
            `})]})},Sde=()=>{const{firebaseUser:n,systemUser:e,isSetupComplete:t,isVerified:r,isTrialExpired:i,currentPlan:s,loading:o}=qr(),{language:c}=Nl();return se.useMemo(()=>new URLSearchParams(window.location.search).get("view")==="live",[])?c==="ar"?a.jsx(Nde,{}):a.jsx(Ede,{}):o?a.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-neon-blue border-t-transparent rounded-full animate-spin mb-4 shadow-[0_0_20px_#00f3ff]"}),a.jsx("h2",{className:"text-xl font-bold tracking-widest animate-pulse uppercase",children:"Syncing Neural Core..."})]}):n?r?i&&s==="trial"?a.jsx(Cde,{}):t?e?a.jsx(_de,{}):a.jsx(Nz,{}):a.jsx(Sz,{}):a.jsx(hS,{}):a.jsx(hS,{})},Bde=()=>a.jsx(P9,{children:a.jsx(V9,{children:a.jsx(M9,{children:a.jsx(H9,{children:a.jsx(Sde,{})})})})}),iD=document.getElementById("root");if(!iD)throw new Error("Could not find root element to mount to");const Tde=bj.createRoot(iD);Tde.render(a.jsx(pj.StrictMode,{children:a.jsx(Bde,{})}));export{_r as _,Ide as c,nI as g};
